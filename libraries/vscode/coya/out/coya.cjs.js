"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports[Symbol.toStringTag] = "Module";
var vscode = require("vscode");
var path = require("path");
var ts = require("typescript");
var fs = require("fs");
var ws = require("ws");
function _interopDefaultLegacy(e) {
  return e && typeof e === "object" && "default" in e ? e : { "default": e };
}
function _interopNamespace(e) {
  if (e && e.__esModule)
    return e;
  var n = { __proto__: null, [Symbol.toStringTag]: "Module" };
  if (e) {
    Object.keys(e).forEach(function(k) {
      if (k !== "default") {
        var d = Object.getOwnPropertyDescriptor(e, k);
        Object.defineProperty(n, k, d.get ? d : {
          enumerable: true,
          get: function() {
            return e[k];
          }
        });
      }
    });
  }
  n["default"] = e;
  return Object.freeze(n);
}
var vscode__namespace = /* @__PURE__ */ _interopNamespace(vscode);
var path__default = /* @__PURE__ */ _interopDefaultLegacy(path);
var ts__namespace = /* @__PURE__ */ _interopNamespace(ts);
var fs__default = /* @__PURE__ */ _interopDefaultLegacy(fs);
function makeMap(str, expectsLowerCase) {
  const map2 = Object.create(null);
  const list = str.split(",");
  for (let i = 0; i < list.length; i++) {
    map2[list[i]] = true;
  }
  return expectsLowerCase ? (val) => !!map2[val.toLowerCase()] : (val) => !!map2[val];
}
const NOOP = () => {
};
const extend$1 = Object.assign;
const hasOwnProperty$3 = Object.prototype.hasOwnProperty;
const hasOwn = (val, key) => hasOwnProperty$3.call(val, key);
const isArray$1 = Array.isArray;
const isMap = (val) => toTypeString(val) === "[object Map]";
const isFunction$1 = (val) => typeof val === "function";
const isString$1 = (val) => typeof val === "string";
const isSymbol = (val) => typeof val === "symbol";
const isObject$1 = (val) => val !== null && typeof val === "object";
const isPromise = (val) => {
  return isObject$1(val) && isFunction$1(val.then) && isFunction$1(val.catch);
};
const objectToString = Object.prototype.toString;
const toTypeString = (value) => objectToString.call(value);
const toRawType = (value) => {
  return toTypeString(value).slice(8, -1);
};
const isIntegerKey = (key) => isString$1(key) && key !== "NaN" && key[0] !== "-" && "" + parseInt(key, 10) === key;
const hasChanged = (value, oldValue) => !Object.is(value, oldValue);
let activeEffectScope;
function recordEffectScope(effect2, scope) {
  scope = scope || activeEffectScope;
  if (scope && scope.active) {
    scope.effects.push(effect2);
  }
}
const createDep = (effects) => {
  const dep = new Set(effects);
  dep.w = 0;
  dep.n = 0;
  return dep;
};
const wasTracked = (dep) => (dep.w & trackOpBit) > 0;
const newTracked = (dep) => (dep.n & trackOpBit) > 0;
const initDepMarkers = ({ deps }) => {
  if (deps.length) {
    for (let i = 0; i < deps.length; i++) {
      deps[i].w |= trackOpBit;
    }
  }
};
const finalizeDepMarkers = (effect2) => {
  const { deps } = effect2;
  if (deps.length) {
    let ptr = 0;
    for (let i = 0; i < deps.length; i++) {
      const dep = deps[i];
      if (wasTracked(dep) && !newTracked(dep)) {
        dep.delete(effect2);
      } else {
        deps[ptr++] = dep;
      }
      dep.w &= ~trackOpBit;
      dep.n &= ~trackOpBit;
    }
    deps.length = ptr;
  }
};
const targetMap = new WeakMap();
let effectTrackDepth = 0;
let trackOpBit = 1;
const maxMarkerBits = 30;
const effectStack = [];
let activeEffect;
const ITERATE_KEY = Symbol("");
const MAP_KEY_ITERATE_KEY = Symbol("");
class ReactiveEffect {
  constructor(fn, scheduler = null, scope) {
    this.fn = fn;
    this.scheduler = scheduler;
    this.active = true;
    this.deps = [];
    recordEffectScope(this, scope);
  }
  run() {
    if (!this.active) {
      return this.fn();
    }
    if (!effectStack.includes(this)) {
      try {
        effectStack.push(activeEffect = this);
        enableTracking();
        trackOpBit = 1 << ++effectTrackDepth;
        if (effectTrackDepth <= maxMarkerBits) {
          initDepMarkers(this);
        } else {
          cleanupEffect(this);
        }
        return this.fn();
      } finally {
        if (effectTrackDepth <= maxMarkerBits) {
          finalizeDepMarkers(this);
        }
        trackOpBit = 1 << --effectTrackDepth;
        resetTracking();
        effectStack.pop();
        const n = effectStack.length;
        activeEffect = n > 0 ? effectStack[n - 1] : void 0;
      }
    }
  }
  stop() {
    if (this.active) {
      cleanupEffect(this);
      if (this.onStop) {
        this.onStop();
      }
      this.active = false;
    }
  }
}
function cleanupEffect(effect2) {
  const { deps } = effect2;
  if (deps.length) {
    for (let i = 0; i < deps.length; i++) {
      deps[i].delete(effect2);
    }
    deps.length = 0;
  }
}
function effect(fn, options) {
  if (fn.effect) {
    fn = fn.effect.fn;
  }
  const _effect = new ReactiveEffect(fn);
  if (options) {
    extend$1(_effect, options);
    if (options.scope)
      recordEffectScope(_effect, options.scope);
  }
  if (!options || !options.lazy) {
    _effect.run();
  }
  const runner = _effect.run.bind(_effect);
  runner.effect = _effect;
  return runner;
}
function stop(runner) {
  runner.effect.stop();
}
let shouldTrack = true;
const trackStack = [];
function pauseTracking() {
  trackStack.push(shouldTrack);
  shouldTrack = false;
}
function enableTracking() {
  trackStack.push(shouldTrack);
  shouldTrack = true;
}
function resetTracking() {
  const last2 = trackStack.pop();
  shouldTrack = last2 === void 0 ? true : last2;
}
function track(target, type, key) {
  if (!isTracking()) {
    return;
  }
  let depsMap = targetMap.get(target);
  if (!depsMap) {
    targetMap.set(target, depsMap = new Map());
  }
  let dep = depsMap.get(key);
  if (!dep) {
    depsMap.set(key, dep = createDep());
  }
  trackEffects(dep);
}
function isTracking() {
  return shouldTrack && activeEffect !== void 0;
}
function trackEffects(dep, debuggerEventExtraInfo) {
  let shouldTrack2 = false;
  if (effectTrackDepth <= maxMarkerBits) {
    if (!newTracked(dep)) {
      dep.n |= trackOpBit;
      shouldTrack2 = !wasTracked(dep);
    }
  } else {
    shouldTrack2 = !dep.has(activeEffect);
  }
  if (shouldTrack2) {
    dep.add(activeEffect);
    activeEffect.deps.push(dep);
  }
}
function trigger(target, type, key, newValue, oldValue, oldTarget) {
  const depsMap = targetMap.get(target);
  if (!depsMap) {
    return;
  }
  let deps = [];
  if (type === "clear") {
    deps = [...depsMap.values()];
  } else if (key === "length" && isArray$1(target)) {
    depsMap.forEach((dep, key2) => {
      if (key2 === "length" || key2 >= newValue) {
        deps.push(dep);
      }
    });
  } else {
    if (key !== void 0) {
      deps.push(depsMap.get(key));
    }
    switch (type) {
      case "add":
        if (!isArray$1(target)) {
          deps.push(depsMap.get(ITERATE_KEY));
          if (isMap(target)) {
            deps.push(depsMap.get(MAP_KEY_ITERATE_KEY));
          }
        } else if (isIntegerKey(key)) {
          deps.push(depsMap.get("length"));
        }
        break;
      case "delete":
        if (!isArray$1(target)) {
          deps.push(depsMap.get(ITERATE_KEY));
          if (isMap(target)) {
            deps.push(depsMap.get(MAP_KEY_ITERATE_KEY));
          }
        }
        break;
      case "set":
        if (isMap(target)) {
          deps.push(depsMap.get(ITERATE_KEY));
        }
        break;
    }
  }
  if (deps.length === 1) {
    if (deps[0]) {
      {
        triggerEffects(deps[0]);
      }
    }
  } else {
    const effects = [];
    for (const dep of deps) {
      if (dep) {
        effects.push(...dep);
      }
    }
    {
      triggerEffects(createDep(effects));
    }
  }
}
function triggerEffects(dep, debuggerEventExtraInfo) {
  for (const effect2 of isArray$1(dep) ? dep : [...dep]) {
    if (effect2 !== activeEffect || effect2.allowRecurse) {
      if (effect2.scheduler) {
        effect2.scheduler();
      } else {
        effect2.run();
      }
    }
  }
}
const isNonTrackableKeys = /* @__PURE__ */ makeMap(`__proto__,__v_isRef,__isVue`);
const builtInSymbols = new Set(Object.getOwnPropertyNames(Symbol).map((key) => Symbol[key]).filter(isSymbol));
const get$1 = /* @__PURE__ */ createGetter();
const readonlyGet = /* @__PURE__ */ createGetter(true);
const arrayInstrumentations = /* @__PURE__ */ createArrayInstrumentations();
function createArrayInstrumentations() {
  const instrumentations = {};
  ["includes", "indexOf", "lastIndexOf"].forEach((key) => {
    instrumentations[key] = function(...args) {
      const arr = toRaw(this);
      for (let i = 0, l = this.length; i < l; i++) {
        track(arr, "get", i + "");
      }
      const res = arr[key](...args);
      if (res === -1 || res === false) {
        return arr[key](...args.map(toRaw));
      } else {
        return res;
      }
    };
  });
  ["push", "pop", "shift", "unshift", "splice"].forEach((key) => {
    instrumentations[key] = function(...args) {
      pauseTracking();
      const res = toRaw(this)[key].apply(this, args);
      resetTracking();
      return res;
    };
  });
  return instrumentations;
}
function createGetter(isReadonly2 = false, shallow = false) {
  return function get2(target, key, receiver) {
    if (key === "__v_isReactive") {
      return !isReadonly2;
    } else if (key === "__v_isReadonly") {
      return isReadonly2;
    } else if (key === "__v_raw" && receiver === (isReadonly2 ? shallow ? shallowReadonlyMap : readonlyMap : shallow ? shallowReactiveMap : reactiveMap).get(target)) {
      return target;
    }
    const targetIsArray = isArray$1(target);
    if (!isReadonly2 && targetIsArray && hasOwn(arrayInstrumentations, key)) {
      return Reflect.get(arrayInstrumentations, key, receiver);
    }
    const res = Reflect.get(target, key, receiver);
    if (isSymbol(key) ? builtInSymbols.has(key) : isNonTrackableKeys(key)) {
      return res;
    }
    if (!isReadonly2) {
      track(target, "get", key);
    }
    if (shallow) {
      return res;
    }
    if (isRef(res)) {
      const shouldUnwrap = !targetIsArray || !isIntegerKey(key);
      return shouldUnwrap ? res.value : res;
    }
    if (isObject$1(res)) {
      return isReadonly2 ? readonly(res) : reactive(res);
    }
    return res;
  };
}
const set$1 = /* @__PURE__ */ createSetter();
function createSetter(shallow = false) {
  return function set2(target, key, value, receiver) {
    let oldValue = target[key];
    if (!shallow && !isReadonly(value)) {
      value = toRaw(value);
      oldValue = toRaw(oldValue);
      if (!isArray$1(target) && isRef(oldValue) && !isRef(value)) {
        oldValue.value = value;
        return true;
      }
    }
    const hadKey = isArray$1(target) && isIntegerKey(key) ? Number(key) < target.length : hasOwn(target, key);
    const result = Reflect.set(target, key, value, receiver);
    if (target === toRaw(receiver)) {
      if (!hadKey) {
        trigger(target, "add", key, value);
      } else if (hasChanged(value, oldValue)) {
        trigger(target, "set", key, value);
      }
    }
    return result;
  };
}
function deleteProperty(target, key) {
  const hadKey = hasOwn(target, key);
  target[key];
  const result = Reflect.deleteProperty(target, key);
  if (result && hadKey) {
    trigger(target, "delete", key, void 0);
  }
  return result;
}
function has$1(target, key) {
  const result = Reflect.has(target, key);
  if (!isSymbol(key) || !builtInSymbols.has(key)) {
    track(target, "has", key);
  }
  return result;
}
function ownKeys(target) {
  track(target, "iterate", isArray$1(target) ? "length" : ITERATE_KEY);
  return Reflect.ownKeys(target);
}
const mutableHandlers = {
  get: get$1,
  set: set$1,
  deleteProperty,
  has: has$1,
  ownKeys
};
const readonlyHandlers = {
  get: readonlyGet,
  set(target, key) {
    return true;
  },
  deleteProperty(target, key) {
    return true;
  }
};
const toShallow = (value) => value;
const getProto = (v) => Reflect.getPrototypeOf(v);
function get$1$1(target, key, isReadonly2 = false, isShallow = false) {
  target = target["__v_raw"];
  const rawTarget = toRaw(target);
  const rawKey = toRaw(key);
  if (key !== rawKey) {
    !isReadonly2 && track(rawTarget, "get", key);
  }
  !isReadonly2 && track(rawTarget, "get", rawKey);
  const { has: has2 } = getProto(rawTarget);
  const wrap = isShallow ? toShallow : isReadonly2 ? toReadonly : toReactive;
  if (has2.call(rawTarget, key)) {
    return wrap(target.get(key));
  } else if (has2.call(rawTarget, rawKey)) {
    return wrap(target.get(rawKey));
  } else if (target !== rawTarget) {
    target.get(key);
  }
}
function has$1$1(key, isReadonly2 = false) {
  const target = this["__v_raw"];
  const rawTarget = toRaw(target);
  const rawKey = toRaw(key);
  if (key !== rawKey) {
    !isReadonly2 && track(rawTarget, "has", key);
  }
  !isReadonly2 && track(rawTarget, "has", rawKey);
  return key === rawKey ? target.has(key) : target.has(key) || target.has(rawKey);
}
function size$1(target, isReadonly2 = false) {
  target = target["__v_raw"];
  !isReadonly2 && track(toRaw(target), "iterate", ITERATE_KEY);
  return Reflect.get(target, "size", target);
}
function add(value) {
  value = toRaw(value);
  const target = toRaw(this);
  const proto = getProto(target);
  const hadKey = proto.has.call(target, value);
  if (!hadKey) {
    target.add(value);
    trigger(target, "add", value, value);
  }
  return this;
}
function set$1$1(key, value) {
  value = toRaw(value);
  const target = toRaw(this);
  const { has: has2, get: get2 } = getProto(target);
  let hadKey = has2.call(target, key);
  if (!hadKey) {
    key = toRaw(key);
    hadKey = has2.call(target, key);
  }
  const oldValue = get2.call(target, key);
  target.set(key, value);
  if (!hadKey) {
    trigger(target, "add", key, value);
  } else if (hasChanged(value, oldValue)) {
    trigger(target, "set", key, value);
  }
  return this;
}
function deleteEntry(key) {
  const target = toRaw(this);
  const { has: has2, get: get2 } = getProto(target);
  let hadKey = has2.call(target, key);
  if (!hadKey) {
    key = toRaw(key);
    hadKey = has2.call(target, key);
  }
  get2 ? get2.call(target, key) : void 0;
  const result = target.delete(key);
  if (hadKey) {
    trigger(target, "delete", key, void 0);
  }
  return result;
}
function clear() {
  const target = toRaw(this);
  const hadItems = target.size !== 0;
  const result = target.clear();
  if (hadItems) {
    trigger(target, "clear", void 0, void 0);
  }
  return result;
}
function createForEach(isReadonly2, isShallow) {
  return function forEach(callback, thisArg) {
    const observed = this;
    const target = observed["__v_raw"];
    const rawTarget = toRaw(target);
    const wrap = isShallow ? toShallow : isReadonly2 ? toReadonly : toReactive;
    !isReadonly2 && track(rawTarget, "iterate", ITERATE_KEY);
    return target.forEach((value, key) => {
      return callback.call(thisArg, wrap(value), wrap(key), observed);
    });
  };
}
function createIterableMethod(method, isReadonly2, isShallow) {
  return function(...args) {
    const target = this["__v_raw"];
    const rawTarget = toRaw(target);
    const targetIsMap = isMap(rawTarget);
    const isPair = method === "entries" || method === Symbol.iterator && targetIsMap;
    const isKeyOnly = method === "keys" && targetIsMap;
    const innerIterator = target[method](...args);
    const wrap = isShallow ? toShallow : isReadonly2 ? toReadonly : toReactive;
    !isReadonly2 && track(rawTarget, "iterate", isKeyOnly ? MAP_KEY_ITERATE_KEY : ITERATE_KEY);
    return {
      next() {
        const { value, done } = innerIterator.next();
        return done ? { value, done } : {
          value: isPair ? [wrap(value[0]), wrap(value[1])] : wrap(value),
          done
        };
      },
      [Symbol.iterator]() {
        return this;
      }
    };
  };
}
function createReadonlyMethod(type) {
  return function(...args) {
    return type === "delete" ? false : this;
  };
}
function createInstrumentations() {
  const mutableInstrumentations2 = {
    get(key) {
      return get$1$1(this, key);
    },
    get size() {
      return size$1(this);
    },
    has: has$1$1,
    add,
    set: set$1$1,
    delete: deleteEntry,
    clear,
    forEach: createForEach(false, false)
  };
  const shallowInstrumentations2 = {
    get(key) {
      return get$1$1(this, key, false, true);
    },
    get size() {
      return size$1(this);
    },
    has: has$1$1,
    add,
    set: set$1$1,
    delete: deleteEntry,
    clear,
    forEach: createForEach(false, true)
  };
  const readonlyInstrumentations2 = {
    get(key) {
      return get$1$1(this, key, true);
    },
    get size() {
      return size$1(this, true);
    },
    has(key) {
      return has$1$1.call(this, key, true);
    },
    add: createReadonlyMethod("add"),
    set: createReadonlyMethod("set"),
    delete: createReadonlyMethod("delete"),
    clear: createReadonlyMethod("clear"),
    forEach: createForEach(true, false)
  };
  const shallowReadonlyInstrumentations2 = {
    get(key) {
      return get$1$1(this, key, true, true);
    },
    get size() {
      return size$1(this, true);
    },
    has(key) {
      return has$1$1.call(this, key, true);
    },
    add: createReadonlyMethod("add"),
    set: createReadonlyMethod("set"),
    delete: createReadonlyMethod("delete"),
    clear: createReadonlyMethod("clear"),
    forEach: createForEach(true, true)
  };
  const iteratorMethods = ["keys", "values", "entries", Symbol.iterator];
  iteratorMethods.forEach((method) => {
    mutableInstrumentations2[method] = createIterableMethod(method, false, false);
    readonlyInstrumentations2[method] = createIterableMethod(method, true, false);
    shallowInstrumentations2[method] = createIterableMethod(method, false, true);
    shallowReadonlyInstrumentations2[method] = createIterableMethod(method, true, true);
  });
  return [
    mutableInstrumentations2,
    readonlyInstrumentations2,
    shallowInstrumentations2,
    shallowReadonlyInstrumentations2
  ];
}
const [mutableInstrumentations, readonlyInstrumentations, shallowInstrumentations, shallowReadonlyInstrumentations] = /* @__PURE__ */ createInstrumentations();
function createInstrumentationGetter(isReadonly2, shallow) {
  const instrumentations = shallow ? isReadonly2 ? shallowReadonlyInstrumentations : shallowInstrumentations : isReadonly2 ? readonlyInstrumentations : mutableInstrumentations;
  return (target, key, receiver) => {
    if (key === "__v_isReactive") {
      return !isReadonly2;
    } else if (key === "__v_isReadonly") {
      return isReadonly2;
    } else if (key === "__v_raw") {
      return target;
    }
    return Reflect.get(hasOwn(instrumentations, key) && key in target ? instrumentations : target, key, receiver);
  };
}
const mutableCollectionHandlers = {
  get: /* @__PURE__ */ createInstrumentationGetter(false, false)
};
const readonlyCollectionHandlers = {
  get: /* @__PURE__ */ createInstrumentationGetter(true, false)
};
const reactiveMap = new WeakMap();
const shallowReactiveMap = new WeakMap();
const readonlyMap = new WeakMap();
const shallowReadonlyMap = new WeakMap();
function targetTypeMap(rawType) {
  switch (rawType) {
    case "Object":
    case "Array":
      return 1;
    case "Map":
    case "Set":
    case "WeakMap":
    case "WeakSet":
      return 2;
    default:
      return 0;
  }
}
function getTargetType(value) {
  return value["__v_skip"] || !Object.isExtensible(value) ? 0 : targetTypeMap(toRawType(value));
}
function reactive(target) {
  if (target && target["__v_isReadonly"]) {
    return target;
  }
  return createReactiveObject(target, false, mutableHandlers, mutableCollectionHandlers, reactiveMap);
}
function readonly(target) {
  return createReactiveObject(target, true, readonlyHandlers, readonlyCollectionHandlers, readonlyMap);
}
function createReactiveObject(target, isReadonly2, baseHandlers, collectionHandlers, proxyMap) {
  if (!isObject$1(target)) {
    return target;
  }
  if (target["__v_raw"] && !(isReadonly2 && target["__v_isReactive"])) {
    return target;
  }
  const existingProxy = proxyMap.get(target);
  if (existingProxy) {
    return existingProxy;
  }
  const targetType = getTargetType(target);
  if (targetType === 0) {
    return target;
  }
  const proxy = new Proxy(target, targetType === 2 ? collectionHandlers : baseHandlers);
  proxyMap.set(target, proxy);
  return proxy;
}
function isReactive(value) {
  if (isReadonly(value)) {
    return isReactive(value["__v_raw"]);
  }
  return !!(value && value["__v_isReactive"]);
}
function isReadonly(value) {
  return !!(value && value["__v_isReadonly"]);
}
function toRaw(observed) {
  const raw = observed && observed["__v_raw"];
  return raw ? toRaw(raw) : observed;
}
const toReactive = (value) => isObject$1(value) ? reactive(value) : value;
const toReadonly = (value) => isObject$1(value) ? readonly(value) : value;
function trackRefValue(ref) {
  if (isTracking()) {
    ref = toRaw(ref);
    if (!ref.dep) {
      ref.dep = createDep();
    }
    {
      trackEffects(ref.dep);
    }
  }
}
function triggerRefValue(ref, newVal) {
  ref = toRaw(ref);
  if (ref.dep) {
    {
      triggerEffects(ref.dep);
    }
  }
}
function isRef(r) {
  return Boolean(r && r.__v_isRef === true);
}
class ComputedRefImpl {
  constructor(getter, _setter, isReadonly2) {
    this._setter = _setter;
    this.dep = void 0;
    this._dirty = true;
    this.__v_isRef = true;
    this.effect = new ReactiveEffect(getter, () => {
      if (!this._dirty) {
        this._dirty = true;
        triggerRefValue(this);
      }
    });
    this["__v_isReadonly"] = isReadonly2;
  }
  get value() {
    const self2 = toRaw(this);
    trackRefValue(self2);
    if (self2._dirty) {
      self2._dirty = false;
      self2._value = self2.effect.run();
    }
    return self2._value;
  }
  set value(newValue) {
    this._setter(newValue);
  }
}
function computed(getterOrOptions, debugOptions) {
  let getter;
  let setter;
  const onlyGetter = isFunction$1(getterOrOptions);
  if (onlyGetter) {
    getter = getterOrOptions;
    setter = NOOP;
  } else {
    getter = getterOrOptions.get;
    setter = getterOrOptions.set;
  }
  const cRef = new ComputedRefImpl(getter, setter, onlyGetter || !setter);
  return cRef;
}
Promise.resolve();
function callWithErrorHandling(fn, type, args) {
  let res;
  try {
    res = args ? fn(...args) : fn();
  } catch (err) {
    handleError(err, type);
  }
  return res;
}
function callWithAsyncErrorHandling(fn, type, args) {
  if (isFunction$1(fn)) {
    const res = callWithErrorHandling(fn, type, args);
    if (res && isPromise(res)) {
      res.catch((err) => {
        handleError(err, type);
      });
    }
    return res;
  }
  const values2 = [];
  for (let i = 0; i < fn.length; i++)
    values2.push(callWithAsyncErrorHandling(fn[i], type, args));
  return values2;
}
function handleError(err, type) {
  console.error(new Error(`[@vue-reactivity/watch]: ${type}`));
  console.error(err);
}
function warn(message) {
  console.warn(createError(message));
}
function createError(message) {
  return new Error(`[reactivue]: ${message}`);
}
const invoke = (fn) => fn();
const INITIAL_WATCHER_VALUE = {};
function watch(source, cb, options) {
  return doWatch(source, cb, options);
}
function doWatch(source, cb, { immediate, deep, onTrack, onTrigger } = {}) {
  let getter;
  if (isArray$1(source) && !isReactive(source)) {
    getter = () => source.map((s) => {
      if (isRef(s))
        return s.value;
      else if (isReactive(s))
        return traverse(s);
      else if (isFunction$1(s))
        return callWithErrorHandling(s, "watch getter");
      else
        warn("invalid source");
    });
  } else if (isRef(source)) {
    getter = () => source.value;
  } else if (isReactive(source)) {
    getter = () => source;
    deep = true;
  } else if (isFunction$1(source)) {
    if (cb) {
      getter = () => callWithErrorHandling(source, "watch getter");
    } else {
      getter = () => {
        if (cleanup)
          cleanup();
        return callWithErrorHandling(source, "watch callback", [onInvalidate]);
      };
    }
  } else {
    getter = NOOP;
  }
  if (cb && deep) {
    const baseGetter = getter;
    getter = () => traverse(baseGetter());
  }
  let cleanup;
  const onInvalidate = (fn) => {
    cleanup = runner.options.onStop = () => {
      callWithErrorHandling(fn, "watch cleanup");
    };
  };
  let oldValue = isArray$1(source) ? [] : INITIAL_WATCHER_VALUE;
  const applyCb = cb ? () => {
    const newValue = runner();
    if (deep || hasChanged(newValue, oldValue)) {
      if (cleanup)
        cleanup();
      callWithAsyncErrorHandling(cb, "watch callback", [
        newValue,
        oldValue === INITIAL_WATCHER_VALUE ? void 0 : oldValue,
        onInvalidate
      ]);
      oldValue = newValue;
    }
  } : void 0;
  const scheduler = invoke;
  const runner = effect(getter, {
    lazy: true,
    onTrack,
    onTrigger,
    scheduler: applyCb ? () => scheduler(applyCb) : scheduler
  });
  if (applyCb) {
    if (immediate)
      applyCb();
    else
      oldValue = runner();
  } else {
    runner();
  }
  const stopWatcher = function() {
    stop(runner);
  };
  stopWatcher.effect = runner;
  return stopWatcher;
}
function traverse(value, seen = new Set()) {
  if (!isObject$1(value) || seen.has(value))
    return value;
  seen.add(value);
  if (isArray$1(value)) {
    for (let i = 0; i < value.length; i++)
      traverse(value[i], seen);
  } else if (value instanceof Map) {
    value.forEach((_, key) => {
      traverse(value.get(key), seen);
    });
  } else if (value instanceof Set) {
    value.forEach((v) => {
      traverse(v, seen);
    });
  } else {
    for (const key of Object.keys(value))
      traverse(value[key], seen);
  }
  return value;
}
const state = reactive({
  enabled: false,
  terminalActive: false,
  connectedCount: 0,
  selectedProperties: {},
  files: [],
  fileSources: [],
  addFile: (file) => {
    const document2 = vscode__namespace.workspace.textDocuments.find((x) => x.uri.path === file.path);
    if (!state.files.some((x) => x.path === file.path) && document2) {
      state.files.push({
        path: file.path,
        document: document2
      });
    }
  },
  changeFile: (id, config) => {
    const editor = vscode__namespace.window.visibleTextEditors.find((x) => path__default["default"].basename(x.document.uri.path) === id);
    if (editor && editor.document) {
      const document2 = editor.document;
      if (document2) {
        const range = new vscode__namespace.Range(0, 0, document2.lineCount - 1, document2.lineAt(document2.lineCount - 1).range.end.character);
        const text = JSON.stringify(config, null, "	");
        const textEdits = [];
        textEdits.push(vscode__namespace.TextEdit.replace(range, text));
        const workEdits = new vscode__namespace.WorkspaceEdit();
        workEdits.set(document2.uri, textEdits);
        vscode__namespace.workspace.applyEdit(workEdits).then((changed) => {
          if (changed) {
            document2.save();
          }
        });
      }
    }
  }
});
function getTokensAtPosition(sourceFile, position) {
  const nodes = [];
  const getTokenAtPositionWorker = (sourceFile2, position2) => {
    let current = sourceFile2;
    let index = 0;
    outer:
      while (true) {
        const isArray2 = ts.isArrayLiteralExpression(current);
        const curNodes = ts.isArrayLiteralExpression(current) ? current.elements : current.getChildren(sourceFile2);
        for (var _i = 0, _a = curNodes; _i < _a.length; _i++) {
          if (isArray2) {
            index = _i;
          }
          var child = _a[_i];
          var start = child.getFullStart();
          if (start > position2) {
            break;
          }
          var end = child.getEnd();
          if (position2 < end || position2 === end && child.kind === ts.SyntaxKind.EndOfFileToken) {
            current = child;
            if (ts.isPropertyAssignment(child) || ts.isLiteralExpression(child)) {
              nodes.push({
                node: child,
                index
              });
              index = 0;
            }
            continue outer;
          }
        }
        return current;
      }
  };
  getTokenAtPositionWorker(sourceFile, position);
  return nodes;
}
function getNodeText(node, sourceFile) {
  if (ts__namespace.isPropertyAssignment(node)) {
    return node.name.getText(sourceFile);
  }
  if (ts__namespace.isLiteralExpression(node)) {
    return node.getText(sourceFile);
  }
  return "";
}
const { existsSync, readdirSync, rmdirSync, symlink, unlinkSync } = fs__default["default"];
function createViteFileSymlink(context, file) {
  try {
    const dir = path__default["default"].parse(file.path).dir;
    const folderName = path__default["default"].basename(dir);
    const resultDir = `${context.extensionPath}/vite-proj/coya/${folderName}`;
    if (existsSync(resultDir)) {
      unlinkSync(resultDir);
    }
    symlink(dir, resultDir, "dir", (err) => {
      if (err) {
        console.error("createViteFileSymlink -> symlink", err);
      } else {
        console.log(`symlink on folder ${folderName} created`);
      }
    });
  } catch (e) {
    console.log("createViteFileSymlink", e);
  }
}
function activateLogic(context, file) {
  createViteFileSymlink(context, file);
  watch(() => state.connectedCount, (val) => {
    vscode__namespace.window.showInformationMessage(`Connected: ${val}`);
  });
  const fileSource = computed(() => state.fileSources.find((x) => x.fileName === file.path));
  vscode__namespace.window.onDidChangeTextEditorSelection((e) => {
    const sourceFile = fileSource.value;
    if (e.textEditor.document.fileName === file.path && sourceFile) {
      const position = e.textEditor.document.offsetAt(e.selections[0].start);
      const nodes = getTokensAtPosition(sourceFile, position);
      state.selectedProperties = {
        properties: propsArrayToConfigObject(nodes, sourceFile),
        file: file.path
      };
    }
  });
}
function propsArrayToConfigObject(nodes, sourceFile) {
  return nodes.map((x) => ({
    name: getNodeText(x.node, sourceFile).replaceAll('"', "").replaceAll("'", ""),
    index: x.index
  }));
}
function onTextChange() {
  vscode__namespace.workspace.onDidChangeTextDocument((e) => {
    const sourceFile = state.fileSources.find((x) => x.fileName === e.document.fileName);
    if (sourceFile) {
      const text = e.document.getText();
      sourceFile.hasBeenIncrementallyParsed = false;
      const newSourceFile = sourceFile.update(text, {
        span: ts.createTextSpanFromBounds(0, sourceFile.getText().length),
        newLength: text.length
      });
      state.fileSources[state.fileSources.indexOf(sourceFile)] = newSourceFile;
    }
  });
}
function openEditor(context, file) {
  state.addFile(file);
  var panel = vscode__namespace.window.createWebviewPanel("coya", `Coya - ${path__default["default"].basename(file.path)}`, vscode__namespace.ViewColumn.Beside, {
    enableScripts: true
  });
  setTimeout(() => {
    const fileName = path__default["default"].basename(file.path).replaceAll(".", "_");
    panel.webview.html = getWebviewContent(`http://localhost:5000/file/${fileName}`);
  }, 2e3);
}
function getWebviewContent(url) {
  return `
    <head>
      <meta
        http-equiv="Content-Security-Policy"
        content="default-src * 'unsafe-inline' 'unsafe-eval'; script-src * 'unsafe-inline' 'unsafe-eval'; connect-src * 'unsafe-inline'; img-src * data: blob: 'unsafe-inline'; frame-src *; style-src * 'unsafe-inline';"
      />
    <head>
    <body>
      <script>
        window.addEventListener('load', () => {
          location.replace(${JSON.stringify(url)})
        })
      <\/script>
    </body>`;
}
var getGlobalThis = function() {
  if (typeof self !== "undefined") {
    return self;
  }
  if (typeof window !== "undefined") {
    return window;
  }
  if (typeof global !== "undefined") {
    return global;
  }
  throw new Error("unable to locate global object");
};
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
function _mergeNamespaces$1(n, m) {
  m.forEach(function(e) {
    e && typeof e !== "string" && !Array.isArray(e) && Object.keys(e).forEach(function(k) {
      if (k !== "default" && !(k in n)) {
        var d = Object.getOwnPropertyDescriptor(e, k);
        Object.defineProperty(n, k, d.get ? d : {
          enumerable: true,
          get: function() {
            return e[k];
          }
        });
      }
    });
  });
  return Object.freeze(n);
}
var DebugType;
(function(DebugType2) {
  DebugType2["Select"] = "select";
  DebugType2["Line"] = "line";
  DebugType2["StartPhase"] = "start_phase";
})(DebugType || (DebugType = {}));
var BlockElementType;
(function(BlockElementType2) {
  BlockElementType2["Rect"] = "rect";
  BlockElementType2["Line"] = "line";
  BlockElementType2["Highlight"] = "highlight";
})(BlockElementType || (BlockElementType = {}));
var PositioningSystem;
(function(PositioningSystem2) {
  PositioningSystem2["Default"] = "def";
  PositioningSystem2["Grid"] = "grid";
  PositioningSystem2["Dagre"] = "grid";
})(PositioningSystem || (PositioningSystem = {}));
function isConnectActionSetting(obj) {
  if (obj) {
    const connect = obj;
    return !!connect.to && !!connect.from;
  }
  return false;
}
function isHideBlocksActionSetting(obj) {
  return typeof obj === "string";
}
function isHasLabel(obj) {
  return !!obj && typeof obj.label === "string";
}
var ActionType;
(function(ActionType2) {
  ActionType2["Connect"] = "connect";
  ActionType2["AddNewBlock"] = "newBlock";
  ActionType2["ChangePosition"] = "changePosition";
  ActionType2["ChangeLabel"] = "changeLabel";
  ActionType2["Highlight"] = "highlight";
  ActionType2["RemoveHighlight"] = "removeHighlight";
  ActionType2["HideBlock"] = "hide";
  ActionType2["ChangeBlockStyle"] = "changeBlockStyle";
})(ActionType || (ActionType = {}));
var ChangeType;
(function(ChangeType2) {
  ChangeType2[ChangeType2["AddNewBlock"] = 0] = "AddNewBlock";
  ChangeType2[ChangeType2["ChangeStyle"] = 1] = "ChangeStyle";
  ChangeType2[ChangeType2["RemoveBlock"] = 2] = "RemoveBlock";
  ChangeType2[ChangeType2["ChangePosition"] = 3] = "ChangePosition";
})(ChangeType || (ChangeType = {}));
var ChangeOwnerType;
(function(ChangeOwnerType2) {
  ChangeOwnerType2[ChangeOwnerType2["Phase"] = 0] = "Phase";
  ChangeOwnerType2[ChangeOwnerType2["Editor"] = 1] = "Editor";
})(ChangeOwnerType || (ChangeOwnerType = {}));
var MessageCommand;
(function(MessageCommand2) {
  MessageCommand2["Select"] = "select";
  MessageCommand2["Save"] = "save";
})(MessageCommand || (MessageCommand = {}));
function addHighlightActionExecutor(_, action) {
  var _a;
  const val = action.value;
  const blocks = typeof val.blocks === "string" ? [val.blocks] : val.blocks;
  const gap = (_a = val.gap) != null ? _a : 5;
  return blocks.flatMap((block) => [{
    type: ChangeType.ChangeStyle,
    setting: {
      blockId: `highlight_${block}`,
      newStyle: {
        position: {
          x: `${block}.x - ${gap}`,
          y: `${block}.y - ${gap}`,
          w: `${block}.w + ${gap * 2}`,
          h: `${block}.h + ${gap * 2}`
        },
        isHighlight: true
      }
    }
  }, {
    type: ChangeType.AddNewBlock,
    setting: {
      newBlockId: `highlight_${block}`,
      blockSettings: {
        type: BlockElementType.Rect,
        label: ""
      }
    }
  }]);
}
function addNewBlockActionExecutor(_, action) {
  const val = action.value;
  return Object.keys(val).map((key) => ({
    type: ChangeType.AddNewBlock,
    setting: {
      newBlockId: key,
      blockSettings: val[key]
    }
  }));
}
function addNewBlockActionDebugger(actionInfo) {
  if (actionInfo.actionProperty) {
    return [{
      type: DebugType.Select,
      blockIds: [actionInfo.actionProperty]
    }];
  }
  return [];
}
function addNewBlockBlockRenamer(actionSetting, oldVal, value) {
  if (actionSetting[oldVal]) {
    actionSetting[value] = actionSetting[oldVal];
    delete actionSetting[oldVal];
  }
}
function changeBlockPositionActionExecutor(_, action) {
  const val = action.value;
  return Object.keys(val).map((key) => ({
    type: ChangeType.ChangeStyle,
    setting: {
      blockId: key,
      newStyle: {
        position: val[key]
      }
    }
  }));
}
function changeLabelActionExecutor(_, action) {
  const val = action.value;
  return Object.keys(val).map((key) => {
    const v = val[key];
    return {
      type: ChangeType.ChangeStyle,
      setting: {
        blockId: key,
        newStyle: {
          label: isHasLabel(v) ? v.label : v
        }
      }
    };
  });
}
function changeLabelActionDebugger(actionInfo) {
  if (actionInfo.actionProperty) {
    return [{
      type: DebugType.Select,
      blockIds: [actionInfo.actionProperty]
    }];
  }
  return [];
}
function connectActionExecutor(phaseId, action, actionIndex) {
  var _a, _b;
  if (isConnectActionSetting(action.value)) {
    const newBlockId = (_a = action.value.name) != null ? _a : `line_${phaseId}_${actionIndex}`;
    return [{
      type: ChangeType.AddNewBlock,
      setting: {
        newBlockId,
        blockSettings: __spreadProps(__spreadValues({}, action.value), {
          type: BlockElementType.Line,
          label: (_b = action.value.label) != null ? _b : ""
        })
      }
    }];
  }
  return null;
}
function connectActionDebugger(actionInfo) {
  switch (actionInfo.actionProperty) {
    case "from":
    case "to":
    case "name":
      return [{
        type: DebugType.Select,
        blockIds: [actionInfo.actionValue]
      }];
    default:
      return [];
  }
}
function connectBlockRenamer(actionSetting, oldVal, value) {
  if (actionSetting.to === oldVal) {
    actionSetting.to = value;
  }
  if (actionSetting.from === oldVal) {
    actionSetting.from = value;
  }
}
function hideBlocksActionExecutor(_, action) {
  if (isHideBlocksActionSetting(action.value)) {
    return [{
      type: ChangeType.ChangeStyle,
      setting: {
        blockId: action.value,
        newStyle: {
          css: {
            display: "none"
          }
        }
      }
    }];
  }
  return [];
}
function hideBlocksActionDebugger(actionInfo) {
  if (actionInfo.actionProperty) {
    return [{
      type: DebugType.Select,
      blockIds: [actionInfo.actionProperty]
    }];
  }
  return [];
}
function removeHighlightActionExecutor() {
  return [{
    type: ChangeType.RemoveBlock,
    setting: {}
  }];
}
function changeBlockStyleExecutor(_, action) {
  const val = action.value;
  return Object.keys(val).map((key) => ({
    type: ChangeType.ChangeStyle,
    setting: {
      blockId: key,
      newStyle: val[key]
    }
  }));
}
[{
  type: ActionType.Connect,
  executor: connectActionExecutor,
  debugger: connectActionDebugger,
  blockRenamer: connectBlockRenamer
}, {
  type: ActionType.AddNewBlock,
  executor: addNewBlockActionExecutor,
  debugger: addNewBlockActionDebugger,
  blockRenamer: addNewBlockBlockRenamer
}, {
  type: ActionType.ChangePosition,
  executor: changeBlockPositionActionExecutor
}, {
  type: ActionType.ChangeLabel,
  executor: changeLabelActionExecutor,
  debugger: changeLabelActionDebugger
}, {
  type: ActionType.Highlight,
  executor: addHighlightActionExecutor
}, {
  type: ActionType.RemoveHighlight,
  executor: removeHighlightActionExecutor
}, {
  type: ActionType.HideBlock,
  executor: hideBlocksActionExecutor,
  debugger: hideBlocksActionDebugger
}, {
  type: ActionType.ChangeBlockStyle,
  executor: changeBlockStyleExecutor
}];
function getDefaultExportFromCjs(x) {
  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, "default") ? x["default"] : x;
}
function getAugmentedNamespace(n) {
  if (n.__esModule)
    return n;
  var a = Object.defineProperty({}, "__esModule", { value: true });
  Object.keys(n).forEach(function(k) {
    var d = Object.getOwnPropertyDescriptor(n, k);
    Object.defineProperty(a, k, d.get ? d : {
      enumerable: true,
      get: function() {
        return n[k];
      }
    });
  });
  return a;
}
var layout_min$1 = { exports: {} };
/*! For license information please see layout.min.js.LICENSE.txt */
(function(module, exports2) {
  !function(t, e) {
    module.exports = e();
  }(getGlobalThis(), function() {
    return (() => {
      var t = { 7294: () => {
      }, 9586: () => {
      }, 2697: () => {
      }, 1894: () => {
      }, 1186: () => {
      }, 5275: () => {
      }, 2862: () => {
      }, 9633: () => {
      }, 7222: () => {
      }, 5965: () => {
      }, 2391: () => {
      }, 3945: () => {
      }, 9216: (t2, e2, n2) => {
        n2(9504), n2(3982), n2(721), n2(5778), n2(3898), n2(7536), n2(5834), n2(6945), n2(547), n2(5967), n2(3515), n2(3042), n2(4962), n2(405);
      }, 122: (t2, e2, n2) => {
        t2.exports = n2(405);
      }, 8311: (t2, e2, n2) => {
        var r2 = n2(1946);
        t2.exports = { Graph: r2.Graph, json: n2(1603), alg: n2(638), version: r2.version };
      }, 5267: (t2, e2, n2) => {
        var r2 = n2(6879);
        t2.exports = function(t3) {
          var e3, n3 = {}, i = [];
          function o(i2) {
            r2.has(n3, i2) || (n3[i2] = true, e3.push(i2), r2.each(t3.successors(i2), o), r2.each(t3.predecessors(i2), o));
          }
          return r2.each(t3.nodes(), function(t4) {
            e3 = [], o(t4), e3.length && i.push(e3);
          }), i;
        };
      }, 4370: (t2, e2, n2) => {
        var r2 = n2(6879);
        function i(t3, e3, n3, o, a, u) {
          r2.has(o, e3) || (o[e3] = true, n3 || u.push(e3), r2.each(a(e3), function(e4) {
            i(t3, e4, n3, o, a, u);
          }), n3 && u.push(e3));
        }
        t2.exports = function(t3, e3, n3) {
          r2.isArray(e3) || (e3 = [e3]);
          var o = (t3.isDirected() ? t3.successors : t3.neighbors).bind(t3), a = [], u = {};
          return r2.each(e3, function(e4) {
            if (!t3.hasNode(e4))
              throw new Error("Graph does not have node: " + e4);
            i(t3, e4, n3 === "post", u, o, a);
          }), a;
        };
      }, 5566: (t2, e2, n2) => {
        var r2 = n2(7435), i = n2(6879);
        t2.exports = function(t3, e3, n3) {
          return i.transform(t3.nodes(), function(i2, o) {
            i2[o] = r2(t3, o, e3, n3);
          }, {});
        };
      }, 7435: (t2, e2, n2) => {
        var r2 = n2(6879), i = n2(758);
        t2.exports = function(t3, e3, n3, r3) {
          return function(t4, e4, n4, r4) {
            var o2, a, u = {}, s = new i(), c = function(t5) {
              var e5 = t5.v !== o2 ? t5.v : t5.w, r5 = u[e5], i2 = n4(t5), c2 = a.distance + i2;
              if (i2 < 0)
                throw new Error("dijkstra does not allow negative edge weights. Bad edge: " + t5 + " Weight: " + i2);
              c2 < r5.distance && (r5.distance = c2, r5.predecessor = o2, s.decrease(e5, c2));
            };
            for (t4.nodes().forEach(function(t5) {
              var n5 = t5 === e4 ? 0 : Number.POSITIVE_INFINITY;
              u[t5] = { distance: n5 }, s.add(t5, n5);
            }); s.size() > 0 && (o2 = s.removeMin(), (a = u[o2]).distance !== Number.POSITIVE_INFINITY); )
              r4(o2).forEach(c);
            return u;
          }(t3, String(e3), n3 || o, r3 || function(e4) {
            return t3.outEdges(e4);
          });
        };
        var o = r2.constant(1);
      }, 5488: (t2, e2, n2) => {
        var r2 = n2(6879), i = n2(4155);
        t2.exports = function(t3) {
          return r2.filter(i(t3), function(e3) {
            return e3.length > 1 || e3.length === 1 && t3.hasEdge(e3[0], e3[0]);
          });
        };
      }, 7003: (t2, e2, n2) => {
        var r2 = n2(6879);
        t2.exports = function(t3, e3, n3) {
          return function(t4, e4, n4) {
            var r3 = {}, i2 = t4.nodes();
            return i2.forEach(function(t5) {
              r3[t5] = {}, r3[t5][t5] = { distance: 0 }, i2.forEach(function(e5) {
                t5 !== e5 && (r3[t5][e5] = { distance: Number.POSITIVE_INFINITY });
              }), n4(t5).forEach(function(n5) {
                var i3 = n5.v === t5 ? n5.w : n5.v, o = e4(n5);
                r3[t5][i3] = { distance: o, predecessor: t5 };
              });
            }), i2.forEach(function(t5) {
              var e5 = r3[t5];
              i2.forEach(function(n5) {
                var o = r3[n5];
                i2.forEach(function(n6) {
                  var r4 = o[t5], i3 = e5[n6], a = o[n6], u = r4.distance + i3.distance;
                  u < a.distance && (a.distance = u, a.predecessor = i3.predecessor);
                });
              });
            }), r3;
          }(t3, e3 || i, n3 || function(e4) {
            return t3.outEdges(e4);
          });
        };
        var i = r2.constant(1);
      }, 638: (t2, e2, n2) => {
        t2.exports = { components: n2(5267), dijkstra: n2(7435), dijkstraAll: n2(5566), findCycles: n2(5488), floydWarshall: n2(7003), isAcyclic: n2(6515), postorder: n2(4654), preorder: n2(2746), prim: n2(6828), tarjan: n2(4155), topsort: n2(4417) };
      }, 6515: (t2, e2, n2) => {
        var r2 = n2(4417);
        t2.exports = function(t3) {
          try {
            r2(t3);
          } catch (t4) {
            if (t4 instanceof r2.CycleException)
              return false;
            throw t4;
          }
          return true;
        };
      }, 4654: (t2, e2, n2) => {
        var r2 = n2(4370);
        t2.exports = function(t3, e3) {
          return r2(t3, e3, "post");
        };
      }, 2746: (t2, e2, n2) => {
        var r2 = n2(4370);
        t2.exports = function(t3, e3) {
          return r2(t3, e3, "pre");
        };
      }, 6828: (t2, e2, n2) => {
        var r2 = n2(6879), i = n2(5256), o = n2(758);
        t2.exports = function(t3, e3) {
          var n3, a = new i(), u = {}, s = new o();
          function c(t4) {
            var r3 = t4.v === n3 ? t4.w : t4.v, i2 = s.priority(r3);
            if (i2 !== void 0) {
              var o2 = e3(t4);
              o2 < i2 && (u[r3] = n3, s.decrease(r3, o2));
            }
          }
          if (t3.nodeCount() === 0)
            return a;
          r2.each(t3.nodes(), function(t4) {
            s.add(t4, Number.POSITIVE_INFINITY), a.setNode(t4);
          }), s.decrease(t3.nodes()[0], 0);
          for (var f = false; s.size() > 0; ) {
            if (n3 = s.removeMin(), r2.has(u, n3))
              a.setEdge(n3, u[n3]);
            else {
              if (f)
                throw new Error("Input graph is not connected: " + t3);
              f = true;
            }
            t3.nodeEdges(n3).forEach(c);
          }
          return a;
        };
      }, 4155: (t2, e2, n2) => {
        var r2 = n2(6879);
        t2.exports = function(t3) {
          var e3 = 0, n3 = [], i = {}, o = [];
          function a(u) {
            var s = i[u] = { onStack: true, lowlink: e3, index: e3++ };
            if (n3.push(u), t3.successors(u).forEach(function(t4) {
              r2.has(i, t4) ? i[t4].onStack && (s.lowlink = Math.min(s.lowlink, i[t4].index)) : (a(t4), s.lowlink = Math.min(s.lowlink, i[t4].lowlink));
            }), s.lowlink === s.index) {
              var c, f = [];
              do {
                c = n3.pop(), i[c].onStack = false, f.push(c);
              } while (u !== c);
              o.push(f);
            }
          }
          return t3.nodes().forEach(function(t4) {
            r2.has(i, t4) || a(t4);
          }), o;
        };
      }, 4417: (t2, e2, n2) => {
        var r2 = n2(6879);
        function i(t3) {
          var e3 = {}, n3 = {}, i2 = [];
          if (r2.each(t3.sinks(), function a(u) {
            if (r2.has(n3, u))
              throw new o();
            r2.has(e3, u) || (n3[u] = true, e3[u] = true, r2.each(t3.predecessors(u), a), delete n3[u], i2.push(u));
          }), r2.size(e3) !== t3.nodeCount())
            throw new o();
          return i2;
        }
        function o() {
        }
        t2.exports = i, i.CycleException = o;
      }, 758: (t2, e2, n2) => {
        var r2 = n2(6879);
        function i() {
          this._arr = [], this._keyIndices = {};
        }
        t2.exports = i, i.prototype.size = function() {
          return this._arr.length;
        }, i.prototype.keys = function() {
          return this._arr.map(function(t3) {
            return t3.key;
          });
        }, i.prototype.has = function(t3) {
          return r2.has(this._keyIndices, t3);
        }, i.prototype.priority = function(t3) {
          var e3 = this._keyIndices[t3];
          if (e3 !== void 0)
            return this._arr[e3].priority;
        }, i.prototype.min = function() {
          if (this.size() === 0)
            throw new Error("Queue underflow");
          return this._arr[0].key;
        }, i.prototype.add = function(t3, e3) {
          var n3 = this._keyIndices;
          if (t3 = String(t3), !r2.has(n3, t3)) {
            var i2 = this._arr, o = i2.length;
            return n3[t3] = o, i2.push({ key: t3, priority: e3 }), this._decrease(o), true;
          }
          return false;
        }, i.prototype.removeMin = function() {
          this._swap(0, this._arr.length - 1);
          var t3 = this._arr.pop();
          return delete this._keyIndices[t3.key], this._heapify(0), t3.key;
        }, i.prototype.decrease = function(t3, e3) {
          var n3 = this._keyIndices[t3];
          if (e3 > this._arr[n3].priority)
            throw new Error("New priority is greater than current priority. Key: " + t3 + " Old: " + this._arr[n3].priority + " New: " + e3);
          this._arr[n3].priority = e3, this._decrease(n3);
        }, i.prototype._heapify = function(t3) {
          var e3 = this._arr, n3 = 2 * t3, r3 = n3 + 1, i2 = t3;
          n3 < e3.length && (i2 = e3[n3].priority < e3[i2].priority ? n3 : i2, r3 < e3.length && (i2 = e3[r3].priority < e3[i2].priority ? r3 : i2), i2 !== t3 && (this._swap(t3, i2), this._heapify(i2)));
        }, i.prototype._decrease = function(t3) {
          for (var e3, n3 = this._arr, r3 = n3[t3].priority; t3 !== 0 && !(n3[e3 = t3 >> 1].priority < r3); )
            this._swap(t3, e3), t3 = e3;
        }, i.prototype._swap = function(t3, e3) {
          var n3 = this._arr, r3 = this._keyIndices, i2 = n3[t3], o = n3[e3];
          n3[t3] = o, n3[e3] = i2, r3[o.key] = t3, r3[i2.key] = e3;
        };
      }, 5256: (t2, e2, n2) => {
        var r2 = n2(6879);
        t2.exports = o;
        var i = "\0";
        function o(t3) {
          this._isDirected = !r2.has(t3, "directed") || t3.directed, this._isMultigraph = !!r2.has(t3, "multigraph") && t3.multigraph, this._isCompound = !!r2.has(t3, "compound") && t3.compound, this._label = void 0, this._defaultNodeLabelFn = r2.constant(void 0), this._defaultEdgeLabelFn = r2.constant(void 0), this._nodes = {}, this._isCompound && (this._parent = {}, this._children = {}, this._children["\0"] = {}), this._in = {}, this._preds = {}, this._out = {}, this._sucs = {}, this._edgeObjs = {}, this._edgeLabels = {};
        }
        function a(t3, e3) {
          t3[e3] ? t3[e3]++ : t3[e3] = 1;
        }
        function u(t3, e3) {
          --t3[e3] || delete t3[e3];
        }
        function s(t3, e3, n3, i2) {
          var o2 = "" + e3, a2 = "" + n3;
          if (!t3 && o2 > a2) {
            var u2 = o2;
            o2 = a2, a2 = u2;
          }
          return o2 + "" + a2 + "" + (r2.isUndefined(i2) ? "\0" : i2);
        }
        function c(t3, e3, n3, r3) {
          var i2 = "" + e3, o2 = "" + n3;
          if (!t3 && i2 > o2) {
            var a2 = i2;
            i2 = o2, o2 = a2;
          }
          var u2 = { v: i2, w: o2 };
          return r3 && (u2.name = r3), u2;
        }
        function f(t3, e3) {
          return s(t3, e3.v, e3.w, e3.name);
        }
        o.prototype._nodeCount = 0, o.prototype._edgeCount = 0, o.prototype.isDirected = function() {
          return this._isDirected;
        }, o.prototype.isMultigraph = function() {
          return this._isMultigraph;
        }, o.prototype.isCompound = function() {
          return this._isCompound;
        }, o.prototype.setGraph = function(t3) {
          return this._label = t3, this;
        }, o.prototype.graph = function() {
          return this._label;
        }, o.prototype.setDefaultNodeLabel = function(t3) {
          return r2.isFunction(t3) || (t3 = r2.constant(t3)), this._defaultNodeLabelFn = t3, this;
        }, o.prototype.nodeCount = function() {
          return this._nodeCount;
        }, o.prototype.nodes = function() {
          return r2.keys(this._nodes);
        }, o.prototype.sources = function() {
          return r2.filter(this.nodes(), r2.bind(function(t3) {
            return r2.isEmpty(this._in[t3]);
          }, this));
        }, o.prototype.sinks = function() {
          return r2.filter(this.nodes(), r2.bind(function(t3) {
            return r2.isEmpty(this._out[t3]);
          }, this));
        }, o.prototype.setNodes = function(t3, e3) {
          var n3 = arguments;
          return r2.each(t3, r2.bind(function(t4) {
            n3.length > 1 ? this.setNode(t4, e3) : this.setNode(t4);
          }, this)), this;
        }, o.prototype.setNode = function(t3, e3) {
          return r2.has(this._nodes, t3) ? (arguments.length > 1 && (this._nodes[t3] = e3), this) : (this._nodes[t3] = arguments.length > 1 ? e3 : this._defaultNodeLabelFn(t3), this._isCompound && (this._parent[t3] = i, this._children[t3] = {}, this._children["\0"][t3] = true), this._in[t3] = {}, this._preds[t3] = {}, this._out[t3] = {}, this._sucs[t3] = {}, ++this._nodeCount, this);
        }, o.prototype.node = function(t3) {
          return this._nodes[t3];
        }, o.prototype.hasNode = function(t3) {
          return r2.has(this._nodes, t3);
        }, o.prototype.removeNode = function(t3) {
          var e3 = this;
          if (r2.has(this._nodes, t3)) {
            var n3 = function(t4) {
              e3.removeEdge(e3._edgeObjs[t4]);
            };
            delete this._nodes[t3], this._isCompound && (this._removeFromParentsChildList(t3), delete this._parent[t3], r2.each(this.children(t3), r2.bind(function(t4) {
              this.setParent(t4);
            }, this)), delete this._children[t3]), r2.each(r2.keys(this._in[t3]), n3), delete this._in[t3], delete this._preds[t3], r2.each(r2.keys(this._out[t3]), n3), delete this._out[t3], delete this._sucs[t3], --this._nodeCount;
          }
          return this;
        }, o.prototype.setParent = function(t3, e3) {
          if (!this._isCompound)
            throw new Error("Cannot set parent in a non-compound graph");
          if (r2.isUndefined(e3))
            e3 = i;
          else {
            for (var n3 = e3 += ""; !r2.isUndefined(n3); n3 = this.parent(n3))
              if (n3 === t3)
                throw new Error("Setting " + e3 + " as parent of " + t3 + " would create create a cycle");
            this.setNode(e3);
          }
          return this.setNode(t3), this._removeFromParentsChildList(t3), this._parent[t3] = e3, this._children[e3][t3] = true, this;
        }, o.prototype._removeFromParentsChildList = function(t3) {
          delete this._children[this._parent[t3]][t3];
        }, o.prototype.parent = function(t3) {
          if (this._isCompound) {
            var e3 = this._parent[t3];
            if (e3 !== i)
              return e3;
          }
        }, o.prototype.children = function(t3) {
          if (r2.isUndefined(t3) && (t3 = i), this._isCompound) {
            var e3 = this._children[t3];
            if (e3)
              return r2.keys(e3);
          } else {
            if (t3 === i)
              return this.nodes();
            if (this.hasNode(t3))
              return [];
          }
        }, o.prototype.predecessors = function(t3) {
          var e3 = this._preds[t3];
          if (e3)
            return r2.keys(e3);
        }, o.prototype.successors = function(t3) {
          var e3 = this._sucs[t3];
          if (e3)
            return r2.keys(e3);
        }, o.prototype.neighbors = function(t3) {
          var e3 = this.predecessors(t3);
          if (e3)
            return r2.union(e3, this.successors(t3));
        }, o.prototype.isLeaf = function(t3) {
          return (this.isDirected() ? this.successors(t3) : this.neighbors(t3)).length === 0;
        }, o.prototype.filterNodes = function(t3) {
          var e3 = new this.constructor({ directed: this._isDirected, multigraph: this._isMultigraph, compound: this._isCompound });
          e3.setGraph(this.graph()), r2.each(this._nodes, r2.bind(function(n4, r3) {
            t3(r3) && e3.setNode(r3, n4);
          }, this)), r2.each(this._edgeObjs, r2.bind(function(t4) {
            e3.hasNode(t4.v) && e3.hasNode(t4.w) && e3.setEdge(t4, this.edge(t4));
          }, this));
          var n3 = this, i2 = {};
          function o2(t4) {
            var r3 = n3.parent(t4);
            return r3 === void 0 || e3.hasNode(r3) ? (i2[t4] = r3, r3) : r3 in i2 ? i2[r3] : o2(r3);
          }
          return this._isCompound && r2.each(e3.nodes(), function(t4) {
            e3.setParent(t4, o2(t4));
          }), e3;
        }, o.prototype.setDefaultEdgeLabel = function(t3) {
          return r2.isFunction(t3) || (t3 = r2.constant(t3)), this._defaultEdgeLabelFn = t3, this;
        }, o.prototype.edgeCount = function() {
          return this._edgeCount;
        }, o.prototype.edges = function() {
          return r2.values(this._edgeObjs);
        }, o.prototype.setPath = function(t3, e3) {
          var n3 = this, i2 = arguments;
          return r2.reduce(t3, function(t4, r3) {
            return i2.length > 1 ? n3.setEdge(t4, r3, e3) : n3.setEdge(t4, r3), r3;
          }), this;
        }, o.prototype.setEdge = function() {
          var t3, e3, n3, i2, o2 = false, u2 = arguments[0];
          typeof u2 == "object" && u2 !== null && "v" in u2 ? (t3 = u2.v, e3 = u2.w, n3 = u2.name, arguments.length === 2 && (i2 = arguments[1], o2 = true)) : (t3 = u2, e3 = arguments[1], n3 = arguments[3], arguments.length > 2 && (i2 = arguments[2], o2 = true)), t3 = "" + t3, e3 = "" + e3, r2.isUndefined(n3) || (n3 = "" + n3);
          var f2 = s(this._isDirected, t3, e3, n3);
          if (r2.has(this._edgeLabels, f2))
            return o2 && (this._edgeLabels[f2] = i2), this;
          if (!r2.isUndefined(n3) && !this._isMultigraph)
            throw new Error("Cannot set a named edge when isMultigraph = false");
          this.setNode(t3), this.setNode(e3), this._edgeLabels[f2] = o2 ? i2 : this._defaultEdgeLabelFn(t3, e3, n3);
          var l = c(this._isDirected, t3, e3, n3);
          return t3 = l.v, e3 = l.w, Object.freeze(l), this._edgeObjs[f2] = l, a(this._preds[e3], t3), a(this._sucs[t3], e3), this._in[e3][f2] = l, this._out[t3][f2] = l, this._edgeCount++, this;
        }, o.prototype.edge = function(t3, e3, n3) {
          var r3 = arguments.length === 1 ? f(this._isDirected, arguments[0]) : s(this._isDirected, t3, e3, n3);
          return this._edgeLabels[r3];
        }, o.prototype.hasEdge = function(t3, e3, n3) {
          var i2 = arguments.length === 1 ? f(this._isDirected, arguments[0]) : s(this._isDirected, t3, e3, n3);
          return r2.has(this._edgeLabels, i2);
        }, o.prototype.removeEdge = function(t3, e3, n3) {
          var r3 = arguments.length === 1 ? f(this._isDirected, arguments[0]) : s(this._isDirected, t3, e3, n3), i2 = this._edgeObjs[r3];
          return i2 && (t3 = i2.v, e3 = i2.w, delete this._edgeLabels[r3], delete this._edgeObjs[r3], u(this._preds[e3], t3), u(this._sucs[t3], e3), delete this._in[e3][r3], delete this._out[t3][r3], this._edgeCount--), this;
        }, o.prototype.inEdges = function(t3, e3) {
          var n3 = this._in[t3];
          if (n3) {
            var i2 = r2.values(n3);
            return e3 ? r2.filter(i2, function(t4) {
              return t4.v === e3;
            }) : i2;
          }
        }, o.prototype.outEdges = function(t3, e3) {
          var n3 = this._out[t3];
          if (n3) {
            var i2 = r2.values(n3);
            return e3 ? r2.filter(i2, function(t4) {
              return t4.w === e3;
            }) : i2;
          }
        }, o.prototype.nodeEdges = function(t3, e3) {
          var n3 = this.inEdges(t3, e3);
          if (n3)
            return n3.concat(this.outEdges(t3, e3));
        };
      }, 1946: (t2, e2, n2) => {
        t2.exports = { Graph: n2(5256), version: n2(7942) };
      }, 1603: (t2, e2, n2) => {
        var r2 = n2(6879), i = n2(5256);
        function o(t3) {
          return r2.map(t3.nodes(), function(e3) {
            var n3 = t3.node(e3), i2 = t3.parent(e3), o2 = { v: e3 };
            return r2.isUndefined(n3) || (o2.value = n3), r2.isUndefined(i2) || (o2.parent = i2), o2;
          });
        }
        function a(t3) {
          return r2.map(t3.edges(), function(e3) {
            var n3 = t3.edge(e3), i2 = { v: e3.v, w: e3.w };
            return r2.isUndefined(e3.name) || (i2.name = e3.name), r2.isUndefined(n3) || (i2.value = n3), i2;
          });
        }
        t2.exports = { write: function(t3) {
          var e3 = { options: { directed: t3.isDirected(), multigraph: t3.isMultigraph(), compound: t3.isCompound() }, nodes: o(t3), edges: a(t3) };
          return r2.isUndefined(t3.graph()) || (e3.value = r2.clone(t3.graph())), e3;
        }, read: function(t3) {
          var e3 = new i(t3.options).setGraph(t3.value);
          return r2.each(t3.nodes, function(t4) {
            e3.setNode(t4.v, t4.value), t4.parent && e3.setParent(t4.v, t4.parent);
          }), r2.each(t3.edges, function(t4) {
            e3.setEdge({ v: t4.v, w: t4.w, name: t4.name }, t4.value);
          }), e3;
        } };
      }, 6879: (t2, e2, n2) => {
        var r2;
        try {
          r2 = n2(9392);
        } catch (t3) {
        }
        r2 || (r2 = window._), t2.exports = r2;
      }, 7942: (t2) => {
        t2.exports = "2.1.4";
      }, 8344: (t2, e2) => {
        var n2, r2, i, o, a, u, s, c, f, l, h, d, p, v, g, y, m, b, _, x, w, E, S, A, T;
        (e2.UX || (e2.UX = {})).TextureCompressionBC = "texture-compression-bc", (T = e2.OB || (e2.OB = {})).ClampToEdge = "clamp-to-edge", T.Repeat = "repeat", T.MirrorRepeat = "mirror-repeat", (A = e2.$l || (e2.$l = {})).UniformBuffer = "uniform-buffer", A.StorageBuffer = "storage-buffer", A.ReadonlyStorageBuffer = "readonly-storage-buffer", A.Sampler = "sampler", A.ComparisonSampler = "comparison-sampler", A.SampledTexture = "sampled-texture", A.ReadonlyStorageTexture = "readonly-storage-texture", A.WriteonlyStorageTexture = "writeonly-storage-texture", (S = e2.zi || (e2.zi = {})).Zero = "zero", S.One = "one", S.SrcColor = "src-color", S.OneMinusSrcColor = "one-minus-src-color", S.SrcAlpha = "src-alpha", S.OneMinusSrcAlpha = "one-minus-src-alpha", S.DstColor = "dst-color", S.OneMinusDstColor = "one-minus-dst-color", S.DstAlpha = "dst-alpha", S.OneMinusDstAlpha = "one-minus-dst-alpha", S.SrcAlphaSaturated = "src-alpha-saturated", S.BlendColor = "blend-color", S.OneMinusBlendColor = "one-minus-blend-color", (E = e2.db || (e2.db = {})).Add = "add", E.Subtract = "subtract", E.ReverseSubtract = "reverse-subtract", E.Min = "min", E.Max = "max", (w = e2.wb || (e2.wb = {})).Never = "never", w.Less = "less", w.Equal = "equal", w.LessEqual = "less-equal", w.Greater = "greater", w.NotEqual = "not-equal", w.GreaterEqual = "greater-equal", w.Always = "always", (x = e2.Wf || (e2.Wf = {})).None = "none", x.Front = "front", x.Back = "back", (_ = e2.X9 || (e2.X9 = {})).Nearest = "nearest", _.Linear = "linear", (b = e2.zX || (e2.zX = {})).CCW = "ccw", b.CW = "cw", (m = e2.iD || (e2.iD = {})).Uint16 = "uint16", m.Uint32 = "uint32", (y = e2.V || (e2.V = {})).Vertex = "vertex", y.Instance = "instance", (e2.Ws || (e2.Ws = {})).Load = "load", (g = e2.YV || (e2.YV = {})).PointList = "point-list", g.LineList = "line-list", g.LineStrip = "line-strip", g.TriangleList = "triangle-list", g.TriangleStrip = "triangle-strip", (v = e2.xS || (e2.xS = {})).Keep = "keep", v.Zero = "zero", v.Replace = "replace", v.Invert = "invert", v.IncrementClamp = "increment-clamp", v.DecrementClamp = "decrement-clamp", v.IncrementWrap = "increment-wrap", v.DecrementWrap = "decrement-wrap", (p = e2.EG || (e2.EG = {})).Store = "store", p.Clear = "clear", (d = e2.kd || (e2.kd = {})).E1d = "1d", d.E2d = "2d", d.E3d = "3d", (h = e2.EV || (e2.EV = {})).R8Unorm = "r8unorm", h.R8Snorm = "r8snorm", h.R8Uint = "r8uint", h.R8Sint = "r8sint", h.R16Uint = "r16uint", h.R16Sint = "r16sint", h.R16Float = "r16float", h.RG8Unorm = "rg8unorm", h.RG8Snorm = "rg8snorm", h.RG8Uint = "rg8uint", h.RG8Sint = "rg8sint", h.R32Uint = "r32uint", h.R32Sint = "r32sint", h.R32Float = "r32float", h.RG16Uint = "rg16uint", h.RG16Sint = "rg16sint", h.RG16Float = "rg16float", h.RGBA8Unorm = "rgba8unorm", h.RGBA8UnormSRGB = "rgba8unorm-srgb", h.RGBA8Snorm = "rgba8snorm", h.RGBA8Uint = "rgba8uint", h.RGBA8Sint = "rgba8sint", h.BGRA8Unorm = "bgra8unorm", h.BGRA8UnormSRGB = "bgra8unorm-srgb", h.RGB10A2Unorm = "rgb10a2unorm", h.RG11B10Float = "rg11b10float", h.RG32Uint = "rg32uint", h.RG32Sint = "rg32sint", h.RG32Float = "rg32float", h.RGBA16Uint = "rgba16uint", h.RGBA16Sint = "rgba16sint", h.RGBA16Float = "rgba16float", h.RGBA32Uint = "rgba32uint", h.RGBA32Sint = "rgba32sint", h.RGBA32Float = "rgba32float", h.Depth32Float = "depth32float", h.Depth24Plus = "depth24plus", h.Depth24PlusStencil8 = "depth24plus-stencil8", (l = e2.Ek || (e2.Ek = {})).Float = "float", l.Sint = "sint", l.Uint = "uint", (f = e2.p_ || (e2.p_ = {})).E1d = "1d", f.E2d = "2d", f.E2dArray = "2d-array", f.Cube = "cube", f.CubeArray = "cube-array", f.E3d = "3d", (c = e2.gB || (e2.gB = {})).Uchar2 = "uchar2", c.Uchar4 = "uchar4", c.Char2 = "char2", c.Char4 = "char4", c.Uchar2Norm = "uchar2norm", c.Uchar4Norm = "uchar4norm", c.Char2Norm = "char2norm", c.Char4Norm = "char4norm", c.Ushort2 = "ushort2", c.Ushort4 = "ushort4", c.Short2 = "short2", c.Short4 = "short4", c.Ushort2Norm = "ushort2norm", c.Ushort4Norm = "ushort4norm", c.Short2Norm = "short2norm", c.Short4Norm = "short4norm", c.Half2 = "half2", c.Half4 = "half4", c.Float = "float", c.Float2 = "float2", c.Float3 = "float3", c.Float4 = "float4", c.Uint = "uint", c.Uint2 = "uint2", c.Uint3 = "uint3", c.Uint4 = "uint4", c.Int = "int", c.Int2 = "int2", c.Int3 = "int3", c.Int4 = "int4", (s = e2.H7 || (e2.H7 = {})).All = "all", s.StencilOnly = "stencil-only", s.DepthOnly = "depth-only", (u = e2.mj || (e2.mj = {})).Error = "error", u.Warning = "warning", u.Info = "info", (e2.xL || (e2.xL = {})).Occlusion = "occlusion", (a = e2.FB || (e2.FB = {}))[a.MapRead = 1] = "MapRead", a[a.MapWrite = 2] = "MapWrite", a[a.CopySrc = 4] = "CopySrc", a[a.CopyDst = 8] = "CopyDst", a[a.Index = 16] = "Index", a[a.Vertex = 32] = "Vertex", a[a.Uniform = 64] = "Uniform", a[a.Storage = 128] = "Storage", a[a.Indirect = 256] = "Indirect", a[a.QueryResolve = 512] = "QueryResolve", (o = e2.Yw || (e2.Yw = {}))[o.Red = 1] = "Red", o[o.Green = 2] = "Green", o[o.Blue = 4] = "Blue", o[o.Alpha = 8] = "Alpha", o[o.All = 15] = "All", (i = e2.$X || (e2.$X = {}))[i.Vertex = 1] = "Vertex", i[i.Fragment = 2] = "Fragment", i[i.Compute = 4] = "Compute", (r2 = e2.v2 || (e2.v2 = {}))[r2.CopySrc = 1] = "CopySrc", r2[r2.CopyDst = 2] = "CopyDst", r2[r2.Sampled = 4] = "Sampled", r2[r2.Storage = 8] = "Storage", r2[r2.OutputAttachment = 16] = "OutputAttachment", (n2 = e2.gc || (e2.gc = {}))[n2.Read = 1] = "Read", n2[n2.Write = 2] = "Write";
      }, 9504: (t2, e2, n2) => {
        n2(2825), n2(6051), n2(2640), n2(9518), n2(8201), n2(470), n2(5723), n2(7525), n2(9788), n2(1498), n2(7577), n2(6129), n2(2802), n2(7940), n2(5261), n2(9340), n2(1584), n2(7298), n2(1765), n2(5747), n2(7451), n2(2784), n2(2809), n2(7454), n2(3053), n2(8032), n2(7551), n2(2929), n2(215), n2(6183), n2(8190), n2(476), n2(948), n2(942), n2(2870), n2(2212), n2(4230), n2(9754), n2(2811), n2(3998), n2(1769), n2(8789), n2(2848), n2(1762), n2(1323), n2(6063), n2(3282), n2(6816), n2(1854), n2(3303), n2(4421), n2(2203), n2(1028), n2(6818), n2(5557), n2(7938), n2(8316), n2(7937), n2(637), n2(8219), n2(9029), n2(3157), n2(9791), n2(2296), n2(4555), n2(6505), n2(4722), n2(9713), n2(7392), n2(4687), n2(3684), n2(3339), n2(4148), n2(7754), n2(4094), n2(8781), n2(5013), n2(3735), n2(8723), n2(2247), n2(9689), n2(9003), n2(9026), n2(4088), n2(535), n2(5788), n2(7878), n2(5119), n2(3135), n2(5015), n2(8059), n2(646), n2(5377), n2(9879), n2(5305), n2(6341), n2(5915), n2(4488), n2(9281), n2(163), n2(6668), n2(7139), n2(6408), n2(8686), n2(5480), n2(9121), n2(914), n2(7742), n2(7843), n2(6441), n2(429), n2(2214), n2(498), n2(6349), n2(3742), n2(9604), n2(2592), n2(9290), n2(9363), n2(3871), n2(8632), n2(1838), n2(3421), n2(6144), n2(8275), n2(2552), n2(3077), n2(1031), n2(8916), n2(8978), n2(8531), n2(7323), n2(3704), n2(3153), n2(8812), n2(2636), n2(1602), n2(377), t2.exports = n2(2845);
      }, 721: (t2, e2, n2) => {
        n2(7744), t2.exports = n2(2845).Array.flatMap;
      }, 3982: (t2, e2, n2) => {
        n2(5448), t2.exports = n2(2845).Array.includes;
      }, 3515: (t2, e2, n2) => {
        n2(8938), t2.exports = n2(2845).Object.entries;
      }, 547: (t2, e2, n2) => {
        n2(7819), t2.exports = n2(2845).Object.getOwnPropertyDescriptors;
      }, 5967: (t2, e2, n2) => {
        n2(6572), t2.exports = n2(2845).Object.values;
      }, 3042: (t2, e2, n2) => {
        n2(7843), n2(8228), t2.exports = n2(2845).Promise.finally;
      }, 3898: (t2, e2, n2) => {
        n2(3336), t2.exports = n2(2845).String.padEnd;
      }, 5778: (t2, e2, n2) => {
        n2(3718), t2.exports = n2(2845).String.padStart;
      }, 5834: (t2, e2, n2) => {
        n2(6642), t2.exports = n2(2845).String.trimRight;
      }, 7536: (t2, e2, n2) => {
        n2(7831), t2.exports = n2(2845).String.trimLeft;
      }, 6945: (t2, e2, n2) => {
        n2(9956), t2.exports = n2(7686).f("asyncIterator");
      }, 2680: (t2, e2, n2) => {
        n2(8358), t2.exports = n2(3142).global;
      }, 3749: (t2) => {
        t2.exports = function(t3) {
          if (typeof t3 != "function")
            throw TypeError(t3 + " is not a function!");
          return t3;
        };
      }, 8891: (t2, e2, n2) => {
        var r2 = n2(2799);
        t2.exports = function(t3) {
          if (!r2(t3))
            throw TypeError(t3 + " is not an object!");
          return t3;
        };
      }, 3142: (t2) => {
        var e2 = t2.exports = { version: "2.6.12" };
        typeof __e == "number" && (__e = e2);
      }, 5526: (t2, e2, n2) => {
        var r2 = n2(3749);
        t2.exports = function(t3, e3, n3) {
          if (r2(t3), e3 === void 0)
            return t3;
          switch (n3) {
            case 1:
              return function(n4) {
                return t3.call(e3, n4);
              };
            case 2:
              return function(n4, r3) {
                return t3.call(e3, n4, r3);
              };
            case 3:
              return function(n4, r3, i) {
                return t3.call(e3, n4, r3, i);
              };
          }
          return function() {
            return t3.apply(e3, arguments);
          };
        };
      }, 7498: (t2, e2, n2) => {
        t2.exports = !n2(9880)(function() {
          return Object.defineProperty({}, "a", { get: function() {
            return 7;
          } }).a != 7;
        });
      }, 2004: (t2, e2, n2) => {
        var r2 = n2(2799), i = n2(5505).document, o = r2(i) && r2(i.createElement);
        t2.exports = function(t3) {
          return o ? i.createElement(t3) : {};
        };
      }, 2069: (t2, e2, n2) => {
        var r2 = n2(5505), i = n2(3142), o = n2(5526), a = n2(5954), u = n2(9761), s = function(t3, e3, n3) {
          var c, f, l, h = t3 & s.F, d = t3 & s.G, p = t3 & s.S, v = t3 & s.P, g = t3 & s.B, y = t3 & s.W, m = d ? i : i[e3] || (i[e3] = {}), b = m.prototype, _ = d ? r2 : p ? r2[e3] : (r2[e3] || {}).prototype;
          for (c in d && (n3 = e3), n3)
            (f = !h && _ && _[c] !== void 0) && u(m, c) || (l = f ? _[c] : n3[c], m[c] = d && typeof _[c] != "function" ? n3[c] : g && f ? o(l, r2) : y && _[c] == l ? function(t4) {
              var e4 = function(e5, n4, r3) {
                if (this instanceof t4) {
                  switch (arguments.length) {
                    case 0:
                      return new t4();
                    case 1:
                      return new t4(e5);
                    case 2:
                      return new t4(e5, n4);
                  }
                  return new t4(e5, n4, r3);
                }
                return t4.apply(this, arguments);
              };
              return e4.prototype = t4.prototype, e4;
            }(l) : v && typeof l == "function" ? o(Function.call, l) : l, v && ((m.virtual || (m.virtual = {}))[c] = l, t3 & s.R && b && !b[c] && a(b, c, l)));
        };
        s.F = 1, s.G = 2, s.S = 4, s.P = 8, s.B = 16, s.W = 32, s.U = 64, s.R = 128, t2.exports = s;
      }, 9880: (t2) => {
        t2.exports = function(t3) {
          try {
            return !!t3();
          } catch (t4) {
            return true;
          }
        };
      }, 5505: (t2) => {
        var e2 = t2.exports = typeof window != "undefined" && window.Math == Math ? window : typeof self != "undefined" && self.Math == Math ? self : Function("return this")();
        typeof __g == "number" && (__g = e2);
      }, 9761: (t2) => {
        var e2 = {}.hasOwnProperty;
        t2.exports = function(t3, n2) {
          return e2.call(t3, n2);
        };
      }, 5954: (t2, e2, n2) => {
        var r2 = n2(5584), i = n2(5734);
        t2.exports = n2(7498) ? function(t3, e3, n3) {
          return r2.f(t3, e3, i(1, n3));
        } : function(t3, e3, n3) {
          return t3[e3] = n3, t3;
        };
      }, 4053: (t2, e2, n2) => {
        t2.exports = !n2(7498) && !n2(9880)(function() {
          return Object.defineProperty(n2(2004)("div"), "a", { get: function() {
            return 7;
          } }).a != 7;
        });
      }, 2799: (t2) => {
        t2.exports = function(t3) {
          return typeof t3 == "object" ? t3 !== null : typeof t3 == "function";
        };
      }, 5584: (t2, e2, n2) => {
        var r2 = n2(8891), i = n2(4053), o = n2(923), a = Object.defineProperty;
        e2.f = n2(7498) ? Object.defineProperty : function(t3, e3, n3) {
          if (r2(t3), e3 = o(e3, true), r2(n3), i)
            try {
              return a(t3, e3, n3);
            } catch (t4) {
            }
          if ("get" in n3 || "set" in n3)
            throw TypeError("Accessors not supported!");
          return "value" in n3 && (t3[e3] = n3.value), t3;
        };
      }, 5734: (t2) => {
        t2.exports = function(t3, e2) {
          return { enumerable: !(1 & t3), configurable: !(2 & t3), writable: !(4 & t3), value: e2 };
        };
      }, 923: (t2, e2, n2) => {
        var r2 = n2(2799);
        t2.exports = function(t3, e3) {
          if (!r2(t3))
            return t3;
          var n3, i;
          if (e3 && typeof (n3 = t3.toString) == "function" && !r2(i = n3.call(t3)))
            return i;
          if (typeof (n3 = t3.valueOf) == "function" && !r2(i = n3.call(t3)))
            return i;
          if (!e3 && typeof (n3 = t3.toString) == "function" && !r2(i = n3.call(t3)))
            return i;
          throw TypeError("Can't convert object to primitive value");
        };
      }, 8358: (t2, e2, n2) => {
        var r2 = n2(2069);
        r2(r2.G, { global: n2(5505) });
      }, 1464: (t2) => {
        t2.exports = function(t3) {
          if (typeof t3 != "function")
            throw TypeError(t3 + " is not a function!");
          return t3;
        };
      }, 8347: (t2, e2, n2) => {
        var r2 = n2(1669);
        t2.exports = function(t3, e3) {
          if (typeof t3 != "number" && r2(t3) != "Number")
            throw TypeError(e3);
          return +t3;
        };
      }, 4691: (t2, e2, n2) => {
        var r2 = n2(341)("unscopables"), i = Array.prototype;
        i[r2] == null && n2(913)(i, r2, {}), t2.exports = function(t3) {
          i[r2][t3] = true;
        };
      }, 178: (t2, e2, n2) => {
        var r2 = n2(8016)(true);
        t2.exports = function(t3, e3, n3) {
          return e3 + (n3 ? r2(t3, e3).length : 1);
        };
      }, 6903: (t2) => {
        t2.exports = function(t3, e2, n2, r2) {
          if (!(t3 instanceof e2) || r2 !== void 0 && r2 in t3)
            throw TypeError(n2 + ": incorrect invocation!");
          return t3;
        };
      }, 486: (t2, e2, n2) => {
        var r2 = n2(1255);
        t2.exports = function(t3) {
          if (!r2(t3))
            throw TypeError(t3 + " is not an object!");
          return t3;
        };
      }, 1064: (t2, e2, n2) => {
        var r2 = n2(7583), i = n2(9260), o = n2(8087);
        t2.exports = [].copyWithin || function(t3, e3) {
          var n3 = r2(this), a = o(n3.length), u = i(t3, a), s = i(e3, a), c = arguments.length > 2 ? arguments[2] : void 0, f = Math.min((c === void 0 ? a : i(c, a)) - s, a - u), l = 1;
          for (s < u && u < s + f && (l = -1, s += f - 1, u += f - 1); f-- > 0; )
            s in n3 ? n3[u] = n3[s] : delete n3[u], u += l, s += l;
          return n3;
        };
      }, 8676: (t2, e2, n2) => {
        var r2 = n2(7583), i = n2(9260), o = n2(8087);
        t2.exports = function(t3) {
          for (var e3 = r2(this), n3 = o(e3.length), a = arguments.length, u = i(a > 1 ? arguments[1] : void 0, n3), s = a > 2 ? arguments[2] : void 0, c = s === void 0 ? n3 : i(s, n3); c > u; )
            e3[u++] = t3;
          return e3;
        };
      }, 4538: (t2, e2, n2) => {
        var r2 = n2(8182), i = n2(8087), o = n2(9260);
        t2.exports = function(t3) {
          return function(e3, n3, a) {
            var u, s = r2(e3), c = i(s.length), f = o(a, c);
            if (t3 && n3 != n3) {
              for (; c > f; )
                if ((u = s[f++]) != u)
                  return true;
            } else
              for (; c > f; f++)
                if ((t3 || f in s) && s[f] === n3)
                  return t3 || f || 0;
            return !t3 && -1;
          };
        };
      }, 7622: (t2, e2, n2) => {
        var r2 = n2(994), i = n2(8579), o = n2(7583), a = n2(8087), u = n2(6699);
        t2.exports = function(t3, e3) {
          var n3 = t3 == 1, s = t3 == 2, c = t3 == 3, f = t3 == 4, l = t3 == 6, h = t3 == 5 || l, d = e3 || u;
          return function(e4, u2, p) {
            for (var v, g, y = o(e4), m = i(y), b = r2(u2, p, 3), _ = a(m.length), x = 0, w = n3 ? d(e4, _) : s ? d(e4, 0) : void 0; _ > x; x++)
              if ((h || x in m) && (g = b(v = m[x], x, y), t3)) {
                if (n3)
                  w[x] = g;
                else if (g)
                  switch (t3) {
                    case 3:
                      return true;
                    case 5:
                      return v;
                    case 6:
                      return x;
                    case 2:
                      w.push(v);
                  }
                else if (f)
                  return false;
              }
            return l ? -1 : c || f ? f : w;
          };
        };
      }, 5336: (t2, e2, n2) => {
        var r2 = n2(1464), i = n2(7583), o = n2(8579), a = n2(8087);
        t2.exports = function(t3, e3, n3, u, s) {
          r2(e3);
          var c = i(t3), f = o(c), l = a(c.length), h = s ? l - 1 : 0, d = s ? -1 : 1;
          if (n3 < 2)
            for (; ; ) {
              if (h in f) {
                u = f[h], h += d;
                break;
              }
              if (h += d, s ? h < 0 : l <= h)
                throw TypeError("Reduce of empty array with no initial value");
            }
          for (; s ? h >= 0 : l > h; h += d)
            h in f && (u = e3(u, f[h], h, c));
          return u;
        };
      }, 7600: (t2, e2, n2) => {
        var r2 = n2(1255), i = n2(7183), o = n2(341)("species");
        t2.exports = function(t3) {
          var e3;
          return i(t3) && (typeof (e3 = t3.constructor) != "function" || e3 !== Array && !i(e3.prototype) || (e3 = void 0), r2(e3) && (e3 = e3[o]) === null && (e3 = void 0)), e3 === void 0 ? Array : e3;
        };
      }, 6699: (t2, e2, n2) => {
        var r2 = n2(7600);
        t2.exports = function(t3, e3) {
          return new (r2(t3))(e3);
        };
      }, 8366: (t2, e2, n2) => {
        var r2 = n2(1464), i = n2(1255), o = n2(8262), a = [].slice, u = {}, s = function(t3, e3, n3) {
          if (!(e3 in u)) {
            for (var r3 = [], i2 = 0; i2 < e3; i2++)
              r3[i2] = "a[" + i2 + "]";
            u[e3] = Function("F,a", "return new F(" + r3.join(",") + ")");
          }
          return u[e3](t3, n3);
        };
        t2.exports = Function.bind || function(t3) {
          var e3 = r2(this), n3 = a.call(arguments, 1), u2 = function() {
            var r3 = n3.concat(a.call(arguments));
            return this instanceof u2 ? s(e3, r3.length, r3) : o(e3, r3, t3);
          };
          return i(e3.prototype) && (u2.prototype = e3.prototype), u2;
        };
      }, 4939: (t2, e2, n2) => {
        var r2 = n2(1669), i = n2(341)("toStringTag"), o = r2(function() {
          return arguments;
        }()) == "Arguments";
        t2.exports = function(t3) {
          var e3, n3, a;
          return t3 === void 0 ? "Undefined" : t3 === null ? "Null" : typeof (n3 = function(t4, e4) {
            try {
              return t4[e4];
            } catch (t5) {
            }
          }(e3 = Object(t3), i)) == "string" ? n3 : o ? r2(e3) : (a = r2(e3)) == "Object" && typeof e3.callee == "function" ? "Arguments" : a;
        };
      }, 1669: (t2) => {
        var e2 = {}.toString;
        t2.exports = function(t3) {
          return e2.call(t3).slice(8, -1);
        };
      }, 3050: (t2, e2, n2) => {
        var r2 = n2(3886).f, i = n2(9055), o = n2(8565), a = n2(994), u = n2(6903), s = n2(9822), c = n2(966), f = n2(8782), l = n2(4412), h = n2(1216), d = n2(4278).fastKey, p = n2(4664), v = h ? "_s" : "size", g = function(t3, e3) {
          var n3, r3 = d(e3);
          if (r3 !== "F")
            return t3._i[r3];
          for (n3 = t3._f; n3; n3 = n3.n)
            if (n3.k == e3)
              return n3;
        };
        t2.exports = { getConstructor: function(t3, e3, n3, c2) {
          var f2 = t3(function(t4, r3) {
            u(t4, f2, e3, "_i"), t4._t = e3, t4._i = i(null), t4._f = void 0, t4._l = void 0, t4[v] = 0, r3 != null && s(r3, n3, t4[c2], t4);
          });
          return o(f2.prototype, { clear: function() {
            for (var t4 = p(this, e3), n4 = t4._i, r3 = t4._f; r3; r3 = r3.n)
              r3.r = true, r3.p && (r3.p = r3.p.n = void 0), delete n4[r3.i];
            t4._f = t4._l = void 0, t4[v] = 0;
          }, delete: function(t4) {
            var n4 = p(this, e3), r3 = g(n4, t4);
            if (r3) {
              var i2 = r3.n, o2 = r3.p;
              delete n4._i[r3.i], r3.r = true, o2 && (o2.n = i2), i2 && (i2.p = o2), n4._f == r3 && (n4._f = i2), n4._l == r3 && (n4._l = o2), n4[v]--;
            }
            return !!r3;
          }, forEach: function(t4) {
            p(this, e3);
            for (var n4, r3 = a(t4, arguments.length > 1 ? arguments[1] : void 0, 3); n4 = n4 ? n4.n : this._f; )
              for (r3(n4.v, n4.k, this); n4 && n4.r; )
                n4 = n4.p;
          }, has: function(t4) {
            return !!g(p(this, e3), t4);
          } }), h && r2(f2.prototype, "size", { get: function() {
            return p(this, e3)[v];
          } }), f2;
        }, def: function(t3, e3, n3) {
          var r3, i2, o2 = g(t3, e3);
          return o2 ? o2.v = n3 : (t3._l = o2 = { i: i2 = d(e3, true), k: e3, v: n3, p: r3 = t3._l, n: void 0, r: false }, t3._f || (t3._f = o2), r3 && (r3.n = o2), t3[v]++, i2 !== "F" && (t3._i[i2] = o2)), t3;
        }, getEntry: g, setStrong: function(t3, e3, n3) {
          c(t3, e3, function(t4, n4) {
            this._t = p(t4, e3), this._k = n4, this._l = void 0;
          }, function() {
            for (var t4 = this, e4 = t4._k, n4 = t4._l; n4 && n4.r; )
              n4 = n4.p;
            return t4._t && (t4._l = n4 = n4 ? n4.n : t4._t._f) ? f(0, e4 == "keys" ? n4.k : e4 == "values" ? n4.v : [n4.k, n4.v]) : (t4._t = void 0, f(1));
          }, n3 ? "entries" : "values", !n3, true), l(e3);
        } };
      }, 1990: (t2, e2, n2) => {
        var r2 = n2(8565), i = n2(4278).getWeak, o = n2(486), a = n2(1255), u = n2(6903), s = n2(9822), c = n2(7622), f = n2(7384), l = n2(4664), h = c(5), d = c(6), p = 0, v = function(t3) {
          return t3._l || (t3._l = new g());
        }, g = function() {
          this.a = [];
        }, y = function(t3, e3) {
          return h(t3.a, function(t4) {
            return t4[0] === e3;
          });
        };
        g.prototype = { get: function(t3) {
          var e3 = y(this, t3);
          if (e3)
            return e3[1];
        }, has: function(t3) {
          return !!y(this, t3);
        }, set: function(t3, e3) {
          var n3 = y(this, t3);
          n3 ? n3[1] = e3 : this.a.push([t3, e3]);
        }, delete: function(t3) {
          var e3 = d(this.a, function(e4) {
            return e4[0] === t3;
          });
          return ~e3 && this.a.splice(e3, 1), !!~e3;
        } }, t2.exports = { getConstructor: function(t3, e3, n3, o2) {
          var c2 = t3(function(t4, r3) {
            u(t4, c2, e3, "_i"), t4._t = e3, t4._i = p++, t4._l = void 0, r3 != null && s(r3, n3, t4[o2], t4);
          });
          return r2(c2.prototype, { delete: function(t4) {
            if (!a(t4))
              return false;
            var n4 = i(t4);
            return n4 === true ? v(l(this, e3)).delete(t4) : n4 && f(n4, this._i) && delete n4[this._i];
          }, has: function(t4) {
            if (!a(t4))
              return false;
            var n4 = i(t4);
            return n4 === true ? v(l(this, e3)).has(t4) : n4 && f(n4, this._i);
          } }), c2;
        }, def: function(t3, e3, n3) {
          var r3 = i(o(e3), true);
          return r3 === true ? v(t3).set(e3, n3) : r3[t3._i] = n3, t3;
        }, ufstore: v };
      }, 859: (t2, e2, n2) => {
        var r2 = n2(7571), i = n2(7044), o = n2(6476), a = n2(8565), u = n2(4278), s = n2(9822), c = n2(6903), f = n2(1255), l = n2(5338), h = n2(2803), d = n2(5837), p = n2(116);
        t2.exports = function(t3, e3, n3, v, g, y) {
          var m = r2[t3], b = m, _ = g ? "set" : "add", x = b && b.prototype, w = {}, E = function(t4) {
            var e4 = x[t4];
            o(x, t4, t4 == "delete" || t4 == "has" ? function(t5) {
              return !(y && !f(t5)) && e4.call(this, t5 === 0 ? 0 : t5);
            } : t4 == "get" ? function(t5) {
              return y && !f(t5) ? void 0 : e4.call(this, t5 === 0 ? 0 : t5);
            } : t4 == "add" ? function(t5) {
              return e4.call(this, t5 === 0 ? 0 : t5), this;
            } : function(t5, n4) {
              return e4.call(this, t5 === 0 ? 0 : t5, n4), this;
            });
          };
          if (typeof b == "function" && (y || x.forEach && !l(function() {
            new b().entries().next();
          }))) {
            var S = new b(), A = S[_](y ? {} : -0, 1) != S, T = l(function() {
              S.has(1);
            }), I = h(function(t4) {
              new b(t4);
            }), C = !y && l(function() {
              for (var t4 = new b(), e4 = 5; e4--; )
                t4[_](e4, e4);
              return !t4.has(-0);
            });
            I || ((b = e3(function(e4, n4) {
              c(e4, b, t3);
              var r3 = p(new m(), e4, b);
              return n4 != null && s(n4, g, r3[_], r3), r3;
            })).prototype = x, x.constructor = b), (T || C) && (E("delete"), E("has"), g && E("get")), (C || A) && E(_), y && x.clear && delete x.clear;
          } else
            b = v.getConstructor(e3, t3, g, _), a(b.prototype, n3), u.NEED = true;
          return d(b, t3), w[t3] = b, i(i.G + i.W + i.F * (b != m), w), y || v.setStrong(b, t3, g), b;
        };
      }, 2845: (t2) => {
        var e2 = t2.exports = { version: "2.6.12" };
        typeof __e == "number" && (__e = e2);
      }, 1395: (t2, e2, n2) => {
        var r2 = n2(3886), i = n2(8328);
        t2.exports = function(t3, e3, n3) {
          e3 in t3 ? r2.f(t3, e3, i(0, n3)) : t3[e3] = n3;
        };
      }, 994: (t2, e2, n2) => {
        var r2 = n2(1464);
        t2.exports = function(t3, e3, n3) {
          if (r2(t3), e3 === void 0)
            return t3;
          switch (n3) {
            case 1:
              return function(n4) {
                return t3.call(e3, n4);
              };
            case 2:
              return function(n4, r3) {
                return t3.call(e3, n4, r3);
              };
            case 3:
              return function(n4, r3, i) {
                return t3.call(e3, n4, r3, i);
              };
          }
          return function() {
            return t3.apply(e3, arguments);
          };
        };
      }, 4506: (t2, e2, n2) => {
        var r2 = n2(5338), i = Date.prototype.getTime, o = Date.prototype.toISOString, a = function(t3) {
          return t3 > 9 ? t3 : "0" + t3;
        };
        t2.exports = r2(function() {
          return o.call(new Date(-50000000000001)) != "0385-07-25T07:06:39.999Z";
        }) || !r2(function() {
          o.call(new Date(NaN));
        }) ? function() {
          if (!isFinite(i.call(this)))
            throw RangeError("Invalid time value");
          var t3 = this, e3 = t3.getUTCFullYear(), n3 = t3.getUTCMilliseconds(), r3 = e3 < 0 ? "-" : e3 > 9999 ? "+" : "";
          return r3 + ("00000" + Math.abs(e3)).slice(r3 ? -6 : -4) + "-" + a(t3.getUTCMonth() + 1) + "-" + a(t3.getUTCDate()) + "T" + a(t3.getUTCHours()) + ":" + a(t3.getUTCMinutes()) + ":" + a(t3.getUTCSeconds()) + "." + (n3 > 99 ? n3 : "0" + a(n3)) + "Z";
        } : o;
      }, 9514: (t2, e2, n2) => {
        var r2 = n2(486), i = n2(4467), o = "number";
        t2.exports = function(t3) {
          if (t3 !== "string" && t3 !== o && t3 !== "default")
            throw TypeError("Incorrect hint");
          return i(r2(this), t3 != o);
        };
      }, 5091: (t2) => {
        t2.exports = function(t3) {
          if (t3 == null)
            throw TypeError("Can't call method on  " + t3);
          return t3;
        };
      }, 1216: (t2, e2, n2) => {
        t2.exports = !n2(5338)(function() {
          return Object.defineProperty({}, "a", { get: function() {
            return 7;
          } }).a != 7;
        });
      }, 3438: (t2, e2, n2) => {
        var r2 = n2(1255), i = n2(7571).document, o = r2(i) && r2(i.createElement);
        t2.exports = function(t3) {
          return o ? i.createElement(t3) : {};
        };
      }, 9824: (t2) => {
        t2.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");
      }, 6397: (t2, e2, n2) => {
        var r2 = n2(9804), i = n2(3844), o = n2(4179);
        t2.exports = function(t3) {
          var e3 = r2(t3), n3 = i.f;
          if (n3)
            for (var a, u = n3(t3), s = o.f, c = 0; u.length > c; )
              s.call(t3, a = u[c++]) && e3.push(a);
          return e3;
        };
      }, 7044: (t2, e2, n2) => {
        var r2 = n2(7571), i = n2(2845), o = n2(913), a = n2(6476), u = n2(994), s = function(t3, e3, n3) {
          var c, f, l, h, d = t3 & s.F, p = t3 & s.G, v = t3 & s.S, g = t3 & s.P, y = t3 & s.B, m = p ? r2 : v ? r2[e3] || (r2[e3] = {}) : (r2[e3] || {}).prototype, b = p ? i : i[e3] || (i[e3] = {}), _ = b.prototype || (b.prototype = {});
          for (c in p && (n3 = e3), n3)
            l = ((f = !d && m && m[c] !== void 0) ? m : n3)[c], h = y && f ? u(l, r2) : g && typeof l == "function" ? u(Function.call, l) : l, m && a(m, c, l, t3 & s.U), b[c] != l && o(b, c, h), g && _[c] != l && (_[c] = l);
        };
        r2.core = i, s.F = 1, s.G = 2, s.S = 4, s.P = 8, s.B = 16, s.W = 32, s.U = 64, s.R = 128, t2.exports = s;
      }, 2910: (t2, e2, n2) => {
        var r2 = n2(341)("match");
        t2.exports = function(t3) {
          var e3 = /./;
          try {
            "/./"[t3](e3);
          } catch (n3) {
            try {
              return e3[r2] = false, !"/./"[t3](e3);
            } catch (t4) {
            }
          }
          return true;
        };
      }, 5338: (t2) => {
        t2.exports = function(t3) {
          try {
            return !!t3();
          } catch (t4) {
            return true;
          }
        };
      }, 6719: (t2, e2, n2) => {
        n2(7139);
        var r2 = n2(6476), i = n2(913), o = n2(5338), a = n2(5091), u = n2(341), s = n2(9020), c = u("species"), f = !o(function() {
          var t3 = /./;
          return t3.exec = function() {
            var t4 = [];
            return t4.groups = { a: "7" }, t4;
          }, "".replace(t3, "$<a>") !== "7";
        }), l = function() {
          var t3 = /(?:)/, e3 = t3.exec;
          t3.exec = function() {
            return e3.apply(this, arguments);
          };
          var n3 = "ab".split(t3);
          return n3.length === 2 && n3[0] === "a" && n3[1] === "b";
        }();
        t2.exports = function(t3, e3, n3) {
          var h = u(t3), d = !o(function() {
            var e4 = {};
            return e4[h] = function() {
              return 7;
            }, ""[t3](e4) != 7;
          }), p = d ? !o(function() {
            var e4 = false, n4 = /a/;
            return n4.exec = function() {
              return e4 = true, null;
            }, t3 === "split" && (n4.constructor = {}, n4.constructor[c] = function() {
              return n4;
            }), n4[h](""), !e4;
          }) : void 0;
          if (!d || !p || t3 === "replace" && !f || t3 === "split" && !l) {
            var v = /./[h], g = n3(a, h, ""[t3], function(t4, e4, n4, r3, i2) {
              return e4.exec === s ? d && !i2 ? { done: true, value: v.call(e4, n4, r3) } : { done: true, value: t4.call(n4, e4, r3) } : { done: false };
            }), y = g[0], m = g[1];
            r2(String.prototype, t3, y), i(RegExp.prototype, h, e3 == 2 ? function(t4, e4) {
              return m.call(t4, this, e4);
            } : function(t4) {
              return m.call(t4, this);
            });
          }
        };
      }, 3649: (t2, e2, n2) => {
        var r2 = n2(486);
        t2.exports = function() {
          var t3 = r2(this), e3 = "";
          return t3.global && (e3 += "g"), t3.ignoreCase && (e3 += "i"), t3.multiline && (e3 += "m"), t3.unicode && (e3 += "u"), t3.sticky && (e3 += "y"), e3;
        };
      }, 6806: (t2, e2, n2) => {
        var r2 = n2(7183), i = n2(1255), o = n2(8087), a = n2(994), u = n2(341)("isConcatSpreadable");
        t2.exports = function t3(e3, n3, s, c, f, l, h, d) {
          for (var p, v, g = f, y = 0, m = !!h && a(h, d, 3); y < c; ) {
            if (y in s) {
              if (p = m ? m(s[y], y, n3) : s[y], v = false, i(p) && (v = (v = p[u]) !== void 0 ? !!v : r2(p)), v && l > 0)
                g = t3(e3, n3, p, o(p.length), g, l - 1) - 1;
              else {
                if (g >= 9007199254740991)
                  throw TypeError();
                e3[g] = p;
              }
              g++;
            }
            y++;
          }
          return g;
        };
      }, 9822: (t2, e2, n2) => {
        var r2 = n2(994), i = n2(4902), o = n2(9981), a = n2(486), u = n2(8087), s = n2(9685), c = {}, f = {}, l = t2.exports = function(t3, e3, n3, l2, h) {
          var d, p, v, g, y = h ? function() {
            return t3;
          } : s(t3), m = r2(n3, l2, e3 ? 2 : 1), b = 0;
          if (typeof y != "function")
            throw TypeError(t3 + " is not iterable!");
          if (o(y)) {
            for (d = u(t3.length); d > b; b++)
              if ((g = e3 ? m(a(p = t3[b])[0], p[1]) : m(t3[b])) === c || g === f)
                return g;
          } else
            for (v = y.call(t3); !(p = v.next()).done; )
              if ((g = i(v, m, p.value, e3)) === c || g === f)
                return g;
        };
        l.BREAK = c, l.RETURN = f;
      }, 8454: (t2, e2, n2) => {
        t2.exports = n2(5570)("native-function-to-string", Function.toString);
      }, 7571: (t2) => {
        var e2 = t2.exports = typeof window != "undefined" && window.Math == Math ? window : typeof self != "undefined" && self.Math == Math ? self : Function("return this")();
        typeof __g == "number" && (__g = e2);
      }, 7384: (t2) => {
        var e2 = {}.hasOwnProperty;
        t2.exports = function(t3, n2) {
          return e2.call(t3, n2);
        };
      }, 913: (t2, e2, n2) => {
        var r2 = n2(3886), i = n2(8328);
        t2.exports = n2(1216) ? function(t3, e3, n3) {
          return r2.f(t3, e3, i(1, n3));
        } : function(t3, e3, n3) {
          return t3[e3] = n3, t3;
        };
      }, 7680: (t2, e2, n2) => {
        var r2 = n2(7571).document;
        t2.exports = r2 && r2.documentElement;
      }, 6252: (t2, e2, n2) => {
        t2.exports = !n2(1216) && !n2(5338)(function() {
          return Object.defineProperty(n2(3438)("div"), "a", { get: function() {
            return 7;
          } }).a != 7;
        });
      }, 116: (t2, e2, n2) => {
        var r2 = n2(1255), i = n2(473).set;
        t2.exports = function(t3, e3, n3) {
          var o, a = e3.constructor;
          return a !== n3 && typeof a == "function" && (o = a.prototype) !== n3.prototype && r2(o) && i && i(t3, o), t3;
        };
      }, 8262: (t2) => {
        t2.exports = function(t3, e2, n2) {
          var r2 = n2 === void 0;
          switch (e2.length) {
            case 0:
              return r2 ? t3() : t3.call(n2);
            case 1:
              return r2 ? t3(e2[0]) : t3.call(n2, e2[0]);
            case 2:
              return r2 ? t3(e2[0], e2[1]) : t3.call(n2, e2[0], e2[1]);
            case 3:
              return r2 ? t3(e2[0], e2[1], e2[2]) : t3.call(n2, e2[0], e2[1], e2[2]);
            case 4:
              return r2 ? t3(e2[0], e2[1], e2[2], e2[3]) : t3.call(n2, e2[0], e2[1], e2[2], e2[3]);
          }
          return t3.apply(n2, e2);
        };
      }, 8579: (t2, e2, n2) => {
        var r2 = n2(1669);
        t2.exports = Object("z").propertyIsEnumerable(0) ? Object : function(t3) {
          return r2(t3) == "String" ? t3.split("") : Object(t3);
        };
      }, 9981: (t2, e2, n2) => {
        var r2 = n2(9740), i = n2(341)("iterator"), o = Array.prototype;
        t2.exports = function(t3) {
          return t3 !== void 0 && (r2.Array === t3 || o[i] === t3);
        };
      }, 7183: (t2, e2, n2) => {
        var r2 = n2(1669);
        t2.exports = Array.isArray || function(t3) {
          return r2(t3) == "Array";
        };
      }, 1272: (t2, e2, n2) => {
        var r2 = n2(1255), i = Math.floor;
        t2.exports = function(t3) {
          return !r2(t3) && isFinite(t3) && i(t3) === t3;
        };
      }, 1255: (t2) => {
        t2.exports = function(t3) {
          return typeof t3 == "object" ? t3 !== null : typeof t3 == "function";
        };
      }, 8990: (t2, e2, n2) => {
        var r2 = n2(1255), i = n2(1669), o = n2(341)("match");
        t2.exports = function(t3) {
          var e3;
          return r2(t3) && ((e3 = t3[o]) !== void 0 ? !!e3 : i(t3) == "RegExp");
        };
      }, 4902: (t2, e2, n2) => {
        var r2 = n2(486);
        t2.exports = function(t3, e3, n3, i) {
          try {
            return i ? e3(r2(n3)[0], n3[1]) : e3(n3);
          } catch (e4) {
            var o = t3.return;
            throw o !== void 0 && r2(o.call(t3)), e4;
          }
        };
      }, 4529: (t2, e2, n2) => {
        var r2 = n2(9055), i = n2(8328), o = n2(5837), a = {};
        n2(913)(a, n2(341)("iterator"), function() {
          return this;
        }), t2.exports = function(t3, e3, n3) {
          t3.prototype = r2(a, { next: i(1, n3) }), o(t3, e3 + " Iterator");
        };
      }, 966: (t2, e2, n2) => {
        var r2 = n2(2725), i = n2(7044), o = n2(6476), a = n2(913), u = n2(9740), s = n2(4529), c = n2(5837), f = n2(9881), l = n2(341)("iterator"), h = !([].keys && "next" in [].keys()), d = "keys", p = "values", v = function() {
          return this;
        };
        t2.exports = function(t3, e3, n3, g, y, m, b) {
          s(n3, e3, g);
          var _, x, w, E = function(t4) {
            if (!h && t4 in I)
              return I[t4];
            switch (t4) {
              case d:
              case p:
                return function() {
                  return new n3(this, t4);
                };
            }
            return function() {
              return new n3(this, t4);
            };
          }, S = e3 + " Iterator", A = y == p, T = false, I = t3.prototype, C = I[l] || I["@@iterator"] || y && I[y], D = C || E(y), N = y ? A ? E("entries") : D : void 0, k = e3 == "Array" && I.entries || C;
          if (k && (w = f(k.call(new t3()))) !== Object.prototype && w.next && (c(w, S, true), r2 || typeof w[l] == "function" || a(w, l, v)), A && C && C.name !== p && (T = true, D = function() {
            return C.call(this);
          }), r2 && !b || !h && !T && I[l] || a(I, l, D), u[e3] = D, u[S] = v, y)
            if (_ = { values: A ? D : E(p), keys: m ? D : E(d), entries: N }, b)
              for (x in _)
                x in I || o(I, x, _[x]);
            else
              i(i.P + i.F * (h || T), e3, _);
          return _;
        };
      }, 2803: (t2, e2, n2) => {
        var r2 = n2(341)("iterator"), i = false;
        try {
          var o = [7][r2]();
          o.return = function() {
            i = true;
          }, Array.from(o, function() {
            throw 2;
          });
        } catch (t3) {
        }
        t2.exports = function(t3, e3) {
          if (!e3 && !i)
            return false;
          var n3 = false;
          try {
            var o2 = [7], a = o2[r2]();
            a.next = function() {
              return { done: n3 = true };
            }, o2[r2] = function() {
              return a;
            }, t3(o2);
          } catch (t4) {
          }
          return n3;
        };
      }, 8782: (t2) => {
        t2.exports = function(t3, e2) {
          return { value: e2, done: !!t3 };
        };
      }, 9740: (t2) => {
        t2.exports = {};
      }, 2725: (t2) => {
        t2.exports = false;
      }, 959: (t2) => {
        var e2 = Math.expm1;
        t2.exports = !e2 || e2(10) > 22025.465794806718 || e2(10) < 22025.465794806718 || e2(-2e-17) != -2e-17 ? function(t3) {
          return (t3 = +t3) == 0 ? t3 : t3 > -1e-6 && t3 < 1e-6 ? t3 + t3 * t3 / 2 : Math.exp(t3) - 1;
        } : e2;
      }, 7682: (t2, e2, n2) => {
        var r2 = n2(2987), i = Math.pow, o = i(2, -52), a = i(2, -23), u = i(2, 127) * (2 - a), s = i(2, -126);
        t2.exports = Math.fround || function(t3) {
          var e3, n3, i2 = Math.abs(t3), c = r2(t3);
          return i2 < s ? c * (i2 / s / a + 1 / o - 1 / o) * s * a : (n3 = (e3 = (1 + a / o) * i2) - (e3 - i2)) > u || n3 != n3 ? c * (1 / 0) : c * n3;
        };
      }, 1618: (t2) => {
        t2.exports = Math.log1p || function(t3) {
          return (t3 = +t3) > -1e-8 && t3 < 1e-8 ? t3 - t3 * t3 / 2 : Math.log(1 + t3);
        };
      }, 2987: (t2) => {
        t2.exports = Math.sign || function(t3) {
          return (t3 = +t3) == 0 || t3 != t3 ? t3 : t3 < 0 ? -1 : 1;
        };
      }, 4278: (t2, e2, n2) => {
        var r2 = n2(4316)("meta"), i = n2(1255), o = n2(7384), a = n2(3886).f, u = 0, s = Object.isExtensible || function() {
          return true;
        }, c = !n2(5338)(function() {
          return s(Object.preventExtensions({}));
        }), f = function(t3) {
          a(t3, r2, { value: { i: "O" + ++u, w: {} } });
        }, l = t2.exports = { KEY: r2, NEED: false, fastKey: function(t3, e3) {
          if (!i(t3))
            return typeof t3 == "symbol" ? t3 : (typeof t3 == "string" ? "S" : "P") + t3;
          if (!o(t3, r2)) {
            if (!s(t3))
              return "F";
            if (!e3)
              return "E";
            f(t3);
          }
          return t3[r2].i;
        }, getWeak: function(t3, e3) {
          if (!o(t3, r2)) {
            if (!s(t3))
              return true;
            if (!e3)
              return false;
            f(t3);
          }
          return t3[r2].w;
        }, onFreeze: function(t3) {
          return c && l.NEED && s(t3) && !o(t3, r2) && f(t3), t3;
        } };
      }, 7485: (t2, e2, n2) => {
        var r2 = n2(7571), i = n2(7225).set, o = r2.MutationObserver || r2.WebKitMutationObserver, a = r2.process, u = r2.Promise, s = n2(1669)(a) == "process";
        t2.exports = function() {
          var t3, e3, n3, c = function() {
            var r3, i2;
            for (s && (r3 = a.domain) && r3.exit(); t3; ) {
              i2 = t3.fn, t3 = t3.next;
              try {
                i2();
              } catch (r4) {
                throw t3 ? n3() : e3 = void 0, r4;
              }
            }
            e3 = void 0, r3 && r3.enter();
          };
          if (s)
            n3 = function() {
              a.nextTick(c);
            };
          else if (!o || r2.navigator && r2.navigator.standalone)
            if (u && u.resolve) {
              var f = u.resolve(void 0);
              n3 = function() {
                f.then(c);
              };
            } else
              n3 = function() {
                i.call(r2, c);
              };
          else {
            var l = true, h = document.createTextNode("");
            new o(c).observe(h, { characterData: true }), n3 = function() {
              h.data = l = !l;
            };
          }
          return function(r3) {
            var i2 = { fn: r3, next: void 0 };
            e3 && (e3.next = i2), t3 || (t3 = i2, n3()), e3 = i2;
          };
        };
      }, 449: (t2, e2, n2) => {
        var r2 = n2(1464);
        function i(t3) {
          var e3, n3;
          this.promise = new t3(function(t4, r3) {
            if (e3 !== void 0 || n3 !== void 0)
              throw TypeError("Bad Promise constructor");
            e3 = t4, n3 = r3;
          }), this.resolve = r2(e3), this.reject = r2(n3);
        }
        t2.exports.f = function(t3) {
          return new i(t3);
        };
      }, 4643: (t2, e2, n2) => {
        var r2 = n2(1216), i = n2(9804), o = n2(3844), a = n2(4179), u = n2(7583), s = n2(8579), c = Object.assign;
        t2.exports = !c || n2(5338)(function() {
          var t3 = {}, e3 = {}, n3 = Symbol(), r3 = "abcdefghijklmnopqrst";
          return t3[n3] = 7, r3.split("").forEach(function(t4) {
            e3[t4] = t4;
          }), c({}, t3)[n3] != 7 || Object.keys(c({}, e3)).join("") != r3;
        }) ? function(t3, e3) {
          for (var n3 = u(t3), c2 = arguments.length, f = 1, l = o.f, h = a.f; c2 > f; )
            for (var d, p = s(arguments[f++]), v = l ? i(p).concat(l(p)) : i(p), g = v.length, y = 0; g > y; )
              d = v[y++], r2 && !h.call(p, d) || (n3[d] = p[d]);
          return n3;
        } : c;
      }, 9055: (t2, e2, n2) => {
        var r2 = n2(486), i = n2(6283), o = n2(9824), a = n2(3574)("IE_PROTO"), u = function() {
        }, s = function() {
          var t3, e3 = n2(3438)("iframe"), r3 = o.length;
          for (e3.style.display = "none", n2(7680).appendChild(e3), e3.src = "javascript:", (t3 = e3.contentWindow.document).open(), t3.write("<script>document.F=Object<\/script>"), t3.close(), s = t3.F; r3--; )
            delete s.prototype[o[r3]];
          return s();
        };
        t2.exports = Object.create || function(t3, e3) {
          var n3;
          return t3 !== null ? (u.prototype = r2(t3), n3 = new u(), u.prototype = null, n3[a] = t3) : n3 = s(), e3 === void 0 ? n3 : i(n3, e3);
        };
      }, 3886: (t2, e2, n2) => {
        var r2 = n2(486), i = n2(6252), o = n2(4467), a = Object.defineProperty;
        e2.f = n2(1216) ? Object.defineProperty : function(t3, e3, n3) {
          if (r2(t3), e3 = o(e3, true), r2(n3), i)
            try {
              return a(t3, e3, n3);
            } catch (t4) {
            }
          if ("get" in n3 || "set" in n3)
            throw TypeError("Accessors not supported!");
          return "value" in n3 && (t3[e3] = n3.value), t3;
        };
      }, 6283: (t2, e2, n2) => {
        var r2 = n2(3886), i = n2(486), o = n2(9804);
        t2.exports = n2(1216) ? Object.defineProperties : function(t3, e3) {
          i(t3);
          for (var n3, a = o(e3), u = a.length, s = 0; u > s; )
            r2.f(t3, n3 = a[s++], e3[n3]);
          return t3;
        };
      }, 5385: (t2, e2, n2) => {
        var r2 = n2(4179), i = n2(8328), o = n2(8182), a = n2(4467), u = n2(7384), s = n2(6252), c = Object.getOwnPropertyDescriptor;
        e2.f = n2(1216) ? c : function(t3, e3) {
          if (t3 = o(t3), e3 = a(e3, true), s)
            try {
              return c(t3, e3);
            } catch (t4) {
            }
          if (u(t3, e3))
            return i(!r2.f.call(t3, e3), t3[e3]);
        };
      }, 3473: (t2, e2, n2) => {
        var r2 = n2(8182), i = n2(6907).f, o = {}.toString, a = typeof window == "object" && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];
        t2.exports.f = function(t3) {
          return a && o.call(t3) == "[object Window]" ? function(t4) {
            try {
              return i(t4);
            } catch (t5) {
              return a.slice();
            }
          }(t3) : i(r2(t3));
        };
      }, 6907: (t2, e2, n2) => {
        var r2 = n2(946), i = n2(9824).concat("length", "prototype");
        e2.f = Object.getOwnPropertyNames || function(t3) {
          return r2(t3, i);
        };
      }, 3844: (t2, e2) => {
        e2.f = Object.getOwnPropertySymbols;
      }, 9881: (t2, e2, n2) => {
        var r2 = n2(7384), i = n2(7583), o = n2(3574)("IE_PROTO"), a = Object.prototype;
        t2.exports = Object.getPrototypeOf || function(t3) {
          return t3 = i(t3), r2(t3, o) ? t3[o] : typeof t3.constructor == "function" && t3 instanceof t3.constructor ? t3.constructor.prototype : t3 instanceof Object ? a : null;
        };
      }, 946: (t2, e2, n2) => {
        var r2 = n2(7384), i = n2(8182), o = n2(4538)(false), a = n2(3574)("IE_PROTO");
        t2.exports = function(t3, e3) {
          var n3, u = i(t3), s = 0, c = [];
          for (n3 in u)
            n3 != a && r2(u, n3) && c.push(n3);
          for (; e3.length > s; )
            r2(u, n3 = e3[s++]) && (~o(c, n3) || c.push(n3));
          return c;
        };
      }, 9804: (t2, e2, n2) => {
        var r2 = n2(946), i = n2(9824);
        t2.exports = Object.keys || function(t3) {
          return r2(t3, i);
        };
      }, 4179: (t2, e2) => {
        e2.f = {}.propertyIsEnumerable;
      }, 381: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(2845), o = n2(5338);
        t2.exports = function(t3, e3) {
          var n3 = (i.Object || {})[t3] || Object[t3], a = {};
          a[t3] = e3(n3), r2(r2.S + r2.F * o(function() {
            n3(1);
          }), "Object", a);
        };
      }, 6460: (t2, e2, n2) => {
        var r2 = n2(1216), i = n2(9804), o = n2(8182), a = n2(4179).f;
        t2.exports = function(t3) {
          return function(e3) {
            for (var n3, u = o(e3), s = i(u), c = s.length, f = 0, l = []; c > f; )
              n3 = s[f++], r2 && !a.call(u, n3) || l.push(t3 ? [n3, u[n3]] : u[n3]);
            return l;
          };
        };
      }, 8125: (t2, e2, n2) => {
        var r2 = n2(6907), i = n2(3844), o = n2(486), a = n2(7571).Reflect;
        t2.exports = a && a.ownKeys || function(t3) {
          var e3 = r2.f(o(t3)), n3 = i.f;
          return n3 ? e3.concat(n3(t3)) : e3;
        };
      }, 1885: (t2, e2, n2) => {
        var r2 = n2(7571).parseFloat, i = n2(4961).trim;
        t2.exports = 1 / r2(n2(1644) + "-0") != -1 / 0 ? function(t3) {
          var e3 = i(String(t3), 3), n3 = r2(e3);
          return n3 === 0 && e3.charAt(0) == "-" ? -0 : n3;
        } : r2;
      }, 343: (t2, e2, n2) => {
        var r2 = n2(7571).parseInt, i = n2(4961).trim, o = n2(1644), a = /^[-+]?0[xX]/;
        t2.exports = r2(o + "08") !== 8 || r2(o + "0x16") !== 22 ? function(t3, e3) {
          var n3 = i(String(t3), 3);
          return r2(n3, e3 >>> 0 || (a.test(n3) ? 16 : 10));
        } : r2;
      }, 9696: (t2) => {
        t2.exports = function(t3) {
          try {
            return { e: false, v: t3() };
          } catch (t4) {
            return { e: true, v: t4 };
          }
        };
      }, 909: (t2, e2, n2) => {
        var r2 = n2(486), i = n2(1255), o = n2(449);
        t2.exports = function(t3, e3) {
          if (r2(t3), i(e3) && e3.constructor === t3)
            return e3;
          var n3 = o.f(t3);
          return (0, n3.resolve)(e3), n3.promise;
        };
      }, 8328: (t2) => {
        t2.exports = function(t3, e2) {
          return { enumerable: !(1 & t3), configurable: !(2 & t3), writable: !(4 & t3), value: e2 };
        };
      }, 8565: (t2, e2, n2) => {
        var r2 = n2(6476);
        t2.exports = function(t3, e3, n3) {
          for (var i in e3)
            r2(t3, i, e3[i], n3);
          return t3;
        };
      }, 6476: (t2, e2, n2) => {
        var r2 = n2(7571), i = n2(913), o = n2(7384), a = n2(4316)("src"), u = n2(8454), s = "toString", c = ("" + u).split(s);
        n2(2845).inspectSource = function(t3) {
          return u.call(t3);
        }, (t2.exports = function(t3, e3, n3, u2) {
          var s2 = typeof n3 == "function";
          s2 && (o(n3, "name") || i(n3, "name", e3)), t3[e3] !== n3 && (s2 && (o(n3, a) || i(n3, a, t3[e3] ? "" + t3[e3] : c.join(String(e3)))), t3 === r2 ? t3[e3] = n3 : u2 ? t3[e3] ? t3[e3] = n3 : i(t3, e3, n3) : (delete t3[e3], i(t3, e3, n3)));
        })(Function.prototype, s, function() {
          return typeof this == "function" && this[a] || u.call(this);
        });
      }, 2968: (t2, e2, n2) => {
        var r2 = n2(4939), i = RegExp.prototype.exec;
        t2.exports = function(t3, e3) {
          var n3 = t3.exec;
          if (typeof n3 == "function") {
            var o = n3.call(t3, e3);
            if (typeof o != "object")
              throw new TypeError("RegExp exec method returned something other than an Object or null");
            return o;
          }
          if (r2(t3) !== "RegExp")
            throw new TypeError("RegExp#exec called on incompatible receiver");
          return i.call(t3, e3);
        };
      }, 9020: (t2, e2, n2) => {
        var r2, i, o = n2(3649), a = RegExp.prototype.exec, u = String.prototype.replace, s = a, c = (r2 = /a/, i = /b*/g, a.call(r2, "a"), a.call(i, "a"), r2.lastIndex !== 0 || i.lastIndex !== 0), f = /()??/.exec("")[1] !== void 0;
        (c || f) && (s = function(t3) {
          var e3, n3, r3, i2, s2 = this;
          return f && (n3 = new RegExp("^" + s2.source + "$(?!\\s)", o.call(s2))), c && (e3 = s2.lastIndex), r3 = a.call(s2, t3), c && r3 && (s2.lastIndex = s2.global ? r3.index + r3[0].length : e3), f && r3 && r3.length > 1 && u.call(r3[0], n3, function() {
            for (i2 = 1; i2 < arguments.length - 2; i2++)
              arguments[i2] === void 0 && (r3[i2] = void 0);
          }), r3;
        }), t2.exports = s;
      }, 6962: (t2) => {
        t2.exports = Object.is || function(t3, e2) {
          return t3 === e2 ? t3 !== 0 || 1 / t3 == 1 / e2 : t3 != t3 && e2 != e2;
        };
      }, 473: (t2, e2, n2) => {
        var r2 = n2(1255), i = n2(486), o = function(t3, e3) {
          if (i(t3), !r2(e3) && e3 !== null)
            throw TypeError(e3 + ": can't set as prototype!");
        };
        t2.exports = { set: Object.setPrototypeOf || ("__proto__" in {} ? function(t3, e3, r3) {
          try {
            (r3 = n2(994)(Function.call, n2(5385).f(Object.prototype, "__proto__").set, 2))(t3, []), e3 = !(t3 instanceof Array);
          } catch (t4) {
            e3 = true;
          }
          return function(t4, n3) {
            return o(t4, n3), e3 ? t4.__proto__ = n3 : r3(t4, n3), t4;
          };
        }({}, false) : void 0), check: o };
      }, 4412: (t2, e2, n2) => {
        var r2 = n2(7571), i = n2(3886), o = n2(1216), a = n2(341)("species");
        t2.exports = function(t3) {
          var e3 = r2[t3];
          o && e3 && !e3[a] && i.f(e3, a, { configurable: true, get: function() {
            return this;
          } });
        };
      }, 5837: (t2, e2, n2) => {
        var r2 = n2(3886).f, i = n2(7384), o = n2(341)("toStringTag");
        t2.exports = function(t3, e3, n3) {
          t3 && !i(t3 = n3 ? t3 : t3.prototype, o) && r2(t3, o, { configurable: true, value: e3 });
        };
      }, 3574: (t2, e2, n2) => {
        var r2 = n2(5570)("keys"), i = n2(4316);
        t2.exports = function(t3) {
          return r2[t3] || (r2[t3] = i(t3));
        };
      }, 5570: (t2, e2, n2) => {
        var r2 = n2(2845), i = n2(7571), o = "__core-js_shared__", a = i[o] || (i[o] = {});
        (t2.exports = function(t3, e3) {
          return a[t3] || (a[t3] = e3 !== void 0 ? e3 : {});
        })("versions", []).push({ version: r2.version, mode: n2(2725) ? "pure" : "global", copyright: "\xA9 2020 Denis Pushkarev (zloirock.ru)" });
      }, 8713: (t2, e2, n2) => {
        var r2 = n2(486), i = n2(1464), o = n2(341)("species");
        t2.exports = function(t3, e3) {
          var n3, a = r2(t3).constructor;
          return a === void 0 || (n3 = r2(a)[o]) == null ? e3 : i(n3);
        };
      }, 5296: (t2, e2, n2) => {
        var r2 = n2(5338);
        t2.exports = function(t3, e3) {
          return !!t3 && r2(function() {
            e3 ? t3.call(null, function() {
            }, 1) : t3.call(null);
          });
        };
      }, 8016: (t2, e2, n2) => {
        var r2 = n2(5845), i = n2(5091);
        t2.exports = function(t3) {
          return function(e3, n3) {
            var o, a, u = String(i(e3)), s = r2(n3), c = u.length;
            return s < 0 || s >= c ? t3 ? "" : void 0 : (o = u.charCodeAt(s)) < 55296 || o > 56319 || s + 1 === c || (a = u.charCodeAt(s + 1)) < 56320 || a > 57343 ? t3 ? u.charAt(s) : o : t3 ? u.slice(s, s + 2) : a - 56320 + (o - 55296 << 10) + 65536;
          };
        };
      }, 5692: (t2, e2, n2) => {
        var r2 = n2(8990), i = n2(5091);
        t2.exports = function(t3, e3, n3) {
          if (r2(e3))
            throw TypeError("String#" + n3 + " doesn't accept regex!");
          return String(i(t3));
        };
      }, 5264: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(5338), o = n2(5091), a = /"/g, u = function(t3, e3, n3, r3) {
          var i2 = String(o(t3)), u2 = "<" + e3;
          return n3 !== "" && (u2 += " " + n3 + '="' + String(r3).replace(a, "&quot;") + '"'), u2 + ">" + i2 + "</" + e3 + ">";
        };
        t2.exports = function(t3, e3) {
          var n3 = {};
          n3[t3] = e3(u), r2(r2.P + r2.F * i(function() {
            var e4 = ""[t3]('"');
            return e4 !== e4.toLowerCase() || e4.split('"').length > 3;
          }), "String", n3);
        };
      }, 8261: (t2, e2, n2) => {
        var r2 = n2(8087), i = n2(5458), o = n2(5091);
        t2.exports = function(t3, e3, n3, a) {
          var u = String(o(t3)), s = u.length, c = n3 === void 0 ? " " : String(n3), f = r2(e3);
          if (f <= s || c == "")
            return u;
          var l = f - s, h = i.call(c, Math.ceil(l / c.length));
          return h.length > l && (h = h.slice(0, l)), a ? h + u : u + h;
        };
      }, 5458: (t2, e2, n2) => {
        var r2 = n2(5845), i = n2(5091);
        t2.exports = function(t3) {
          var e3 = String(i(this)), n3 = "", o = r2(t3);
          if (o < 0 || o == 1 / 0)
            throw RangeError("Count can't be negative");
          for (; o > 0; (o >>>= 1) && (e3 += e3))
            1 & o && (n3 += e3);
          return n3;
        };
      }, 4961: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(5091), o = n2(5338), a = n2(1644), u = "[" + a + "]", s = RegExp("^" + u + u + "*"), c = RegExp(u + u + "*$"), f = function(t3, e3, n3) {
          var i2 = {}, u2 = o(function() {
            return !!a[t3]() || "\u200B\x85"[t3]() != "\u200B\x85";
          }), s2 = i2[t3] = u2 ? e3(l) : a[t3];
          n3 && (i2[n3] = s2), r2(r2.P + r2.F * u2, "String", i2);
        }, l = f.trim = function(t3, e3) {
          return t3 = String(i(t3)), 1 & e3 && (t3 = t3.replace(s, "")), 2 & e3 && (t3 = t3.replace(c, "")), t3;
        };
        t2.exports = f;
      }, 1644: (t2) => {
        t2.exports = "	\n\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF";
      }, 7225: (t2, e2, n2) => {
        var r2, i, o, a = n2(994), u = n2(8262), s = n2(7680), c = n2(3438), f = n2(7571), l = f.process, h = f.setImmediate, d = f.clearImmediate, p = f.MessageChannel, v = f.Dispatch, g = 0, y = {}, m = function() {
          var t3 = +this;
          if (y.hasOwnProperty(t3)) {
            var e3 = y[t3];
            delete y[t3], e3();
          }
        }, b = function(t3) {
          m.call(t3.data);
        };
        h && d || (h = function(t3) {
          for (var e3 = [], n3 = 1; arguments.length > n3; )
            e3.push(arguments[n3++]);
          return y[++g] = function() {
            u(typeof t3 == "function" ? t3 : Function(t3), e3);
          }, r2(g), g;
        }, d = function(t3) {
          delete y[t3];
        }, n2(1669)(l) == "process" ? r2 = function(t3) {
          l.nextTick(a(m, t3, 1));
        } : v && v.now ? r2 = function(t3) {
          v.now(a(m, t3, 1));
        } : p ? (o = (i = new p()).port2, i.port1.onmessage = b, r2 = a(o.postMessage, o, 1)) : f.addEventListener && typeof postMessage == "function" && !f.importScripts ? (r2 = function(t3) {
          f.postMessage(t3 + "", "*");
        }, f.addEventListener("message", b, false)) : r2 = "onreadystatechange" in c("script") ? function(t3) {
          s.appendChild(c("script")).onreadystatechange = function() {
            s.removeChild(this), m.call(t3);
          };
        } : function(t3) {
          setTimeout(a(m, t3, 1), 0);
        }), t2.exports = { set: h, clear: d };
      }, 9260: (t2, e2, n2) => {
        var r2 = n2(5845), i = Math.max, o = Math.min;
        t2.exports = function(t3, e3) {
          return (t3 = r2(t3)) < 0 ? i(t3 + e3, 0) : o(t3, e3);
        };
      }, 5e3: (t2, e2, n2) => {
        var r2 = n2(5845), i = n2(8087);
        t2.exports = function(t3) {
          if (t3 === void 0)
            return 0;
          var e3 = r2(t3), n3 = i(e3);
          if (e3 !== n3)
            throw RangeError("Wrong length!");
          return n3;
        };
      }, 5845: (t2) => {
        var e2 = Math.ceil, n2 = Math.floor;
        t2.exports = function(t3) {
          return isNaN(t3 = +t3) ? 0 : (t3 > 0 ? n2 : e2)(t3);
        };
      }, 8182: (t2, e2, n2) => {
        var r2 = n2(8579), i = n2(5091);
        t2.exports = function(t3) {
          return r2(i(t3));
        };
      }, 8087: (t2, e2, n2) => {
        var r2 = n2(5845), i = Math.min;
        t2.exports = function(t3) {
          return t3 > 0 ? i(r2(t3), 9007199254740991) : 0;
        };
      }, 7583: (t2, e2, n2) => {
        var r2 = n2(5091);
        t2.exports = function(t3) {
          return Object(r2(t3));
        };
      }, 4467: (t2, e2, n2) => {
        var r2 = n2(1255);
        t2.exports = function(t3, e3) {
          if (!r2(t3))
            return t3;
          var n3, i;
          if (e3 && typeof (n3 = t3.toString) == "function" && !r2(i = n3.call(t3)))
            return i;
          if (typeof (n3 = t3.valueOf) == "function" && !r2(i = n3.call(t3)))
            return i;
          if (!e3 && typeof (n3 = t3.toString) == "function" && !r2(i = n3.call(t3)))
            return i;
          throw TypeError("Can't convert object to primitive value");
        };
      }, 1063: (t2, e2, n2) => {
        if (n2(1216)) {
          var r2 = n2(2725), i = n2(7571), o = n2(5338), a = n2(7044), u = n2(604), s = n2(1541), c = n2(994), f = n2(6903), l = n2(8328), h = n2(913), d = n2(8565), p = n2(5845), v = n2(8087), g = n2(5e3), y = n2(9260), m = n2(4467), b = n2(7384), _ = n2(4939), x = n2(1255), w = n2(7583), E = n2(9981), S = n2(9055), A = n2(9881), T = n2(6907).f, I = n2(9685), C = n2(4316), D = n2(341), N = n2(7622), k = n2(4538), R = n2(8713), O = n2(163), M = n2(9740), P = n2(2803), G = n2(4412), L = n2(8676), U = n2(1064), F = n2(3886), B = n2(5385), z = F.f, j = B.f, W = i.RangeError, V = i.TypeError, X = i.Uint8Array, H = "ArrayBuffer", q = "SharedArrayBuffer", Y = "BYTES_PER_ELEMENT", K = Array.prototype, Z = s.ArrayBuffer, $ = s.DataView, J = N(0), Q = N(2), tt = N(3), et = N(4), nt = N(5), rt = N(6), it = k(true), ot = k(false), at = O.values, ut = O.keys, st = O.entries, ct = K.lastIndexOf, ft = K.reduce, lt = K.reduceRight, ht = K.join, dt = K.sort, pt = K.slice, vt = K.toString, gt = K.toLocaleString, yt = D("iterator"), mt = D("toStringTag"), bt = C("typed_constructor"), _t = C("def_constructor"), xt = u.CONSTR, wt = u.TYPED, Et = u.VIEW, St = "Wrong length!", At = N(1, function(t3, e3) {
            return Nt(R(t3, t3[_t]), e3);
          }), Tt = o(function() {
            return new X(new Uint16Array([1]).buffer)[0] === 1;
          }), It = !!X && !!X.prototype.set && o(function() {
            new X(1).set({});
          }), Ct = function(t3, e3) {
            var n3 = p(t3);
            if (n3 < 0 || n3 % e3)
              throw W("Wrong offset!");
            return n3;
          }, Dt = function(t3) {
            if (x(t3) && wt in t3)
              return t3;
            throw V(t3 + " is not a typed array!");
          }, Nt = function(t3, e3) {
            if (!x(t3) || !(bt in t3))
              throw V("It is not a typed array constructor!");
            return new t3(e3);
          }, kt = function(t3, e3) {
            return Rt(R(t3, t3[_t]), e3);
          }, Rt = function(t3, e3) {
            for (var n3 = 0, r3 = e3.length, i2 = Nt(t3, r3); r3 > n3; )
              i2[n3] = e3[n3++];
            return i2;
          }, Ot = function(t3, e3, n3) {
            z(t3, e3, { get: function() {
              return this._d[n3];
            } });
          }, Mt = function(t3) {
            var e3, n3, r3, i2, o2, a2, u2 = w(t3), s2 = arguments.length, f2 = s2 > 1 ? arguments[1] : void 0, l2 = f2 !== void 0, h2 = I(u2);
            if (h2 != null && !E(h2)) {
              for (a2 = h2.call(u2), r3 = [], e3 = 0; !(o2 = a2.next()).done; e3++)
                r3.push(o2.value);
              u2 = r3;
            }
            for (l2 && s2 > 2 && (f2 = c(f2, arguments[2], 2)), e3 = 0, n3 = v(u2.length), i2 = Nt(this, n3); n3 > e3; e3++)
              i2[e3] = l2 ? f2(u2[e3], e3) : u2[e3];
            return i2;
          }, Pt = function() {
            for (var t3 = 0, e3 = arguments.length, n3 = Nt(this, e3); e3 > t3; )
              n3[t3] = arguments[t3++];
            return n3;
          }, Gt = !!X && o(function() {
            gt.call(new X(1));
          }), Lt = function() {
            return gt.apply(Gt ? pt.call(Dt(this)) : Dt(this), arguments);
          }, Ut = { copyWithin: function(t3, e3) {
            return U.call(Dt(this), t3, e3, arguments.length > 2 ? arguments[2] : void 0);
          }, every: function(t3) {
            return et(Dt(this), t3, arguments.length > 1 ? arguments[1] : void 0);
          }, fill: function(t3) {
            return L.apply(Dt(this), arguments);
          }, filter: function(t3) {
            return kt(this, Q(Dt(this), t3, arguments.length > 1 ? arguments[1] : void 0));
          }, find: function(t3) {
            return nt(Dt(this), t3, arguments.length > 1 ? arguments[1] : void 0);
          }, findIndex: function(t3) {
            return rt(Dt(this), t3, arguments.length > 1 ? arguments[1] : void 0);
          }, forEach: function(t3) {
            J(Dt(this), t3, arguments.length > 1 ? arguments[1] : void 0);
          }, indexOf: function(t3) {
            return ot(Dt(this), t3, arguments.length > 1 ? arguments[1] : void 0);
          }, includes: function(t3) {
            return it(Dt(this), t3, arguments.length > 1 ? arguments[1] : void 0);
          }, join: function(t3) {
            return ht.apply(Dt(this), arguments);
          }, lastIndexOf: function(t3) {
            return ct.apply(Dt(this), arguments);
          }, map: function(t3) {
            return At(Dt(this), t3, arguments.length > 1 ? arguments[1] : void 0);
          }, reduce: function(t3) {
            return ft.apply(Dt(this), arguments);
          }, reduceRight: function(t3) {
            return lt.apply(Dt(this), arguments);
          }, reverse: function() {
            for (var t3, e3 = this, n3 = Dt(e3).length, r3 = Math.floor(n3 / 2), i2 = 0; i2 < r3; )
              t3 = e3[i2], e3[i2++] = e3[--n3], e3[n3] = t3;
            return e3;
          }, some: function(t3) {
            return tt(Dt(this), t3, arguments.length > 1 ? arguments[1] : void 0);
          }, sort: function(t3) {
            return dt.call(Dt(this), t3);
          }, subarray: function(t3, e3) {
            var n3 = Dt(this), r3 = n3.length, i2 = y(t3, r3);
            return new (R(n3, n3[_t]))(n3.buffer, n3.byteOffset + i2 * n3.BYTES_PER_ELEMENT, v((e3 === void 0 ? r3 : y(e3, r3)) - i2));
          } }, Ft = function(t3, e3) {
            return kt(this, pt.call(Dt(this), t3, e3));
          }, Bt = function(t3) {
            Dt(this);
            var e3 = Ct(arguments[1], 1), n3 = this.length, r3 = w(t3), i2 = v(r3.length), o2 = 0;
            if (i2 + e3 > n3)
              throw W(St);
            for (; o2 < i2; )
              this[e3 + o2] = r3[o2++];
          }, zt = { entries: function() {
            return st.call(Dt(this));
          }, keys: function() {
            return ut.call(Dt(this));
          }, values: function() {
            return at.call(Dt(this));
          } }, jt = function(t3, e3) {
            return x(t3) && t3[wt] && typeof e3 != "symbol" && e3 in t3 && String(+e3) == String(e3);
          }, Wt = function(t3, e3) {
            return jt(t3, e3 = m(e3, true)) ? l(2, t3[e3]) : j(t3, e3);
          }, Vt = function(t3, e3, n3) {
            return !(jt(t3, e3 = m(e3, true)) && x(n3) && b(n3, "value")) || b(n3, "get") || b(n3, "set") || n3.configurable || b(n3, "writable") && !n3.writable || b(n3, "enumerable") && !n3.enumerable ? z(t3, e3, n3) : (t3[e3] = n3.value, t3);
          };
          xt || (B.f = Wt, F.f = Vt), a(a.S + a.F * !xt, "Object", { getOwnPropertyDescriptor: Wt, defineProperty: Vt }), o(function() {
            vt.call({});
          }) && (vt = gt = function() {
            return ht.call(this);
          });
          var Xt = d({}, Ut);
          d(Xt, zt), h(Xt, yt, zt.values), d(Xt, { slice: Ft, set: Bt, constructor: function() {
          }, toString: vt, toLocaleString: Lt }), Ot(Xt, "buffer", "b"), Ot(Xt, "byteOffset", "o"), Ot(Xt, "byteLength", "l"), Ot(Xt, "length", "e"), z(Xt, mt, { get: function() {
            return this[wt];
          } }), t2.exports = function(t3, e3, n3, s2) {
            var c2 = t3 + ((s2 = !!s2) ? "Clamped" : "") + "Array", l2 = "get" + t3, d2 = "set" + t3, p2 = i[c2], y2 = p2 || {}, m2 = p2 && A(p2), b2 = !p2 || !u.ABV, w2 = {}, E2 = p2 && p2.prototype, I2 = function(t4, n4) {
              z(t4, n4, { get: function() {
                return function(t5, n5) {
                  var r3 = t5._d;
                  return r3.v[l2](n5 * e3 + r3.o, Tt);
                }(this, n4);
              }, set: function(t5) {
                return function(t6, n5, r3) {
                  var i2 = t6._d;
                  s2 && (r3 = (r3 = Math.round(r3)) < 0 ? 0 : r3 > 255 ? 255 : 255 & r3), i2.v[d2](n5 * e3 + i2.o, r3, Tt);
                }(this, n4, t5);
              }, enumerable: true });
            };
            b2 ? (p2 = n3(function(t4, n4, r3, i2) {
              f(t4, p2, c2, "_d");
              var o2, a2, u2, s3, l3 = 0, d3 = 0;
              if (x(n4)) {
                if (!(n4 instanceof Z || (s3 = _(n4)) == H || s3 == q))
                  return wt in n4 ? Rt(p2, n4) : Mt.call(p2, n4);
                o2 = n4, d3 = Ct(r3, e3);
                var y3 = n4.byteLength;
                if (i2 === void 0) {
                  if (y3 % e3)
                    throw W(St);
                  if ((a2 = y3 - d3) < 0)
                    throw W(St);
                } else if ((a2 = v(i2) * e3) + d3 > y3)
                  throw W(St);
                u2 = a2 / e3;
              } else
                u2 = g(n4), o2 = new Z(a2 = u2 * e3);
              for (h(t4, "_d", { b: o2, o: d3, l: a2, e: u2, v: new $(o2) }); l3 < u2; )
                I2(t4, l3++);
            }), E2 = p2.prototype = S(Xt), h(E2, "constructor", p2)) : o(function() {
              p2(1);
            }) && o(function() {
              new p2(-1);
            }) && P(function(t4) {
              new p2(), new p2(null), new p2(1.5), new p2(t4);
            }, true) || (p2 = n3(function(t4, n4, r3, i2) {
              var o2;
              return f(t4, p2, c2), x(n4) ? n4 instanceof Z || (o2 = _(n4)) == H || o2 == q ? i2 !== void 0 ? new y2(n4, Ct(r3, e3), i2) : r3 !== void 0 ? new y2(n4, Ct(r3, e3)) : new y2(n4) : wt in n4 ? Rt(p2, n4) : Mt.call(p2, n4) : new y2(g(n4));
            }), J(m2 !== Function.prototype ? T(y2).concat(T(m2)) : T(y2), function(t4) {
              t4 in p2 || h(p2, t4, y2[t4]);
            }), p2.prototype = E2, r2 || (E2.constructor = p2));
            var C2 = E2[yt], D2 = !!C2 && (C2.name == "values" || C2.name == null), N2 = zt.values;
            h(p2, bt, true), h(E2, wt, c2), h(E2, Et, true), h(E2, _t, p2), (s2 ? new p2(1)[mt] == c2 : mt in E2) || z(E2, mt, { get: function() {
              return c2;
            } }), w2[c2] = p2, a(a.G + a.W + a.F * (p2 != y2), w2), a(a.S, c2, { BYTES_PER_ELEMENT: e3 }), a(a.S + a.F * o(function() {
              y2.of.call(p2, 1);
            }), c2, { from: Mt, of: Pt }), Y in E2 || h(E2, Y, e3), a(a.P, c2, Ut), G(c2), a(a.P + a.F * It, c2, { set: Bt }), a(a.P + a.F * !D2, c2, zt), r2 || E2.toString == vt || (E2.toString = vt), a(a.P + a.F * o(function() {
              new p2(1).slice();
            }), c2, { slice: Ft }), a(a.P + a.F * (o(function() {
              return [1, 2].toLocaleString() != new p2([1, 2]).toLocaleString();
            }) || !o(function() {
              E2.toLocaleString.call([1, 2]);
            })), c2, { toLocaleString: Lt }), M[c2] = D2 ? C2 : N2, r2 || D2 || h(E2, yt, N2);
          };
        } else
          t2.exports = function() {
          };
      }, 1541: (t2, e2, n2) => {
        var r2 = n2(7571), i = n2(1216), o = n2(2725), a = n2(604), u = n2(913), s = n2(8565), c = n2(5338), f = n2(6903), l = n2(5845), h = n2(8087), d = n2(5e3), p = n2(6907).f, v = n2(3886).f, g = n2(8676), y = n2(5837), m = "ArrayBuffer", b = "DataView", _ = "Wrong index!", x = r2.ArrayBuffer, w = r2.DataView, E = r2.Math, S = r2.RangeError, A = r2.Infinity, T = x, I = E.abs, C = E.pow, D = E.floor, N = E.log, k = E.LN2, R = "buffer", O = "byteLength", M = "byteOffset", P = i ? "_b" : R, G = i ? "_l" : O, L = i ? "_o" : M;
        function U(t3, e3, n3) {
          var r3, i2, o2, a2 = new Array(n3), u2 = 8 * n3 - e3 - 1, s2 = (1 << u2) - 1, c2 = s2 >> 1, f2 = e3 === 23 ? C(2, -24) - C(2, -77) : 0, l2 = 0, h2 = t3 < 0 || t3 === 0 && 1 / t3 < 0 ? 1 : 0;
          for ((t3 = I(t3)) != t3 || t3 === A ? (i2 = t3 != t3 ? 1 : 0, r3 = s2) : (r3 = D(N(t3) / k), t3 * (o2 = C(2, -r3)) < 1 && (r3--, o2 *= 2), (t3 += r3 + c2 >= 1 ? f2 / o2 : f2 * C(2, 1 - c2)) * o2 >= 2 && (r3++, o2 /= 2), r3 + c2 >= s2 ? (i2 = 0, r3 = s2) : r3 + c2 >= 1 ? (i2 = (t3 * o2 - 1) * C(2, e3), r3 += c2) : (i2 = t3 * C(2, c2 - 1) * C(2, e3), r3 = 0)); e3 >= 8; a2[l2++] = 255 & i2, i2 /= 256, e3 -= 8)
            ;
          for (r3 = r3 << e3 | i2, u2 += e3; u2 > 0; a2[l2++] = 255 & r3, r3 /= 256, u2 -= 8)
            ;
          return a2[--l2] |= 128 * h2, a2;
        }
        function F(t3, e3, n3) {
          var r3, i2 = 8 * n3 - e3 - 1, o2 = (1 << i2) - 1, a2 = o2 >> 1, u2 = i2 - 7, s2 = n3 - 1, c2 = t3[s2--], f2 = 127 & c2;
          for (c2 >>= 7; u2 > 0; f2 = 256 * f2 + t3[s2], s2--, u2 -= 8)
            ;
          for (r3 = f2 & (1 << -u2) - 1, f2 >>= -u2, u2 += e3; u2 > 0; r3 = 256 * r3 + t3[s2], s2--, u2 -= 8)
            ;
          if (f2 === 0)
            f2 = 1 - a2;
          else {
            if (f2 === o2)
              return r3 ? NaN : c2 ? -A : A;
            r3 += C(2, e3), f2 -= a2;
          }
          return (c2 ? -1 : 1) * r3 * C(2, f2 - e3);
        }
        function B(t3) {
          return t3[3] << 24 | t3[2] << 16 | t3[1] << 8 | t3[0];
        }
        function z(t3) {
          return [255 & t3];
        }
        function j(t3) {
          return [255 & t3, t3 >> 8 & 255];
        }
        function W(t3) {
          return [255 & t3, t3 >> 8 & 255, t3 >> 16 & 255, t3 >> 24 & 255];
        }
        function V(t3) {
          return U(t3, 52, 8);
        }
        function X(t3) {
          return U(t3, 23, 4);
        }
        function H(t3, e3, n3) {
          v(t3.prototype, e3, { get: function() {
            return this[n3];
          } });
        }
        function q(t3, e3, n3, r3) {
          var i2 = d(+n3);
          if (i2 + e3 > t3[G])
            throw S(_);
          var o2 = t3[P]._b, a2 = i2 + t3[L], u2 = o2.slice(a2, a2 + e3);
          return r3 ? u2 : u2.reverse();
        }
        function Y(t3, e3, n3, r3, i2, o2) {
          var a2 = d(+n3);
          if (a2 + e3 > t3[G])
            throw S(_);
          for (var u2 = t3[P]._b, s2 = a2 + t3[L], c2 = r3(+i2), f2 = 0; f2 < e3; f2++)
            u2[s2 + f2] = c2[o2 ? f2 : e3 - f2 - 1];
        }
        if (a.ABV) {
          if (!c(function() {
            x(1);
          }) || !c(function() {
            new x(-1);
          }) || c(function() {
            return new x(), new x(1.5), new x(NaN), x.name != m;
          })) {
            for (var K, Z = (x = function(t3) {
              return f(this, x), new T(d(t3));
            }).prototype = T.prototype, $ = p(T), J = 0; $.length > J; )
              (K = $[J++]) in x || u(x, K, T[K]);
            o || (Z.constructor = x);
          }
          var Q = new w(new x(2)), tt = w.prototype.setInt8;
          Q.setInt8(0, 2147483648), Q.setInt8(1, 2147483649), !Q.getInt8(0) && Q.getInt8(1) || s(w.prototype, { setInt8: function(t3, e3) {
            tt.call(this, t3, e3 << 24 >> 24);
          }, setUint8: function(t3, e3) {
            tt.call(this, t3, e3 << 24 >> 24);
          } }, true);
        } else
          x = function(t3) {
            f(this, x, m);
            var e3 = d(t3);
            this._b = g.call(new Array(e3), 0), this[G] = e3;
          }, w = function(t3, e3, n3) {
            f(this, w, b), f(t3, x, b);
            var r3 = t3[G], i2 = l(e3);
            if (i2 < 0 || i2 > r3)
              throw S("Wrong offset!");
            if (i2 + (n3 = n3 === void 0 ? r3 - i2 : h(n3)) > r3)
              throw S("Wrong length!");
            this[P] = t3, this[L] = i2, this[G] = n3;
          }, i && (H(x, O, "_l"), H(w, R, "_b"), H(w, O, "_l"), H(w, M, "_o")), s(w.prototype, { getInt8: function(t3) {
            return q(this, 1, t3)[0] << 24 >> 24;
          }, getUint8: function(t3) {
            return q(this, 1, t3)[0];
          }, getInt16: function(t3) {
            var e3 = q(this, 2, t3, arguments[1]);
            return (e3[1] << 8 | e3[0]) << 16 >> 16;
          }, getUint16: function(t3) {
            var e3 = q(this, 2, t3, arguments[1]);
            return e3[1] << 8 | e3[0];
          }, getInt32: function(t3) {
            return B(q(this, 4, t3, arguments[1]));
          }, getUint32: function(t3) {
            return B(q(this, 4, t3, arguments[1])) >>> 0;
          }, getFloat32: function(t3) {
            return F(q(this, 4, t3, arguments[1]), 23, 4);
          }, getFloat64: function(t3) {
            return F(q(this, 8, t3, arguments[1]), 52, 8);
          }, setInt8: function(t3, e3) {
            Y(this, 1, t3, z, e3);
          }, setUint8: function(t3, e3) {
            Y(this, 1, t3, z, e3);
          }, setInt16: function(t3, e3) {
            Y(this, 2, t3, j, e3, arguments[2]);
          }, setUint16: function(t3, e3) {
            Y(this, 2, t3, j, e3, arguments[2]);
          }, setInt32: function(t3, e3) {
            Y(this, 4, t3, W, e3, arguments[2]);
          }, setUint32: function(t3, e3) {
            Y(this, 4, t3, W, e3, arguments[2]);
          }, setFloat32: function(t3, e3) {
            Y(this, 4, t3, X, e3, arguments[2]);
          }, setFloat64: function(t3, e3) {
            Y(this, 8, t3, V, e3, arguments[2]);
          } });
        y(x, m), y(w, b), u(w.prototype, a.VIEW, true), e2.ArrayBuffer = x, e2.DataView = w;
      }, 604: (t2, e2, n2) => {
        for (var r2, i = n2(7571), o = n2(913), a = n2(4316), u = a("typed_array"), s = a("view"), c = !(!i.ArrayBuffer || !i.DataView), f = c, l = 0, h = "Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(","); l < 9; )
          (r2 = i[h[l++]]) ? (o(r2.prototype, u, true), o(r2.prototype, s, true)) : f = false;
        t2.exports = { ABV: c, CONSTR: f, TYPED: u, VIEW: s };
      }, 4316: (t2) => {
        var e2 = 0, n2 = Math.random();
        t2.exports = function(t3) {
          return "Symbol(".concat(t3 === void 0 ? "" : t3, ")_", (++e2 + n2).toString(36));
        };
      }, 2541: (t2, e2, n2) => {
        var r2 = n2(7571).navigator;
        t2.exports = r2 && r2.userAgent || "";
      }, 4664: (t2, e2, n2) => {
        var r2 = n2(1255);
        t2.exports = function(t3, e3) {
          if (!r2(t3) || t3._t !== e3)
            throw TypeError("Incompatible receiver, " + e3 + " required!");
          return t3;
        };
      }, 6262: (t2, e2, n2) => {
        var r2 = n2(7571), i = n2(2845), o = n2(2725), a = n2(7686), u = n2(3886).f;
        t2.exports = function(t3) {
          var e3 = i.Symbol || (i.Symbol = o ? {} : r2.Symbol || {});
          t3.charAt(0) == "_" || t3 in e3 || u(e3, t3, { value: a.f(t3) });
        };
      }, 7686: (t2, e2, n2) => {
        e2.f = n2(341);
      }, 341: (t2, e2, n2) => {
        var r2 = n2(5570)("wks"), i = n2(4316), o = n2(7571).Symbol, a = typeof o == "function";
        (t2.exports = function(t3) {
          return r2[t3] || (r2[t3] = a && o[t3] || (a ? o : i)("Symbol." + t3));
        }).store = r2;
      }, 9685: (t2, e2, n2) => {
        var r2 = n2(4939), i = n2(341)("iterator"), o = n2(9740);
        t2.exports = n2(2845).getIteratorMethod = function(t3) {
          if (t3 != null)
            return t3[i] || t3["@@iterator"] || o[r2(t3)];
        };
      }, 5305: (t2, e2, n2) => {
        var r2 = n2(7044);
        r2(r2.P, "Array", { copyWithin: n2(1064) }), n2(4691)("copyWithin");
      }, 5015: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(7622)(4);
        r2(r2.P + r2.F * !n2(5296)([].every, true), "Array", { every: function(t3) {
          return i(this, t3, arguments[1]);
        } });
      }, 6341: (t2, e2, n2) => {
        var r2 = n2(7044);
        r2(r2.P, "Array", { fill: n2(8676) }), n2(4691)("fill");
      }, 5119: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(7622)(2);
        r2(r2.P + r2.F * !n2(5296)([].filter, true), "Array", { filter: function(t3) {
          return i(this, t3, arguments[1]);
        } });
      }, 4488: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(7622)(6), o = "findIndex", a = true;
        o in [] && Array(1)[o](function() {
          a = false;
        }), r2(r2.P + r2.F * a, "Array", { findIndex: function(t3) {
          return i(this, t3, arguments.length > 1 ? arguments[1] : void 0);
        } }), n2(4691)(o);
      }, 5915: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(7622)(5), o = "find", a = true;
        o in [] && Array(1).find(function() {
          a = false;
        }), r2(r2.P + r2.F * a, "Array", { find: function(t3) {
          return i(this, t3, arguments.length > 1 ? arguments[1] : void 0);
        } }), n2(4691)(o);
      }, 5788: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(7622)(0), o = n2(5296)([].forEach, true);
        r2(r2.P + r2.F * !o, "Array", { forEach: function(t3) {
          return i(this, t3, arguments[1]);
        } });
      }, 9689: (t2, e2, n2) => {
        var r2 = n2(994), i = n2(7044), o = n2(7583), a = n2(4902), u = n2(9981), s = n2(8087), c = n2(1395), f = n2(9685);
        i(i.S + i.F * !n2(2803)(function(t3) {
          Array.from(t3);
        }), "Array", { from: function(t3) {
          var e3, n3, i2, l, h = o(t3), d = typeof this == "function" ? this : Array, p = arguments.length, v = p > 1 ? arguments[1] : void 0, g = v !== void 0, y = 0, m = f(h);
          if (g && (v = r2(v, p > 2 ? arguments[2] : void 0, 2)), m == null || d == Array && u(m))
            for (n3 = new d(e3 = s(h.length)); e3 > y; y++)
              c(n3, y, g ? v(h[y], y) : h[y]);
          else
            for (l = m.call(h), n3 = new d(); !(i2 = l.next()).done; y++)
              c(n3, y, g ? a(l, v, [i2.value, y], true) : i2.value);
          return n3.length = y, n3;
        } });
      }, 5377: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(4538)(false), o = [].indexOf, a = !!o && 1 / [1].indexOf(1, -0) < 0;
        r2(r2.P + r2.F * (a || !n2(5296)(o)), "Array", { indexOf: function(t3) {
          return a ? o.apply(this, arguments) || 0 : i(this, t3, arguments[1]);
        } });
      }, 2247: (t2, e2, n2) => {
        var r2 = n2(7044);
        r2(r2.S, "Array", { isArray: n2(7183) });
      }, 163: (t2, e2, n2) => {
        var r2 = n2(4691), i = n2(8782), o = n2(9740), a = n2(8182);
        t2.exports = n2(966)(Array, "Array", function(t3, e3) {
          this._t = a(t3), this._i = 0, this._k = e3;
        }, function() {
          var t3 = this._t, e3 = this._k, n3 = this._i++;
          return !t3 || n3 >= t3.length ? (this._t = void 0, i(1)) : i(0, e3 == "keys" ? n3 : e3 == "values" ? t3[n3] : [n3, t3[n3]]);
        }, "values"), o.Arguments = o.Array, r2("keys"), r2("values"), r2("entries");
      }, 9026: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(8182), o = [].join;
        r2(r2.P + r2.F * (n2(8579) != Object || !n2(5296)(o)), "Array", { join: function(t3) {
          return o.call(i(this), t3 === void 0 ? "," : t3);
        } });
      }, 9879: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(8182), o = n2(5845), a = n2(8087), u = [].lastIndexOf, s = !!u && 1 / [1].lastIndexOf(1, -0) < 0;
        r2(r2.P + r2.F * (s || !n2(5296)(u)), "Array", { lastIndexOf: function(t3) {
          if (s)
            return u.apply(this, arguments) || 0;
          var e3 = i(this), n3 = a(e3.length), r3 = n3 - 1;
          for (arguments.length > 1 && (r3 = Math.min(r3, o(arguments[1]))), r3 < 0 && (r3 = n3 + r3); r3 >= 0; r3--)
            if (r3 in e3 && e3[r3] === t3)
              return r3 || 0;
          return -1;
        } });
      }, 7878: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(7622)(1);
        r2(r2.P + r2.F * !n2(5296)([].map, true), "Array", { map: function(t3) {
          return i(this, t3, arguments[1]);
        } });
      }, 9003: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(1395);
        r2(r2.S + r2.F * n2(5338)(function() {
          function t3() {
          }
          return !(Array.of.call(t3) instanceof t3);
        }), "Array", { of: function() {
          for (var t3 = 0, e3 = arguments.length, n3 = new (typeof this == "function" ? this : Array)(e3); e3 > t3; )
            i(n3, t3, arguments[t3++]);
          return n3.length = e3, n3;
        } });
      }, 646: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(5336);
        r2(r2.P + r2.F * !n2(5296)([].reduceRight, true), "Array", { reduceRight: function(t3) {
          return i(this, t3, arguments.length, arguments[1], true);
        } });
      }, 8059: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(5336);
        r2(r2.P + r2.F * !n2(5296)([].reduce, true), "Array", { reduce: function(t3) {
          return i(this, t3, arguments.length, arguments[1], false);
        } });
      }, 4088: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(7680), o = n2(1669), a = n2(9260), u = n2(8087), s = [].slice;
        r2(r2.P + r2.F * n2(5338)(function() {
          i && s.call(i);
        }), "Array", { slice: function(t3, e3) {
          var n3 = u(this.length), r3 = o(this);
          if (e3 = e3 === void 0 ? n3 : e3, r3 == "Array")
            return s.call(this, t3, e3);
          for (var i2 = a(t3, n3), c = a(e3, n3), f = u(c - i2), l = new Array(f), h = 0; h < f; h++)
            l[h] = r3 == "String" ? this.charAt(i2 + h) : this[i2 + h];
          return l;
        } });
      }, 3135: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(7622)(3);
        r2(r2.P + r2.F * !n2(5296)([].some, true), "Array", { some: function(t3) {
          return i(this, t3, arguments[1]);
        } });
      }, 535: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(1464), o = n2(7583), a = n2(5338), u = [].sort, s = [1, 2, 3];
        r2(r2.P + r2.F * (a(function() {
          s.sort(void 0);
        }) || !a(function() {
          s.sort(null);
        }) || !n2(5296)(u)), "Array", { sort: function(t3) {
          return t3 === void 0 ? u.call(o(this)) : u.call(o(this), i(t3));
        } });
      }, 9281: (t2, e2, n2) => {
        n2(4412)("Array");
      }, 4094: (t2, e2, n2) => {
        var r2 = n2(7044);
        r2(r2.S, "Date", { now: function() {
          return new Date().getTime();
        } });
      }, 5013: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(4506);
        r2(r2.P + r2.F * (Date.prototype.toISOString !== i), "Date", { toISOString: i });
      }, 8781: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(7583), o = n2(4467);
        r2(r2.P + r2.F * n2(5338)(function() {
          return new Date(NaN).toJSON() !== null || Date.prototype.toJSON.call({ toISOString: function() {
            return 1;
          } }) !== 1;
        }), "Date", { toJSON: function(t3) {
          var e3 = i(this), n3 = o(e3);
          return typeof n3 != "number" || isFinite(n3) ? e3.toISOString() : null;
        } });
      }, 8723: (t2, e2, n2) => {
        var r2 = n2(341)("toPrimitive"), i = Date.prototype;
        r2 in i || n2(913)(i, r2, n2(9514));
      }, 3735: (t2, e2, n2) => {
        var r2 = Date.prototype, i = "Invalid Date", o = r2.toString, a = r2.getTime;
        new Date(NaN) + "" != i && n2(6476)(r2, "toString", function() {
          var t3 = a.call(this);
          return t3 == t3 ? o.call(this) : i;
        });
      }, 1765: (t2, e2, n2) => {
        var r2 = n2(7044);
        r2(r2.P, "Function", { bind: n2(8366) });
      }, 7451: (t2, e2, n2) => {
        var r2 = n2(1255), i = n2(9881), o = n2(341)("hasInstance"), a = Function.prototype;
        o in a || n2(3886).f(a, o, { value: function(t3) {
          if (typeof this != "function" || !r2(t3))
            return false;
          if (!r2(this.prototype))
            return t3 instanceof this;
          for (; t3 = i(t3); )
            if (this.prototype === t3)
              return true;
          return false;
        } });
      }, 5747: (t2, e2, n2) => {
        var r2 = n2(3886).f, i = Function.prototype, o = /^\s*function ([^ (]*)/, a = "name";
        a in i || n2(1216) && r2(i, a, { configurable: true, get: function() {
          try {
            return ("" + this).match(o)[1];
          } catch (t3) {
            return "";
          }
        } });
      }, 6441: (t2, e2, n2) => {
        var r2 = n2(3050), i = n2(4664), o = "Map";
        t2.exports = n2(859)(o, function(t3) {
          return function() {
            return t3(this, arguments.length > 0 ? arguments[0] : void 0);
          };
        }, { get: function(t3) {
          var e3 = r2.getEntry(i(this, o), t3);
          return e3 && e3.v;
        }, set: function(t3, e3) {
          return r2.def(i(this, o), t3 === 0 ? 0 : t3, e3);
        } }, r2, true);
      }, 2212: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(1618), o = Math.sqrt, a = Math.acosh;
        r2(r2.S + r2.F * !(a && Math.floor(a(Number.MAX_VALUE)) == 710 && a(1 / 0) == 1 / 0), "Math", { acosh: function(t3) {
          return (t3 = +t3) < 1 ? NaN : t3 > 9490626562425156e-8 ? Math.log(t3) + Math.LN2 : i(t3 - 1 + o(t3 - 1) * o(t3 + 1));
        } });
      }, 4230: (t2, e2, n2) => {
        var r2 = n2(7044), i = Math.asinh;
        r2(r2.S + r2.F * !(i && 1 / i(0) > 0), "Math", { asinh: function t3(e3) {
          return isFinite(e3 = +e3) && e3 != 0 ? e3 < 0 ? -t3(-e3) : Math.log(e3 + Math.sqrt(e3 * e3 + 1)) : e3;
        } });
      }, 9754: (t2, e2, n2) => {
        var r2 = n2(7044), i = Math.atanh;
        r2(r2.S + r2.F * !(i && 1 / i(-0) < 0), "Math", { atanh: function(t3) {
          return (t3 = +t3) == 0 ? t3 : Math.log((1 + t3) / (1 - t3)) / 2;
        } });
      }, 2811: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(2987);
        r2(r2.S, "Math", { cbrt: function(t3) {
          return i(t3 = +t3) * Math.pow(Math.abs(t3), 1 / 3);
        } });
      }, 3998: (t2, e2, n2) => {
        var r2 = n2(7044);
        r2(r2.S, "Math", { clz32: function(t3) {
          return (t3 >>>= 0) ? 31 - Math.floor(Math.log(t3 + 0.5) * Math.LOG2E) : 32;
        } });
      }, 1769: (t2, e2, n2) => {
        var r2 = n2(7044), i = Math.exp;
        r2(r2.S, "Math", { cosh: function(t3) {
          return (i(t3 = +t3) + i(-t3)) / 2;
        } });
      }, 8789: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(959);
        r2(r2.S + r2.F * (i != Math.expm1), "Math", { expm1: i });
      }, 2848: (t2, e2, n2) => {
        var r2 = n2(7044);
        r2(r2.S, "Math", { fround: n2(7682) });
      }, 1762: (t2, e2, n2) => {
        var r2 = n2(7044), i = Math.abs;
        r2(r2.S, "Math", { hypot: function(t3, e3) {
          for (var n3, r3, o = 0, a = 0, u = arguments.length, s = 0; a < u; )
            s < (n3 = i(arguments[a++])) ? (o = o * (r3 = s / n3) * r3 + 1, s = n3) : o += n3 > 0 ? (r3 = n3 / s) * r3 : n3;
          return s === 1 / 0 ? 1 / 0 : s * Math.sqrt(o);
        } });
      }, 1323: (t2, e2, n2) => {
        var r2 = n2(7044), i = Math.imul;
        r2(r2.S + r2.F * n2(5338)(function() {
          return i(4294967295, 5) != -5 || i.length != 2;
        }), "Math", { imul: function(t3, e3) {
          var n3 = 65535, r3 = +t3, i2 = +e3, o = n3 & r3, a = n3 & i2;
          return 0 | o * a + ((n3 & r3 >>> 16) * a + o * (n3 & i2 >>> 16) << 16 >>> 0);
        } });
      }, 6063: (t2, e2, n2) => {
        var r2 = n2(7044);
        r2(r2.S, "Math", { log10: function(t3) {
          return Math.log(t3) * Math.LOG10E;
        } });
      }, 3282: (t2, e2, n2) => {
        var r2 = n2(7044);
        r2(r2.S, "Math", { log1p: n2(1618) });
      }, 6816: (t2, e2, n2) => {
        var r2 = n2(7044);
        r2(r2.S, "Math", { log2: function(t3) {
          return Math.log(t3) / Math.LN2;
        } });
      }, 1854: (t2, e2, n2) => {
        var r2 = n2(7044);
        r2(r2.S, "Math", { sign: n2(2987) });
      }, 3303: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(959), o = Math.exp;
        r2(r2.S + r2.F * n2(5338)(function() {
          return !Math.sinh(-2e-17) != -2e-17;
        }), "Math", { sinh: function(t3) {
          return Math.abs(t3 = +t3) < 1 ? (i(t3) - i(-t3)) / 2 : (o(t3 - 1) - o(-t3 - 1)) * (Math.E / 2);
        } });
      }, 4421: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(959), o = Math.exp;
        r2(r2.S, "Math", { tanh: function(t3) {
          var e3 = i(t3 = +t3), n3 = i(-t3);
          return e3 == 1 / 0 ? 1 : n3 == 1 / 0 ? -1 : (e3 - n3) / (o(t3) + o(-t3));
        } });
      }, 2203: (t2, e2, n2) => {
        var r2 = n2(7044);
        r2(r2.S, "Math", { trunc: function(t3) {
          return (t3 > 0 ? Math.floor : Math.ceil)(t3);
        } });
      }, 7454: (t2, e2, n2) => {
        var r2 = n2(7571), i = n2(7384), o = n2(1669), a = n2(116), u = n2(4467), s = n2(5338), c = n2(6907).f, f = n2(5385).f, l = n2(3886).f, h = n2(4961).trim, d = "Number", p = r2.Number, v = p, g = p.prototype, y = o(n2(9055)(g)) == d, m = "trim" in String.prototype, b = function(t3) {
          var e3 = u(t3, false);
          if (typeof e3 == "string" && e3.length > 2) {
            var n3, r3, i2, o2 = (e3 = m ? e3.trim() : h(e3, 3)).charCodeAt(0);
            if (o2 === 43 || o2 === 45) {
              if ((n3 = e3.charCodeAt(2)) === 88 || n3 === 120)
                return NaN;
            } else if (o2 === 48) {
              switch (e3.charCodeAt(1)) {
                case 66:
                case 98:
                  r3 = 2, i2 = 49;
                  break;
                case 79:
                case 111:
                  r3 = 8, i2 = 55;
                  break;
                default:
                  return +e3;
              }
              for (var a2, s2 = e3.slice(2), c2 = 0, f2 = s2.length; c2 < f2; c2++)
                if ((a2 = s2.charCodeAt(c2)) < 48 || a2 > i2)
                  return NaN;
              return parseInt(s2, r3);
            }
          }
          return +e3;
        };
        if (!p(" 0o1") || !p("0b1") || p("+0x1")) {
          p = function(t3) {
            var e3 = arguments.length < 1 ? 0 : t3, n3 = this;
            return n3 instanceof p && (y ? s(function() {
              g.valueOf.call(n3);
            }) : o(n3) != d) ? a(new v(b(e3)), n3, p) : b(e3);
          };
          for (var _, x = n2(1216) ? c(v) : "MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","), w = 0; x.length > w; w++)
            i(v, _ = x[w]) && !i(p, _) && l(p, _, f(v, _));
          p.prototype = g, g.constructor = p, n2(6476)(r2, d, p);
        }
      }, 7551: (t2, e2, n2) => {
        var r2 = n2(7044);
        r2(r2.S, "Number", { EPSILON: Math.pow(2, -52) });
      }, 2929: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(7571).isFinite;
        r2(r2.S, "Number", { isFinite: function(t3) {
          return typeof t3 == "number" && i(t3);
        } });
      }, 215: (t2, e2, n2) => {
        var r2 = n2(7044);
        r2(r2.S, "Number", { isInteger: n2(1272) });
      }, 6183: (t2, e2, n2) => {
        var r2 = n2(7044);
        r2(r2.S, "Number", { isNaN: function(t3) {
          return t3 != t3;
        } });
      }, 8190: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(1272), o = Math.abs;
        r2(r2.S, "Number", { isSafeInteger: function(t3) {
          return i(t3) && o(t3) <= 9007199254740991;
        } });
      }, 476: (t2, e2, n2) => {
        var r2 = n2(7044);
        r2(r2.S, "Number", { MAX_SAFE_INTEGER: 9007199254740991 });
      }, 948: (t2, e2, n2) => {
        var r2 = n2(7044);
        r2(r2.S, "Number", { MIN_SAFE_INTEGER: -9007199254740991 });
      }, 942: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(1885);
        r2(r2.S + r2.F * (Number.parseFloat != i), "Number", { parseFloat: i });
      }, 2870: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(343);
        r2(r2.S + r2.F * (Number.parseInt != i), "Number", { parseInt: i });
      }, 3053: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(5845), o = n2(8347), a = n2(5458), u = 1 .toFixed, s = Math.floor, c = [0, 0, 0, 0, 0, 0], f = "Number.toFixed: incorrect invocation!", l = "0", h = function(t3, e3) {
          for (var n3 = -1, r3 = e3; ++n3 < 6; )
            r3 += t3 * c[n3], c[n3] = r3 % 1e7, r3 = s(r3 / 1e7);
        }, d = function(t3) {
          for (var e3 = 6, n3 = 0; --e3 >= 0; )
            n3 += c[e3], c[e3] = s(n3 / t3), n3 = n3 % t3 * 1e7;
        }, p = function() {
          for (var t3 = 6, e3 = ""; --t3 >= 0; )
            if (e3 !== "" || t3 === 0 || c[t3] !== 0) {
              var n3 = String(c[t3]);
              e3 = e3 === "" ? n3 : e3 + a.call(l, 7 - n3.length) + n3;
            }
          return e3;
        }, v = function(t3, e3, n3) {
          return e3 === 0 ? n3 : e3 % 2 == 1 ? v(t3, e3 - 1, n3 * t3) : v(t3 * t3, e3 / 2, n3);
        };
        r2(r2.P + r2.F * (!!u && (8e-5 .toFixed(3) !== "0.000" || 0.9 .toFixed(0) !== "1" || 1.255 .toFixed(2) !== "1.25" || 1000000000000000100 .toFixed(0) !== "1000000000000000128") || !n2(5338)(function() {
          u.call({});
        })), "Number", { toFixed: function(t3) {
          var e3, n3, r3, u2, s2 = o(this, f), c2 = i(t3), g = "", y = l;
          if (c2 < 0 || c2 > 20)
            throw RangeError(f);
          if (s2 != s2)
            return "NaN";
          if (s2 <= -1e21 || s2 >= 1e21)
            return String(s2);
          if (s2 < 0 && (g = "-", s2 = -s2), s2 > 1e-21)
            if (e3 = function(t4) {
              for (var e4 = 0, n4 = t4; n4 >= 4096; )
                e4 += 12, n4 /= 4096;
              for (; n4 >= 2; )
                e4 += 1, n4 /= 2;
              return e4;
            }(s2 * v(2, 69, 1)) - 69, n3 = e3 < 0 ? s2 * v(2, -e3, 1) : s2 / v(2, e3, 1), n3 *= 4503599627370496, (e3 = 52 - e3) > 0) {
              for (h(0, n3), r3 = c2; r3 >= 7; )
                h(1e7, 0), r3 -= 7;
              for (h(v(10, r3, 1), 0), r3 = e3 - 1; r3 >= 23; )
                d(1 << 23), r3 -= 23;
              d(1 << r3), h(1, 1), d(2), y = p();
            } else
              h(0, n3), h(1 << -e3, 0), y = p() + a.call(l, c2);
          return c2 > 0 ? g + ((u2 = y.length) <= c2 ? "0." + a.call(l, c2 - u2) + y : y.slice(0, u2 - c2) + "." + y.slice(u2 - c2)) : g + y;
        } });
      }, 8032: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(5338), o = n2(8347), a = 1 .toPrecision;
        r2(r2.P + r2.F * (i(function() {
          return a.call(1, void 0) !== "1";
        }) || !i(function() {
          a.call({});
        })), "Number", { toPrecision: function(t3) {
          var e3 = o(this, "Number#toPrecision: incorrect invocation!");
          return t3 === void 0 ? a.call(e3) : a.call(e3, t3);
        } });
      }, 5261: (t2, e2, n2) => {
        var r2 = n2(7044);
        r2(r2.S + r2.F, "Object", { assign: n2(4643) });
      }, 6051: (t2, e2, n2) => {
        var r2 = n2(7044);
        r2(r2.S, "Object", { create: n2(9055) });
      }, 9518: (t2, e2, n2) => {
        var r2 = n2(7044);
        r2(r2.S + r2.F * !n2(1216), "Object", { defineProperties: n2(6283) });
      }, 2640: (t2, e2, n2) => {
        var r2 = n2(7044);
        r2(r2.S + r2.F * !n2(1216), "Object", { defineProperty: n2(3886).f });
      }, 9788: (t2, e2, n2) => {
        var r2 = n2(1255), i = n2(4278).onFreeze;
        n2(381)("freeze", function(t3) {
          return function(e3) {
            return t3 && r2(e3) ? t3(i(e3)) : e3;
          };
        });
      }, 8201: (t2, e2, n2) => {
        var r2 = n2(8182), i = n2(5385).f;
        n2(381)("getOwnPropertyDescriptor", function() {
          return function(t3, e3) {
            return i(r2(t3), e3);
          };
        });
      }, 7525: (t2, e2, n2) => {
        n2(381)("getOwnPropertyNames", function() {
          return n2(3473).f;
        });
      }, 470: (t2, e2, n2) => {
        var r2 = n2(7583), i = n2(9881);
        n2(381)("getPrototypeOf", function() {
          return function(t3) {
            return i(r2(t3));
          };
        });
      }, 7940: (t2, e2, n2) => {
        var r2 = n2(1255);
        n2(381)("isExtensible", function(t3) {
          return function(e3) {
            return !!r2(e3) && (!t3 || t3(e3));
          };
        });
      }, 6129: (t2, e2, n2) => {
        var r2 = n2(1255);
        n2(381)("isFrozen", function(t3) {
          return function(e3) {
            return !r2(e3) || !!t3 && t3(e3);
          };
        });
      }, 2802: (t2, e2, n2) => {
        var r2 = n2(1255);
        n2(381)("isSealed", function(t3) {
          return function(e3) {
            return !r2(e3) || !!t3 && t3(e3);
          };
        });
      }, 9340: (t2, e2, n2) => {
        var r2 = n2(7044);
        r2(r2.S, "Object", { is: n2(6962) });
      }, 5723: (t2, e2, n2) => {
        var r2 = n2(7583), i = n2(9804);
        n2(381)("keys", function() {
          return function(t3) {
            return i(r2(t3));
          };
        });
      }, 7577: (t2, e2, n2) => {
        var r2 = n2(1255), i = n2(4278).onFreeze;
        n2(381)("preventExtensions", function(t3) {
          return function(e3) {
            return t3 && r2(e3) ? t3(i(e3)) : e3;
          };
        });
      }, 1498: (t2, e2, n2) => {
        var r2 = n2(1255), i = n2(4278).onFreeze;
        n2(381)("seal", function(t3) {
          return function(e3) {
            return t3 && r2(e3) ? t3(i(e3)) : e3;
          };
        });
      }, 1584: (t2, e2, n2) => {
        var r2 = n2(7044);
        r2(r2.S, "Object", { setPrototypeOf: n2(473).set });
      }, 7298: (t2, e2, n2) => {
        var r2 = n2(4939), i = {};
        i[n2(341)("toStringTag")] = "z", i + "" != "[object z]" && n2(6476)(Object.prototype, "toString", function() {
          return "[object " + r2(this) + "]";
        }, true);
      }, 2809: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(1885);
        r2(r2.G + r2.F * (parseFloat != i), { parseFloat: i });
      }, 2784: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(343);
        r2(r2.G + r2.F * (parseInt != i), { parseInt: i });
      }, 7843: (t2, e2, n2) => {
        var r2, i, o, a, u = n2(2725), s = n2(7571), c = n2(994), f = n2(4939), l = n2(7044), h = n2(1255), d = n2(1464), p = n2(6903), v = n2(9822), g = n2(8713), y = n2(7225).set, m = n2(7485)(), b = n2(449), _ = n2(9696), x = n2(2541), w = n2(909), E = "Promise", S = s.TypeError, A = s.process, T = A && A.versions, I = T && T.v8 || "", C = s.Promise, D = f(A) == "process", N = function() {
        }, k = i = b.f, R = !!function() {
          try {
            var t3 = C.resolve(1), e3 = (t3.constructor = {})[n2(341)("species")] = function(t4) {
              t4(N, N);
            };
            return (D || typeof PromiseRejectionEvent == "function") && t3.then(N) instanceof e3 && I.indexOf("6.6") !== 0 && x.indexOf("Chrome/66") === -1;
          } catch (t4) {
          }
        }(), O = function(t3) {
          var e3;
          return !(!h(t3) || typeof (e3 = t3.then) != "function") && e3;
        }, M = function(t3, e3) {
          if (!t3._n) {
            t3._n = true;
            var n3 = t3._c;
            m(function() {
              for (var r3 = t3._v, i2 = t3._s == 1, o2 = 0, a2 = function(e4) {
                var n4, o3, a3, u2 = i2 ? e4.ok : e4.fail, s2 = e4.resolve, c2 = e4.reject, f2 = e4.domain;
                try {
                  u2 ? (i2 || (t3._h == 2 && L(t3), t3._h = 1), u2 === true ? n4 = r3 : (f2 && f2.enter(), n4 = u2(r3), f2 && (f2.exit(), a3 = true)), n4 === e4.promise ? c2(S("Promise-chain cycle")) : (o3 = O(n4)) ? o3.call(n4, s2, c2) : s2(n4)) : c2(r3);
                } catch (t4) {
                  f2 && !a3 && f2.exit(), c2(t4);
                }
              }; n3.length > o2; )
                a2(n3[o2++]);
              t3._c = [], t3._n = false, e3 && !t3._h && P(t3);
            });
          }
        }, P = function(t3) {
          y.call(s, function() {
            var e3, n3, r3, i2 = t3._v, o2 = G(t3);
            if (o2 && (e3 = _(function() {
              D ? A.emit("unhandledRejection", i2, t3) : (n3 = s.onunhandledrejection) ? n3({ promise: t3, reason: i2 }) : (r3 = s.console) && r3.error && r3.error("Unhandled promise rejection", i2);
            }), t3._h = D || G(t3) ? 2 : 1), t3._a = void 0, o2 && e3.e)
              throw e3.v;
          });
        }, G = function(t3) {
          return t3._h !== 1 && (t3._a || t3._c).length === 0;
        }, L = function(t3) {
          y.call(s, function() {
            var e3;
            D ? A.emit("rejectionHandled", t3) : (e3 = s.onrejectionhandled) && e3({ promise: t3, reason: t3._v });
          });
        }, U = function(t3) {
          var e3 = this;
          e3._d || (e3._d = true, (e3 = e3._w || e3)._v = t3, e3._s = 2, e3._a || (e3._a = e3._c.slice()), M(e3, true));
        }, F = function(t3) {
          var e3, n3 = this;
          if (!n3._d) {
            n3._d = true, n3 = n3._w || n3;
            try {
              if (n3 === t3)
                throw S("Promise can't be resolved itself");
              (e3 = O(t3)) ? m(function() {
                var r3 = { _w: n3, _d: false };
                try {
                  e3.call(t3, c(F, r3, 1), c(U, r3, 1));
                } catch (t4) {
                  U.call(r3, t4);
                }
              }) : (n3._v = t3, n3._s = 1, M(n3, false));
            } catch (t4) {
              U.call({ _w: n3, _d: false }, t4);
            }
          }
        };
        R || (C = function(t3) {
          p(this, C, E, "_h"), d(t3), r2.call(this);
          try {
            t3(c(F, this, 1), c(U, this, 1));
          } catch (t4) {
            U.call(this, t4);
          }
        }, (r2 = function(t3) {
          this._c = [], this._a = void 0, this._s = 0, this._d = false, this._v = void 0, this._h = 0, this._n = false;
        }).prototype = n2(8565)(C.prototype, { then: function(t3, e3) {
          var n3 = k(g(this, C));
          return n3.ok = typeof t3 != "function" || t3, n3.fail = typeof e3 == "function" && e3, n3.domain = D ? A.domain : void 0, this._c.push(n3), this._a && this._a.push(n3), this._s && M(this, false), n3.promise;
        }, catch: function(t3) {
          return this.then(void 0, t3);
        } }), o = function() {
          var t3 = new r2();
          this.promise = t3, this.resolve = c(F, t3, 1), this.reject = c(U, t3, 1);
        }, b.f = k = function(t3) {
          return t3 === C || t3 === a ? new o(t3) : i(t3);
        }), l(l.G + l.W + l.F * !R, { Promise: C }), n2(5837)(C, E), n2(4412)(E), a = n2(2845).Promise, l(l.S + l.F * !R, E, { reject: function(t3) {
          var e3 = k(this);
          return (0, e3.reject)(t3), e3.promise;
        } }), l(l.S + l.F * (u || !R), E, { resolve: function(t3) {
          return w(u && this === a ? C : this, t3);
        } }), l(l.S + l.F * !(R && n2(2803)(function(t3) {
          C.all(t3).catch(N);
        })), E, { all: function(t3) {
          var e3 = this, n3 = k(e3), r3 = n3.resolve, i2 = n3.reject, o2 = _(function() {
            var n4 = [], o3 = 0, a2 = 1;
            v(t3, false, function(t4) {
              var u2 = o3++, s2 = false;
              n4.push(void 0), a2++, e3.resolve(t4).then(function(t5) {
                s2 || (s2 = true, n4[u2] = t5, --a2 || r3(n4));
              }, i2);
            }), --a2 || r3(n4);
          });
          return o2.e && i2(o2.v), n3.promise;
        }, race: function(t3) {
          var e3 = this, n3 = k(e3), r3 = n3.reject, i2 = _(function() {
            v(t3, false, function(t4) {
              e3.resolve(t4).then(n3.resolve, r3);
            });
          });
          return i2.e && r3(i2.v), n3.promise;
        } });
      }, 8275: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(1464), o = n2(486), a = (n2(7571).Reflect || {}).apply, u = Function.apply;
        r2(r2.S + r2.F * !n2(5338)(function() {
          a(function() {
          });
        }), "Reflect", { apply: function(t3, e3, n3) {
          var r3 = i(t3), s = o(n3);
          return a ? a(r3, e3, s) : u.call(r3, e3, s);
        } });
      }, 2552: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(9055), o = n2(1464), a = n2(486), u = n2(1255), s = n2(5338), c = n2(8366), f = (n2(7571).Reflect || {}).construct, l = s(function() {
          function t3() {
          }
          return !(f(function() {
          }, [], t3) instanceof t3);
        }), h = !s(function() {
          f(function() {
          });
        });
        r2(r2.S + r2.F * (l || h), "Reflect", { construct: function(t3, e3) {
          o(t3), a(e3);
          var n3 = arguments.length < 3 ? t3 : o(arguments[2]);
          if (h && !l)
            return f(t3, e3, n3);
          if (t3 == n3) {
            switch (e3.length) {
              case 0:
                return new t3();
              case 1:
                return new t3(e3[0]);
              case 2:
                return new t3(e3[0], e3[1]);
              case 3:
                return new t3(e3[0], e3[1], e3[2]);
              case 4:
                return new t3(e3[0], e3[1], e3[2], e3[3]);
            }
            var r3 = [null];
            return r3.push.apply(r3, e3), new (c.apply(t3, r3))();
          }
          var s2 = n3.prototype, d = i(u(s2) ? s2 : Object.prototype), p = Function.apply.call(t3, d, e3);
          return u(p) ? p : d;
        } });
      }, 3077: (t2, e2, n2) => {
        var r2 = n2(3886), i = n2(7044), o = n2(486), a = n2(4467);
        i(i.S + i.F * n2(5338)(function() {
          Reflect.defineProperty(r2.f({}, 1, { value: 1 }), 1, { value: 2 });
        }), "Reflect", { defineProperty: function(t3, e3, n3) {
          o(t3), e3 = a(e3, true), o(n3);
          try {
            return r2.f(t3, e3, n3), true;
          } catch (t4) {
            return false;
          }
        } });
      }, 1031: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(5385).f, o = n2(486);
        r2(r2.S, "Reflect", { deleteProperty: function(t3, e3) {
          var n3 = i(o(t3), e3);
          return !(n3 && !n3.configurable) && delete t3[e3];
        } });
      }, 8916: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(486), o = function(t3) {
          this._t = i(t3), this._i = 0;
          var e3, n3 = this._k = [];
          for (e3 in t3)
            n3.push(e3);
        };
        n2(4529)(o, "Object", function() {
          var t3, e3 = this, n3 = e3._k;
          do {
            if (e3._i >= n3.length)
              return { value: void 0, done: true };
          } while (!((t3 = n3[e3._i++]) in e3._t));
          return { value: t3, done: false };
        }), r2(r2.S, "Reflect", { enumerate: function(t3) {
          return new o(t3);
        } });
      }, 8531: (t2, e2, n2) => {
        var r2 = n2(5385), i = n2(7044), o = n2(486);
        i(i.S, "Reflect", { getOwnPropertyDescriptor: function(t3, e3) {
          return r2.f(o(t3), e3);
        } });
      }, 7323: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(9881), o = n2(486);
        r2(r2.S, "Reflect", { getPrototypeOf: function(t3) {
          return i(o(t3));
        } });
      }, 8978: (t2, e2, n2) => {
        var r2 = n2(5385), i = n2(9881), o = n2(7384), a = n2(7044), u = n2(1255), s = n2(486);
        a(a.S, "Reflect", { get: function t3(e3, n3) {
          var a2, c, f = arguments.length < 3 ? e3 : arguments[2];
          return s(e3) === f ? e3[n3] : (a2 = r2.f(e3, n3)) ? o(a2, "value") ? a2.value : a2.get !== void 0 ? a2.get.call(f) : void 0 : u(c = i(e3)) ? t3(c, n3, f) : void 0;
        } });
      }, 3704: (t2, e2, n2) => {
        var r2 = n2(7044);
        r2(r2.S, "Reflect", { has: function(t3, e3) {
          return e3 in t3;
        } });
      }, 3153: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(486), o = Object.isExtensible;
        r2(r2.S, "Reflect", { isExtensible: function(t3) {
          return i(t3), !o || o(t3);
        } });
      }, 8812: (t2, e2, n2) => {
        var r2 = n2(7044);
        r2(r2.S, "Reflect", { ownKeys: n2(8125) });
      }, 2636: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(486), o = Object.preventExtensions;
        r2(r2.S, "Reflect", { preventExtensions: function(t3) {
          i(t3);
          try {
            return o && o(t3), true;
          } catch (t4) {
            return false;
          }
        } });
      }, 377: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(473);
        i && r2(r2.S, "Reflect", { setPrototypeOf: function(t3, e3) {
          i.check(t3, e3);
          try {
            return i.set(t3, e3), true;
          } catch (t4) {
            return false;
          }
        } });
      }, 1602: (t2, e2, n2) => {
        var r2 = n2(3886), i = n2(5385), o = n2(9881), a = n2(7384), u = n2(7044), s = n2(8328), c = n2(486), f = n2(1255);
        u(u.S, "Reflect", { set: function t3(e3, n3, u2) {
          var l, h, d = arguments.length < 4 ? e3 : arguments[3], p = i.f(c(e3), n3);
          if (!p) {
            if (f(h = o(e3)))
              return t3(h, n3, u2, d);
            p = s(0);
          }
          if (a(p, "value")) {
            if (p.writable === false || !f(d))
              return false;
            if (l = i.f(d, n3)) {
              if (l.get || l.set || l.writable === false)
                return false;
              l.value = u2, r2.f(d, n3, l);
            } else
              r2.f(d, n3, s(0, u2));
            return true;
          }
          return p.set !== void 0 && (p.set.call(d, u2), true);
        } });
      }, 6668: (t2, e2, n2) => {
        var r2 = n2(7571), i = n2(116), o = n2(3886).f, a = n2(6907).f, u = n2(8990), s = n2(3649), c = r2.RegExp, f = c, l = c.prototype, h = /a/g, d = /a/g, p = new c(h) !== h;
        if (n2(1216) && (!p || n2(5338)(function() {
          return d[n2(341)("match")] = false, c(h) != h || c(d) == d || c(h, "i") != "/a/i";
        }))) {
          c = function(t3, e3) {
            var n3 = this instanceof c, r3 = u(t3), o2 = e3 === void 0;
            return !n3 && r3 && t3.constructor === c && o2 ? t3 : i(p ? new f(r3 && !o2 ? t3.source : t3, e3) : f((r3 = t3 instanceof c) ? t3.source : t3, r3 && o2 ? s.call(t3) : e3), n3 ? this : l, c);
          };
          for (var v = function(t3) {
            t3 in c || o(c, t3, { configurable: true, get: function() {
              return f[t3];
            }, set: function(e3) {
              f[t3] = e3;
            } });
          }, g = a(f), y = 0; g.length > y; )
            v(g[y++]);
          l.constructor = c, c.prototype = l, n2(6476)(r2, "RegExp", c);
        }
        n2(4412)("RegExp");
      }, 7139: (t2, e2, n2) => {
        var r2 = n2(9020);
        n2(7044)({ target: "RegExp", proto: true, forced: r2 !== /./.exec }, { exec: r2 });
      }, 8686: (t2, e2, n2) => {
        n2(1216) && /./g.flags != "g" && n2(3886).f(RegExp.prototype, "flags", { configurable: true, get: n2(3649) });
      }, 5480: (t2, e2, n2) => {
        var r2 = n2(486), i = n2(8087), o = n2(178), a = n2(2968);
        n2(6719)("match", 1, function(t3, e3, n3, u) {
          return [function(n4) {
            var r3 = t3(this), i2 = n4 == null ? void 0 : n4[e3];
            return i2 !== void 0 ? i2.call(n4, r3) : new RegExp(n4)[e3](String(r3));
          }, function(t4) {
            var e4 = u(n3, t4, this);
            if (e4.done)
              return e4.value;
            var s = r2(t4), c = String(this);
            if (!s.global)
              return a(s, c);
            var f = s.unicode;
            s.lastIndex = 0;
            for (var l, h = [], d = 0; (l = a(s, c)) !== null; ) {
              var p = String(l[0]);
              h[d] = p, p === "" && (s.lastIndex = o(c, i(s.lastIndex), f)), d++;
            }
            return d === 0 ? null : h;
          }];
        });
      }, 9121: (t2, e2, n2) => {
        var r2 = n2(486), i = n2(7583), o = n2(8087), a = n2(5845), u = n2(178), s = n2(2968), c = Math.max, f = Math.min, l = Math.floor, h = /\$([$&`']|\d\d?|<[^>]*>)/g, d = /\$([$&`']|\d\d?)/g;
        n2(6719)("replace", 2, function(t3, e3, n3, p) {
          return [function(r3, i2) {
            var o2 = t3(this), a2 = r3 == null ? void 0 : r3[e3];
            return a2 !== void 0 ? a2.call(r3, o2, i2) : n3.call(String(o2), r3, i2);
          }, function(t4, e4) {
            var i2 = p(n3, t4, this, e4);
            if (i2.done)
              return i2.value;
            var l2 = r2(t4), h2 = String(this), d2 = typeof e4 == "function";
            d2 || (e4 = String(e4));
            var g = l2.global;
            if (g) {
              var y = l2.unicode;
              l2.lastIndex = 0;
            }
            for (var m = []; ; ) {
              var b = s(l2, h2);
              if (b === null)
                break;
              if (m.push(b), !g)
                break;
              String(b[0]) === "" && (l2.lastIndex = u(h2, o(l2.lastIndex), y));
            }
            for (var _, x = "", w = 0, E = 0; E < m.length; E++) {
              b = m[E];
              for (var S = String(b[0]), A = c(f(a(b.index), h2.length), 0), T = [], I = 1; I < b.length; I++)
                T.push((_ = b[I]) === void 0 ? _ : String(_));
              var C = b.groups;
              if (d2) {
                var D = [S].concat(T, A, h2);
                C !== void 0 && D.push(C);
                var N = String(e4.apply(void 0, D));
              } else
                N = v(S, h2, A, T, C, e4);
              A >= w && (x += h2.slice(w, A) + N, w = A + S.length);
            }
            return x + h2.slice(w);
          }];
          function v(t4, e4, r3, o2, a2, u2) {
            var s2 = r3 + t4.length, c2 = o2.length, f2 = d;
            return a2 !== void 0 && (a2 = i(a2), f2 = h), n3.call(u2, f2, function(n4, i2) {
              var u3;
              switch (i2.charAt(0)) {
                case "$":
                  return "$";
                case "&":
                  return t4;
                case "`":
                  return e4.slice(0, r3);
                case "'":
                  return e4.slice(s2);
                case "<":
                  u3 = a2[i2.slice(1, -1)];
                  break;
                default:
                  var f3 = +i2;
                  if (f3 === 0)
                    return n4;
                  if (f3 > c2) {
                    var h2 = l(f3 / 10);
                    return h2 === 0 ? n4 : h2 <= c2 ? o2[h2 - 1] === void 0 ? i2.charAt(1) : o2[h2 - 1] + i2.charAt(1) : n4;
                  }
                  u3 = o2[f3 - 1];
              }
              return u3 === void 0 ? "" : u3;
            });
          }
        });
      }, 914: (t2, e2, n2) => {
        var r2 = n2(486), i = n2(6962), o = n2(2968);
        n2(6719)("search", 1, function(t3, e3, n3, a) {
          return [function(n4) {
            var r3 = t3(this), i2 = n4 == null ? void 0 : n4[e3];
            return i2 !== void 0 ? i2.call(n4, r3) : new RegExp(n4)[e3](String(r3));
          }, function(t4) {
            var e4 = a(n3, t4, this);
            if (e4.done)
              return e4.value;
            var u = r2(t4), s = String(this), c = u.lastIndex;
            i(c, 0) || (u.lastIndex = 0);
            var f = o(u, s);
            return i(u.lastIndex, c) || (u.lastIndex = c), f === null ? -1 : f.index;
          }];
        });
      }, 7742: (t2, e2, n2) => {
        var r2 = n2(8990), i = n2(486), o = n2(8713), a = n2(178), u = n2(8087), s = n2(2968), c = n2(9020), f = n2(5338), l = Math.min, h = [].push, d = 4294967295, p = !f(function() {
        });
        n2(6719)("split", 2, function(t3, e3, n3, f2) {
          var v;
          return v = "abbc".split(/(b)*/)[1] == "c" || "test".split(/(?:)/, -1).length != 4 || "ab".split(/(?:ab)*/).length != 2 || ".".split(/(.?)(.?)/).length != 4 || ".".split(/()()/).length > 1 || "".split(/.?/).length ? function(t4, e4) {
            var i2 = String(this);
            if (t4 === void 0 && e4 === 0)
              return [];
            if (!r2(t4))
              return n3.call(i2, t4, e4);
            for (var o2, a2, u2, s2 = [], f3 = (t4.ignoreCase ? "i" : "") + (t4.multiline ? "m" : "") + (t4.unicode ? "u" : "") + (t4.sticky ? "y" : ""), l2 = 0, p2 = e4 === void 0 ? d : e4 >>> 0, v2 = new RegExp(t4.source, f3 + "g"); (o2 = c.call(v2, i2)) && !((a2 = v2.lastIndex) > l2 && (s2.push(i2.slice(l2, o2.index)), o2.length > 1 && o2.index < i2.length && h.apply(s2, o2.slice(1)), u2 = o2[0].length, l2 = a2, s2.length >= p2)); )
              v2.lastIndex === o2.index && v2.lastIndex++;
            return l2 === i2.length ? !u2 && v2.test("") || s2.push("") : s2.push(i2.slice(l2)), s2.length > p2 ? s2.slice(0, p2) : s2;
          } : "0".split(void 0, 0).length ? function(t4, e4) {
            return t4 === void 0 && e4 === 0 ? [] : n3.call(this, t4, e4);
          } : n3, [function(n4, r3) {
            var i2 = t3(this), o2 = n4 == null ? void 0 : n4[e3];
            return o2 !== void 0 ? o2.call(n4, i2, r3) : v.call(String(i2), n4, r3);
          }, function(t4, e4) {
            var r3 = f2(v, t4, this, e4, v !== n3);
            if (r3.done)
              return r3.value;
            var c2 = i(t4), h2 = String(this), g = o(c2, RegExp), y = c2.unicode, m = (c2.ignoreCase ? "i" : "") + (c2.multiline ? "m" : "") + (c2.unicode ? "u" : "") + (p ? "y" : "g"), b = new g(p ? c2 : "^(?:" + c2.source + ")", m), _ = e4 === void 0 ? d : e4 >>> 0;
            if (_ === 0)
              return [];
            if (h2.length === 0)
              return s(b, h2) === null ? [h2] : [];
            for (var x = 0, w = 0, E = []; w < h2.length; ) {
              b.lastIndex = p ? w : 0;
              var S, A = s(b, p ? h2 : h2.slice(w));
              if (A === null || (S = l(u(b.lastIndex + (p ? 0 : w)), h2.length)) === x)
                w = a(h2, w, y);
              else {
                if (E.push(h2.slice(x, w)), E.length === _)
                  return E;
                for (var T = 1; T <= A.length - 1; T++)
                  if (E.push(A[T]), E.length === _)
                    return E;
                w = x = S;
              }
            }
            return E.push(h2.slice(x)), E;
          }];
        });
      }, 6408: (t2, e2, n2) => {
        n2(8686);
        var r2 = n2(486), i = n2(3649), o = n2(1216), a = "toString", u = /./.toString, s = function(t3) {
          n2(6476)(RegExp.prototype, a, t3, true);
        };
        n2(5338)(function() {
          return u.call({ source: "a", flags: "b" }) != "/a/b";
        }) ? s(function() {
          var t3 = r2(this);
          return "/".concat(t3.source, "/", "flags" in t3 ? t3.flags : !o && t3 instanceof RegExp ? i.call(t3) : void 0);
        }) : u.name != a && s(function() {
          return u.call(this);
        });
      }, 429: (t2, e2, n2) => {
        var r2 = n2(3050), i = n2(4664);
        t2.exports = n2(859)("Set", function(t3) {
          return function() {
            return t3(this, arguments.length > 0 ? arguments[0] : void 0);
          };
        }, { add: function(t3) {
          return r2.def(i(this, "Set"), t3 = t3 === 0 ? 0 : t3, t3);
        } }, r2);
      }, 3157: (t2, e2, n2) => {
        n2(5264)("anchor", function(t3) {
          return function(e3) {
            return t3(this, "a", "name", e3);
          };
        });
      }, 9791: (t2, e2, n2) => {
        n2(5264)("big", function(t3) {
          return function() {
            return t3(this, "big", "", "");
          };
        });
      }, 2296: (t2, e2, n2) => {
        n2(5264)("blink", function(t3) {
          return function() {
            return t3(this, "blink", "", "");
          };
        });
      }, 4555: (t2, e2, n2) => {
        n2(5264)("bold", function(t3) {
          return function() {
            return t3(this, "b", "", "");
          };
        });
      }, 8316: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(8016)(false);
        r2(r2.P, "String", { codePointAt: function(t3) {
          return i(this, t3);
        } });
      }, 7937: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(8087), o = n2(5692), a = "endsWith", u = "".endsWith;
        r2(r2.P + r2.F * n2(2910)(a), "String", { endsWith: function(t3) {
          var e3 = o(this, t3, a), n3 = arguments.length > 1 ? arguments[1] : void 0, r3 = i(e3.length), s = n3 === void 0 ? r3 : Math.min(i(n3), r3), c = String(t3);
          return u ? u.call(e3, c, s) : e3.slice(s - c.length, s) === c;
        } });
      }, 6505: (t2, e2, n2) => {
        n2(5264)("fixed", function(t3) {
          return function() {
            return t3(this, "tt", "", "");
          };
        });
      }, 4722: (t2, e2, n2) => {
        n2(5264)("fontcolor", function(t3) {
          return function(e3) {
            return t3(this, "font", "color", e3);
          };
        });
      }, 9713: (t2, e2, n2) => {
        n2(5264)("fontsize", function(t3) {
          return function(e3) {
            return t3(this, "font", "size", e3);
          };
        });
      }, 1028: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(9260), o = String.fromCharCode, a = String.fromCodePoint;
        r2(r2.S + r2.F * (!!a && a.length != 1), "String", { fromCodePoint: function(t3) {
          for (var e3, n3 = [], r3 = arguments.length, a2 = 0; r3 > a2; ) {
            if (e3 = +arguments[a2++], i(e3, 1114111) !== e3)
              throw RangeError(e3 + " is not a valid code point");
            n3.push(e3 < 65536 ? o(e3) : o(55296 + ((e3 -= 65536) >> 10), e3 % 1024 + 56320));
          }
          return n3.join("");
        } });
      }, 637: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(5692), o = "includes";
        r2(r2.P + r2.F * n2(2910)(o), "String", { includes: function(t3) {
          return !!~i(this, t3, o).indexOf(t3, arguments.length > 1 ? arguments[1] : void 0);
        } });
      }, 7392: (t2, e2, n2) => {
        n2(5264)("italics", function(t3) {
          return function() {
            return t3(this, "i", "", "");
          };
        });
      }, 7938: (t2, e2, n2) => {
        var r2 = n2(8016)(true);
        n2(966)(String, "String", function(t3) {
          this._t = String(t3), this._i = 0;
        }, function() {
          var t3, e3 = this._t, n3 = this._i;
          return n3 >= e3.length ? { value: void 0, done: true } : (t3 = r2(e3, n3), this._i += t3.length, { value: t3, done: false });
        });
      }, 4687: (t2, e2, n2) => {
        n2(5264)("link", function(t3) {
          return function(e3) {
            return t3(this, "a", "href", e3);
          };
        });
      }, 6818: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(8182), o = n2(8087);
        r2(r2.S, "String", { raw: function(t3) {
          for (var e3 = i(t3.raw), n3 = o(e3.length), r3 = arguments.length, a = [], u = 0; n3 > u; )
            a.push(String(e3[u++])), u < r3 && a.push(String(arguments[u]));
          return a.join("");
        } });
      }, 8219: (t2, e2, n2) => {
        var r2 = n2(7044);
        r2(r2.P, "String", { repeat: n2(5458) });
      }, 3684: (t2, e2, n2) => {
        n2(5264)("small", function(t3) {
          return function() {
            return t3(this, "small", "", "");
          };
        });
      }, 9029: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(8087), o = n2(5692), a = "startsWith", u = "".startsWith;
        r2(r2.P + r2.F * n2(2910)(a), "String", { startsWith: function(t3) {
          var e3 = o(this, t3, a), n3 = i(Math.min(arguments.length > 1 ? arguments[1] : void 0, e3.length)), r3 = String(t3);
          return u ? u.call(e3, r3, n3) : e3.slice(n3, n3 + r3.length) === r3;
        } });
      }, 3339: (t2, e2, n2) => {
        n2(5264)("strike", function(t3) {
          return function() {
            return t3(this, "strike", "", "");
          };
        });
      }, 4148: (t2, e2, n2) => {
        n2(5264)("sub", function(t3) {
          return function() {
            return t3(this, "sub", "", "");
          };
        });
      }, 7754: (t2, e2, n2) => {
        n2(5264)("sup", function(t3) {
          return function() {
            return t3(this, "sup", "", "");
          };
        });
      }, 5557: (t2, e2, n2) => {
        n2(4961)("trim", function(t3) {
          return function() {
            return t3(this, 3);
          };
        });
      }, 2825: (t2, e2, n2) => {
        var r2 = n2(7571), i = n2(7384), o = n2(1216), a = n2(7044), u = n2(6476), s = n2(4278).KEY, c = n2(5338), f = n2(5570), l = n2(5837), h = n2(4316), d = n2(341), p = n2(7686), v = n2(6262), g = n2(6397), y = n2(7183), m = n2(486), b = n2(1255), _ = n2(7583), x = n2(8182), w = n2(4467), E = n2(8328), S = n2(9055), A = n2(3473), T = n2(5385), I = n2(3844), C = n2(3886), D = n2(9804), N = T.f, k = C.f, R = A.f, O = r2.Symbol, M = r2.JSON, P = M && M.stringify, G = d("_hidden"), L = d("toPrimitive"), U = {}.propertyIsEnumerable, F = f("symbol-registry"), B = f("symbols"), z = f("op-symbols"), j = Object.prototype, W = typeof O == "function" && !!I.f, V = r2.QObject, X = !V || !V.prototype || !V.prototype.findChild, H = o && c(function() {
          return S(k({}, "a", { get: function() {
            return k(this, "a", { value: 7 }).a;
          } })).a != 7;
        }) ? function(t3, e3, n3) {
          var r3 = N(j, e3);
          r3 && delete j[e3], k(t3, e3, n3), r3 && t3 !== j && k(j, e3, r3);
        } : k, q = function(t3) {
          var e3 = B[t3] = S(O.prototype);
          return e3._k = t3, e3;
        }, Y = W && typeof O.iterator == "symbol" ? function(t3) {
          return typeof t3 == "symbol";
        } : function(t3) {
          return t3 instanceof O;
        }, K = function(t3, e3, n3) {
          return t3 === j && K(z, e3, n3), m(t3), e3 = w(e3, true), m(n3), i(B, e3) ? (n3.enumerable ? (i(t3, G) && t3[G][e3] && (t3[G][e3] = false), n3 = S(n3, { enumerable: E(0, false) })) : (i(t3, G) || k(t3, G, E(1, {})), t3[G][e3] = true), H(t3, e3, n3)) : k(t3, e3, n3);
        }, Z = function(t3, e3) {
          m(t3);
          for (var n3, r3 = g(e3 = x(e3)), i2 = 0, o2 = r3.length; o2 > i2; )
            K(t3, n3 = r3[i2++], e3[n3]);
          return t3;
        }, $ = function(t3) {
          var e3 = U.call(this, t3 = w(t3, true));
          return !(this === j && i(B, t3) && !i(z, t3)) && (!(e3 || !i(this, t3) || !i(B, t3) || i(this, G) && this[G][t3]) || e3);
        }, J = function(t3, e3) {
          if (t3 = x(t3), e3 = w(e3, true), t3 !== j || !i(B, e3) || i(z, e3)) {
            var n3 = N(t3, e3);
            return !n3 || !i(B, e3) || i(t3, G) && t3[G][e3] || (n3.enumerable = true), n3;
          }
        }, Q = function(t3) {
          for (var e3, n3 = R(x(t3)), r3 = [], o2 = 0; n3.length > o2; )
            i(B, e3 = n3[o2++]) || e3 == G || e3 == s || r3.push(e3);
          return r3;
        }, tt = function(t3) {
          for (var e3, n3 = t3 === j, r3 = R(n3 ? z : x(t3)), o2 = [], a2 = 0; r3.length > a2; )
            !i(B, e3 = r3[a2++]) || n3 && !i(j, e3) || o2.push(B[e3]);
          return o2;
        };
        W || (O = function() {
          if (this instanceof O)
            throw TypeError("Symbol is not a constructor!");
          var t3 = h(arguments.length > 0 ? arguments[0] : void 0), e3 = function(n3) {
            this === j && e3.call(z, n3), i(this, G) && i(this[G], t3) && (this[G][t3] = false), H(this, t3, E(1, n3));
          };
          return o && X && H(j, t3, { configurable: true, set: e3 }), q(t3);
        }, u(O.prototype, "toString", function() {
          return this._k;
        }), T.f = J, C.f = K, n2(6907).f = A.f = Q, n2(4179).f = $, I.f = tt, o && !n2(2725) && u(j, "propertyIsEnumerable", $, true), p.f = function(t3) {
          return q(d(t3));
        }), a(a.G + a.W + a.F * !W, { Symbol: O });
        for (var et = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), nt = 0; et.length > nt; )
          d(et[nt++]);
        for (var rt = D(d.store), it = 0; rt.length > it; )
          v(rt[it++]);
        a(a.S + a.F * !W, "Symbol", { for: function(t3) {
          return i(F, t3 += "") ? F[t3] : F[t3] = O(t3);
        }, keyFor: function(t3) {
          if (!Y(t3))
            throw TypeError(t3 + " is not a symbol!");
          for (var e3 in F)
            if (F[e3] === t3)
              return e3;
        }, useSetter: function() {
          X = true;
        }, useSimple: function() {
          X = false;
        } }), a(a.S + a.F * !W, "Object", { create: function(t3, e3) {
          return e3 === void 0 ? S(t3) : Z(S(t3), e3);
        }, defineProperty: K, defineProperties: Z, getOwnPropertyDescriptor: J, getOwnPropertyNames: Q, getOwnPropertySymbols: tt });
        var ot = c(function() {
          I.f(1);
        });
        a(a.S + a.F * ot, "Object", { getOwnPropertySymbols: function(t3) {
          return I.f(_(t3));
        } }), M && a(a.S + a.F * (!W || c(function() {
          var t3 = O();
          return P([t3]) != "[null]" || P({ a: t3 }) != "{}" || P(Object(t3)) != "{}";
        })), "JSON", { stringify: function(t3) {
          for (var e3, n3, r3 = [t3], i2 = 1; arguments.length > i2; )
            r3.push(arguments[i2++]);
          if (n3 = e3 = r3[1], (b(e3) || t3 !== void 0) && !Y(t3))
            return y(e3) || (e3 = function(t4, e4) {
              if (typeof n3 == "function" && (e4 = n3.call(this, t4, e4)), !Y(e4))
                return e4;
            }), r3[1] = e3, P.apply(M, r3);
        } }), O.prototype[L] || n2(913)(O.prototype, L, O.prototype.valueOf), l(O, "Symbol"), l(Math, "Math", true), l(r2.JSON, "JSON", true);
      }, 6349: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(604), o = n2(1541), a = n2(486), u = n2(9260), s = n2(8087), c = n2(1255), f = n2(7571).ArrayBuffer, l = n2(8713), h = o.ArrayBuffer, d = o.DataView, p = i.ABV && f.isView, v = h.prototype.slice, g = i.VIEW, y = "ArrayBuffer";
        r2(r2.G + r2.W + r2.F * (f !== h), { ArrayBuffer: h }), r2(r2.S + r2.F * !i.CONSTR, y, { isView: function(t3) {
          return p && p(t3) || c(t3) && g in t3;
        } }), r2(r2.P + r2.U + r2.F * n2(5338)(function() {
          return !new h(2).slice(1, void 0).byteLength;
        }), y, { slice: function(t3, e3) {
          if (v !== void 0 && e3 === void 0)
            return v.call(a(this), t3);
          for (var n3 = a(this).byteLength, r3 = u(t3, n3), i2 = u(e3 === void 0 ? n3 : e3, n3), o2 = new (l(this, h))(s(i2 - r3)), c2 = new d(this), f2 = new d(o2), p2 = 0; r3 < i2; )
            f2.setUint8(p2++, c2.getUint8(r3++));
          return o2;
        } }), n2(4412)(y);
      }, 3742: (t2, e2, n2) => {
        var r2 = n2(7044);
        r2(r2.G + r2.W + r2.F * !n2(604).ABV, { DataView: n2(1541).DataView });
      }, 3421: (t2, e2, n2) => {
        n2(1063)("Float32", 4, function(t3) {
          return function(e3, n3, r2) {
            return t3(this, e3, n3, r2);
          };
        });
      }, 6144: (t2, e2, n2) => {
        n2(1063)("Float64", 8, function(t3) {
          return function(e3, n3, r2) {
            return t3(this, e3, n3, r2);
          };
        });
      }, 9363: (t2, e2, n2) => {
        n2(1063)("Int16", 2, function(t3) {
          return function(e3, n3, r2) {
            return t3(this, e3, n3, r2);
          };
        });
      }, 8632: (t2, e2, n2) => {
        n2(1063)("Int32", 4, function(t3) {
          return function(e3, n3, r2) {
            return t3(this, e3, n3, r2);
          };
        });
      }, 9604: (t2, e2, n2) => {
        n2(1063)("Int8", 1, function(t3) {
          return function(e3, n3, r2) {
            return t3(this, e3, n3, r2);
          };
        });
      }, 3871: (t2, e2, n2) => {
        n2(1063)("Uint16", 2, function(t3) {
          return function(e3, n3, r2) {
            return t3(this, e3, n3, r2);
          };
        });
      }, 1838: (t2, e2, n2) => {
        n2(1063)("Uint32", 4, function(t3) {
          return function(e3, n3, r2) {
            return t3(this, e3, n3, r2);
          };
        });
      }, 2592: (t2, e2, n2) => {
        n2(1063)("Uint8", 1, function(t3) {
          return function(e3, n3, r2) {
            return t3(this, e3, n3, r2);
          };
        });
      }, 9290: (t2, e2, n2) => {
        n2(1063)("Uint8", 1, function(t3) {
          return function(e3, n3, r2) {
            return t3(this, e3, n3, r2);
          };
        }, true);
      }, 2214: (t2, e2, n2) => {
        var r2, i = n2(7571), o = n2(7622)(0), a = n2(6476), u = n2(4278), s = n2(4643), c = n2(1990), f = n2(1255), l = n2(4664), h = n2(4664), d = !i.ActiveXObject && "ActiveXObject" in i, p = "WeakMap", v = u.getWeak, g = Object.isExtensible, y = c.ufstore, m = function(t3) {
          return function() {
            return t3(this, arguments.length > 0 ? arguments[0] : void 0);
          };
        }, b = { get: function(t3) {
          if (f(t3)) {
            var e3 = v(t3);
            return e3 === true ? y(l(this, p)).get(t3) : e3 ? e3[this._i] : void 0;
          }
        }, set: function(t3, e3) {
          return c.def(l(this, p), t3, e3);
        } }, _ = t2.exports = n2(859)(p, m, b, c, true, true);
        h && d && (s((r2 = c.getConstructor(m, p)).prototype, b), u.NEED = true, o(["delete", "has", "get", "set"], function(t3) {
          var e3 = _.prototype, n3 = e3[t3];
          a(e3, t3, function(e4, i2) {
            if (f(e4) && !g(e4)) {
              this._f || (this._f = new r2());
              var o2 = this._f[t3](e4, i2);
              return t3 == "set" ? this : o2;
            }
            return n3.call(this, e4, i2);
          });
        }));
      }, 498: (t2, e2, n2) => {
        var r2 = n2(1990), i = n2(4664), o = "WeakSet";
        n2(859)(o, function(t3) {
          return function() {
            return t3(this, arguments.length > 0 ? arguments[0] : void 0);
          };
        }, { add: function(t3) {
          return r2.def(i(this, o), t3, true);
        } }, r2, false, true);
      }, 7744: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(6806), o = n2(7583), a = n2(8087), u = n2(1464), s = n2(6699);
        r2(r2.P, "Array", { flatMap: function(t3) {
          var e3, n3, r3 = o(this);
          return u(t3), e3 = a(r3.length), n3 = s(r3, 0), i(n3, r3, r3, e3, 0, 1, t3, arguments[1]), n3;
        } }), n2(4691)("flatMap");
      }, 5448: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(4538)(true);
        r2(r2.P, "Array", { includes: function(t3) {
          return i(this, t3, arguments.length > 1 ? arguments[1] : void 0);
        } }), n2(4691)("includes");
      }, 8938: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(6460)(true);
        r2(r2.S, "Object", { entries: function(t3) {
          return i(t3);
        } });
      }, 7819: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(8125), o = n2(8182), a = n2(5385), u = n2(1395);
        r2(r2.S, "Object", { getOwnPropertyDescriptors: function(t3) {
          for (var e3, n3, r3 = o(t3), s = a.f, c = i(r3), f = {}, l = 0; c.length > l; )
            (n3 = s(r3, e3 = c[l++])) !== void 0 && u(f, e3, n3);
          return f;
        } });
      }, 6572: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(6460)(false);
        r2(r2.S, "Object", { values: function(t3) {
          return i(t3);
        } });
      }, 8228: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(2845), o = n2(7571), a = n2(8713), u = n2(909);
        r2(r2.P + r2.R, "Promise", { finally: function(t3) {
          var e3 = a(this, i.Promise || o.Promise), n3 = typeof t3 == "function";
          return this.then(n3 ? function(n4) {
            return u(e3, t3()).then(function() {
              return n4;
            });
          } : t3, n3 ? function(n4) {
            return u(e3, t3()).then(function() {
              throw n4;
            });
          } : t3);
        } });
      }, 3336: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(8261), o = n2(2541), a = /Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);
        r2(r2.P + r2.F * a, "String", { padEnd: function(t3) {
          return i(this, t3, arguments.length > 1 ? arguments[1] : void 0, false);
        } });
      }, 3718: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(8261), o = n2(2541), a = /Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);
        r2(r2.P + r2.F * a, "String", { padStart: function(t3) {
          return i(this, t3, arguments.length > 1 ? arguments[1] : void 0, true);
        } });
      }, 7831: (t2, e2, n2) => {
        n2(4961)("trimLeft", function(t3) {
          return function() {
            return t3(this, 1);
          };
        }, "trimStart");
      }, 6642: (t2, e2, n2) => {
        n2(4961)("trimRight", function(t3) {
          return function() {
            return t3(this, 2);
          };
        }, "trimEnd");
      }, 9956: (t2, e2, n2) => {
        n2(6262)("asyncIterator");
      }, 4367: (t2, e2, n2) => {
        for (var r2 = n2(163), i = n2(9804), o = n2(6476), a = n2(7571), u = n2(913), s = n2(9740), c = n2(341), f = c("iterator"), l = c("toStringTag"), h = s.Array, d = { CSSRuleList: true, CSSStyleDeclaration: false, CSSValueList: false, ClientRectList: false, DOMRectList: false, DOMStringList: false, DOMTokenList: true, DataTransferItemList: false, FileList: false, HTMLAllCollection: false, HTMLCollection: false, HTMLFormElement: false, HTMLSelectElement: false, MediaList: true, MimeTypeArray: false, NamedNodeMap: false, NodeList: true, PaintRequestList: false, Plugin: false, PluginArray: false, SVGLengthList: false, SVGNumberList: false, SVGPathSegList: false, SVGPointList: false, SVGStringList: false, SVGTransformList: false, SourceBufferList: false, StyleSheetList: true, TextTrackCueList: false, TextTrackList: false, TouchList: false }, p = i(d), v = 0; v < p.length; v++) {
          var g, y = p[v], m = d[y], b = a[y], _ = b && b.prototype;
          if (_ && (_[f] || u(_, f, h), _[l] || u(_, l, y), s[y] = h, m))
            for (g in r2)
              _[g] || o(_, g, r2[g], true);
        }
      }, 4433: (t2, e2, n2) => {
        var r2 = n2(7044), i = n2(7225);
        r2(r2.G + r2.B, { setImmediate: i.set, clearImmediate: i.clear });
      }, 110: (t2, e2, n2) => {
        var r2 = n2(7571), i = n2(7044), o = n2(2541), a = [].slice, u = /MSIE .\./.test(o), s = function(t3) {
          return function(e3, n3) {
            var r3 = arguments.length > 2, i2 = !!r3 && a.call(arguments, 2);
            return t3(r3 ? function() {
              (typeof e3 == "function" ? e3 : Function(e3)).apply(this, i2);
            } : e3, n3);
          };
        };
        i(i.G + i.B + i.F * u, { setTimeout: s(r2.setTimeout), setInterval: s(r2.setInterval) });
      }, 4962: (t2, e2, n2) => {
        n2(110), n2(4433), n2(4367), t2.exports = n2(2845);
      }, 5229: (t2) => {
        t2.exports = function(t3, e2, n2) {
          return t3[0] = e2[0] + n2[0], t3[1] = e2[1] + n2[1], t3;
        };
      }, 8356: (t2) => {
        t2.exports = function(t3, e2) {
          return t3[0] = Math.ceil(e2[0]), t3[1] = Math.ceil(e2[1]), t3;
        };
      }, 5375: (t2) => {
        t2.exports = function(t3) {
          var e2 = new Float32Array(2);
          return e2[0] = t3[0], e2[1] = t3[1], e2;
        };
      }, 3422: (t2) => {
        t2.exports = function(t3, e2) {
          return t3[0] = e2[0], t3[1] = e2[1], t3;
        };
      }, 5128: (t2) => {
        t2.exports = function() {
          var t3 = new Float32Array(2);
          return t3[0] = 0, t3[1] = 0, t3;
        };
      }, 134: (t2) => {
        t2.exports = function(t3, e2, n2) {
          var r2 = e2[0] * n2[1] - e2[1] * n2[0];
          return t3[0] = t3[1] = 0, t3[2] = r2, t3;
        };
      }, 7223: (t2, e2, n2) => {
        t2.exports = n2(2274);
      }, 2274: (t2) => {
        t2.exports = function(t3, e2) {
          var n2 = e2[0] - t3[0], r2 = e2[1] - t3[1];
          return Math.sqrt(n2 * n2 + r2 * r2);
        };
      }, 6770: (t2, e2, n2) => {
        t2.exports = n2(236);
      }, 236: (t2) => {
        t2.exports = function(t3, e2, n2) {
          return t3[0] = e2[0] / n2[0], t3[1] = e2[1] / n2[1], t3;
        };
      }, 6064: (t2) => {
        t2.exports = function(t3, e2) {
          return t3[0] * e2[0] + t3[1] * e2[1];
        };
      }, 2157: (t2) => {
        t2.exports = 1e-6;
      }, 6922: (t2, e2, n2) => {
        t2.exports = function(t3, e3) {
          var n3 = t3[0], i = t3[1], o = e3[0], a = e3[1];
          return Math.abs(n3 - o) <= r2 * Math.max(1, Math.abs(n3), Math.abs(o)) && Math.abs(i - a) <= r2 * Math.max(1, Math.abs(i), Math.abs(a));
        };
        var r2 = n2(2157);
      }, 6066: (t2) => {
        t2.exports = function(t3, e2) {
          return t3[0] === e2[0] && t3[1] === e2[1];
        };
      }, 4860: (t2) => {
        t2.exports = function(t3, e2) {
          return t3[0] = Math.floor(e2[0]), t3[1] = Math.floor(e2[1]), t3;
        };
      }, 7395: (t2, e2, n2) => {
        t2.exports = function(t3, e3, n3, i, o, a) {
          var u, s;
          for (e3 || (e3 = 2), n3 || (n3 = 0), s = i ? Math.min(i * e3 + n3, t3.length) : t3.length, u = n3; u < s; u += e3)
            r2[0] = t3[u], r2[1] = t3[u + 1], o(r2, r2, a), t3[u] = r2[0], t3[u + 1] = r2[1];
          return t3;
        };
        var r2 = n2(5128)();
      }, 4697: (t2) => {
        t2.exports = function(t3, e2) {
          var n2 = new Float32Array(2);
          return n2[0] = t3, n2[1] = e2, n2;
        };
      }, 7801: (t2, e2, n2) => {
        t2.exports = { EPSILON: n2(2157), create: n2(5128), clone: n2(5375), fromValues: n2(4697), copy: n2(3422), set: n2(6765), equals: n2(6922), exactEquals: n2(6066), add: n2(5229), subtract: n2(4186), sub: n2(5302), multiply: n2(3848), mul: n2(1665), divide: n2(236), div: n2(6770), inverse: n2(1873), min: n2(6780), max: n2(9564), rotate: n2(8615), floor: n2(4860), ceil: n2(8356), round: n2(7313), scale: n2(6526), scaleAndAdd: n2(7781), distance: n2(2274), dist: n2(7223), squaredDistance: n2(6534), sqrDist: n2(4969), length: n2(360), len: n2(2256), squaredLength: n2(5476), sqrLen: n2(508), negate: n2(388), normalize: n2(5927), dot: n2(6064), cross: n2(134), lerp: n2(1099), random: n2(679), transformMat2: n2(367), transformMat2d: n2(655), transformMat3: n2(2730), transformMat4: n2(4020), forEach: n2(7395), limit: n2(8709) };
      }, 1873: (t2) => {
        t2.exports = function(t3, e2) {
          return t3[0] = 1 / e2[0], t3[1] = 1 / e2[1], t3;
        };
      }, 2256: (t2, e2, n2) => {
        t2.exports = n2(360);
      }, 360: (t2) => {
        t2.exports = function(t3) {
          var e2 = t3[0], n2 = t3[1];
          return Math.sqrt(e2 * e2 + n2 * n2);
        };
      }, 1099: (t2) => {
        t2.exports = function(t3, e2, n2, r2) {
          var i = e2[0], o = e2[1];
          return t3[0] = i + r2 * (n2[0] - i), t3[1] = o + r2 * (n2[1] - o), t3;
        };
      }, 8709: (t2) => {
        t2.exports = function(t3, e2, n2) {
          var r2 = e2[0] * e2[0] + e2[1] * e2[1];
          if (r2 > n2 * n2) {
            var i = Math.sqrt(r2);
            t3[0] = e2[0] / i * n2, t3[1] = e2[1] / i * n2;
          } else
            t3[0] = e2[0], t3[1] = e2[1];
          return t3;
        };
      }, 9564: (t2) => {
        t2.exports = function(t3, e2, n2) {
          return t3[0] = Math.max(e2[0], n2[0]), t3[1] = Math.max(e2[1], n2[1]), t3;
        };
      }, 6780: (t2) => {
        t2.exports = function(t3, e2, n2) {
          return t3[0] = Math.min(e2[0], n2[0]), t3[1] = Math.min(e2[1], n2[1]), t3;
        };
      }, 1665: (t2, e2, n2) => {
        t2.exports = n2(3848);
      }, 3848: (t2) => {
        t2.exports = function(t3, e2, n2) {
          return t3[0] = e2[0] * n2[0], t3[1] = e2[1] * n2[1], t3;
        };
      }, 388: (t2) => {
        t2.exports = function(t3, e2) {
          return t3[0] = -e2[0], t3[1] = -e2[1], t3;
        };
      }, 5927: (t2) => {
        t2.exports = function(t3, e2) {
          var n2 = e2[0], r2 = e2[1], i = n2 * n2 + r2 * r2;
          return i > 0 && (i = 1 / Math.sqrt(i), t3[0] = e2[0] * i, t3[1] = e2[1] * i), t3;
        };
      }, 679: (t2) => {
        t2.exports = function(t3, e2) {
          e2 = e2 || 1;
          var n2 = 2 * Math.random() * Math.PI;
          return t3[0] = Math.cos(n2) * e2, t3[1] = Math.sin(n2) * e2, t3;
        };
      }, 8615: (t2) => {
        t2.exports = function(t3, e2, n2) {
          var r2 = Math.cos(n2), i = Math.sin(n2), o = e2[0], a = e2[1];
          return t3[0] = o * r2 - a * i, t3[1] = o * i + a * r2, t3;
        };
      }, 7313: (t2) => {
        t2.exports = function(t3, e2) {
          return t3[0] = Math.round(e2[0]), t3[1] = Math.round(e2[1]), t3;
        };
      }, 6526: (t2) => {
        t2.exports = function(t3, e2, n2) {
          return t3[0] = e2[0] * n2, t3[1] = e2[1] * n2, t3;
        };
      }, 7781: (t2) => {
        t2.exports = function(t3, e2, n2, r2) {
          return t3[0] = e2[0] + n2[0] * r2, t3[1] = e2[1] + n2[1] * r2, t3;
        };
      }, 6765: (t2) => {
        t2.exports = function(t3, e2, n2) {
          return t3[0] = e2, t3[1] = n2, t3;
        };
      }, 4969: (t2, e2, n2) => {
        t2.exports = n2(6534);
      }, 508: (t2, e2, n2) => {
        t2.exports = n2(5476);
      }, 6534: (t2) => {
        t2.exports = function(t3, e2) {
          var n2 = e2[0] - t3[0], r2 = e2[1] - t3[1];
          return n2 * n2 + r2 * r2;
        };
      }, 5476: (t2) => {
        t2.exports = function(t3) {
          var e2 = t3[0], n2 = t3[1];
          return e2 * e2 + n2 * n2;
        };
      }, 5302: (t2, e2, n2) => {
        t2.exports = n2(4186);
      }, 4186: (t2) => {
        t2.exports = function(t3, e2, n2) {
          return t3[0] = e2[0] - n2[0], t3[1] = e2[1] - n2[1], t3;
        };
      }, 367: (t2) => {
        t2.exports = function(t3, e2, n2) {
          var r2 = e2[0], i = e2[1];
          return t3[0] = n2[0] * r2 + n2[2] * i, t3[1] = n2[1] * r2 + n2[3] * i, t3;
        };
      }, 655: (t2) => {
        t2.exports = function(t3, e2, n2) {
          var r2 = e2[0], i = e2[1];
          return t3[0] = n2[0] * r2 + n2[2] * i + n2[4], t3[1] = n2[1] * r2 + n2[3] * i + n2[5], t3;
        };
      }, 2730: (t2) => {
        t2.exports = function(t3, e2, n2) {
          var r2 = e2[0], i = e2[1];
          return t3[0] = n2[0] * r2 + n2[3] * i + n2[6], t3[1] = n2[1] * r2 + n2[4] * i + n2[7], t3;
        };
      }, 4020: (t2) => {
        t2.exports = function(t3, e2, n2) {
          var r2 = e2[0], i = e2[1];
          return t3[0] = n2[0] * r2 + n2[4] * i + n2[12], t3[1] = n2[1] * r2 + n2[5] * i + n2[13], t3;
        };
      }, 3039: (t2, e2) => {
        Object.defineProperty(e2, "__esModule", { value: true });
        var n2 = Symbol.for("INJECTION");
        function r2(t3, e3, r3, i) {
          Object.defineProperty(t3, e3, { configurable: true, enumerable: true, get: function() {
            return i && !Reflect.hasMetadata(n2, this, e3) && Reflect.defineMetadata(n2, r3(), this, e3), Reflect.hasMetadata(n2, this, e3) ? Reflect.getMetadata(n2, this, e3) : r3();
          }, set: function(t4) {
            Reflect.defineMetadata(n2, t4, this, e3);
          } });
        }
        e2.makePropertyInjectDecorator = function(t3, e3) {
          return function(n3) {
            return function(i, o) {
              r2(i, o, function() {
                return t3.get(n3);
              }, e3);
            };
          };
        }, e2.makePropertyInjectNamedDecorator = function(t3, e3) {
          return function(n3, i) {
            return function(o, a) {
              r2(o, a, function() {
                return t3.getNamed(n3, i);
              }, e3);
            };
          };
        }, e2.makePropertyInjectTaggedDecorator = function(t3, e3) {
          return function(n3, i, o) {
            return function(a, u) {
              r2(a, u, function() {
                return t3.getTagged(n3, i, o);
              }, e3);
            };
          };
        }, e2.makePropertyMultiInjectDecorator = function(t3, e3) {
          return function(n3) {
            return function(i, o) {
              r2(i, o, function() {
                return t3.getAll(n3);
              }, e3);
            };
          };
        };
      }, 1922: (t2, e2, n2) => {
        var r2 = n2(3039);
        e2.Z = function(t3, e3) {
          return e3 === void 0 && (e3 = true), { lazyInject: r2.makePropertyInjectDecorator(t3, e3), lazyInjectNamed: r2.makePropertyInjectNamedDecorator(t3, e3), lazyInjectTagged: r2.makePropertyInjectTaggedDecorator(t3, e3), lazyMultiInject: r2.makePropertyMultiInjectDecorator(t3, e3) };
        };
      }, 626: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.tagProperty = e2.tagParameter = e2.decorate = void 0;
        var r2 = n2(6078), i = n2(295);
        function o(t3, e3, n3, i2, o2) {
          var a2 = {}, u2 = typeof o2 == "number", s = o2 !== void 0 && u2 ? o2.toString() : n3;
          if (u2 && n3 !== void 0)
            throw new Error(r2.INVALID_DECORATOR_OPERATION);
          Reflect.hasOwnMetadata(t3, e3) && (a2 = Reflect.getMetadata(t3, e3));
          var c = a2[s];
          if (Array.isArray(c))
            for (var f = 0, l = c; f < l.length; f++) {
              var h = l[f];
              if (h.key === i2.key)
                throw new Error(r2.DUPLICATED_METADATA + " " + h.key.toString());
            }
          else
            c = [];
          c.push(i2), a2[s] = c, Reflect.defineMetadata(t3, a2, e3);
        }
        function a(t3, e3) {
          Reflect.decorate(t3, e3);
        }
        function u(t3, e3) {
          return function(n3, r3) {
            e3(n3, r3, t3);
          };
        }
        e2.tagParameter = function(t3, e3, n3, r3) {
          o(i.TAGGED, t3, e3, r3, n3);
        }, e2.tagProperty = function(t3, e3, n3) {
          o(i.TAGGED_PROP, t3.constructor, e3, n3);
        }, e2.decorate = function(t3, e3, n3) {
          typeof n3 == "number" ? a([u(n3, t3)], e3) : typeof n3 == "string" ? Reflect.decorate([t3], e3, n3) : a([t3], e3);
        };
      }, 6213: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.inject = e2.LazyServiceIdentifer = void 0;
        var r2 = n2(6078), i = n2(295), o = n2(5092), a = n2(626), u = function() {
          function t3(t4) {
            this._cb = t4;
          }
          return t3.prototype.unwrap = function() {
            return this._cb();
          }, t3;
        }();
        e2.LazyServiceIdentifer = u, e2.inject = function(t3) {
          return function(e3, n3, u2) {
            if (t3 === void 0)
              throw new Error(r2.UNDEFINED_INJECT_ANNOTATION(e3.name));
            var s = new o.Metadata(i.INJECT_TAG, t3);
            typeof u2 == "number" ? a.tagParameter(e3, n3, u2, s) : a.tagProperty(e3, n3, s);
          };
        };
      }, 1773: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.injectable = void 0;
        var r2 = n2(6078), i = n2(295);
        e2.injectable = function() {
          return function(t3) {
            if (Reflect.hasOwnMetadata(i.PARAM_TYPES, t3))
              throw new Error(r2.DUPLICATED_INJECTABLE_DECORATOR);
            var e3 = Reflect.getMetadata(i.DESIGN_PARAM_TYPES, t3) || [];
            return Reflect.defineMetadata(i.PARAM_TYPES, e3, t3), t3;
          };
        };
      }, 1528: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.multiInject = void 0;
        var r2 = n2(295), i = n2(5092), o = n2(626);
        e2.multiInject = function(t3) {
          return function(e3, n3, a) {
            var u = new i.Metadata(r2.MULTI_INJECT_TAG, t3);
            typeof a == "number" ? o.tagParameter(e3, n3, a, u) : o.tagProperty(e3, n3, u);
          };
        };
      }, 9817: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.named = void 0;
        var r2 = n2(295), i = n2(5092), o = n2(626);
        e2.named = function(t3) {
          return function(e3, n3, a) {
            var u = new i.Metadata(r2.NAMED_TAG, t3);
            typeof a == "number" ? o.tagParameter(e3, n3, a, u) : o.tagProperty(e3, n3, u);
          };
        };
      }, 1316: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.optional = void 0;
        var r2 = n2(295), i = n2(5092), o = n2(626);
        e2.optional = function() {
          return function(t3, e3, n3) {
            var a = new i.Metadata(r2.OPTIONAL_TAG, true);
            typeof n3 == "number" ? o.tagParameter(t3, e3, n3, a) : o.tagProperty(t3, e3, a);
          };
        };
      }, 1971: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.postConstruct = void 0;
        var r2 = n2(6078), i = n2(295), o = n2(5092);
        e2.postConstruct = function() {
          return function(t3, e3, n3) {
            var a = new o.Metadata(i.POST_CONSTRUCT, e3);
            if (Reflect.hasOwnMetadata(i.POST_CONSTRUCT, t3.constructor))
              throw new Error(r2.MULTIPLE_POST_CONSTRUCT_METHODS);
            Reflect.defineMetadata(i.POST_CONSTRUCT, a, t3.constructor);
          };
        };
      }, 9189: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.tagged = void 0;
        var r2 = n2(5092), i = n2(626);
        e2.tagged = function(t3, e3) {
          return function(n3, o, a) {
            var u = new r2.Metadata(t3, e3);
            typeof a == "number" ? i.tagParameter(n3, o, a, u) : i.tagProperty(n3, o, u);
          };
        };
      }, 8245: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.targetName = void 0;
        var r2 = n2(295), i = n2(5092), o = n2(626);
        e2.targetName = function(t3) {
          return function(e3, n3, a) {
            var u = new i.Metadata(r2.NAME_TAG, t3);
            o.tagParameter(e3, n3, a, u);
          };
        };
      }, 9235: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.unmanaged = void 0;
        var r2 = n2(295), i = n2(5092), o = n2(626);
        e2.unmanaged = function() {
          return function(t3, e3, n3) {
            var a = new i.Metadata(r2.UNMANAGED_TAG, true);
            o.tagParameter(t3, e3, n3, a);
          };
        };
      }, 683: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.Binding = void 0;
        var r2 = n2(7690), i = n2(23), o = function() {
          function t3(t4, e3) {
            this.id = i.id(), this.activated = false, this.serviceIdentifier = t4, this.scope = e3, this.type = r2.BindingTypeEnum.Invalid, this.constraint = function(t5) {
              return true;
            }, this.implementationType = null, this.cache = null, this.factory = null, this.provider = null, this.onActivation = null, this.dynamicValue = null;
          }
          return t3.prototype.clone = function() {
            var e3 = new t3(this.serviceIdentifier, this.scope);
            return e3.activated = e3.scope === r2.BindingScopeEnum.Singleton && this.activated, e3.implementationType = this.implementationType, e3.dynamicValue = this.dynamicValue, e3.scope = this.scope, e3.type = this.type, e3.factory = this.factory, e3.provider = this.provider, e3.constraint = this.constraint, e3.onActivation = this.onActivation, e3.cache = this.cache, e3;
          }, t3;
        }();
        e2.Binding = o;
      }, 3497: (t2, e2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.BindingCount = void 0, e2.BindingCount = { MultipleBindingsAvailable: 2, NoBindingsAvailable: 0, OnlyOneBindingAvailable: 1 };
      }, 6078: (t2, e2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.STACK_OVERFLOW = e2.CIRCULAR_DEPENDENCY_IN_FACTORY = e2.POST_CONSTRUCT_ERROR = e2.MULTIPLE_POST_CONSTRUCT_METHODS = e2.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK = e2.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE = e2.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE = e2.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT = e2.ARGUMENTS_LENGTH_MISMATCH = e2.INVALID_DECORATOR_OPERATION = e2.INVALID_TO_SELF_VALUE = e2.INVALID_FUNCTION_BINDING = e2.INVALID_MIDDLEWARE_RETURN = e2.NO_MORE_SNAPSHOTS_AVAILABLE = e2.INVALID_BINDING_TYPE = e2.NOT_IMPLEMENTED = e2.CIRCULAR_DEPENDENCY = e2.UNDEFINED_INJECT_ANNOTATION = e2.MISSING_INJECT_ANNOTATION = e2.MISSING_INJECTABLE_ANNOTATION = e2.NOT_REGISTERED = e2.CANNOT_UNBIND = e2.AMBIGUOUS_MATCH = e2.KEY_NOT_FOUND = e2.NULL_ARGUMENT = e2.DUPLICATED_METADATA = e2.DUPLICATED_INJECTABLE_DECORATOR = void 0, e2.DUPLICATED_INJECTABLE_DECORATOR = "Cannot apply @injectable decorator multiple times.", e2.DUPLICATED_METADATA = "Metadata key was used more than once in a parameter:", e2.NULL_ARGUMENT = "NULL argument", e2.KEY_NOT_FOUND = "Key Not Found", e2.AMBIGUOUS_MATCH = "Ambiguous match found for serviceIdentifier:", e2.CANNOT_UNBIND = "Could not unbind serviceIdentifier:", e2.NOT_REGISTERED = "No matching bindings found for serviceIdentifier:", e2.MISSING_INJECTABLE_ANNOTATION = "Missing required @injectable annotation in:", e2.MISSING_INJECT_ANNOTATION = "Missing required @inject or @multiInject annotation in:", e2.UNDEFINED_INJECT_ANNOTATION = function(t3) {
          return "@inject called with undefined this could mean that the class " + t3 + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";
        }, e2.CIRCULAR_DEPENDENCY = "Circular dependency found:", e2.NOT_IMPLEMENTED = "Sorry, this feature is not fully implemented yet.", e2.INVALID_BINDING_TYPE = "Invalid binding type:", e2.NO_MORE_SNAPSHOTS_AVAILABLE = "No snapshot available to restore.", e2.INVALID_MIDDLEWARE_RETURN = "Invalid return type in middleware. Middleware must return!", e2.INVALID_FUNCTION_BINDING = "Value provided to function binding must be a function!", e2.INVALID_TO_SELF_VALUE = "The toSelf function can only be applied when a constructor is used as service identifier", e2.INVALID_DECORATOR_OPERATION = "The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.", e2.ARGUMENTS_LENGTH_MISMATCH = function() {
          for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
            t3[e3] = arguments[e3];
          return "The number of constructor arguments in the derived class " + t3[0] + " must be >= than the number of constructor arguments of its base class.";
        }, e2.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT = "Invalid Container constructor argument. Container options must be an object.", e2.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE = "Invalid Container option. Default scope must be a string ('singleton' or 'transient').", e2.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE = "Invalid Container option. Auto bind injectable must be a boolean", e2.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK = "Invalid Container option. Skip base check must be a boolean", e2.MULTIPLE_POST_CONSTRUCT_METHODS = "Cannot apply @postConstruct decorator multiple times in the same class", e2.POST_CONSTRUCT_ERROR = function() {
          for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
            t3[e3] = arguments[e3];
          return "@postConstruct error in class " + t3[0] + ": " + t3[1];
        }, e2.CIRCULAR_DEPENDENCY_IN_FACTORY = function() {
          for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
            t3[e3] = arguments[e3];
          return "It looks like there is a circular dependency in one of the '" + t3[0] + "' bindings. Please investigate bindings withservice identifier '" + t3[1] + "'.";
        }, e2.STACK_OVERFLOW = "Maximum call stack size exceeded";
      }, 7690: (t2, e2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.TargetTypeEnum = e2.BindingTypeEnum = e2.BindingScopeEnum = void 0, e2.BindingScopeEnum = { Request: "Request", Singleton: "Singleton", Transient: "Transient" }, e2.BindingTypeEnum = { ConstantValue: "ConstantValue", Constructor: "Constructor", DynamicValue: "DynamicValue", Factory: "Factory", Function: "Function", Instance: "Instance", Invalid: "Invalid", Provider: "Provider" }, e2.TargetTypeEnum = { ClassProperty: "ClassProperty", ConstructorArgument: "ConstructorArgument", Variable: "Variable" };
      }, 295: (t2, e2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.NON_CUSTOM_TAG_KEYS = e2.POST_CONSTRUCT = e2.DESIGN_PARAM_TYPES = e2.PARAM_TYPES = e2.TAGGED_PROP = e2.TAGGED = e2.MULTI_INJECT_TAG = e2.INJECT_TAG = e2.OPTIONAL_TAG = e2.UNMANAGED_TAG = e2.NAME_TAG = e2.NAMED_TAG = void 0, e2.NAMED_TAG = "named", e2.NAME_TAG = "name", e2.UNMANAGED_TAG = "unmanaged", e2.OPTIONAL_TAG = "optional", e2.INJECT_TAG = "inject", e2.MULTI_INJECT_TAG = "multi_inject", e2.TAGGED = "inversify:tagged", e2.TAGGED_PROP = "inversify:tagged_props", e2.PARAM_TYPES = "inversify:paramtypes", e2.DESIGN_PARAM_TYPES = "design:paramtypes", e2.POST_CONSTRUCT = "post_construct", e2.NON_CUSTOM_TAG_KEYS = [e2.INJECT_TAG, e2.MULTI_INJECT_TAG, e2.NAME_TAG, e2.UNMANAGED_TAG, e2.NAMED_TAG, e2.OPTIONAL_TAG];
      }, 596: function(t2, e2, n2) {
        var r2 = this && this.__awaiter || function(t3, e3, n3, r3) {
          return new (n3 || (n3 = Promise))(function(i2, o2) {
            function a2(t4) {
              try {
                s2(r3.next(t4));
              } catch (t5) {
                o2(t5);
              }
            }
            function u2(t4) {
              try {
                s2(r3.throw(t4));
              } catch (t5) {
                o2(t5);
              }
            }
            function s2(t4) {
              var e4;
              t4.done ? i2(t4.value) : (e4 = t4.value, e4 instanceof n3 ? e4 : new n3(function(t5) {
                t5(e4);
              })).then(a2, u2);
            }
            s2((r3 = r3.apply(t3, e3 || [])).next());
          });
        }, i = this && this.__generator || function(t3, e3) {
          var n3, r3, i2, o2, a2 = { label: 0, sent: function() {
            if (1 & i2[0])
              throw i2[1];
            return i2[1];
          }, trys: [], ops: [] };
          return o2 = { next: u2(0), throw: u2(1), return: u2(2) }, typeof Symbol == "function" && (o2[Symbol.iterator] = function() {
            return this;
          }), o2;
          function u2(o3) {
            return function(u3) {
              return function(o4) {
                if (n3)
                  throw new TypeError("Generator is already executing.");
                for (; a2; )
                  try {
                    if (n3 = 1, r3 && (i2 = 2 & o4[0] ? r3.return : o4[0] ? r3.throw || ((i2 = r3.return) && i2.call(r3), 0) : r3.next) && !(i2 = i2.call(r3, o4[1])).done)
                      return i2;
                    switch (r3 = 0, i2 && (o4 = [2 & o4[0], i2.value]), o4[0]) {
                      case 0:
                      case 1:
                        i2 = o4;
                        break;
                      case 4:
                        return a2.label++, { value: o4[1], done: false };
                      case 5:
                        a2.label++, r3 = o4[1], o4 = [0];
                        continue;
                      case 7:
                        o4 = a2.ops.pop(), a2.trys.pop();
                        continue;
                      default:
                        if (!((i2 = (i2 = a2.trys).length > 0 && i2[i2.length - 1]) || o4[0] !== 6 && o4[0] !== 2)) {
                          a2 = 0;
                          continue;
                        }
                        if (o4[0] === 3 && (!i2 || o4[1] > i2[0] && o4[1] < i2[3])) {
                          a2.label = o4[1];
                          break;
                        }
                        if (o4[0] === 6 && a2.label < i2[1]) {
                          a2.label = i2[1], i2 = o4;
                          break;
                        }
                        if (i2 && a2.label < i2[2]) {
                          a2.label = i2[2], a2.ops.push(o4);
                          break;
                        }
                        i2[2] && a2.ops.pop(), a2.trys.pop();
                        continue;
                    }
                    o4 = e3.call(t3, a2);
                  } catch (t4) {
                    o4 = [6, t4], r3 = 0;
                  } finally {
                    n3 = i2 = 0;
                  }
                if (5 & o4[0])
                  throw o4[1];
                return { value: o4[0] ? o4[1] : void 0, done: true };
              }([o3, u3]);
            };
          }
        }, o = this && this.__spreadArray || function(t3, e3) {
          for (var n3 = 0, r3 = e3.length, i2 = t3.length; n3 < r3; n3++, i2++)
            t3[i2] = e3[n3];
          return t3;
        };
        Object.defineProperty(e2, "__esModule", { value: true }), e2.Container = void 0;
        var a = n2(683), u = n2(6078), s = n2(7690), c = n2(295), f = n2(3870), l = n2(4142), h = n2(9386), d = n2(3313), p = n2(23), v = n2(9552), g = n2(1878), y = n2(2543), m = function() {
          function t3(t4) {
            this._appliedMiddleware = [];
            var e3 = t4 || {};
            if (typeof e3 != "object")
              throw new Error("" + u.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);
            if (e3.defaultScope === void 0)
              e3.defaultScope = s.BindingScopeEnum.Transient;
            else if (e3.defaultScope !== s.BindingScopeEnum.Singleton && e3.defaultScope !== s.BindingScopeEnum.Transient && e3.defaultScope !== s.BindingScopeEnum.Request)
              throw new Error("" + u.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);
            if (e3.autoBindInjectable === void 0)
              e3.autoBindInjectable = false;
            else if (typeof e3.autoBindInjectable != "boolean")
              throw new Error("" + u.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);
            if (e3.skipBaseClassChecks === void 0)
              e3.skipBaseClassChecks = false;
            else if (typeof e3.skipBaseClassChecks != "boolean")
              throw new Error("" + u.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);
            this.options = { autoBindInjectable: e3.autoBindInjectable, defaultScope: e3.defaultScope, skipBaseClassChecks: e3.skipBaseClassChecks }, this.id = p.id(), this._bindingDictionary = new y.Lookup(), this._snapshots = [], this._middleware = null, this.parent = null, this._metadataReader = new f.MetadataReader();
          }
          return t3.merge = function(e3, n3) {
            for (var r3 = [], i2 = 2; i2 < arguments.length; i2++)
              r3[i2 - 2] = arguments[i2];
            var a2 = new t3(), u2 = o([e3, n3], r3).map(function(t4) {
              return l.getBindingDictionary(t4);
            }), s2 = l.getBindingDictionary(a2);
            function c2(t4, e4) {
              t4.traverse(function(t5, n4) {
                n4.forEach(function(t6) {
                  e4.add(t6.serviceIdentifier, t6.clone());
                });
              });
            }
            return u2.forEach(function(t4) {
              c2(t4, s2);
            }), a2;
          }, t3.prototype.load = function() {
            for (var t4 = [], e3 = 0; e3 < arguments.length; e3++)
              t4[e3] = arguments[e3];
            for (var n3 = this._getContainerModuleHelpersFactory(), r3 = 0, i2 = t4; r3 < i2.length; r3++) {
              var o2 = i2[r3], a2 = n3(o2.id);
              o2.registry(a2.bindFunction, a2.unbindFunction, a2.isboundFunction, a2.rebindFunction);
            }
          }, t3.prototype.loadAsync = function() {
            for (var t4 = [], e3 = 0; e3 < arguments.length; e3++)
              t4[e3] = arguments[e3];
            return r2(this, void 0, void 0, function() {
              var e4, n3, r3, o2, a2;
              return i(this, function(i2) {
                switch (i2.label) {
                  case 0:
                    e4 = this._getContainerModuleHelpersFactory(), n3 = 0, r3 = t4, i2.label = 1;
                  case 1:
                    return n3 < r3.length ? (o2 = r3[n3], a2 = e4(o2.id), [4, o2.registry(a2.bindFunction, a2.unbindFunction, a2.isboundFunction, a2.rebindFunction)]) : [3, 4];
                  case 2:
                    i2.sent(), i2.label = 3;
                  case 3:
                    return n3++, [3, 1];
                  case 4:
                    return [2];
                }
              });
            });
          }, t3.prototype.unload = function() {
            for (var t4 = this, e3 = [], n3 = 0; n3 < arguments.length; n3++)
              e3[n3] = arguments[n3];
            var r3 = function(t5) {
              return function(e4) {
                return e4.moduleId === t5;
              };
            };
            e3.forEach(function(e4) {
              var n4 = r3(e4.id);
              t4._bindingDictionary.removeByCondition(n4);
            });
          }, t3.prototype.bind = function(t4) {
            var e3 = this.options.defaultScope || s.BindingScopeEnum.Transient, n3 = new a.Binding(t4, e3);
            return this._bindingDictionary.add(t4, n3), new d.BindingToSyntax(n3);
          }, t3.prototype.rebind = function(t4) {
            return this.unbind(t4), this.bind(t4);
          }, t3.prototype.unbind = function(t4) {
            try {
              this._bindingDictionary.remove(t4);
            } catch (e3) {
              throw new Error(u.CANNOT_UNBIND + " " + v.getServiceIdentifierAsString(t4));
            }
          }, t3.prototype.unbindAll = function() {
            this._bindingDictionary = new y.Lookup();
          }, t3.prototype.isBound = function(t4) {
            var e3 = this._bindingDictionary.hasKey(t4);
            return !e3 && this.parent && (e3 = this.parent.isBound(t4)), e3;
          }, t3.prototype.isBoundNamed = function(t4, e3) {
            return this.isBoundTagged(t4, c.NAMED_TAG, e3);
          }, t3.prototype.isBoundTagged = function(t4, e3, n3) {
            var r3 = false;
            if (this._bindingDictionary.hasKey(t4)) {
              var i2 = this._bindingDictionary.get(t4), o2 = l.createMockRequest(this, t4, e3, n3);
              r3 = i2.some(function(t5) {
                return t5.constraint(o2);
              });
            }
            return !r3 && this.parent && (r3 = this.parent.isBoundTagged(t4, e3, n3)), r3;
          }, t3.prototype.snapshot = function() {
            this._snapshots.push(g.ContainerSnapshot.of(this._bindingDictionary.clone(), this._middleware));
          }, t3.prototype.restore = function() {
            var t4 = this._snapshots.pop();
            if (t4 === void 0)
              throw new Error(u.NO_MORE_SNAPSHOTS_AVAILABLE);
            this._bindingDictionary = t4.bindings, this._middleware = t4.middleware;
          }, t3.prototype.createChild = function(e3) {
            var n3 = new t3(e3 || this.options);
            return n3.parent = this, n3;
          }, t3.prototype.applyMiddleware = function() {
            for (var t4 = [], e3 = 0; e3 < arguments.length; e3++)
              t4[e3] = arguments[e3];
            this._appliedMiddleware = this._appliedMiddleware.concat(t4);
            var n3 = this._middleware ? this._middleware : this._planAndResolve();
            this._middleware = t4.reduce(function(t5, e4) {
              return e4(t5);
            }, n3);
          }, t3.prototype.applyCustomMetadataReader = function(t4) {
            this._metadataReader = t4;
          }, t3.prototype.get = function(t4) {
            return this._get(false, false, s.TargetTypeEnum.Variable, t4);
          }, t3.prototype.getTagged = function(t4, e3, n3) {
            return this._get(false, false, s.TargetTypeEnum.Variable, t4, e3, n3);
          }, t3.prototype.getNamed = function(t4, e3) {
            return this.getTagged(t4, c.NAMED_TAG, e3);
          }, t3.prototype.getAll = function(t4) {
            return this._get(true, true, s.TargetTypeEnum.Variable, t4);
          }, t3.prototype.getAllTagged = function(t4, e3, n3) {
            return this._get(false, true, s.TargetTypeEnum.Variable, t4, e3, n3);
          }, t3.prototype.getAllNamed = function(t4, e3) {
            return this.getAllTagged(t4, c.NAMED_TAG, e3);
          }, t3.prototype.resolve = function(t4) {
            var e3 = this.createChild();
            return e3.bind(t4).toSelf(), this._appliedMiddleware.forEach(function(t5) {
              e3.applyMiddleware(t5);
            }), e3.get(t4);
          }, t3.prototype._getContainerModuleHelpersFactory = function() {
            var t4 = this, e3 = function(t5, e4) {
              t5._binding.moduleId = e4;
            }, n3 = function(n4) {
              return function(r3) {
                var i2 = t4.rebind.bind(t4)(r3);
                return e3(i2, n4), i2;
              };
            };
            return function(r3) {
              return { bindFunction: (i2 = r3, function(n4) {
                var r4 = t4.bind.bind(t4)(n4);
                return e3(r4, i2), r4;
              }), isboundFunction: function(e4) {
                return t4.isBound.bind(t4)(e4);
              }, rebindFunction: n3(r3), unbindFunction: function(e4) {
                t4.unbind.bind(t4)(e4);
              } };
              var i2;
            };
          }, t3.prototype._get = function(t4, e3, n3, r3, i2, o2) {
            var a2 = null, s2 = { avoidConstraints: t4, contextInterceptor: function(t5) {
              return t5;
            }, isMultiInject: e3, key: i2, serviceIdentifier: r3, targetType: n3, value: o2 };
            if (this._middleware) {
              if ((a2 = this._middleware(s2)) == null)
                throw new Error(u.INVALID_MIDDLEWARE_RETURN);
            } else
              a2 = this._planAndResolve()(s2);
            return a2;
          }, t3.prototype._planAndResolve = function() {
            var t4 = this;
            return function(e3) {
              var n3 = l.plan(t4._metadataReader, t4, e3.isMultiInject, e3.targetType, e3.serviceIdentifier, e3.key, e3.value, e3.avoidConstraints);
              return n3 = e3.contextInterceptor(n3), h.resolve(n3);
            };
          }, t3;
        }();
        e2.Container = m;
      }, 2913: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.AsyncContainerModule = e2.ContainerModule = void 0;
        var r2 = n2(23);
        e2.ContainerModule = function(t3) {
          this.id = r2.id(), this.registry = t3;
        };
        e2.AsyncContainerModule = function(t3) {
          this.id = r2.id(), this.registry = t3;
        };
      }, 1878: (t2, e2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.ContainerSnapshot = void 0;
        var n2 = function() {
          function t3() {
          }
          return t3.of = function(e3, n3) {
            var r2 = new t3();
            return r2.bindings = e3, r2.middleware = n3, r2;
          }, t3;
        }();
        e2.ContainerSnapshot = n2;
      }, 2543: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.Lookup = void 0;
        var r2 = n2(6078), i = function() {
          function t3() {
            this._map = new Map();
          }
          return t3.prototype.getMap = function() {
            return this._map;
          }, t3.prototype.add = function(t4, e3) {
            if (t4 == null)
              throw new Error(r2.NULL_ARGUMENT);
            if (e3 == null)
              throw new Error(r2.NULL_ARGUMENT);
            var n3 = this._map.get(t4);
            n3 !== void 0 ? (n3.push(e3), this._map.set(t4, n3)) : this._map.set(t4, [e3]);
          }, t3.prototype.get = function(t4) {
            if (t4 == null)
              throw new Error(r2.NULL_ARGUMENT);
            var e3 = this._map.get(t4);
            if (e3 !== void 0)
              return e3;
            throw new Error(r2.KEY_NOT_FOUND);
          }, t3.prototype.remove = function(t4) {
            if (t4 == null)
              throw new Error(r2.NULL_ARGUMENT);
            if (!this._map.delete(t4))
              throw new Error(r2.KEY_NOT_FOUND);
          }, t3.prototype.removeByCondition = function(t4) {
            var e3 = this;
            this._map.forEach(function(n3, r3) {
              var i2 = n3.filter(function(e4) {
                return !t4(e4);
              });
              i2.length > 0 ? e3._map.set(r3, i2) : e3._map.delete(r3);
            });
          }, t3.prototype.hasKey = function(t4) {
            if (t4 == null)
              throw new Error(r2.NULL_ARGUMENT);
            return this._map.has(t4);
          }, t3.prototype.clone = function() {
            var e3 = new t3();
            return this._map.forEach(function(t4, n3) {
              t4.forEach(function(t5) {
                return e3.add(n3, t5.clone());
              });
            }), e3;
          }, t3.prototype.traverse = function(t4) {
            this._map.forEach(function(e3, n3) {
              t4(n3, e3);
            });
          }, t3;
        }();
        e2.Lookup = i;
      }, 9311: (t2, e2, n2) => {
        e2.f3 = e2.t6 = e2.b2 = e2.W2 = void 0, n2(295);
        var r2 = n2(596);
        Object.defineProperty(e2, "W2", { enumerable: true, get: function() {
          return r2.Container;
        } });
        n2(7690), n2(2913);
        var i = n2(1773);
        Object.defineProperty(e2, "b2", { enumerable: true, get: function() {
          return i.injectable;
        } });
        n2(9189);
        var o = n2(9817);
        Object.defineProperty(e2, "t6", { enumerable: true, get: function() {
          return o.named;
        } });
        var a = n2(6213);
        Object.defineProperty(e2, "f3", { enumerable: true, get: function() {
          return a.inject;
        } });
        n2(1316), n2(9235), n2(1528), n2(8245), n2(1971), n2(3870), n2(23), n2(626), n2(3140), n2(9552), n2(4384);
      }, 1519: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.Context = void 0;
        var r2 = n2(23), i = function() {
          function t3(t4) {
            this.id = r2.id(), this.container = t4;
          }
          return t3.prototype.addPlan = function(t4) {
            this.plan = t4;
          }, t3.prototype.setCurrentRequest = function(t4) {
            this.currentRequest = t4;
          }, t3;
        }();
        e2.Context = i;
      }, 5092: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.Metadata = void 0;
        var r2 = n2(295), i = function() {
          function t3(t4, e3) {
            this.key = t4, this.value = e3;
          }
          return t3.prototype.toString = function() {
            return this.key === r2.NAMED_TAG ? "named: " + this.value.toString() + " " : "tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";
          }, t3;
        }();
        e2.Metadata = i;
      }, 3870: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.MetadataReader = void 0;
        var r2 = n2(295), i = function() {
          function t3() {
          }
          return t3.prototype.getConstructorMetadata = function(t4) {
            return { compilerGeneratedMetadata: Reflect.getMetadata(r2.PARAM_TYPES, t4), userGeneratedMetadata: Reflect.getMetadata(r2.TAGGED, t4) || {} };
          }, t3.prototype.getPropertiesMetadata = function(t4) {
            return Reflect.getMetadata(r2.TAGGED_PROP, t4) || [];
          }, t3;
        }();
        e2.MetadataReader = i;
      }, 6335: (t2, e2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.Plan = void 0;
        e2.Plan = function(t3, e3) {
          this.parentContext = t3, this.rootRequest = e3;
        };
      }, 4142: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.getBindingDictionary = e2.createMockRequest = e2.plan = void 0;
        var r2 = n2(3497), i = n2(6078), o = n2(7690), a = n2(295), u = n2(2542), s = n2(9552), c = n2(1519), f = n2(5092), l = n2(6335), h = n2(6664), d = n2(4810), p = n2(9660);
        function v(t3) {
          return t3._bindingDictionary;
        }
        function g(t3, e3, n3, o2, a2) {
          var u2, c2 = m(n3.container, a2.serviceIdentifier);
          return c2.length === r2.BindingCount.NoBindingsAvailable && n3.container.options.autoBindInjectable && typeof a2.serviceIdentifier == "function" && t3.getConstructorMetadata(a2.serviceIdentifier).compilerGeneratedMetadata && (n3.container.bind(a2.serviceIdentifier).toSelf(), c2 = m(n3.container, a2.serviceIdentifier)), u2 = e3 ? c2 : c2.filter(function(t4) {
            var e4 = new d.Request(t4.serviceIdentifier, n3, o2, t4, a2);
            return t4.constraint(e4);
          }), function(t4, e4, n4, o3) {
            switch (e4.length) {
              case r2.BindingCount.NoBindingsAvailable:
                if (n4.isOptional())
                  return e4;
                var a3 = s.getServiceIdentifierAsString(t4), u3 = i.NOT_REGISTERED;
                throw u3 += s.listMetadataForTarget(a3, n4), u3 += s.listRegisteredBindingsForServiceIdentifier(o3, a3, m), new Error(u3);
              case r2.BindingCount.OnlyOneBindingAvailable:
                if (!n4.isArray())
                  return e4;
              case r2.BindingCount.MultipleBindingsAvailable:
              default:
                if (n4.isArray())
                  return e4;
                throw a3 = s.getServiceIdentifierAsString(t4), u3 = i.AMBIGUOUS_MATCH + " " + a3, u3 += s.listRegisteredBindingsForServiceIdentifier(o3, a3, m), new Error(u3);
            }
          }(a2.serviceIdentifier, u2, a2, n3.container), u2;
        }
        function y(t3, e3, n3, r3, a2, u2) {
          var s2, c2;
          if (a2 === null) {
            s2 = g(t3, e3, r3, null, u2), c2 = new d.Request(n3, r3, null, s2, u2);
            var f2 = new l.Plan(r3, c2);
            r3.addPlan(f2);
          } else
            s2 = g(t3, e3, r3, a2, u2), c2 = a2.addChildRequest(u2.serviceIdentifier, s2, u2);
          s2.forEach(function(e4) {
            var n4 = null;
            if (u2.isArray())
              n4 = c2.addChildRequest(e4.serviceIdentifier, e4, u2);
            else {
              if (e4.cache)
                return;
              n4 = c2;
            }
            if (e4.type === o.BindingTypeEnum.Instance && e4.implementationType !== null) {
              var a3 = h.getDependencies(t3, e4.implementationType);
              if (!r3.container.options.skipBaseClassChecks) {
                var s3 = h.getBaseClassDependencyCount(t3, e4.implementationType);
                if (a3.length < s3) {
                  var f3 = i.ARGUMENTS_LENGTH_MISMATCH(h.getFunctionName(e4.implementationType));
                  throw new Error(f3);
                }
              }
              a3.forEach(function(e5) {
                y(t3, false, e5.serviceIdentifier, r3, n4, e5);
              });
            }
          });
        }
        function m(t3, e3) {
          var n3 = [], r3 = v(t3);
          return r3.hasKey(e3) ? n3 = r3.get(e3) : t3.parent !== null && (n3 = m(t3.parent, e3)), n3;
        }
        e2.getBindingDictionary = v, e2.plan = function(t3, e3, n3, r3, i2, o2, l2, h2) {
          h2 === void 0 && (h2 = false);
          var d2 = new c.Context(e3), v2 = function(t4, e4, n4, r4, i3, o3) {
            var u2 = t4 ? a.MULTI_INJECT_TAG : a.INJECT_TAG, s2 = new f.Metadata(u2, n4), c2 = new p.Target(e4, "", n4, s2);
            if (i3 !== void 0) {
              var l3 = new f.Metadata(i3, o3);
              c2.metadata.push(l3);
            }
            return c2;
          }(n3, r3, i2, 0, o2, l2);
          try {
            return y(t3, h2, i2, d2, null, v2), d2;
          } catch (t4) {
            throw u.isStackOverflowExeption(t4) && d2.plan && s.circularDependencyToException(d2.plan.rootRequest), t4;
          }
        }, e2.createMockRequest = function(t3, e3, n3, r3) {
          var i2 = new p.Target(o.TargetTypeEnum.Variable, "", e3, new f.Metadata(n3, r3)), a2 = new c.Context(t3);
          return new d.Request(e3, a2, null, [], i2);
        };
      }, 8634: (t2, e2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.QueryableString = void 0;
        var n2 = function() {
          function t3(t4) {
            this.str = t4;
          }
          return t3.prototype.startsWith = function(t4) {
            return this.str.indexOf(t4) === 0;
          }, t3.prototype.endsWith = function(t4) {
            var e3, n3 = t4.split("").reverse().join("");
            return e3 = this.str.split("").reverse().join(""), this.startsWith.call({ str: e3 }, n3);
          }, t3.prototype.contains = function(t4) {
            return this.str.indexOf(t4) !== -1;
          }, t3.prototype.equals = function(t4) {
            return this.str === t4;
          }, t3.prototype.value = function() {
            return this.str;
          }, t3;
        }();
        e2.QueryableString = n2;
      }, 6664: function(t2, e2, n2) {
        var r2 = this && this.__spreadArray || function(t3, e3) {
          for (var n3 = 0, r3 = e3.length, i2 = t3.length; n3 < r3; n3++, i2++)
            t3[i2] = e3[n3];
          return t3;
        };
        Object.defineProperty(e2, "__esModule", { value: true }), e2.getFunctionName = e2.getBaseClassDependencyCount = e2.getDependencies = void 0;
        var i = n2(6213), o = n2(6078), a = n2(7690), u = n2(295), s = n2(9552);
        Object.defineProperty(e2, "getFunctionName", { enumerable: true, get: function() {
          return s.getFunctionName;
        } });
        var c = n2(9660);
        function f(t3, e3, n3, i2) {
          var a2 = t3.getConstructorMetadata(n3), u2 = a2.compilerGeneratedMetadata;
          if (u2 === void 0) {
            var s2 = o.MISSING_INJECTABLE_ANNOTATION + " " + e3 + ".";
            throw new Error(s2);
          }
          var c2 = a2.userGeneratedMetadata, f2 = Object.keys(c2), d2 = n3.length === 0 && f2.length > 0, p = f2.length > n3.length, v = function(t4, e4, n4, r3, i3) {
            for (var o2 = [], a3 = 0; a3 < i3; a3++) {
              var u3 = l(a3, t4, e4, n4, r3);
              u3 !== null && o2.push(u3);
            }
            return o2;
          }(i2, e3, u2, c2, d2 || p ? f2.length : n3.length), g = h(t3, n3);
          return r2(r2([], v), g);
        }
        function l(t3, e3, n3, r3, u2) {
          var s2 = u2[t3.toString()] || [], f2 = d(s2), l2 = f2.unmanaged !== true, h2 = r3[t3];
          if ((h2 = f2.inject || f2.multiInject || h2) instanceof i.LazyServiceIdentifer && (h2 = h2.unwrap()), l2) {
            if (!e3 && (h2 === Object || h2 === Function || h2 === void 0)) {
              var p = o.MISSING_INJECT_ANNOTATION + " argument " + t3 + " in class " + n3 + ".";
              throw new Error(p);
            }
            var v = new c.Target(a.TargetTypeEnum.ConstructorArgument, f2.targetName, h2);
            return v.metadata = s2, v;
          }
          return null;
        }
        function h(t3, e3) {
          for (var n3 = t3.getPropertiesMetadata(e3), i2 = [], o2 = 0, u2 = Object.keys(n3); o2 < u2.length; o2++) {
            var s2 = u2[o2], f2 = n3[s2], l2 = d(n3[s2]), p = l2.targetName || s2, v = l2.inject || l2.multiInject, g = new c.Target(a.TargetTypeEnum.ClassProperty, p, v);
            g.metadata = f2, i2.push(g);
          }
          var y = Object.getPrototypeOf(e3.prototype).constructor;
          if (y !== Object) {
            var m = h(t3, y);
            i2 = r2(r2([], i2), m);
          }
          return i2;
        }
        function d(t3) {
          var e3 = {};
          return t3.forEach(function(t4) {
            e3[t4.key.toString()] = t4.value;
          }), { inject: e3[u.INJECT_TAG], multiInject: e3[u.MULTI_INJECT_TAG], targetName: e3[u.NAME_TAG], unmanaged: e3[u.UNMANAGED_TAG] };
        }
        e2.getDependencies = function(t3, e3) {
          return f(t3, s.getFunctionName(e3), e3, false);
        }, e2.getBaseClassDependencyCount = function t3(e3, n3) {
          var r3 = Object.getPrototypeOf(n3.prototype).constructor;
          if (r3 !== Object) {
            var i2 = f(e3, s.getFunctionName(r3), r3, true), o2 = i2.map(function(t4) {
              return t4.metadata.filter(function(t5) {
                return t5.key === u.UNMANAGED_TAG;
              });
            }), a2 = [].concat.apply([], o2).length, c2 = i2.length - a2;
            return c2 > 0 ? c2 : t3(e3, r3);
          }
          return 0;
        };
      }, 4810: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.Request = void 0;
        var r2 = n2(23), i = function() {
          function t3(t4, e3, n3, i2, o) {
            this.id = r2.id(), this.serviceIdentifier = t4, this.parentContext = e3, this.parentRequest = n3, this.target = o, this.childRequests = [], this.bindings = Array.isArray(i2) ? i2 : [i2], this.requestScope = n3 === null ? new Map() : null;
          }
          return t3.prototype.addChildRequest = function(e3, n3, r3) {
            var i2 = new t3(e3, this.parentContext, this, n3, r3);
            return this.childRequests.push(i2), i2;
          }, t3;
        }();
        e2.Request = i;
      }, 9660: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.Target = void 0;
        var r2 = n2(295), i = n2(23), o = n2(5092), a = n2(8634), u = function() {
          function t3(t4, e3, n3, u2) {
            this.id = i.id(), this.type = t4, this.serviceIdentifier = n3, this.name = new a.QueryableString(e3 || ""), this.metadata = new Array();
            var s = null;
            typeof u2 == "string" ? s = new o.Metadata(r2.NAMED_TAG, u2) : u2 instanceof o.Metadata && (s = u2), s !== null && this.metadata.push(s);
          }
          return t3.prototype.hasTag = function(t4) {
            for (var e3 = 0, n3 = this.metadata; e3 < n3.length; e3++)
              if (n3[e3].key === t4)
                return true;
            return false;
          }, t3.prototype.isArray = function() {
            return this.hasTag(r2.MULTI_INJECT_TAG);
          }, t3.prototype.matchesArray = function(t4) {
            return this.matchesTag(r2.MULTI_INJECT_TAG)(t4);
          }, t3.prototype.isNamed = function() {
            return this.hasTag(r2.NAMED_TAG);
          }, t3.prototype.isTagged = function() {
            return this.metadata.some(function(t4) {
              return r2.NON_CUSTOM_TAG_KEYS.every(function(e3) {
                return t4.key !== e3;
              });
            });
          }, t3.prototype.isOptional = function() {
            return this.matchesTag(r2.OPTIONAL_TAG)(true);
          }, t3.prototype.getNamedTag = function() {
            return this.isNamed() ? this.metadata.filter(function(t4) {
              return t4.key === r2.NAMED_TAG;
            })[0] : null;
          }, t3.prototype.getCustomTags = function() {
            return this.isTagged() ? this.metadata.filter(function(t4) {
              return r2.NON_CUSTOM_TAG_KEYS.every(function(e3) {
                return t4.key !== e3;
              });
            }) : null;
          }, t3.prototype.matchesNamedTag = function(t4) {
            return this.matchesTag(r2.NAMED_TAG)(t4);
          }, t3.prototype.matchesTag = function(t4) {
            var e3 = this;
            return function(n3) {
              for (var r3 = 0, i2 = e3.metadata; r3 < i2.length; r3++) {
                var o2 = i2[r3];
                if (o2.key === t4 && o2.value === n3)
                  return true;
              }
              return false;
            };
          }, t3;
        }();
        e2.Target = u;
      }, 8544: function(t2, e2, n2) {
        var r2 = this && this.__spreadArray || function(t3, e3) {
          for (var n3 = 0, r3 = e3.length, i2 = t3.length; n3 < r3; n3++, i2++)
            t3[i2] = e3[n3];
          return t3;
        };
        Object.defineProperty(e2, "__esModule", { value: true }), e2.resolveInstance = void 0;
        var i = n2(6078), o = n2(7690), a = n2(295);
        e2.resolveInstance = function(t3, e3, n3) {
          var u, s, c = null;
          e3.length > 0 ? (s = e3.filter(function(t4) {
            return t4.target !== null && t4.target.type === o.TargetTypeEnum.ConstructorArgument;
          }).map(n3), c = function(t4, e4, n4) {
            var r3 = e4.filter(function(t5) {
              return t5.target !== null && t5.target.type === o.TargetTypeEnum.ClassProperty;
            }), i2 = r3.map(n4);
            return r3.forEach(function(e5, n5) {
              var r4;
              r4 = e5.target.name.value();
              var o2 = i2[n5];
              t4[r4] = o2;
            }), t4;
          }(c = new ((u = t3).bind.apply(u, r2([void 0], s)))(), e3, n3)) : c = new t3();
          return function(t4, e4) {
            if (Reflect.hasMetadata(a.POST_CONSTRUCT, t4)) {
              var n4 = Reflect.getMetadata(a.POST_CONSTRUCT, t4);
              try {
                e4[n4.value]();
              } catch (e5) {
                throw new Error(i.POST_CONSTRUCT_ERROR(t4.name, e5.message));
              }
            }
          }(t3, c), c;
        };
      }, 9386: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.resolve = void 0;
        var r2 = n2(6078), i = n2(7690), o = n2(2542), a = n2(9552), u = n2(8544), s = function(t3, e3, n3) {
          try {
            return n3();
          } catch (n4) {
            throw o.isStackOverflowExeption(n4) ? new Error(r2.CIRCULAR_DEPENDENCY_IN_FACTORY(t3, e3.toString())) : n4;
          }
        }, c = function(t3) {
          return function(e3) {
            e3.parentContext.setCurrentRequest(e3);
            var n3 = e3.bindings, o2 = e3.childRequests, f = e3.target && e3.target.isArray(), l = !(e3.parentRequest && e3.parentRequest.target && e3.target && e3.parentRequest.target.matchesArray(e3.target.serviceIdentifier));
            if (f && l)
              return o2.map(function(e4) {
                return c(t3)(e4);
              });
            var h = null;
            if (!e3.target.isOptional() || n3.length !== 0) {
              var d = n3[0], p = d.scope === i.BindingScopeEnum.Singleton, v = d.scope === i.BindingScopeEnum.Request;
              if (p && d.activated)
                return d.cache;
              if (v && t3 !== null && t3.has(d.id))
                return t3.get(d.id);
              if (d.type === i.BindingTypeEnum.ConstantValue)
                h = d.cache, d.activated = true;
              else if (d.type === i.BindingTypeEnum.Function)
                h = d.cache, d.activated = true;
              else if (d.type === i.BindingTypeEnum.Constructor)
                h = d.implementationType;
              else if (d.type === i.BindingTypeEnum.DynamicValue && d.dynamicValue !== null)
                h = s("toDynamicValue", d.serviceIdentifier, function() {
                  return d.dynamicValue(e3.parentContext);
                });
              else if (d.type === i.BindingTypeEnum.Factory && d.factory !== null)
                h = s("toFactory", d.serviceIdentifier, function() {
                  return d.factory(e3.parentContext);
                });
              else if (d.type === i.BindingTypeEnum.Provider && d.provider !== null)
                h = s("toProvider", d.serviceIdentifier, function() {
                  return d.provider(e3.parentContext);
                });
              else {
                if (d.type !== i.BindingTypeEnum.Instance || d.implementationType === null) {
                  var g = a.getServiceIdentifierAsString(e3.serviceIdentifier);
                  throw new Error(r2.INVALID_BINDING_TYPE + " " + g);
                }
                h = u.resolveInstance(d.implementationType, o2, c(t3));
              }
              return typeof d.onActivation == "function" && (h = d.onActivation(e3.parentContext, h)), p && (d.cache = h, d.activated = true), v && t3 !== null && !t3.has(d.id) && t3.set(d.id, h), h;
            }
          };
        };
        e2.resolve = function(t3) {
          return c(t3.plan.rootRequest.requestScope)(t3.plan.rootRequest);
        };
      }, 1640: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.BindingInSyntax = void 0;
        var r2 = n2(7690), i = n2(6890), o = function() {
          function t3(t4) {
            this._binding = t4;
          }
          return t3.prototype.inRequestScope = function() {
            return this._binding.scope = r2.BindingScopeEnum.Request, new i.BindingWhenOnSyntax(this._binding);
          }, t3.prototype.inSingletonScope = function() {
            return this._binding.scope = r2.BindingScopeEnum.Singleton, new i.BindingWhenOnSyntax(this._binding);
          }, t3.prototype.inTransientScope = function() {
            return this._binding.scope = r2.BindingScopeEnum.Transient, new i.BindingWhenOnSyntax(this._binding);
          }, t3;
        }();
        e2.BindingInSyntax = o;
      }, 2386: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.BindingInWhenOnSyntax = void 0;
        var r2 = n2(1640), i = n2(8926), o = n2(2700), a = function() {
          function t3(t4) {
            this._binding = t4, this._bindingWhenSyntax = new o.BindingWhenSyntax(this._binding), this._bindingOnSyntax = new i.BindingOnSyntax(this._binding), this._bindingInSyntax = new r2.BindingInSyntax(t4);
          }
          return t3.prototype.inRequestScope = function() {
            return this._bindingInSyntax.inRequestScope();
          }, t3.prototype.inSingletonScope = function() {
            return this._bindingInSyntax.inSingletonScope();
          }, t3.prototype.inTransientScope = function() {
            return this._bindingInSyntax.inTransientScope();
          }, t3.prototype.when = function(t4) {
            return this._bindingWhenSyntax.when(t4);
          }, t3.prototype.whenTargetNamed = function(t4) {
            return this._bindingWhenSyntax.whenTargetNamed(t4);
          }, t3.prototype.whenTargetIsDefault = function() {
            return this._bindingWhenSyntax.whenTargetIsDefault();
          }, t3.prototype.whenTargetTagged = function(t4, e3) {
            return this._bindingWhenSyntax.whenTargetTagged(t4, e3);
          }, t3.prototype.whenInjectedInto = function(t4) {
            return this._bindingWhenSyntax.whenInjectedInto(t4);
          }, t3.prototype.whenParentNamed = function(t4) {
            return this._bindingWhenSyntax.whenParentNamed(t4);
          }, t3.prototype.whenParentTagged = function(t4, e3) {
            return this._bindingWhenSyntax.whenParentTagged(t4, e3);
          }, t3.prototype.whenAnyAncestorIs = function(t4) {
            return this._bindingWhenSyntax.whenAnyAncestorIs(t4);
          }, t3.prototype.whenNoAncestorIs = function(t4) {
            return this._bindingWhenSyntax.whenNoAncestorIs(t4);
          }, t3.prototype.whenAnyAncestorNamed = function(t4) {
            return this._bindingWhenSyntax.whenAnyAncestorNamed(t4);
          }, t3.prototype.whenAnyAncestorTagged = function(t4, e3) {
            return this._bindingWhenSyntax.whenAnyAncestorTagged(t4, e3);
          }, t3.prototype.whenNoAncestorNamed = function(t4) {
            return this._bindingWhenSyntax.whenNoAncestorNamed(t4);
          }, t3.prototype.whenNoAncestorTagged = function(t4, e3) {
            return this._bindingWhenSyntax.whenNoAncestorTagged(t4, e3);
          }, t3.prototype.whenAnyAncestorMatches = function(t4) {
            return this._bindingWhenSyntax.whenAnyAncestorMatches(t4);
          }, t3.prototype.whenNoAncestorMatches = function(t4) {
            return this._bindingWhenSyntax.whenNoAncestorMatches(t4);
          }, t3.prototype.onActivation = function(t4) {
            return this._bindingOnSyntax.onActivation(t4);
          }, t3;
        }();
        e2.BindingInWhenOnSyntax = a;
      }, 8926: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.BindingOnSyntax = void 0;
        var r2 = n2(2700), i = function() {
          function t3(t4) {
            this._binding = t4;
          }
          return t3.prototype.onActivation = function(t4) {
            return this._binding.onActivation = t4, new r2.BindingWhenSyntax(this._binding);
          }, t3;
        }();
        e2.BindingOnSyntax = i;
      }, 3313: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.BindingToSyntax = void 0;
        var r2 = n2(6078), i = n2(7690), o = n2(2386), a = n2(6890), u = function() {
          function t3(t4) {
            this._binding = t4;
          }
          return t3.prototype.to = function(t4) {
            return this._binding.type = i.BindingTypeEnum.Instance, this._binding.implementationType = t4, new o.BindingInWhenOnSyntax(this._binding);
          }, t3.prototype.toSelf = function() {
            if (typeof this._binding.serviceIdentifier != "function")
              throw new Error("" + r2.INVALID_TO_SELF_VALUE);
            var t4 = this._binding.serviceIdentifier;
            return this.to(t4);
          }, t3.prototype.toConstantValue = function(t4) {
            return this._binding.type = i.BindingTypeEnum.ConstantValue, this._binding.cache = t4, this._binding.dynamicValue = null, this._binding.implementationType = null, this._binding.scope = i.BindingScopeEnum.Singleton, new a.BindingWhenOnSyntax(this._binding);
          }, t3.prototype.toDynamicValue = function(t4) {
            return this._binding.type = i.BindingTypeEnum.DynamicValue, this._binding.cache = null, this._binding.dynamicValue = t4, this._binding.implementationType = null, new o.BindingInWhenOnSyntax(this._binding);
          }, t3.prototype.toConstructor = function(t4) {
            return this._binding.type = i.BindingTypeEnum.Constructor, this._binding.implementationType = t4, this._binding.scope = i.BindingScopeEnum.Singleton, new a.BindingWhenOnSyntax(this._binding);
          }, t3.prototype.toFactory = function(t4) {
            return this._binding.type = i.BindingTypeEnum.Factory, this._binding.factory = t4, this._binding.scope = i.BindingScopeEnum.Singleton, new a.BindingWhenOnSyntax(this._binding);
          }, t3.prototype.toFunction = function(t4) {
            if (typeof t4 != "function")
              throw new Error(r2.INVALID_FUNCTION_BINDING);
            var e3 = this.toConstantValue(t4);
            return this._binding.type = i.BindingTypeEnum.Function, this._binding.scope = i.BindingScopeEnum.Singleton, e3;
          }, t3.prototype.toAutoFactory = function(t4) {
            return this._binding.type = i.BindingTypeEnum.Factory, this._binding.factory = function(e3) {
              return function() {
                return e3.container.get(t4);
              };
            }, this._binding.scope = i.BindingScopeEnum.Singleton, new a.BindingWhenOnSyntax(this._binding);
          }, t3.prototype.toProvider = function(t4) {
            return this._binding.type = i.BindingTypeEnum.Provider, this._binding.provider = t4, this._binding.scope = i.BindingScopeEnum.Singleton, new a.BindingWhenOnSyntax(this._binding);
          }, t3.prototype.toService = function(t4) {
            this.toDynamicValue(function(e3) {
              return e3.container.get(t4);
            });
          }, t3;
        }();
        e2.BindingToSyntax = u;
      }, 6890: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.BindingWhenOnSyntax = void 0;
        var r2 = n2(8926), i = n2(2700), o = function() {
          function t3(t4) {
            this._binding = t4, this._bindingWhenSyntax = new i.BindingWhenSyntax(this._binding), this._bindingOnSyntax = new r2.BindingOnSyntax(this._binding);
          }
          return t3.prototype.when = function(t4) {
            return this._bindingWhenSyntax.when(t4);
          }, t3.prototype.whenTargetNamed = function(t4) {
            return this._bindingWhenSyntax.whenTargetNamed(t4);
          }, t3.prototype.whenTargetIsDefault = function() {
            return this._bindingWhenSyntax.whenTargetIsDefault();
          }, t3.prototype.whenTargetTagged = function(t4, e3) {
            return this._bindingWhenSyntax.whenTargetTagged(t4, e3);
          }, t3.prototype.whenInjectedInto = function(t4) {
            return this._bindingWhenSyntax.whenInjectedInto(t4);
          }, t3.prototype.whenParentNamed = function(t4) {
            return this._bindingWhenSyntax.whenParentNamed(t4);
          }, t3.prototype.whenParentTagged = function(t4, e3) {
            return this._bindingWhenSyntax.whenParentTagged(t4, e3);
          }, t3.prototype.whenAnyAncestorIs = function(t4) {
            return this._bindingWhenSyntax.whenAnyAncestorIs(t4);
          }, t3.prototype.whenNoAncestorIs = function(t4) {
            return this._bindingWhenSyntax.whenNoAncestorIs(t4);
          }, t3.prototype.whenAnyAncestorNamed = function(t4) {
            return this._bindingWhenSyntax.whenAnyAncestorNamed(t4);
          }, t3.prototype.whenAnyAncestorTagged = function(t4, e3) {
            return this._bindingWhenSyntax.whenAnyAncestorTagged(t4, e3);
          }, t3.prototype.whenNoAncestorNamed = function(t4) {
            return this._bindingWhenSyntax.whenNoAncestorNamed(t4);
          }, t3.prototype.whenNoAncestorTagged = function(t4, e3) {
            return this._bindingWhenSyntax.whenNoAncestorTagged(t4, e3);
          }, t3.prototype.whenAnyAncestorMatches = function(t4) {
            return this._bindingWhenSyntax.whenAnyAncestorMatches(t4);
          }, t3.prototype.whenNoAncestorMatches = function(t4) {
            return this._bindingWhenSyntax.whenNoAncestorMatches(t4);
          }, t3.prototype.onActivation = function(t4) {
            return this._bindingOnSyntax.onActivation(t4);
          }, t3;
        }();
        e2.BindingWhenOnSyntax = o;
      }, 2700: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.BindingWhenSyntax = void 0;
        var r2 = n2(8926), i = n2(3140), o = function() {
          function t3(t4) {
            this._binding = t4;
          }
          return t3.prototype.when = function(t4) {
            return this._binding.constraint = t4, new r2.BindingOnSyntax(this._binding);
          }, t3.prototype.whenTargetNamed = function(t4) {
            return this._binding.constraint = i.namedConstraint(t4), new r2.BindingOnSyntax(this._binding);
          }, t3.prototype.whenTargetIsDefault = function() {
            return this._binding.constraint = function(t4) {
              return t4.target !== null && !t4.target.isNamed() && !t4.target.isTagged();
            }, new r2.BindingOnSyntax(this._binding);
          }, t3.prototype.whenTargetTagged = function(t4, e3) {
            return this._binding.constraint = i.taggedConstraint(t4)(e3), new r2.BindingOnSyntax(this._binding);
          }, t3.prototype.whenInjectedInto = function(t4) {
            return this._binding.constraint = function(e3) {
              return i.typeConstraint(t4)(e3.parentRequest);
            }, new r2.BindingOnSyntax(this._binding);
          }, t3.prototype.whenParentNamed = function(t4) {
            return this._binding.constraint = function(e3) {
              return i.namedConstraint(t4)(e3.parentRequest);
            }, new r2.BindingOnSyntax(this._binding);
          }, t3.prototype.whenParentTagged = function(t4, e3) {
            return this._binding.constraint = function(n3) {
              return i.taggedConstraint(t4)(e3)(n3.parentRequest);
            }, new r2.BindingOnSyntax(this._binding);
          }, t3.prototype.whenAnyAncestorIs = function(t4) {
            return this._binding.constraint = function(e3) {
              return i.traverseAncerstors(e3, i.typeConstraint(t4));
            }, new r2.BindingOnSyntax(this._binding);
          }, t3.prototype.whenNoAncestorIs = function(t4) {
            return this._binding.constraint = function(e3) {
              return !i.traverseAncerstors(e3, i.typeConstraint(t4));
            }, new r2.BindingOnSyntax(this._binding);
          }, t3.prototype.whenAnyAncestorNamed = function(t4) {
            return this._binding.constraint = function(e3) {
              return i.traverseAncerstors(e3, i.namedConstraint(t4));
            }, new r2.BindingOnSyntax(this._binding);
          }, t3.prototype.whenNoAncestorNamed = function(t4) {
            return this._binding.constraint = function(e3) {
              return !i.traverseAncerstors(e3, i.namedConstraint(t4));
            }, new r2.BindingOnSyntax(this._binding);
          }, t3.prototype.whenAnyAncestorTagged = function(t4, e3) {
            return this._binding.constraint = function(n3) {
              return i.traverseAncerstors(n3, i.taggedConstraint(t4)(e3));
            }, new r2.BindingOnSyntax(this._binding);
          }, t3.prototype.whenNoAncestorTagged = function(t4, e3) {
            return this._binding.constraint = function(n3) {
              return !i.traverseAncerstors(n3, i.taggedConstraint(t4)(e3));
            }, new r2.BindingOnSyntax(this._binding);
          }, t3.prototype.whenAnyAncestorMatches = function(t4) {
            return this._binding.constraint = function(e3) {
              return i.traverseAncerstors(e3, t4);
            }, new r2.BindingOnSyntax(this._binding);
          }, t3.prototype.whenNoAncestorMatches = function(t4) {
            return this._binding.constraint = function(e3) {
              return !i.traverseAncerstors(e3, t4);
            }, new r2.BindingOnSyntax(this._binding);
          }, t3;
        }();
        e2.BindingWhenSyntax = o;
      }, 3140: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.typeConstraint = e2.namedConstraint = e2.taggedConstraint = e2.traverseAncerstors = void 0;
        var r2 = n2(295), i = n2(5092), o = function(t3, e3) {
          var n3 = t3.parentRequest;
          return n3 !== null && (!!e3(n3) || o(n3, e3));
        };
        e2.traverseAncerstors = o;
        var a = function(t3) {
          return function(e3) {
            var n3 = function(n4) {
              return n4 !== null && n4.target !== null && n4.target.matchesTag(t3)(e3);
            };
            return n3.metaData = new i.Metadata(t3, e3), n3;
          };
        };
        e2.taggedConstraint = a;
        var u = a(r2.NAMED_TAG);
        e2.namedConstraint = u, e2.typeConstraint = function(t3) {
          return function(e3) {
            var n3 = null;
            if (e3 !== null) {
              if (n3 = e3.bindings[0], typeof t3 == "string")
                return n3.serviceIdentifier === t3;
              var r3 = e3.bindings[0].implementationType;
              return t3 === r3;
            }
            return false;
          };
        };
      }, 4384: (t2, e2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.multiBindToService = void 0, e2.multiBindToService = function(t3) {
          return function(e3) {
            return function() {
              for (var n2 = [], r2 = 0; r2 < arguments.length; r2++)
                n2[r2] = arguments[r2];
              return n2.forEach(function(n3) {
                return t3.bind(n3).toService(e3);
              });
            };
          };
        };
      }, 2542: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.isStackOverflowExeption = void 0;
        var r2 = n2(6078);
        e2.isStackOverflowExeption = function(t3) {
          return t3 instanceof RangeError || t3.message === r2.STACK_OVERFLOW;
        };
      }, 23: (t2, e2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.id = void 0;
        var n2 = 0;
        e2.id = function() {
          return n2++;
        };
      }, 9552: (t2, e2, n2) => {
        Object.defineProperty(e2, "__esModule", { value: true }), e2.circularDependencyToException = e2.listMetadataForTarget = e2.listRegisteredBindingsForServiceIdentifier = e2.getServiceIdentifierAsString = e2.getFunctionName = void 0;
        var r2 = n2(6078);
        function i(t3) {
          return typeof t3 == "function" ? t3.name : typeof t3 == "symbol" ? t3.toString() : t3;
        }
        function o(t3, e3) {
          return t3.parentRequest !== null && (t3.parentRequest.serviceIdentifier === e3 || o(t3.parentRequest, e3));
        }
        function a(t3) {
          if (t3.name)
            return t3.name;
          var e3 = t3.toString(), n3 = e3.match(/^function\s*([^\s(]+)/);
          return n3 ? n3[1] : "Anonymous function: " + e3;
        }
        e2.getServiceIdentifierAsString = i, e2.listRegisteredBindingsForServiceIdentifier = function(t3, e3, n3) {
          var r3 = "", i2 = n3(t3, e3);
          return i2.length !== 0 && (r3 = "\nRegistered bindings:", i2.forEach(function(t4) {
            var e4 = "Object";
            t4.implementationType !== null && (e4 = a(t4.implementationType)), r3 = r3 + "\n " + e4, t4.constraint.metaData && (r3 = r3 + " - " + t4.constraint.metaData);
          })), r3;
        }, e2.circularDependencyToException = function t3(e3) {
          e3.childRequests.forEach(function(e4) {
            if (o(e4, e4.serviceIdentifier)) {
              var n3 = function(t4) {
                return function t5(e5, n4) {
                  n4 === void 0 && (n4 = []);
                  var r3 = i(e5.serviceIdentifier);
                  return n4.push(r3), e5.parentRequest !== null ? t5(e5.parentRequest, n4) : n4;
                }(t4).reverse().join(" --> ");
              }(e4);
              throw new Error(r2.CIRCULAR_DEPENDENCY + " " + n3);
            }
            t3(e4);
          });
        }, e2.listMetadataForTarget = function(t3, e3) {
          if (e3.isTagged() || e3.isNamed()) {
            var n3 = "", r3 = e3.getNamedTag(), i2 = e3.getCustomTags();
            return r3 !== null && (n3 += r3.toString() + "\n"), i2 !== null && i2.forEach(function(t4) {
              n3 += t4.toString() + "\n";
            }), " " + t3 + "\n " + t3 + " - " + n3;
          }
          return " " + t3;
        }, e2.getFunctionName = a;
      }, 9392: function(t2, e2, n2) {
        var r2;
        t2 = n2.nmd(t2), function() {
          var i, o = "Expected a function", a = "__lodash_hash_undefined__", u = "__lodash_placeholder__", s = 32, c = 128, f = 1 / 0, l = 9007199254740991, h = NaN, d = 4294967295, p = [["ary", c], ["bind", 1], ["bindKey", 2], ["curry", 8], ["curryRight", 16], ["flip", 512], ["partial", s], ["partialRight", 64], ["rearg", 256]], v = "[object Arguments]", g = "[object Array]", y = "[object Boolean]", m = "[object Date]", b = "[object Error]", _ = "[object Function]", x = "[object GeneratorFunction]", w = "[object Map]", E = "[object Number]", S = "[object Object]", A = "[object Promise]", T = "[object RegExp]", I = "[object Set]", C = "[object String]", D = "[object Symbol]", N = "[object WeakMap]", k = "[object ArrayBuffer]", R = "[object DataView]", O = "[object Float32Array]", M = "[object Float64Array]", P = "[object Int8Array]", G = "[object Int16Array]", L = "[object Int32Array]", U = "[object Uint8Array]", F = "[object Uint8ClampedArray]", B = "[object Uint16Array]", z = "[object Uint32Array]", j = /\b__p \+= '';/g, W = /\b(__p \+=) '' \+/g, V = /(__e\(.*?\)|\b__t\)) \+\n'';/g, X = /&(?:amp|lt|gt|quot|#39);/g, H = /[&<>"']/g, q = RegExp(X.source), Y = RegExp(H.source), K = /<%-([\s\S]+?)%>/g, Z = /<%([\s\S]+?)%>/g, $ = /<%=([\s\S]+?)%>/g, J = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, Q = /^\w*$/, tt = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, et = /[\\^$.*+?()[\]{}|]/g, nt = RegExp(et.source), rt = /^\s+/, it = /\s/, ot = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/, at = /\{\n\/\* \[wrapped with (.+)\] \*/, ut = /,? & /, st = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g, ct = /[()=,{}\[\]\/\s]/, ft = /\\(\\)?/g, lt = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g, ht = /\w*$/, dt = /^[-+]0x[0-9a-f]+$/i, pt = /^0b[01]+$/i, vt = /^\[object .+?Constructor\]$/, gt = /^0o[0-7]+$/i, yt = /^(?:0|[1-9]\d*)$/, mt = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g, bt = /($^)/, _t = /['\n\r\u2028\u2029\\]/g, xt = "\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff", wt = "a-z\\xdf-\\xf6\\xf8-\\xff", Et = "A-Z\\xc0-\\xd6\\xd8-\\xde", St = "\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000", At = "[" + St + "]", Tt = "[" + xt + "]", It = "\\d+", Ct = "[" + wt + "]", Dt = "[^\\ud800-\\udfff" + St + It + "\\u2700-\\u27bf" + wt + Et + "]", Nt = "\\ud83c[\\udffb-\\udfff]", kt = "[^\\ud800-\\udfff]", Rt = "(?:\\ud83c[\\udde6-\\uddff]){2}", Ot = "[\\ud800-\\udbff][\\udc00-\\udfff]", Mt = "[" + Et + "]", Pt = "(?:" + Ct + "|" + Dt + ")", Gt = "(?:" + Mt + "|" + Dt + ")", Lt = "(?:['\u2019](?:d|ll|m|re|s|t|ve))?", Ut = "(?:['\u2019](?:D|LL|M|RE|S|T|VE))?", Ft = "(?:" + Tt + "|" + Nt + ")?", Bt = "[\\ufe0e\\ufe0f]?", zt = Bt + Ft + "(?:\\u200d(?:" + [kt, Rt, Ot].join("|") + ")" + Bt + Ft + ")*", jt = "(?:" + ["[\\u2700-\\u27bf]", Rt, Ot].join("|") + ")" + zt, Wt = "(?:" + [kt + Tt + "?", Tt, Rt, Ot, "[\\ud800-\\udfff]"].join("|") + ")", Vt = RegExp("['\u2019]", "g"), Xt = RegExp(Tt, "g"), Ht = RegExp(Nt + "(?=" + Nt + ")|" + Wt + zt, "g"), qt = RegExp([Mt + "?" + Ct + "+" + Lt + "(?=" + [At, Mt, "$"].join("|") + ")", Gt + "+" + Ut + "(?=" + [At, Mt + Pt, "$"].join("|") + ")", Mt + "?" + Pt + "+" + Lt, Mt + "+" + Ut, "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])", "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])", It, jt].join("|"), "g"), Yt = RegExp("[\\u200d\\ud800-\\udfff" + xt + "\\ufe0e\\ufe0f]"), Kt = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/, Zt = ["Array", "Buffer", "DataView", "Date", "Error", "Float32Array", "Float64Array", "Function", "Int8Array", "Int16Array", "Int32Array", "Map", "Math", "Object", "Promise", "RegExp", "Set", "String", "Symbol", "TypeError", "Uint8Array", "Uint8ClampedArray", "Uint16Array", "Uint32Array", "WeakMap", "_", "clearTimeout", "isFinite", "parseInt", "setTimeout"], $t = -1, Jt = {};
          Jt[O] = Jt[M] = Jt[P] = Jt[G] = Jt[L] = Jt[U] = Jt[F] = Jt[B] = Jt[z] = true, Jt[v] = Jt[g] = Jt[k] = Jt[y] = Jt[R] = Jt[m] = Jt[b] = Jt[_] = Jt[w] = Jt[E] = Jt[S] = Jt[T] = Jt[I] = Jt[C] = Jt[N] = false;
          var Qt = {};
          Qt[v] = Qt[g] = Qt[k] = Qt[R] = Qt[y] = Qt[m] = Qt[O] = Qt[M] = Qt[P] = Qt[G] = Qt[L] = Qt[w] = Qt[E] = Qt[S] = Qt[T] = Qt[I] = Qt[C] = Qt[D] = Qt[U] = Qt[F] = Qt[B] = Qt[z] = true, Qt[b] = Qt[_] = Qt[N] = false;
          var te = { "\\": "\\", "'": "'", "\n": "n", "\r": "r", "\u2028": "u2028", "\u2029": "u2029" }, ee = parseFloat, ne = parseInt, re = typeof n2.g == "object" && n2.g && n2.g.Object === Object && n2.g, ie = typeof self == "object" && self && self.Object === Object && self, oe = re || ie || Function("return this")(), ae = e2 && !e2.nodeType && e2, ue = ae && t2 && !t2.nodeType && t2, se = ue && ue.exports === ae, ce = se && re.process, fe = function() {
            try {
              return ue && ue.require && ue.require("util").types || ce && ce.binding && ce.binding("util");
            } catch (t3) {
            }
          }(), le = fe && fe.isArrayBuffer, he = fe && fe.isDate, de = fe && fe.isMap, pe = fe && fe.isRegExp, ve = fe && fe.isSet, ge = fe && fe.isTypedArray;
          function ye(t3, e3, n3) {
            switch (n3.length) {
              case 0:
                return t3.call(e3);
              case 1:
                return t3.call(e3, n3[0]);
              case 2:
                return t3.call(e3, n3[0], n3[1]);
              case 3:
                return t3.call(e3, n3[0], n3[1], n3[2]);
            }
            return t3.apply(e3, n3);
          }
          function me(t3, e3, n3, r3) {
            for (var i2 = -1, o2 = t3 == null ? 0 : t3.length; ++i2 < o2; ) {
              var a2 = t3[i2];
              e3(r3, a2, n3(a2), t3);
            }
            return r3;
          }
          function be(t3, e3) {
            for (var n3 = -1, r3 = t3 == null ? 0 : t3.length; ++n3 < r3 && e3(t3[n3], n3, t3) !== false; )
              ;
            return t3;
          }
          function _e(t3, e3) {
            for (var n3 = t3 == null ? 0 : t3.length; n3-- && e3(t3[n3], n3, t3) !== false; )
              ;
            return t3;
          }
          function xe(t3, e3) {
            for (var n3 = -1, r3 = t3 == null ? 0 : t3.length; ++n3 < r3; )
              if (!e3(t3[n3], n3, t3))
                return false;
            return true;
          }
          function we(t3, e3) {
            for (var n3 = -1, r3 = t3 == null ? 0 : t3.length, i2 = 0, o2 = []; ++n3 < r3; ) {
              var a2 = t3[n3];
              e3(a2, n3, t3) && (o2[i2++] = a2);
            }
            return o2;
          }
          function Ee(t3, e3) {
            return !(t3 == null || !t3.length) && Oe(t3, e3, 0) > -1;
          }
          function Se(t3, e3, n3) {
            for (var r3 = -1, i2 = t3 == null ? 0 : t3.length; ++r3 < i2; )
              if (n3(e3, t3[r3]))
                return true;
            return false;
          }
          function Ae(t3, e3) {
            for (var n3 = -1, r3 = t3 == null ? 0 : t3.length, i2 = Array(r3); ++n3 < r3; )
              i2[n3] = e3(t3[n3], n3, t3);
            return i2;
          }
          function Te(t3, e3) {
            for (var n3 = -1, r3 = e3.length, i2 = t3.length; ++n3 < r3; )
              t3[i2 + n3] = e3[n3];
            return t3;
          }
          function Ie(t3, e3, n3, r3) {
            var i2 = -1, o2 = t3 == null ? 0 : t3.length;
            for (r3 && o2 && (n3 = t3[++i2]); ++i2 < o2; )
              n3 = e3(n3, t3[i2], i2, t3);
            return n3;
          }
          function Ce(t3, e3, n3, r3) {
            var i2 = t3 == null ? 0 : t3.length;
            for (r3 && i2 && (n3 = t3[--i2]); i2--; )
              n3 = e3(n3, t3[i2], i2, t3);
            return n3;
          }
          function De(t3, e3) {
            for (var n3 = -1, r3 = t3 == null ? 0 : t3.length; ++n3 < r3; )
              if (e3(t3[n3], n3, t3))
                return true;
            return false;
          }
          var Ne = Le("length");
          function ke(t3, e3, n3) {
            var r3;
            return n3(t3, function(t4, n4, i2) {
              if (e3(t4, n4, i2))
                return r3 = n4, false;
            }), r3;
          }
          function Re(t3, e3, n3, r3) {
            for (var i2 = t3.length, o2 = n3 + (r3 ? 1 : -1); r3 ? o2-- : ++o2 < i2; )
              if (e3(t3[o2], o2, t3))
                return o2;
            return -1;
          }
          function Oe(t3, e3, n3) {
            return e3 == e3 ? function(t4, e4, n4) {
              for (var r3 = n4 - 1, i2 = t4.length; ++r3 < i2; )
                if (t4[r3] === e4)
                  return r3;
              return -1;
            }(t3, e3, n3) : Re(t3, Pe, n3);
          }
          function Me(t3, e3, n3, r3) {
            for (var i2 = n3 - 1, o2 = t3.length; ++i2 < o2; )
              if (r3(t3[i2], e3))
                return i2;
            return -1;
          }
          function Pe(t3) {
            return t3 != t3;
          }
          function Ge(t3, e3) {
            var n3 = t3 == null ? 0 : t3.length;
            return n3 ? Be(t3, e3) / n3 : h;
          }
          function Le(t3) {
            return function(e3) {
              return e3 == null ? i : e3[t3];
            };
          }
          function Ue(t3) {
            return function(e3) {
              return t3 == null ? i : t3[e3];
            };
          }
          function Fe(t3, e3, n3, r3, i2) {
            return i2(t3, function(t4, i3, o2) {
              n3 = r3 ? (r3 = false, t4) : e3(n3, t4, i3, o2);
            }), n3;
          }
          function Be(t3, e3) {
            for (var n3, r3 = -1, o2 = t3.length; ++r3 < o2; ) {
              var a2 = e3(t3[r3]);
              a2 !== i && (n3 = n3 === i ? a2 : n3 + a2);
            }
            return n3;
          }
          function ze(t3, e3) {
            for (var n3 = -1, r3 = Array(t3); ++n3 < t3; )
              r3[n3] = e3(n3);
            return r3;
          }
          function je(t3) {
            return t3 ? t3.slice(0, un(t3) + 1).replace(rt, "") : t3;
          }
          function We(t3) {
            return function(e3) {
              return t3(e3);
            };
          }
          function Ve(t3, e3) {
            return Ae(e3, function(e4) {
              return t3[e4];
            });
          }
          function Xe(t3, e3) {
            return t3.has(e3);
          }
          function He(t3, e3) {
            for (var n3 = -1, r3 = t3.length; ++n3 < r3 && Oe(e3, t3[n3], 0) > -1; )
              ;
            return n3;
          }
          function qe(t3, e3) {
            for (var n3 = t3.length; n3-- && Oe(e3, t3[n3], 0) > -1; )
              ;
            return n3;
          }
          function Ye(t3, e3) {
            for (var n3 = t3.length, r3 = 0; n3--; )
              t3[n3] === e3 && ++r3;
            return r3;
          }
          var Ke = Ue({ \u00C0: "A", \u00C1: "A", \u00C2: "A", \u00C3: "A", \u00C4: "A", \u00C5: "A", \u00E0: "a", \u00E1: "a", \u00E2: "a", \u00E3: "a", \u00E4: "a", \u00E5: "a", \u00C7: "C", \u00E7: "c", \u00D0: "D", \u00F0: "d", \u00C8: "E", \u00C9: "E", \u00CA: "E", \u00CB: "E", \u00E8: "e", \u00E9: "e", \u00EA: "e", \u00EB: "e", \u00CC: "I", \u00CD: "I", \u00CE: "I", \u00CF: "I", \u00EC: "i", \u00ED: "i", \u00EE: "i", \u00EF: "i", \u00D1: "N", \u00F1: "n", \u00D2: "O", \u00D3: "O", \u00D4: "O", \u00D5: "O", \u00D6: "O", \u00D8: "O", \u00F2: "o", \u00F3: "o", \u00F4: "o", \u00F5: "o", \u00F6: "o", \u00F8: "o", \u00D9: "U", \u00DA: "U", \u00DB: "U", \u00DC: "U", \u00F9: "u", \u00FA: "u", \u00FB: "u", \u00FC: "u", \u00DD: "Y", \u00FD: "y", \u00FF: "y", \u00C6: "Ae", \u00E6: "ae", \u00DE: "Th", \u00FE: "th", \u00DF: "ss", \u0100: "A", \u0102: "A", \u0104: "A", \u0101: "a", \u0103: "a", \u0105: "a", \u0106: "C", \u0108: "C", \u010A: "C", \u010C: "C", \u0107: "c", \u0109: "c", \u010B: "c", \u010D: "c", \u010E: "D", \u0110: "D", \u010F: "d", \u0111: "d", \u0112: "E", \u0114: "E", \u0116: "E", \u0118: "E", \u011A: "E", \u0113: "e", \u0115: "e", \u0117: "e", \u0119: "e", \u011B: "e", \u011C: "G", \u011E: "G", \u0120: "G", \u0122: "G", \u011D: "g", \u011F: "g", \u0121: "g", \u0123: "g", \u0124: "H", \u0126: "H", \u0125: "h", \u0127: "h", \u0128: "I", \u012A: "I", \u012C: "I", \u012E: "I", \u0130: "I", \u0129: "i", \u012B: "i", \u012D: "i", \u012F: "i", \u0131: "i", \u0134: "J", \u0135: "j", \u0136: "K", \u0137: "k", \u0138: "k", \u0139: "L", \u013B: "L", \u013D: "L", \u013F: "L", \u0141: "L", \u013A: "l", \u013C: "l", \u013E: "l", \u0140: "l", \u0142: "l", \u0143: "N", \u0145: "N", \u0147: "N", \u014A: "N", \u0144: "n", \u0146: "n", \u0148: "n", \u014B: "n", \u014C: "O", \u014E: "O", \u0150: "O", \u014D: "o", \u014F: "o", \u0151: "o", \u0154: "R", \u0156: "R", \u0158: "R", \u0155: "r", \u0157: "r", \u0159: "r", \u015A: "S", \u015C: "S", \u015E: "S", \u0160: "S", \u015B: "s", \u015D: "s", \u015F: "s", \u0161: "s", \u0162: "T", \u0164: "T", \u0166: "T", \u0163: "t", \u0165: "t", \u0167: "t", \u0168: "U", \u016A: "U", \u016C: "U", \u016E: "U", \u0170: "U", \u0172: "U", \u0169: "u", \u016B: "u", \u016D: "u", \u016F: "u", \u0171: "u", \u0173: "u", \u0174: "W", \u0175: "w", \u0176: "Y", \u0177: "y", \u0178: "Y", \u0179: "Z", \u017B: "Z", \u017D: "Z", \u017A: "z", \u017C: "z", \u017E: "z", \u0132: "IJ", \u0133: "ij", \u0152: "Oe", \u0153: "oe", \u0149: "'n", \u017F: "s" }), Ze = Ue({ "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;" });
          function $e(t3) {
            return "\\" + te[t3];
          }
          function Je(t3) {
            return Yt.test(t3);
          }
          function Qe(t3) {
            var e3 = -1, n3 = Array(t3.size);
            return t3.forEach(function(t4, r3) {
              n3[++e3] = [r3, t4];
            }), n3;
          }
          function tn(t3, e3) {
            return function(n3) {
              return t3(e3(n3));
            };
          }
          function en(t3, e3) {
            for (var n3 = -1, r3 = t3.length, i2 = 0, o2 = []; ++n3 < r3; ) {
              var a2 = t3[n3];
              a2 !== e3 && a2 !== u || (t3[n3] = u, o2[i2++] = n3);
            }
            return o2;
          }
          function nn(t3) {
            var e3 = -1, n3 = Array(t3.size);
            return t3.forEach(function(t4) {
              n3[++e3] = t4;
            }), n3;
          }
          function rn(t3) {
            var e3 = -1, n3 = Array(t3.size);
            return t3.forEach(function(t4) {
              n3[++e3] = [t4, t4];
            }), n3;
          }
          function on(t3) {
            return Je(t3) ? function(t4) {
              for (var e3 = Ht.lastIndex = 0; Ht.test(t4); )
                ++e3;
              return e3;
            }(t3) : Ne(t3);
          }
          function an(t3) {
            return Je(t3) ? function(t4) {
              return t4.match(Ht) || [];
            }(t3) : function(t4) {
              return t4.split("");
            }(t3);
          }
          function un(t3) {
            for (var e3 = t3.length; e3-- && it.test(t3.charAt(e3)); )
              ;
            return e3;
          }
          var sn = Ue({ "&amp;": "&", "&lt;": "<", "&gt;": ">", "&quot;": '"', "&#39;": "'" }), cn = function t3(e3) {
            var n3, r3 = (e3 = e3 == null ? oe : cn.defaults(oe.Object(), e3, cn.pick(oe, Zt))).Array, it2 = e3.Date, xt2 = e3.Error, wt2 = e3.Function, Et2 = e3.Math, St2 = e3.Object, At2 = e3.RegExp, Tt2 = e3.String, It2 = e3.TypeError, Ct2 = r3.prototype, Dt2 = wt2.prototype, Nt2 = St2.prototype, kt2 = e3["__core-js_shared__"], Rt2 = Dt2.toString, Ot2 = Nt2.hasOwnProperty, Mt2 = 0, Pt2 = (n3 = /[^.]+$/.exec(kt2 && kt2.keys && kt2.keys.IE_PROTO || "")) ? "Symbol(src)_1." + n3 : "", Gt2 = Nt2.toString, Lt2 = Rt2.call(St2), Ut2 = oe._, Ft2 = At2("^" + Rt2.call(Ot2).replace(et, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), Bt2 = se ? e3.Buffer : i, zt2 = e3.Symbol, jt2 = e3.Uint8Array, Wt2 = Bt2 ? Bt2.allocUnsafe : i, Ht2 = tn(St2.getPrototypeOf, St2), Yt2 = St2.create, te2 = Nt2.propertyIsEnumerable, re2 = Ct2.splice, ie2 = zt2 ? zt2.isConcatSpreadable : i, ae2 = zt2 ? zt2.iterator : i, ue2 = zt2 ? zt2.toStringTag : i, ce2 = function() {
              try {
                var t4 = co(St2, "defineProperty");
                return t4({}, "", {}), t4;
              } catch (t5) {
              }
            }(), fe2 = e3.clearTimeout !== oe.clearTimeout && e3.clearTimeout, Ne2 = it2 && it2.now !== oe.Date.now && it2.now, Ue2 = e3.setTimeout !== oe.setTimeout && e3.setTimeout, fn = Et2.ceil, ln = Et2.floor, hn = St2.getOwnPropertySymbols, dn = Bt2 ? Bt2.isBuffer : i, pn = e3.isFinite, vn = Ct2.join, gn = tn(St2.keys, St2), yn = Et2.max, mn = Et2.min, bn = it2.now, _n = e3.parseInt, xn = Et2.random, wn = Ct2.reverse, En = co(e3, "DataView"), Sn = co(e3, "Map"), An = co(e3, "Promise"), Tn = co(e3, "Set"), In = co(e3, "WeakMap"), Cn = co(St2, "create"), Dn = In && new In(), Nn = {}, kn = Fo(En), Rn = Fo(Sn), On = Fo(An), Mn = Fo(Tn), Pn = Fo(In), Gn = zt2 ? zt2.prototype : i, Ln = Gn ? Gn.valueOf : i, Un = Gn ? Gn.toString : i;
            function Fn(t4) {
              if (nu(t4) && !Xa(t4) && !(t4 instanceof Wn)) {
                if (t4 instanceof jn)
                  return t4;
                if (Ot2.call(t4, "__wrapped__"))
                  return Bo(t4);
              }
              return new jn(t4);
            }
            var Bn = function() {
              function t4() {
              }
              return function(e4) {
                if (!eu(e4))
                  return {};
                if (Yt2)
                  return Yt2(e4);
                t4.prototype = e4;
                var n4 = new t4();
                return t4.prototype = i, n4;
              };
            }();
            function zn() {
            }
            function jn(t4, e4) {
              this.__wrapped__ = t4, this.__actions__ = [], this.__chain__ = !!e4, this.__index__ = 0, this.__values__ = i;
            }
            function Wn(t4) {
              this.__wrapped__ = t4, this.__actions__ = [], this.__dir__ = 1, this.__filtered__ = false, this.__iteratees__ = [], this.__takeCount__ = d, this.__views__ = [];
            }
            function Vn(t4) {
              var e4 = -1, n4 = t4 == null ? 0 : t4.length;
              for (this.clear(); ++e4 < n4; ) {
                var r4 = t4[e4];
                this.set(r4[0], r4[1]);
              }
            }
            function Xn(t4) {
              var e4 = -1, n4 = t4 == null ? 0 : t4.length;
              for (this.clear(); ++e4 < n4; ) {
                var r4 = t4[e4];
                this.set(r4[0], r4[1]);
              }
            }
            function Hn(t4) {
              var e4 = -1, n4 = t4 == null ? 0 : t4.length;
              for (this.clear(); ++e4 < n4; ) {
                var r4 = t4[e4];
                this.set(r4[0], r4[1]);
              }
            }
            function qn(t4) {
              var e4 = -1, n4 = t4 == null ? 0 : t4.length;
              for (this.__data__ = new Hn(); ++e4 < n4; )
                this.add(t4[e4]);
            }
            function Yn(t4) {
              var e4 = this.__data__ = new Xn(t4);
              this.size = e4.size;
            }
            function Kn(t4, e4) {
              var n4 = Xa(t4), r4 = !n4 && Va(t4), i2 = !n4 && !r4 && Ka(t4), o2 = !n4 && !r4 && !i2 && fu(t4), a2 = n4 || r4 || i2 || o2, u2 = a2 ? ze(t4.length, Tt2) : [], s2 = u2.length;
              for (var c2 in t4)
                !e4 && !Ot2.call(t4, c2) || a2 && (c2 == "length" || i2 && (c2 == "offset" || c2 == "parent") || o2 && (c2 == "buffer" || c2 == "byteLength" || c2 == "byteOffset") || yo(c2, s2)) || u2.push(c2);
              return u2;
            }
            function Zn(t4) {
              var e4 = t4.length;
              return e4 ? t4[Hr(0, e4 - 1)] : i;
            }
            function $n(t4, e4) {
              return Mo(Ii(t4), ar(e4, 0, t4.length));
            }
            function Jn(t4) {
              return Mo(Ii(t4));
            }
            function Qn(t4, e4, n4) {
              (n4 !== i && !za(t4[e4], n4) || n4 === i && !(e4 in t4)) && ir(t4, e4, n4);
            }
            function tr(t4, e4, n4) {
              var r4 = t4[e4];
              Ot2.call(t4, e4) && za(r4, n4) && (n4 !== i || e4 in t4) || ir(t4, e4, n4);
            }
            function er(t4, e4) {
              for (var n4 = t4.length; n4--; )
                if (za(t4[n4][0], e4))
                  return n4;
              return -1;
            }
            function nr(t4, e4, n4, r4) {
              return lr(t4, function(t5, i2, o2) {
                e4(r4, t5, n4(t5), o2);
              }), r4;
            }
            function rr(t4, e4) {
              return t4 && Ci(e4, Ru(e4), t4);
            }
            function ir(t4, e4, n4) {
              e4 == "__proto__" && ce2 ? ce2(t4, e4, { configurable: true, enumerable: true, value: n4, writable: true }) : t4[e4] = n4;
            }
            function or(t4, e4) {
              for (var n4 = -1, o2 = e4.length, a2 = r3(o2), u2 = t4 == null; ++n4 < o2; )
                a2[n4] = u2 ? i : Iu(t4, e4[n4]);
              return a2;
            }
            function ar(t4, e4, n4) {
              return t4 == t4 && (n4 !== i && (t4 = t4 <= n4 ? t4 : n4), e4 !== i && (t4 = t4 >= e4 ? t4 : e4)), t4;
            }
            function ur(t4, e4, n4, r4, o2, a2) {
              var u2, s2 = 1 & e4, c2 = 2 & e4, f2 = 4 & e4;
              if (n4 && (u2 = o2 ? n4(t4, r4, o2, a2) : n4(t4)), u2 !== i)
                return u2;
              if (!eu(t4))
                return t4;
              var l2 = Xa(t4);
              if (l2) {
                if (u2 = function(t5) {
                  var e5 = t5.length, n5 = new t5.constructor(e5);
                  return e5 && typeof t5[0] == "string" && Ot2.call(t5, "index") && (n5.index = t5.index, n5.input = t5.input), n5;
                }(t4), !s2)
                  return Ii(t4, u2);
              } else {
                var h2 = ho(t4), d2 = h2 == _ || h2 == x;
                if (Ka(t4))
                  return xi(t4, s2);
                if (h2 == S || h2 == v || d2 && !o2) {
                  if (u2 = c2 || d2 ? {} : vo(t4), !s2)
                    return c2 ? function(t5, e5) {
                      return Ci(t5, lo(t5), e5);
                    }(t4, function(t5, e5) {
                      return t5 && Ci(e5, Ou(e5), t5);
                    }(u2, t4)) : function(t5, e5) {
                      return Ci(t5, fo(t5), e5);
                    }(t4, rr(u2, t4));
                } else {
                  if (!Qt[h2])
                    return o2 ? t4 : {};
                  u2 = function(t5, e5, n5) {
                    var r5, i2 = t5.constructor;
                    switch (e5) {
                      case k:
                        return wi(t5);
                      case y:
                      case m:
                        return new i2(+t5);
                      case R:
                        return function(t6, e6) {
                          var n6 = e6 ? wi(t6.buffer) : t6.buffer;
                          return new t6.constructor(n6, t6.byteOffset, t6.byteLength);
                        }(t5, n5);
                      case O:
                      case M:
                      case P:
                      case G:
                      case L:
                      case U:
                      case F:
                      case B:
                      case z:
                        return Ei(t5, n5);
                      case w:
                      case I:
                        return new i2();
                      case E:
                      case C:
                        return new i2(t5);
                      case T:
                        return function(t6) {
                          var e6 = new t6.constructor(t6.source, ht.exec(t6));
                          return e6.lastIndex = t6.lastIndex, e6;
                        }(t5);
                      case D:
                        return r5 = t5, Ln ? St2(Ln.call(r5)) : {};
                    }
                  }(t4, h2, s2);
                }
              }
              a2 || (a2 = new Yn());
              var p2 = a2.get(t4);
              if (p2)
                return p2;
              a2.set(t4, u2), uu(t4) ? t4.forEach(function(r5) {
                u2.add(ur(r5, e4, n4, r5, t4, a2));
              }) : ru(t4) && t4.forEach(function(r5, i2) {
                u2.set(i2, ur(r5, e4, n4, i2, t4, a2));
              });
              var g2 = l2 ? i : (f2 ? c2 ? no : eo : c2 ? Ou : Ru)(t4);
              return be(g2 || t4, function(r5, i2) {
                g2 && (r5 = t4[i2 = r5]), tr(u2, i2, ur(r5, e4, n4, i2, t4, a2));
              }), u2;
            }
            function sr(t4, e4, n4) {
              var r4 = n4.length;
              if (t4 == null)
                return !r4;
              for (t4 = St2(t4); r4--; ) {
                var o2 = n4[r4], a2 = e4[o2], u2 = t4[o2];
                if (u2 === i && !(o2 in t4) || !a2(u2))
                  return false;
              }
              return true;
            }
            function cr(t4, e4, n4) {
              if (typeof t4 != "function")
                throw new It2(o);
              return No(function() {
                t4.apply(i, n4);
              }, e4);
            }
            function fr(t4, e4, n4, r4) {
              var i2 = -1, o2 = Ee, a2 = true, u2 = t4.length, s2 = [], c2 = e4.length;
              if (!u2)
                return s2;
              n4 && (e4 = Ae(e4, We(n4))), r4 ? (o2 = Se, a2 = false) : e4.length >= 200 && (o2 = Xe, a2 = false, e4 = new qn(e4));
              t:
                for (; ++i2 < u2; ) {
                  var f2 = t4[i2], l2 = n4 == null ? f2 : n4(f2);
                  if (f2 = r4 || f2 !== 0 ? f2 : 0, a2 && l2 == l2) {
                    for (var h2 = c2; h2--; )
                      if (e4[h2] === l2)
                        continue t;
                    s2.push(f2);
                  } else
                    o2(e4, l2, r4) || s2.push(f2);
                }
              return s2;
            }
            Fn.templateSettings = { escape: K, evaluate: Z, interpolate: $, variable: "", imports: { _: Fn } }, Fn.prototype = zn.prototype, Fn.prototype.constructor = Fn, jn.prototype = Bn(zn.prototype), jn.prototype.constructor = jn, Wn.prototype = Bn(zn.prototype), Wn.prototype.constructor = Wn, Vn.prototype.clear = function() {
              this.__data__ = Cn ? Cn(null) : {}, this.size = 0;
            }, Vn.prototype.delete = function(t4) {
              var e4 = this.has(t4) && delete this.__data__[t4];
              return this.size -= e4 ? 1 : 0, e4;
            }, Vn.prototype.get = function(t4) {
              var e4 = this.__data__;
              if (Cn) {
                var n4 = e4[t4];
                return n4 === a ? i : n4;
              }
              return Ot2.call(e4, t4) ? e4[t4] : i;
            }, Vn.prototype.has = function(t4) {
              var e4 = this.__data__;
              return Cn ? e4[t4] !== i : Ot2.call(e4, t4);
            }, Vn.prototype.set = function(t4, e4) {
              var n4 = this.__data__;
              return this.size += this.has(t4) ? 0 : 1, n4[t4] = Cn && e4 === i ? a : e4, this;
            }, Xn.prototype.clear = function() {
              this.__data__ = [], this.size = 0;
            }, Xn.prototype.delete = function(t4) {
              var e4 = this.__data__, n4 = er(e4, t4);
              return !(n4 < 0 || (n4 == e4.length - 1 ? e4.pop() : re2.call(e4, n4, 1), --this.size, 0));
            }, Xn.prototype.get = function(t4) {
              var e4 = this.__data__, n4 = er(e4, t4);
              return n4 < 0 ? i : e4[n4][1];
            }, Xn.prototype.has = function(t4) {
              return er(this.__data__, t4) > -1;
            }, Xn.prototype.set = function(t4, e4) {
              var n4 = this.__data__, r4 = er(n4, t4);
              return r4 < 0 ? (++this.size, n4.push([t4, e4])) : n4[r4][1] = e4, this;
            }, Hn.prototype.clear = function() {
              this.size = 0, this.__data__ = { hash: new Vn(), map: new (Sn || Xn)(), string: new Vn() };
            }, Hn.prototype.delete = function(t4) {
              var e4 = uo(this, t4).delete(t4);
              return this.size -= e4 ? 1 : 0, e4;
            }, Hn.prototype.get = function(t4) {
              return uo(this, t4).get(t4);
            }, Hn.prototype.has = function(t4) {
              return uo(this, t4).has(t4);
            }, Hn.prototype.set = function(t4, e4) {
              var n4 = uo(this, t4), r4 = n4.size;
              return n4.set(t4, e4), this.size += n4.size == r4 ? 0 : 1, this;
            }, qn.prototype.add = qn.prototype.push = function(t4) {
              return this.__data__.set(t4, a), this;
            }, qn.prototype.has = function(t4) {
              return this.__data__.has(t4);
            }, Yn.prototype.clear = function() {
              this.__data__ = new Xn(), this.size = 0;
            }, Yn.prototype.delete = function(t4) {
              var e4 = this.__data__, n4 = e4.delete(t4);
              return this.size = e4.size, n4;
            }, Yn.prototype.get = function(t4) {
              return this.__data__.get(t4);
            }, Yn.prototype.has = function(t4) {
              return this.__data__.has(t4);
            }, Yn.prototype.set = function(t4, e4) {
              var n4 = this.__data__;
              if (n4 instanceof Xn) {
                var r4 = n4.__data__;
                if (!Sn || r4.length < 199)
                  return r4.push([t4, e4]), this.size = ++n4.size, this;
                n4 = this.__data__ = new Hn(r4);
              }
              return n4.set(t4, e4), this.size = n4.size, this;
            };
            var lr = ki(br), hr = ki(_r, true);
            function dr(t4, e4) {
              var n4 = true;
              return lr(t4, function(t5, r4, i2) {
                return n4 = !!e4(t5, r4, i2);
              }), n4;
            }
            function pr(t4, e4, n4) {
              for (var r4 = -1, o2 = t4.length; ++r4 < o2; ) {
                var a2 = t4[r4], u2 = e4(a2);
                if (u2 != null && (s2 === i ? u2 == u2 && !cu(u2) : n4(u2, s2)))
                  var s2 = u2, c2 = a2;
              }
              return c2;
            }
            function vr(t4, e4) {
              var n4 = [];
              return lr(t4, function(t5, r4, i2) {
                e4(t5, r4, i2) && n4.push(t5);
              }), n4;
            }
            function gr(t4, e4, n4, r4, i2) {
              var o2 = -1, a2 = t4.length;
              for (n4 || (n4 = go), i2 || (i2 = []); ++o2 < a2; ) {
                var u2 = t4[o2];
                e4 > 0 && n4(u2) ? e4 > 1 ? gr(u2, e4 - 1, n4, r4, i2) : Te(i2, u2) : r4 || (i2[i2.length] = u2);
              }
              return i2;
            }
            var yr = Ri(), mr = Ri(true);
            function br(t4, e4) {
              return t4 && yr(t4, e4, Ru);
            }
            function _r(t4, e4) {
              return t4 && mr(t4, e4, Ru);
            }
            function xr(t4, e4) {
              return we(e4, function(e5) {
                return Ja(t4[e5]);
              });
            }
            function wr(t4, e4) {
              for (var n4 = 0, r4 = (e4 = yi(e4, t4)).length; t4 != null && n4 < r4; )
                t4 = t4[Uo(e4[n4++])];
              return n4 && n4 == r4 ? t4 : i;
            }
            function Er(t4, e4, n4) {
              var r4 = e4(t4);
              return Xa(t4) ? r4 : Te(r4, n4(t4));
            }
            function Sr(t4) {
              return t4 == null ? t4 === i ? "[object Undefined]" : "[object Null]" : ue2 && ue2 in St2(t4) ? function(t5) {
                var e4 = Ot2.call(t5, ue2), n4 = t5[ue2];
                try {
                  t5[ue2] = i;
                  var r4 = true;
                } catch (t6) {
                }
                var o2 = Gt2.call(t5);
                return r4 && (e4 ? t5[ue2] = n4 : delete t5[ue2]), o2;
              }(t4) : function(t5) {
                return Gt2.call(t5);
              }(t4);
            }
            function Ar(t4, e4) {
              return t4 > e4;
            }
            function Tr(t4, e4) {
              return t4 != null && Ot2.call(t4, e4);
            }
            function Ir(t4, e4) {
              return t4 != null && e4 in St2(t4);
            }
            function Cr(t4, e4, n4) {
              for (var o2 = n4 ? Se : Ee, a2 = t4[0].length, u2 = t4.length, s2 = u2, c2 = r3(u2), f2 = 1 / 0, l2 = []; s2--; ) {
                var h2 = t4[s2];
                s2 && e4 && (h2 = Ae(h2, We(e4))), f2 = mn(h2.length, f2), c2[s2] = !n4 && (e4 || a2 >= 120 && h2.length >= 120) ? new qn(s2 && h2) : i;
              }
              h2 = t4[0];
              var d2 = -1, p2 = c2[0];
              t:
                for (; ++d2 < a2 && l2.length < f2; ) {
                  var v2 = h2[d2], g2 = e4 ? e4(v2) : v2;
                  if (v2 = n4 || v2 !== 0 ? v2 : 0, !(p2 ? Xe(p2, g2) : o2(l2, g2, n4))) {
                    for (s2 = u2; --s2; ) {
                      var y2 = c2[s2];
                      if (!(y2 ? Xe(y2, g2) : o2(t4[s2], g2, n4)))
                        continue t;
                    }
                    p2 && p2.push(g2), l2.push(v2);
                  }
                }
              return l2;
            }
            function Dr(t4, e4, n4) {
              var r4 = (t4 = To(t4, e4 = yi(e4, t4))) == null ? t4 : t4[Uo($o(e4))];
              return r4 == null ? i : ye(r4, t4, n4);
            }
            function Nr(t4) {
              return nu(t4) && Sr(t4) == v;
            }
            function kr(t4, e4, n4, r4, o2) {
              return t4 === e4 || (t4 == null || e4 == null || !nu(t4) && !nu(e4) ? t4 != t4 && e4 != e4 : function(t5, e5, n5, r5, o3, a2) {
                var u2 = Xa(t5), s2 = Xa(e5), c2 = u2 ? g : ho(t5), f2 = s2 ? g : ho(e5), l2 = (c2 = c2 == v ? S : c2) == S, h2 = (f2 = f2 == v ? S : f2) == S, d2 = c2 == f2;
                if (d2 && Ka(t5)) {
                  if (!Ka(e5))
                    return false;
                  u2 = true, l2 = false;
                }
                if (d2 && !l2)
                  return a2 || (a2 = new Yn()), u2 || fu(t5) ? Qi(t5, e5, n5, r5, o3, a2) : function(t6, e6, n6, r6, i2, o4, a3) {
                    switch (n6) {
                      case R:
                        if (t6.byteLength != e6.byteLength || t6.byteOffset != e6.byteOffset)
                          return false;
                        t6 = t6.buffer, e6 = e6.buffer;
                      case k:
                        return !(t6.byteLength != e6.byteLength || !o4(new jt2(t6), new jt2(e6)));
                      case y:
                      case m:
                      case E:
                        return za(+t6, +e6);
                      case b:
                        return t6.name == e6.name && t6.message == e6.message;
                      case T:
                      case C:
                        return t6 == e6 + "";
                      case w:
                        var u3 = Qe;
                      case I:
                        var s3 = 1 & r6;
                        if (u3 || (u3 = nn), t6.size != e6.size && !s3)
                          return false;
                        var c3 = a3.get(t6);
                        if (c3)
                          return c3 == e6;
                        r6 |= 2, a3.set(t6, e6);
                        var f3 = Qi(u3(t6), u3(e6), r6, i2, o4, a3);
                        return a3.delete(t6), f3;
                      case D:
                        if (Ln)
                          return Ln.call(t6) == Ln.call(e6);
                    }
                    return false;
                  }(t5, e5, c2, n5, r5, o3, a2);
                if (!(1 & n5)) {
                  var p2 = l2 && Ot2.call(t5, "__wrapped__"), _2 = h2 && Ot2.call(e5, "__wrapped__");
                  if (p2 || _2) {
                    var x2 = p2 ? t5.value() : t5, A2 = _2 ? e5.value() : e5;
                    return a2 || (a2 = new Yn()), o3(x2, A2, n5, r5, a2);
                  }
                }
                return !!d2 && (a2 || (a2 = new Yn()), function(t6, e6, n6, r6, o4, a3) {
                  var u3 = 1 & n6, s3 = eo(t6), c3 = s3.length;
                  if (c3 != eo(e6).length && !u3)
                    return false;
                  for (var f3 = c3; f3--; ) {
                    var l3 = s3[f3];
                    if (!(u3 ? l3 in e6 : Ot2.call(e6, l3)))
                      return false;
                  }
                  var h3 = a3.get(t6), d3 = a3.get(e6);
                  if (h3 && d3)
                    return h3 == e6 && d3 == t6;
                  var p3 = true;
                  a3.set(t6, e6), a3.set(e6, t6);
                  for (var v2 = u3; ++f3 < c3; ) {
                    var g2 = t6[l3 = s3[f3]], y2 = e6[l3];
                    if (r6)
                      var m2 = u3 ? r6(y2, g2, l3, e6, t6, a3) : r6(g2, y2, l3, t6, e6, a3);
                    if (!(m2 === i ? g2 === y2 || o4(g2, y2, n6, r6, a3) : m2)) {
                      p3 = false;
                      break;
                    }
                    v2 || (v2 = l3 == "constructor");
                  }
                  if (p3 && !v2) {
                    var b2 = t6.constructor, _3 = e6.constructor;
                    b2 == _3 || !("constructor" in t6) || !("constructor" in e6) || typeof b2 == "function" && b2 instanceof b2 && typeof _3 == "function" && _3 instanceof _3 || (p3 = false);
                  }
                  return a3.delete(t6), a3.delete(e6), p3;
                }(t5, e5, n5, r5, o3, a2));
              }(t4, e4, n4, r4, kr, o2));
            }
            function Rr(t4, e4, n4, r4) {
              var o2 = n4.length, a2 = o2, u2 = !r4;
              if (t4 == null)
                return !a2;
              for (t4 = St2(t4); o2--; ) {
                var s2 = n4[o2];
                if (u2 && s2[2] ? s2[1] !== t4[s2[0]] : !(s2[0] in t4))
                  return false;
              }
              for (; ++o2 < a2; ) {
                var c2 = (s2 = n4[o2])[0], f2 = t4[c2], l2 = s2[1];
                if (u2 && s2[2]) {
                  if (f2 === i && !(c2 in t4))
                    return false;
                } else {
                  var h2 = new Yn();
                  if (r4)
                    var d2 = r4(f2, l2, c2, t4, e4, h2);
                  if (!(d2 === i ? kr(l2, f2, 3, r4, h2) : d2))
                    return false;
                }
              }
              return true;
            }
            function Or(t4) {
              return !(!eu(t4) || (e4 = t4, Pt2 && Pt2 in e4)) && (Ja(t4) ? Ft2 : vt).test(Fo(t4));
              var e4;
            }
            function Mr(t4) {
              return typeof t4 == "function" ? t4 : t4 == null ? is : typeof t4 == "object" ? Xa(t4) ? Fr(t4[0], t4[1]) : Ur(t4) : ds(t4);
            }
            function Pr(t4) {
              if (!wo(t4))
                return gn(t4);
              var e4 = [];
              for (var n4 in St2(t4))
                Ot2.call(t4, n4) && n4 != "constructor" && e4.push(n4);
              return e4;
            }
            function Gr(t4, e4) {
              return t4 < e4;
            }
            function Lr(t4, e4) {
              var n4 = -1, i2 = qa(t4) ? r3(t4.length) : [];
              return lr(t4, function(t5, r4, o2) {
                i2[++n4] = e4(t5, r4, o2);
              }), i2;
            }
            function Ur(t4) {
              var e4 = so(t4);
              return e4.length == 1 && e4[0][2] ? So(e4[0][0], e4[0][1]) : function(n4) {
                return n4 === t4 || Rr(n4, t4, e4);
              };
            }
            function Fr(t4, e4) {
              return bo(t4) && Eo(e4) ? So(Uo(t4), e4) : function(n4) {
                var r4 = Iu(n4, t4);
                return r4 === i && r4 === e4 ? Cu(n4, t4) : kr(e4, r4, 3);
              };
            }
            function Br(t4, e4, n4, r4, o2) {
              t4 !== e4 && yr(e4, function(a2, u2) {
                if (o2 || (o2 = new Yn()), eu(a2))
                  !function(t5, e5, n5, r5, o3, a3, u3) {
                    var s3 = Co(t5, n5), c2 = Co(e5, n5), f2 = u3.get(c2);
                    if (f2)
                      Qn(t5, n5, f2);
                    else {
                      var l2 = a3 ? a3(s3, c2, n5 + "", t5, e5, u3) : i, h2 = l2 === i;
                      if (h2) {
                        var d2 = Xa(c2), p2 = !d2 && Ka(c2), v2 = !d2 && !p2 && fu(c2);
                        l2 = c2, d2 || p2 || v2 ? Xa(s3) ? l2 = s3 : Ya(s3) ? l2 = Ii(s3) : p2 ? (h2 = false, l2 = xi(c2, true)) : v2 ? (h2 = false, l2 = Ei(c2, true)) : l2 = [] : ou(c2) || Va(c2) ? (l2 = s3, Va(s3) ? l2 = mu(s3) : eu(s3) && !Ja(s3) || (l2 = vo(c2))) : h2 = false;
                      }
                      h2 && (u3.set(c2, l2), o3(l2, c2, r5, a3, u3), u3.delete(c2)), Qn(t5, n5, l2);
                    }
                  }(t4, e4, u2, n4, Br, r4, o2);
                else {
                  var s2 = r4 ? r4(Co(t4, u2), a2, u2 + "", t4, e4, o2) : i;
                  s2 === i && (s2 = a2), Qn(t4, u2, s2);
                }
              }, Ou);
            }
            function zr(t4, e4) {
              var n4 = t4.length;
              if (n4)
                return yo(e4 += e4 < 0 ? n4 : 0, n4) ? t4[e4] : i;
            }
            function jr(t4, e4, n4) {
              e4 = e4.length ? Ae(e4, function(t5) {
                return Xa(t5) ? function(e5) {
                  return wr(e5, t5.length === 1 ? t5[0] : t5);
                } : t5;
              }) : [is];
              var r4 = -1;
              e4 = Ae(e4, We(ao()));
              var i2 = Lr(t4, function(t5, n5, i3) {
                var o2 = Ae(e4, function(e5) {
                  return e5(t5);
                });
                return { criteria: o2, index: ++r4, value: t5 };
              });
              return function(t5, e5) {
                var r5 = t5.length;
                for (t5.sort(function(t6, e6) {
                  return function(t7, e7, n5) {
                    for (var r6 = -1, i3 = t7.criteria, o2 = e7.criteria, a2 = i3.length, u2 = n5.length; ++r6 < a2; ) {
                      var s2 = Si(i3[r6], o2[r6]);
                      if (s2)
                        return r6 >= u2 ? s2 : s2 * (n5[r6] == "desc" ? -1 : 1);
                    }
                    return t7.index - e7.index;
                  }(t6, e6, n4);
                }); r5--; )
                  t5[r5] = t5[r5].value;
                return t5;
              }(i2);
            }
            function Wr(t4, e4, n4) {
              for (var r4 = -1, i2 = e4.length, o2 = {}; ++r4 < i2; ) {
                var a2 = e4[r4], u2 = wr(t4, a2);
                n4(u2, a2) && $r(o2, yi(a2, t4), u2);
              }
              return o2;
            }
            function Vr(t4, e4, n4, r4) {
              var i2 = r4 ? Me : Oe, o2 = -1, a2 = e4.length, u2 = t4;
              for (t4 === e4 && (e4 = Ii(e4)), n4 && (u2 = Ae(t4, We(n4))); ++o2 < a2; )
                for (var s2 = 0, c2 = e4[o2], f2 = n4 ? n4(c2) : c2; (s2 = i2(u2, f2, s2, r4)) > -1; )
                  u2 !== t4 && re2.call(u2, s2, 1), re2.call(t4, s2, 1);
              return t4;
            }
            function Xr(t4, e4) {
              for (var n4 = t4 ? e4.length : 0, r4 = n4 - 1; n4--; ) {
                var i2 = e4[n4];
                if (n4 == r4 || i2 !== o2) {
                  var o2 = i2;
                  yo(i2) ? re2.call(t4, i2, 1) : ci(t4, i2);
                }
              }
              return t4;
            }
            function Hr(t4, e4) {
              return t4 + ln(xn() * (e4 - t4 + 1));
            }
            function qr(t4, e4) {
              var n4 = "";
              if (!t4 || e4 < 1 || e4 > l)
                return n4;
              do {
                e4 % 2 && (n4 += t4), (e4 = ln(e4 / 2)) && (t4 += t4);
              } while (e4);
              return n4;
            }
            function Yr(t4, e4) {
              return ko(Ao(t4, e4, is), t4 + "");
            }
            function Kr(t4) {
              return Zn(zu(t4));
            }
            function Zr(t4, e4) {
              var n4 = zu(t4);
              return Mo(n4, ar(e4, 0, n4.length));
            }
            function $r(t4, e4, n4, r4) {
              if (!eu(t4))
                return t4;
              for (var o2 = -1, a2 = (e4 = yi(e4, t4)).length, u2 = a2 - 1, s2 = t4; s2 != null && ++o2 < a2; ) {
                var c2 = Uo(e4[o2]), f2 = n4;
                if (c2 === "__proto__" || c2 === "constructor" || c2 === "prototype")
                  return t4;
                if (o2 != u2) {
                  var l2 = s2[c2];
                  (f2 = r4 ? r4(l2, c2, s2) : i) === i && (f2 = eu(l2) ? l2 : yo(e4[o2 + 1]) ? [] : {});
                }
                tr(s2, c2, f2), s2 = s2[c2];
              }
              return t4;
            }
            var Jr = Dn ? function(t4, e4) {
              return Dn.set(t4, e4), t4;
            } : is, Qr = ce2 ? function(t4, e4) {
              return ce2(t4, "toString", { configurable: true, enumerable: false, value: es(e4), writable: true });
            } : is;
            function ti(t4) {
              return Mo(zu(t4));
            }
            function ei(t4, e4, n4) {
              var i2 = -1, o2 = t4.length;
              e4 < 0 && (e4 = -e4 > o2 ? 0 : o2 + e4), (n4 = n4 > o2 ? o2 : n4) < 0 && (n4 += o2), o2 = e4 > n4 ? 0 : n4 - e4 >>> 0, e4 >>>= 0;
              for (var a2 = r3(o2); ++i2 < o2; )
                a2[i2] = t4[i2 + e4];
              return a2;
            }
            function ni(t4, e4) {
              var n4;
              return lr(t4, function(t5, r4, i2) {
                return !(n4 = e4(t5, r4, i2));
              }), !!n4;
            }
            function ri(t4, e4, n4) {
              var r4 = 0, i2 = t4 == null ? r4 : t4.length;
              if (typeof e4 == "number" && e4 == e4 && i2 <= 2147483647) {
                for (; r4 < i2; ) {
                  var o2 = r4 + i2 >>> 1, a2 = t4[o2];
                  a2 !== null && !cu(a2) && (n4 ? a2 <= e4 : a2 < e4) ? r4 = o2 + 1 : i2 = o2;
                }
                return i2;
              }
              return ii(t4, e4, is, n4);
            }
            function ii(t4, e4, n4, r4) {
              var o2 = 0, a2 = t4 == null ? 0 : t4.length;
              if (a2 === 0)
                return 0;
              for (var u2 = (e4 = n4(e4)) != e4, s2 = e4 === null, c2 = cu(e4), f2 = e4 === i; o2 < a2; ) {
                var l2 = ln((o2 + a2) / 2), h2 = n4(t4[l2]), d2 = h2 !== i, p2 = h2 === null, v2 = h2 == h2, g2 = cu(h2);
                if (u2)
                  var y2 = r4 || v2;
                else
                  y2 = f2 ? v2 && (r4 || d2) : s2 ? v2 && d2 && (r4 || !p2) : c2 ? v2 && d2 && !p2 && (r4 || !g2) : !p2 && !g2 && (r4 ? h2 <= e4 : h2 < e4);
                y2 ? o2 = l2 + 1 : a2 = l2;
              }
              return mn(a2, 4294967294);
            }
            function oi(t4, e4) {
              for (var n4 = -1, r4 = t4.length, i2 = 0, o2 = []; ++n4 < r4; ) {
                var a2 = t4[n4], u2 = e4 ? e4(a2) : a2;
                if (!n4 || !za(u2, s2)) {
                  var s2 = u2;
                  o2[i2++] = a2 === 0 ? 0 : a2;
                }
              }
              return o2;
            }
            function ai(t4) {
              return typeof t4 == "number" ? t4 : cu(t4) ? h : +t4;
            }
            function ui(t4) {
              if (typeof t4 == "string")
                return t4;
              if (Xa(t4))
                return Ae(t4, ui) + "";
              if (cu(t4))
                return Un ? Un.call(t4) : "";
              var e4 = t4 + "";
              return e4 == "0" && 1 / t4 == -1 / 0 ? "-0" : e4;
            }
            function si(t4, e4, n4) {
              var r4 = -1, i2 = Ee, o2 = t4.length, a2 = true, u2 = [], s2 = u2;
              if (n4)
                a2 = false, i2 = Se;
              else if (o2 >= 200) {
                var c2 = e4 ? null : qi(t4);
                if (c2)
                  return nn(c2);
                a2 = false, i2 = Xe, s2 = new qn();
              } else
                s2 = e4 ? [] : u2;
              t:
                for (; ++r4 < o2; ) {
                  var f2 = t4[r4], l2 = e4 ? e4(f2) : f2;
                  if (f2 = n4 || f2 !== 0 ? f2 : 0, a2 && l2 == l2) {
                    for (var h2 = s2.length; h2--; )
                      if (s2[h2] === l2)
                        continue t;
                    e4 && s2.push(l2), u2.push(f2);
                  } else
                    i2(s2, l2, n4) || (s2 !== u2 && s2.push(l2), u2.push(f2));
                }
              return u2;
            }
            function ci(t4, e4) {
              return (t4 = To(t4, e4 = yi(e4, t4))) == null || delete t4[Uo($o(e4))];
            }
            function fi(t4, e4, n4, r4) {
              return $r(t4, e4, n4(wr(t4, e4)), r4);
            }
            function li(t4, e4, n4, r4) {
              for (var i2 = t4.length, o2 = r4 ? i2 : -1; (r4 ? o2-- : ++o2 < i2) && e4(t4[o2], o2, t4); )
                ;
              return n4 ? ei(t4, r4 ? 0 : o2, r4 ? o2 + 1 : i2) : ei(t4, r4 ? o2 + 1 : 0, r4 ? i2 : o2);
            }
            function hi(t4, e4) {
              var n4 = t4;
              return n4 instanceof Wn && (n4 = n4.value()), Ie(e4, function(t5, e5) {
                return e5.func.apply(e5.thisArg, Te([t5], e5.args));
              }, n4);
            }
            function di(t4, e4, n4) {
              var i2 = t4.length;
              if (i2 < 2)
                return i2 ? si(t4[0]) : [];
              for (var o2 = -1, a2 = r3(i2); ++o2 < i2; )
                for (var u2 = t4[o2], s2 = -1; ++s2 < i2; )
                  s2 != o2 && (a2[o2] = fr(a2[o2] || u2, t4[s2], e4, n4));
              return si(gr(a2, 1), e4, n4);
            }
            function pi(t4, e4, n4) {
              for (var r4 = -1, o2 = t4.length, a2 = e4.length, u2 = {}; ++r4 < o2; ) {
                var s2 = r4 < a2 ? e4[r4] : i;
                n4(u2, t4[r4], s2);
              }
              return u2;
            }
            function vi(t4) {
              return Ya(t4) ? t4 : [];
            }
            function gi(t4) {
              return typeof t4 == "function" ? t4 : is;
            }
            function yi(t4, e4) {
              return Xa(t4) ? t4 : bo(t4, e4) ? [t4] : Lo(bu(t4));
            }
            var mi = Yr;
            function bi(t4, e4, n4) {
              var r4 = t4.length;
              return n4 = n4 === i ? r4 : n4, !e4 && n4 >= r4 ? t4 : ei(t4, e4, n4);
            }
            var _i = fe2 || function(t4) {
              return oe.clearTimeout(t4);
            };
            function xi(t4, e4) {
              if (e4)
                return t4.slice();
              var n4 = t4.length, r4 = Wt2 ? Wt2(n4) : new t4.constructor(n4);
              return t4.copy(r4), r4;
            }
            function wi(t4) {
              var e4 = new t4.constructor(t4.byteLength);
              return new jt2(e4).set(new jt2(t4)), e4;
            }
            function Ei(t4, e4) {
              var n4 = e4 ? wi(t4.buffer) : t4.buffer;
              return new t4.constructor(n4, t4.byteOffset, t4.length);
            }
            function Si(t4, e4) {
              if (t4 !== e4) {
                var n4 = t4 !== i, r4 = t4 === null, o2 = t4 == t4, a2 = cu(t4), u2 = e4 !== i, s2 = e4 === null, c2 = e4 == e4, f2 = cu(e4);
                if (!s2 && !f2 && !a2 && t4 > e4 || a2 && u2 && c2 && !s2 && !f2 || r4 && u2 && c2 || !n4 && c2 || !o2)
                  return 1;
                if (!r4 && !a2 && !f2 && t4 < e4 || f2 && n4 && o2 && !r4 && !a2 || s2 && n4 && o2 || !u2 && o2 || !c2)
                  return -1;
              }
              return 0;
            }
            function Ai(t4, e4, n4, i2) {
              for (var o2 = -1, a2 = t4.length, u2 = n4.length, s2 = -1, c2 = e4.length, f2 = yn(a2 - u2, 0), l2 = r3(c2 + f2), h2 = !i2; ++s2 < c2; )
                l2[s2] = e4[s2];
              for (; ++o2 < u2; )
                (h2 || o2 < a2) && (l2[n4[o2]] = t4[o2]);
              for (; f2--; )
                l2[s2++] = t4[o2++];
              return l2;
            }
            function Ti(t4, e4, n4, i2) {
              for (var o2 = -1, a2 = t4.length, u2 = -1, s2 = n4.length, c2 = -1, f2 = e4.length, l2 = yn(a2 - s2, 0), h2 = r3(l2 + f2), d2 = !i2; ++o2 < l2; )
                h2[o2] = t4[o2];
              for (var p2 = o2; ++c2 < f2; )
                h2[p2 + c2] = e4[c2];
              for (; ++u2 < s2; )
                (d2 || o2 < a2) && (h2[p2 + n4[u2]] = t4[o2++]);
              return h2;
            }
            function Ii(t4, e4) {
              var n4 = -1, i2 = t4.length;
              for (e4 || (e4 = r3(i2)); ++n4 < i2; )
                e4[n4] = t4[n4];
              return e4;
            }
            function Ci(t4, e4, n4, r4) {
              var o2 = !n4;
              n4 || (n4 = {});
              for (var a2 = -1, u2 = e4.length; ++a2 < u2; ) {
                var s2 = e4[a2], c2 = r4 ? r4(n4[s2], t4[s2], s2, n4, t4) : i;
                c2 === i && (c2 = t4[s2]), o2 ? ir(n4, s2, c2) : tr(n4, s2, c2);
              }
              return n4;
            }
            function Di(t4, e4) {
              return function(n4, r4) {
                var i2 = Xa(n4) ? me : nr, o2 = e4 ? e4() : {};
                return i2(n4, t4, ao(r4, 2), o2);
              };
            }
            function Ni(t4) {
              return Yr(function(e4, n4) {
                var r4 = -1, o2 = n4.length, a2 = o2 > 1 ? n4[o2 - 1] : i, u2 = o2 > 2 ? n4[2] : i;
                for (a2 = t4.length > 3 && typeof a2 == "function" ? (o2--, a2) : i, u2 && mo(n4[0], n4[1], u2) && (a2 = o2 < 3 ? i : a2, o2 = 1), e4 = St2(e4); ++r4 < o2; ) {
                  var s2 = n4[r4];
                  s2 && t4(e4, s2, r4, a2);
                }
                return e4;
              });
            }
            function ki(t4, e4) {
              return function(n4, r4) {
                if (n4 == null)
                  return n4;
                if (!qa(n4))
                  return t4(n4, r4);
                for (var i2 = n4.length, o2 = e4 ? i2 : -1, a2 = St2(n4); (e4 ? o2-- : ++o2 < i2) && r4(a2[o2], o2, a2) !== false; )
                  ;
                return n4;
              };
            }
            function Ri(t4) {
              return function(e4, n4, r4) {
                for (var i2 = -1, o2 = St2(e4), a2 = r4(e4), u2 = a2.length; u2--; ) {
                  var s2 = a2[t4 ? u2 : ++i2];
                  if (n4(o2[s2], s2, o2) === false)
                    break;
                }
                return e4;
              };
            }
            function Oi(t4) {
              return function(e4) {
                var n4 = Je(e4 = bu(e4)) ? an(e4) : i, r4 = n4 ? n4[0] : e4.charAt(0), o2 = n4 ? bi(n4, 1).join("") : e4.slice(1);
                return r4[t4]() + o2;
              };
            }
            function Mi(t4) {
              return function(e4) {
                return Ie(Ju(Vu(e4).replace(Vt, "")), t4, "");
              };
            }
            function Pi(t4) {
              return function() {
                var e4 = arguments;
                switch (e4.length) {
                  case 0:
                    return new t4();
                  case 1:
                    return new t4(e4[0]);
                  case 2:
                    return new t4(e4[0], e4[1]);
                  case 3:
                    return new t4(e4[0], e4[1], e4[2]);
                  case 4:
                    return new t4(e4[0], e4[1], e4[2], e4[3]);
                  case 5:
                    return new t4(e4[0], e4[1], e4[2], e4[3], e4[4]);
                  case 6:
                    return new t4(e4[0], e4[1], e4[2], e4[3], e4[4], e4[5]);
                  case 7:
                    return new t4(e4[0], e4[1], e4[2], e4[3], e4[4], e4[5], e4[6]);
                }
                var n4 = Bn(t4.prototype), r4 = t4.apply(n4, e4);
                return eu(r4) ? r4 : n4;
              };
            }
            function Gi(t4) {
              return function(e4, n4, r4) {
                var o2 = St2(e4);
                if (!qa(e4)) {
                  var a2 = ao(n4, 3);
                  e4 = Ru(e4), n4 = function(t5) {
                    return a2(o2[t5], t5, o2);
                  };
                }
                var u2 = t4(e4, n4, r4);
                return u2 > -1 ? o2[a2 ? e4[u2] : u2] : i;
              };
            }
            function Li(t4) {
              return to(function(e4) {
                var n4 = e4.length, r4 = n4, a2 = jn.prototype.thru;
                for (t4 && e4.reverse(); r4--; ) {
                  var u2 = e4[r4];
                  if (typeof u2 != "function")
                    throw new It2(o);
                  if (a2 && !s2 && io(u2) == "wrapper")
                    var s2 = new jn([], true);
                }
                for (r4 = s2 ? r4 : n4; ++r4 < n4; ) {
                  var c2 = io(u2 = e4[r4]), f2 = c2 == "wrapper" ? ro(u2) : i;
                  s2 = f2 && _o(f2[0]) && f2[1] == 424 && !f2[4].length && f2[9] == 1 ? s2[io(f2[0])].apply(s2, f2[3]) : u2.length == 1 && _o(u2) ? s2[c2]() : s2.thru(u2);
                }
                return function() {
                  var t5 = arguments, r5 = t5[0];
                  if (s2 && t5.length == 1 && Xa(r5))
                    return s2.plant(r5).value();
                  for (var i2 = 0, o2 = n4 ? e4[i2].apply(this, t5) : r5; ++i2 < n4; )
                    o2 = e4[i2].call(this, o2);
                  return o2;
                };
              });
            }
            function Ui(t4, e4, n4, o2, a2, u2, s2, f2, l2, h2) {
              var d2 = e4 & c, p2 = 1 & e4, v2 = 2 & e4, g2 = 24 & e4, y2 = 512 & e4, m2 = v2 ? i : Pi(t4);
              return function i2() {
                for (var c2 = arguments.length, b2 = r3(c2), _2 = c2; _2--; )
                  b2[_2] = arguments[_2];
                if (g2)
                  var x2 = oo(i2), w2 = Ye(b2, x2);
                if (o2 && (b2 = Ai(b2, o2, a2, g2)), u2 && (b2 = Ti(b2, u2, s2, g2)), c2 -= w2, g2 && c2 < h2) {
                  var E2 = en(b2, x2);
                  return Xi(t4, e4, Ui, i2.placeholder, n4, b2, E2, f2, l2, h2 - c2);
                }
                var S2 = p2 ? n4 : this, A2 = v2 ? S2[t4] : t4;
                return c2 = b2.length, f2 ? b2 = Io(b2, f2) : y2 && c2 > 1 && b2.reverse(), d2 && l2 < c2 && (b2.length = l2), this && this !== oe && this instanceof i2 && (A2 = m2 || Pi(A2)), A2.apply(S2, b2);
              };
            }
            function Fi(t4, e4) {
              return function(n4, r4) {
                return function(t5, e5, n5, r5) {
                  return br(t5, function(t6, i2, o2) {
                    e5(r5, n5(t6), i2, o2);
                  }), r5;
                }(n4, t4, e4(r4), {});
              };
            }
            function Bi(t4, e4) {
              return function(n4, r4) {
                var o2;
                if (n4 === i && r4 === i)
                  return e4;
                if (n4 !== i && (o2 = n4), r4 !== i) {
                  if (o2 === i)
                    return r4;
                  typeof n4 == "string" || typeof r4 == "string" ? (n4 = ui(n4), r4 = ui(r4)) : (n4 = ai(n4), r4 = ai(r4)), o2 = t4(n4, r4);
                }
                return o2;
              };
            }
            function zi(t4) {
              return to(function(e4) {
                return e4 = Ae(e4, We(ao())), Yr(function(n4) {
                  var r4 = this;
                  return t4(e4, function(t5) {
                    return ye(t5, r4, n4);
                  });
                });
              });
            }
            function ji(t4, e4) {
              var n4 = (e4 = e4 === i ? " " : ui(e4)).length;
              if (n4 < 2)
                return n4 ? qr(e4, t4) : e4;
              var r4 = qr(e4, fn(t4 / on(e4)));
              return Je(e4) ? bi(an(r4), 0, t4).join("") : r4.slice(0, t4);
            }
            function Wi(t4) {
              return function(e4, n4, o2) {
                return o2 && typeof o2 != "number" && mo(e4, n4, o2) && (n4 = o2 = i), e4 = pu(e4), n4 === i ? (n4 = e4, e4 = 0) : n4 = pu(n4), function(t5, e5, n5, i2) {
                  for (var o3 = -1, a2 = yn(fn((e5 - t5) / (n5 || 1)), 0), u2 = r3(a2); a2--; )
                    u2[i2 ? a2 : ++o3] = t5, t5 += n5;
                  return u2;
                }(e4, n4, o2 = o2 === i ? e4 < n4 ? 1 : -1 : pu(o2), t4);
              };
            }
            function Vi(t4) {
              return function(e4, n4) {
                return typeof e4 == "string" && typeof n4 == "string" || (e4 = yu(e4), n4 = yu(n4)), t4(e4, n4);
              };
            }
            function Xi(t4, e4, n4, r4, o2, a2, u2, c2, f2, l2) {
              var h2 = 8 & e4;
              e4 |= h2 ? s : 64, 4 & (e4 &= ~(h2 ? 64 : s)) || (e4 &= -4);
              var d2 = [t4, e4, o2, h2 ? a2 : i, h2 ? u2 : i, h2 ? i : a2, h2 ? i : u2, c2, f2, l2], p2 = n4.apply(i, d2);
              return _o(t4) && Do(p2, d2), p2.placeholder = r4, Ro(p2, t4, e4);
            }
            function Hi(t4) {
              var e4 = Et2[t4];
              return function(t5, n4) {
                if (t5 = yu(t5), (n4 = n4 == null ? 0 : mn(vu(n4), 292)) && pn(t5)) {
                  var r4 = (bu(t5) + "e").split("e");
                  return +((r4 = (bu(e4(r4[0] + "e" + (+r4[1] + n4))) + "e").split("e"))[0] + "e" + (+r4[1] - n4));
                }
                return e4(t5);
              };
            }
            var qi = Tn && 1 / nn(new Tn([, -0]))[1] == f ? function(t4) {
              return new Tn(t4);
            } : cs;
            function Yi(t4) {
              return function(e4) {
                var n4 = ho(e4);
                return n4 == w ? Qe(e4) : n4 == I ? rn(e4) : function(t5, e5) {
                  return Ae(e5, function(e6) {
                    return [e6, t5[e6]];
                  });
                }(e4, t4(e4));
              };
            }
            function Ki(t4, e4, n4, a2, f2, l2, h2, d2) {
              var p2 = 2 & e4;
              if (!p2 && typeof t4 != "function")
                throw new It2(o);
              var v2 = a2 ? a2.length : 0;
              if (v2 || (e4 &= -97, a2 = f2 = i), h2 = h2 === i ? h2 : yn(vu(h2), 0), d2 = d2 === i ? d2 : vu(d2), v2 -= f2 ? f2.length : 0, 64 & e4) {
                var g2 = a2, y2 = f2;
                a2 = f2 = i;
              }
              var m2 = p2 ? i : ro(t4), b2 = [t4, e4, n4, a2, f2, g2, y2, l2, h2, d2];
              if (m2 && function(t5, e5) {
                var n5 = t5[1], r4 = e5[1], i2 = n5 | r4, o2 = i2 < 131, a3 = r4 == c && n5 == 8 || r4 == c && n5 == 256 && t5[7].length <= e5[8] || r4 == 384 && e5[7].length <= e5[8] && n5 == 8;
                if (!o2 && !a3)
                  return t5;
                1 & r4 && (t5[2] = e5[2], i2 |= 1 & n5 ? 0 : 4);
                var s2 = e5[3];
                if (s2) {
                  var f3 = t5[3];
                  t5[3] = f3 ? Ai(f3, s2, e5[4]) : s2, t5[4] = f3 ? en(t5[3], u) : e5[4];
                }
                (s2 = e5[5]) && (f3 = t5[5], t5[5] = f3 ? Ti(f3, s2, e5[6]) : s2, t5[6] = f3 ? en(t5[5], u) : e5[6]), (s2 = e5[7]) && (t5[7] = s2), r4 & c && (t5[8] = t5[8] == null ? e5[8] : mn(t5[8], e5[8])), t5[9] == null && (t5[9] = e5[9]), t5[0] = e5[0], t5[1] = i2;
              }(b2, m2), t4 = b2[0], e4 = b2[1], n4 = b2[2], a2 = b2[3], f2 = b2[4], !(d2 = b2[9] = b2[9] === i ? p2 ? 0 : t4.length : yn(b2[9] - v2, 0)) && 24 & e4 && (e4 &= -25), e4 && e4 != 1)
                _2 = e4 == 8 || e4 == 16 ? function(t5, e5, n5) {
                  var o2 = Pi(t5);
                  return function a3() {
                    for (var u2 = arguments.length, s2 = r3(u2), c2 = u2, f3 = oo(a3); c2--; )
                      s2[c2] = arguments[c2];
                    var l3 = u2 < 3 && s2[0] !== f3 && s2[u2 - 1] !== f3 ? [] : en(s2, f3);
                    return (u2 -= l3.length) < n5 ? Xi(t5, e5, Ui, a3.placeholder, i, s2, l3, i, i, n5 - u2) : ye(this && this !== oe && this instanceof a3 ? o2 : t5, this, s2);
                  };
                }(t4, e4, d2) : e4 != s && e4 != 33 || f2.length ? Ui.apply(i, b2) : function(t5, e5, n5, i2) {
                  var o2 = 1 & e5, a3 = Pi(t5);
                  return function e6() {
                    for (var u2 = -1, s2 = arguments.length, c2 = -1, f3 = i2.length, l3 = r3(f3 + s2), h3 = this && this !== oe && this instanceof e6 ? a3 : t5; ++c2 < f3; )
                      l3[c2] = i2[c2];
                    for (; s2--; )
                      l3[c2++] = arguments[++u2];
                    return ye(h3, o2 ? n5 : this, l3);
                  };
                }(t4, e4, n4, a2);
              else
                var _2 = function(t5, e5, n5) {
                  var r4 = 1 & e5, i2 = Pi(t5);
                  return function e6() {
                    return (this && this !== oe && this instanceof e6 ? i2 : t5).apply(r4 ? n5 : this, arguments);
                  };
                }(t4, e4, n4);
              return Ro((m2 ? Jr : Do)(_2, b2), t4, e4);
            }
            function Zi(t4, e4, n4, r4) {
              return t4 === i || za(t4, Nt2[n4]) && !Ot2.call(r4, n4) ? e4 : t4;
            }
            function $i(t4, e4, n4, r4, o2, a2) {
              return eu(t4) && eu(e4) && (a2.set(e4, t4), Br(t4, e4, i, $i, a2), a2.delete(e4)), t4;
            }
            function Ji(t4) {
              return ou(t4) ? i : t4;
            }
            function Qi(t4, e4, n4, r4, o2, a2) {
              var u2 = 1 & n4, s2 = t4.length, c2 = e4.length;
              if (s2 != c2 && !(u2 && c2 > s2))
                return false;
              var f2 = a2.get(t4), l2 = a2.get(e4);
              if (f2 && l2)
                return f2 == e4 && l2 == t4;
              var h2 = -1, d2 = true, p2 = 2 & n4 ? new qn() : i;
              for (a2.set(t4, e4), a2.set(e4, t4); ++h2 < s2; ) {
                var v2 = t4[h2], g2 = e4[h2];
                if (r4)
                  var y2 = u2 ? r4(g2, v2, h2, e4, t4, a2) : r4(v2, g2, h2, t4, e4, a2);
                if (y2 !== i) {
                  if (y2)
                    continue;
                  d2 = false;
                  break;
                }
                if (p2) {
                  if (!De(e4, function(t5, e5) {
                    if (!Xe(p2, e5) && (v2 === t5 || o2(v2, t5, n4, r4, a2)))
                      return p2.push(e5);
                  })) {
                    d2 = false;
                    break;
                  }
                } else if (v2 !== g2 && !o2(v2, g2, n4, r4, a2)) {
                  d2 = false;
                  break;
                }
              }
              return a2.delete(t4), a2.delete(e4), d2;
            }
            function to(t4) {
              return ko(Ao(t4, i, Ho), t4 + "");
            }
            function eo(t4) {
              return Er(t4, Ru, fo);
            }
            function no(t4) {
              return Er(t4, Ou, lo);
            }
            var ro = Dn ? function(t4) {
              return Dn.get(t4);
            } : cs;
            function io(t4) {
              for (var e4 = t4.name + "", n4 = Nn[e4], r4 = Ot2.call(Nn, e4) ? n4.length : 0; r4--; ) {
                var i2 = n4[r4], o2 = i2.func;
                if (o2 == null || o2 == t4)
                  return i2.name;
              }
              return e4;
            }
            function oo(t4) {
              return (Ot2.call(Fn, "placeholder") ? Fn : t4).placeholder;
            }
            function ao() {
              var t4 = Fn.iteratee || os;
              return t4 = t4 === os ? Mr : t4, arguments.length ? t4(arguments[0], arguments[1]) : t4;
            }
            function uo(t4, e4) {
              var n4, r4, i2 = t4.__data__;
              return ((r4 = typeof (n4 = e4)) == "string" || r4 == "number" || r4 == "symbol" || r4 == "boolean" ? n4 !== "__proto__" : n4 === null) ? i2[typeof e4 == "string" ? "string" : "hash"] : i2.map;
            }
            function so(t4) {
              for (var e4 = Ru(t4), n4 = e4.length; n4--; ) {
                var r4 = e4[n4], i2 = t4[r4];
                e4[n4] = [r4, i2, Eo(i2)];
              }
              return e4;
            }
            function co(t4, e4) {
              var n4 = function(t5, e5) {
                return t5 == null ? i : t5[e5];
              }(t4, e4);
              return Or(n4) ? n4 : i;
            }
            var fo = hn ? function(t4) {
              return t4 == null ? [] : (t4 = St2(t4), we(hn(t4), function(e4) {
                return te2.call(t4, e4);
              }));
            } : gs, lo = hn ? function(t4) {
              for (var e4 = []; t4; )
                Te(e4, fo(t4)), t4 = Ht2(t4);
              return e4;
            } : gs, ho = Sr;
            function po(t4, e4, n4) {
              for (var r4 = -1, i2 = (e4 = yi(e4, t4)).length, o2 = false; ++r4 < i2; ) {
                var a2 = Uo(e4[r4]);
                if (!(o2 = t4 != null && n4(t4, a2)))
                  break;
                t4 = t4[a2];
              }
              return o2 || ++r4 != i2 ? o2 : !!(i2 = t4 == null ? 0 : t4.length) && tu(i2) && yo(a2, i2) && (Xa(t4) || Va(t4));
            }
            function vo(t4) {
              return typeof t4.constructor != "function" || wo(t4) ? {} : Bn(Ht2(t4));
            }
            function go(t4) {
              return Xa(t4) || Va(t4) || !!(ie2 && t4 && t4[ie2]);
            }
            function yo(t4, e4) {
              var n4 = typeof t4;
              return !!(e4 = e4 == null ? l : e4) && (n4 == "number" || n4 != "symbol" && yt.test(t4)) && t4 > -1 && t4 % 1 == 0 && t4 < e4;
            }
            function mo(t4, e4, n4) {
              if (!eu(n4))
                return false;
              var r4 = typeof e4;
              return !!(r4 == "number" ? qa(n4) && yo(e4, n4.length) : r4 == "string" && e4 in n4) && za(n4[e4], t4);
            }
            function bo(t4, e4) {
              if (Xa(t4))
                return false;
              var n4 = typeof t4;
              return !(n4 != "number" && n4 != "symbol" && n4 != "boolean" && t4 != null && !cu(t4)) || Q.test(t4) || !J.test(t4) || e4 != null && t4 in St2(e4);
            }
            function _o(t4) {
              var e4 = io(t4), n4 = Fn[e4];
              if (typeof n4 != "function" || !(e4 in Wn.prototype))
                return false;
              if (t4 === n4)
                return true;
              var r4 = ro(n4);
              return !!r4 && t4 === r4[0];
            }
            (En && ho(new En(new ArrayBuffer(1))) != R || Sn && ho(new Sn()) != w || An && ho(An.resolve()) != A || Tn && ho(new Tn()) != I || In && ho(new In()) != N) && (ho = function(t4) {
              var e4 = Sr(t4), n4 = e4 == S ? t4.constructor : i, r4 = n4 ? Fo(n4) : "";
              if (r4)
                switch (r4) {
                  case kn:
                    return R;
                  case Rn:
                    return w;
                  case On:
                    return A;
                  case Mn:
                    return I;
                  case Pn:
                    return N;
                }
              return e4;
            });
            var xo = kt2 ? Ja : ys;
            function wo(t4) {
              var e4 = t4 && t4.constructor;
              return t4 === (typeof e4 == "function" && e4.prototype || Nt2);
            }
            function Eo(t4) {
              return t4 == t4 && !eu(t4);
            }
            function So(t4, e4) {
              return function(n4) {
                return n4 != null && n4[t4] === e4 && (e4 !== i || t4 in St2(n4));
              };
            }
            function Ao(t4, e4, n4) {
              return e4 = yn(e4 === i ? t4.length - 1 : e4, 0), function() {
                for (var i2 = arguments, o2 = -1, a2 = yn(i2.length - e4, 0), u2 = r3(a2); ++o2 < a2; )
                  u2[o2] = i2[e4 + o2];
                o2 = -1;
                for (var s2 = r3(e4 + 1); ++o2 < e4; )
                  s2[o2] = i2[o2];
                return s2[e4] = n4(u2), ye(t4, this, s2);
              };
            }
            function To(t4, e4) {
              return e4.length < 2 ? t4 : wr(t4, ei(e4, 0, -1));
            }
            function Io(t4, e4) {
              for (var n4 = t4.length, r4 = mn(e4.length, n4), o2 = Ii(t4); r4--; ) {
                var a2 = e4[r4];
                t4[r4] = yo(a2, n4) ? o2[a2] : i;
              }
              return t4;
            }
            function Co(t4, e4) {
              if ((e4 !== "constructor" || typeof t4[e4] != "function") && e4 != "__proto__")
                return t4[e4];
            }
            var Do = Oo(Jr), No = Ue2 || function(t4, e4) {
              return oe.setTimeout(t4, e4);
            }, ko = Oo(Qr);
            function Ro(t4, e4, n4) {
              var r4 = e4 + "";
              return ko(t4, function(t5, e5) {
                var n5 = e5.length;
                if (!n5)
                  return t5;
                var r5 = n5 - 1;
                return e5[r5] = (n5 > 1 ? "& " : "") + e5[r5], e5 = e5.join(n5 > 2 ? ", " : " "), t5.replace(ot, "{\n/* [wrapped with " + e5 + "] */\n");
              }(r4, function(t5, e5) {
                return be(p, function(n5) {
                  var r5 = "_." + n5[0];
                  e5 & n5[1] && !Ee(t5, r5) && t5.push(r5);
                }), t5.sort();
              }(function(t5) {
                var e5 = t5.match(at);
                return e5 ? e5[1].split(ut) : [];
              }(r4), n4)));
            }
            function Oo(t4) {
              var e4 = 0, n4 = 0;
              return function() {
                var r4 = bn(), o2 = 16 - (r4 - n4);
                if (n4 = r4, o2 > 0) {
                  if (++e4 >= 800)
                    return arguments[0];
                } else
                  e4 = 0;
                return t4.apply(i, arguments);
              };
            }
            function Mo(t4, e4) {
              var n4 = -1, r4 = t4.length, o2 = r4 - 1;
              for (e4 = e4 === i ? r4 : e4; ++n4 < e4; ) {
                var a2 = Hr(n4, o2), u2 = t4[a2];
                t4[a2] = t4[n4], t4[n4] = u2;
              }
              return t4.length = e4, t4;
            }
            var Po, Go, Lo = (Po = Pa(function(t4) {
              var e4 = [];
              return t4.charCodeAt(0) === 46 && e4.push(""), t4.replace(tt, function(t5, n4, r4, i2) {
                e4.push(r4 ? i2.replace(ft, "$1") : n4 || t5);
              }), e4;
            }, function(t4) {
              return Go.size === 500 && Go.clear(), t4;
            }), Go = Po.cache, Po);
            function Uo(t4) {
              if (typeof t4 == "string" || cu(t4))
                return t4;
              var e4 = t4 + "";
              return e4 == "0" && 1 / t4 == -1 / 0 ? "-0" : e4;
            }
            function Fo(t4) {
              if (t4 != null) {
                try {
                  return Rt2.call(t4);
                } catch (t5) {
                }
                try {
                  return t4 + "";
                } catch (t5) {
                }
              }
              return "";
            }
            function Bo(t4) {
              if (t4 instanceof Wn)
                return t4.clone();
              var e4 = new jn(t4.__wrapped__, t4.__chain__);
              return e4.__actions__ = Ii(t4.__actions__), e4.__index__ = t4.__index__, e4.__values__ = t4.__values__, e4;
            }
            var zo = Yr(function(t4, e4) {
              return Ya(t4) ? fr(t4, gr(e4, 1, Ya, true)) : [];
            }), jo = Yr(function(t4, e4) {
              var n4 = $o(e4);
              return Ya(n4) && (n4 = i), Ya(t4) ? fr(t4, gr(e4, 1, Ya, true), ao(n4, 2)) : [];
            }), Wo = Yr(function(t4, e4) {
              var n4 = $o(e4);
              return Ya(n4) && (n4 = i), Ya(t4) ? fr(t4, gr(e4, 1, Ya, true), i, n4) : [];
            });
            function Vo(t4, e4, n4) {
              var r4 = t4 == null ? 0 : t4.length;
              if (!r4)
                return -1;
              var i2 = n4 == null ? 0 : vu(n4);
              return i2 < 0 && (i2 = yn(r4 + i2, 0)), Re(t4, ao(e4, 3), i2);
            }
            function Xo(t4, e4, n4) {
              var r4 = t4 == null ? 0 : t4.length;
              if (!r4)
                return -1;
              var o2 = r4 - 1;
              return n4 !== i && (o2 = vu(n4), o2 = n4 < 0 ? yn(r4 + o2, 0) : mn(o2, r4 - 1)), Re(t4, ao(e4, 3), o2, true);
            }
            function Ho(t4) {
              return t4 != null && t4.length ? gr(t4, 1) : [];
            }
            function qo(t4) {
              return t4 && t4.length ? t4[0] : i;
            }
            var Yo = Yr(function(t4) {
              var e4 = Ae(t4, vi);
              return e4.length && e4[0] === t4[0] ? Cr(e4) : [];
            }), Ko = Yr(function(t4) {
              var e4 = $o(t4), n4 = Ae(t4, vi);
              return e4 === $o(n4) ? e4 = i : n4.pop(), n4.length && n4[0] === t4[0] ? Cr(n4, ao(e4, 2)) : [];
            }), Zo = Yr(function(t4) {
              var e4 = $o(t4), n4 = Ae(t4, vi);
              return (e4 = typeof e4 == "function" ? e4 : i) && n4.pop(), n4.length && n4[0] === t4[0] ? Cr(n4, i, e4) : [];
            });
            function $o(t4) {
              var e4 = t4 == null ? 0 : t4.length;
              return e4 ? t4[e4 - 1] : i;
            }
            var Jo = Yr(Qo);
            function Qo(t4, e4) {
              return t4 && t4.length && e4 && e4.length ? Vr(t4, e4) : t4;
            }
            var ta = to(function(t4, e4) {
              var n4 = t4 == null ? 0 : t4.length, r4 = or(t4, e4);
              return Xr(t4, Ae(e4, function(t5) {
                return yo(t5, n4) ? +t5 : t5;
              }).sort(Si)), r4;
            });
            function ea(t4) {
              return t4 == null ? t4 : wn.call(t4);
            }
            var na = Yr(function(t4) {
              return si(gr(t4, 1, Ya, true));
            }), ra = Yr(function(t4) {
              var e4 = $o(t4);
              return Ya(e4) && (e4 = i), si(gr(t4, 1, Ya, true), ao(e4, 2));
            }), ia = Yr(function(t4) {
              var e4 = $o(t4);
              return e4 = typeof e4 == "function" ? e4 : i, si(gr(t4, 1, Ya, true), i, e4);
            });
            function oa(t4) {
              if (!t4 || !t4.length)
                return [];
              var e4 = 0;
              return t4 = we(t4, function(t5) {
                if (Ya(t5))
                  return e4 = yn(t5.length, e4), true;
              }), ze(e4, function(e5) {
                return Ae(t4, Le(e5));
              });
            }
            function aa(t4, e4) {
              if (!t4 || !t4.length)
                return [];
              var n4 = oa(t4);
              return e4 == null ? n4 : Ae(n4, function(t5) {
                return ye(e4, i, t5);
              });
            }
            var ua = Yr(function(t4, e4) {
              return Ya(t4) ? fr(t4, e4) : [];
            }), sa = Yr(function(t4) {
              return di(we(t4, Ya));
            }), ca = Yr(function(t4) {
              var e4 = $o(t4);
              return Ya(e4) && (e4 = i), di(we(t4, Ya), ao(e4, 2));
            }), fa = Yr(function(t4) {
              var e4 = $o(t4);
              return e4 = typeof e4 == "function" ? e4 : i, di(we(t4, Ya), i, e4);
            }), la = Yr(oa), ha = Yr(function(t4) {
              var e4 = t4.length, n4 = e4 > 1 ? t4[e4 - 1] : i;
              return n4 = typeof n4 == "function" ? (t4.pop(), n4) : i, aa(t4, n4);
            });
            function da(t4) {
              var e4 = Fn(t4);
              return e4.__chain__ = true, e4;
            }
            function pa(t4, e4) {
              return e4(t4);
            }
            var va = to(function(t4) {
              var e4 = t4.length, n4 = e4 ? t4[0] : 0, r4 = this.__wrapped__, o2 = function(e5) {
                return or(e5, t4);
              };
              return !(e4 > 1 || this.__actions__.length) && r4 instanceof Wn && yo(n4) ? ((r4 = r4.slice(n4, +n4 + (e4 ? 1 : 0))).__actions__.push({ func: pa, args: [o2], thisArg: i }), new jn(r4, this.__chain__).thru(function(t5) {
                return e4 && !t5.length && t5.push(i), t5;
              })) : this.thru(o2);
            }), ga = Di(function(t4, e4, n4) {
              Ot2.call(t4, n4) ? ++t4[n4] : ir(t4, n4, 1);
            }), ya = Gi(Vo), ma = Gi(Xo);
            function ba(t4, e4) {
              return (Xa(t4) ? be : lr)(t4, ao(e4, 3));
            }
            function _a(t4, e4) {
              return (Xa(t4) ? _e : hr)(t4, ao(e4, 3));
            }
            var xa = Di(function(t4, e4, n4) {
              Ot2.call(t4, n4) ? t4[n4].push(e4) : ir(t4, n4, [e4]);
            }), wa = Yr(function(t4, e4, n4) {
              var i2 = -1, o2 = typeof e4 == "function", a2 = qa(t4) ? r3(t4.length) : [];
              return lr(t4, function(t5) {
                a2[++i2] = o2 ? ye(e4, t5, n4) : Dr(t5, e4, n4);
              }), a2;
            }), Ea = Di(function(t4, e4, n4) {
              ir(t4, n4, e4);
            });
            function Sa(t4, e4) {
              return (Xa(t4) ? Ae : Lr)(t4, ao(e4, 3));
            }
            var Aa = Di(function(t4, e4, n4) {
              t4[n4 ? 0 : 1].push(e4);
            }, function() {
              return [[], []];
            }), Ta = Yr(function(t4, e4) {
              if (t4 == null)
                return [];
              var n4 = e4.length;
              return n4 > 1 && mo(t4, e4[0], e4[1]) ? e4 = [] : n4 > 2 && mo(e4[0], e4[1], e4[2]) && (e4 = [e4[0]]), jr(t4, gr(e4, 1), []);
            }), Ia = Ne2 || function() {
              return oe.Date.now();
            };
            function Ca(t4, e4, n4) {
              return e4 = n4 ? i : e4, e4 = t4 && e4 == null ? t4.length : e4, Ki(t4, c, i, i, i, i, e4);
            }
            function Da(t4, e4) {
              var n4;
              if (typeof e4 != "function")
                throw new It2(o);
              return t4 = vu(t4), function() {
                return --t4 > 0 && (n4 = e4.apply(this, arguments)), t4 <= 1 && (e4 = i), n4;
              };
            }
            var Na = Yr(function(t4, e4, n4) {
              var r4 = 1;
              if (n4.length) {
                var i2 = en(n4, oo(Na));
                r4 |= s;
              }
              return Ki(t4, r4, e4, n4, i2);
            }), ka = Yr(function(t4, e4, n4) {
              var r4 = 3;
              if (n4.length) {
                var i2 = en(n4, oo(ka));
                r4 |= s;
              }
              return Ki(e4, r4, t4, n4, i2);
            });
            function Ra(t4, e4, n4) {
              var r4, a2, u2, s2, c2, f2, l2 = 0, h2 = false, d2 = false, p2 = true;
              if (typeof t4 != "function")
                throw new It2(o);
              function v2(e5) {
                var n5 = r4, o2 = a2;
                return r4 = a2 = i, l2 = e5, s2 = t4.apply(o2, n5);
              }
              function g2(t5) {
                return l2 = t5, c2 = No(m2, e4), h2 ? v2(t5) : s2;
              }
              function y2(t5) {
                var n5 = t5 - f2;
                return f2 === i || n5 >= e4 || n5 < 0 || d2 && t5 - l2 >= u2;
              }
              function m2() {
                var t5 = Ia();
                if (y2(t5))
                  return b2(t5);
                c2 = No(m2, function(t6) {
                  var n5 = e4 - (t6 - f2);
                  return d2 ? mn(n5, u2 - (t6 - l2)) : n5;
                }(t5));
              }
              function b2(t5) {
                return c2 = i, p2 && r4 ? v2(t5) : (r4 = a2 = i, s2);
              }
              function _2() {
                var t5 = Ia(), n5 = y2(t5);
                if (r4 = arguments, a2 = this, f2 = t5, n5) {
                  if (c2 === i)
                    return g2(f2);
                  if (d2)
                    return _i(c2), c2 = No(m2, e4), v2(f2);
                }
                return c2 === i && (c2 = No(m2, e4)), s2;
              }
              return e4 = yu(e4) || 0, eu(n4) && (h2 = !!n4.leading, u2 = (d2 = "maxWait" in n4) ? yn(yu(n4.maxWait) || 0, e4) : u2, p2 = "trailing" in n4 ? !!n4.trailing : p2), _2.cancel = function() {
                c2 !== i && _i(c2), l2 = 0, r4 = f2 = a2 = c2 = i;
              }, _2.flush = function() {
                return c2 === i ? s2 : b2(Ia());
              }, _2;
            }
            var Oa = Yr(function(t4, e4) {
              return cr(t4, 1, e4);
            }), Ma = Yr(function(t4, e4, n4) {
              return cr(t4, yu(e4) || 0, n4);
            });
            function Pa(t4, e4) {
              if (typeof t4 != "function" || e4 != null && typeof e4 != "function")
                throw new It2(o);
              var n4 = function() {
                var r4 = arguments, i2 = e4 ? e4.apply(this, r4) : r4[0], o2 = n4.cache;
                if (o2.has(i2))
                  return o2.get(i2);
                var a2 = t4.apply(this, r4);
                return n4.cache = o2.set(i2, a2) || o2, a2;
              };
              return n4.cache = new (Pa.Cache || Hn)(), n4;
            }
            function Ga(t4) {
              if (typeof t4 != "function")
                throw new It2(o);
              return function() {
                var e4 = arguments;
                switch (e4.length) {
                  case 0:
                    return !t4.call(this);
                  case 1:
                    return !t4.call(this, e4[0]);
                  case 2:
                    return !t4.call(this, e4[0], e4[1]);
                  case 3:
                    return !t4.call(this, e4[0], e4[1], e4[2]);
                }
                return !t4.apply(this, e4);
              };
            }
            Pa.Cache = Hn;
            var La = mi(function(t4, e4) {
              var n4 = (e4 = e4.length == 1 && Xa(e4[0]) ? Ae(e4[0], We(ao())) : Ae(gr(e4, 1), We(ao()))).length;
              return Yr(function(r4) {
                for (var i2 = -1, o2 = mn(r4.length, n4); ++i2 < o2; )
                  r4[i2] = e4[i2].call(this, r4[i2]);
                return ye(t4, this, r4);
              });
            }), Ua = Yr(function(t4, e4) {
              var n4 = en(e4, oo(Ua));
              return Ki(t4, s, i, e4, n4);
            }), Fa = Yr(function(t4, e4) {
              var n4 = en(e4, oo(Fa));
              return Ki(t4, 64, i, e4, n4);
            }), Ba = to(function(t4, e4) {
              return Ki(t4, 256, i, i, i, e4);
            });
            function za(t4, e4) {
              return t4 === e4 || t4 != t4 && e4 != e4;
            }
            var ja = Vi(Ar), Wa = Vi(function(t4, e4) {
              return t4 >= e4;
            }), Va = Nr(function() {
              return arguments;
            }()) ? Nr : function(t4) {
              return nu(t4) && Ot2.call(t4, "callee") && !te2.call(t4, "callee");
            }, Xa = r3.isArray, Ha = le ? We(le) : function(t4) {
              return nu(t4) && Sr(t4) == k;
            };
            function qa(t4) {
              return t4 != null && tu(t4.length) && !Ja(t4);
            }
            function Ya(t4) {
              return nu(t4) && qa(t4);
            }
            var Ka = dn || ys, Za = he ? We(he) : function(t4) {
              return nu(t4) && Sr(t4) == m;
            };
            function $a(t4) {
              if (!nu(t4))
                return false;
              var e4 = Sr(t4);
              return e4 == b || e4 == "[object DOMException]" || typeof t4.message == "string" && typeof t4.name == "string" && !ou(t4);
            }
            function Ja(t4) {
              if (!eu(t4))
                return false;
              var e4 = Sr(t4);
              return e4 == _ || e4 == x || e4 == "[object AsyncFunction]" || e4 == "[object Proxy]";
            }
            function Qa(t4) {
              return typeof t4 == "number" && t4 == vu(t4);
            }
            function tu(t4) {
              return typeof t4 == "number" && t4 > -1 && t4 % 1 == 0 && t4 <= l;
            }
            function eu(t4) {
              var e4 = typeof t4;
              return t4 != null && (e4 == "object" || e4 == "function");
            }
            function nu(t4) {
              return t4 != null && typeof t4 == "object";
            }
            var ru = de ? We(de) : function(t4) {
              return nu(t4) && ho(t4) == w;
            };
            function iu(t4) {
              return typeof t4 == "number" || nu(t4) && Sr(t4) == E;
            }
            function ou(t4) {
              if (!nu(t4) || Sr(t4) != S)
                return false;
              var e4 = Ht2(t4);
              if (e4 === null)
                return true;
              var n4 = Ot2.call(e4, "constructor") && e4.constructor;
              return typeof n4 == "function" && n4 instanceof n4 && Rt2.call(n4) == Lt2;
            }
            var au = pe ? We(pe) : function(t4) {
              return nu(t4) && Sr(t4) == T;
            }, uu = ve ? We(ve) : function(t4) {
              return nu(t4) && ho(t4) == I;
            };
            function su(t4) {
              return typeof t4 == "string" || !Xa(t4) && nu(t4) && Sr(t4) == C;
            }
            function cu(t4) {
              return typeof t4 == "symbol" || nu(t4) && Sr(t4) == D;
            }
            var fu = ge ? We(ge) : function(t4) {
              return nu(t4) && tu(t4.length) && !!Jt[Sr(t4)];
            }, lu = Vi(Gr), hu = Vi(function(t4, e4) {
              return t4 <= e4;
            });
            function du(t4) {
              if (!t4)
                return [];
              if (qa(t4))
                return su(t4) ? an(t4) : Ii(t4);
              if (ae2 && t4[ae2])
                return function(t5) {
                  for (var e5, n4 = []; !(e5 = t5.next()).done; )
                    n4.push(e5.value);
                  return n4;
                }(t4[ae2]());
              var e4 = ho(t4);
              return (e4 == w ? Qe : e4 == I ? nn : zu)(t4);
            }
            function pu(t4) {
              return t4 ? (t4 = yu(t4)) === f || t4 === -1 / 0 ? 17976931348623157e292 * (t4 < 0 ? -1 : 1) : t4 == t4 ? t4 : 0 : t4 === 0 ? t4 : 0;
            }
            function vu(t4) {
              var e4 = pu(t4), n4 = e4 % 1;
              return e4 == e4 ? n4 ? e4 - n4 : e4 : 0;
            }
            function gu(t4) {
              return t4 ? ar(vu(t4), 0, d) : 0;
            }
            function yu(t4) {
              if (typeof t4 == "number")
                return t4;
              if (cu(t4))
                return h;
              if (eu(t4)) {
                var e4 = typeof t4.valueOf == "function" ? t4.valueOf() : t4;
                t4 = eu(e4) ? e4 + "" : e4;
              }
              if (typeof t4 != "string")
                return t4 === 0 ? t4 : +t4;
              t4 = je(t4);
              var n4 = pt.test(t4);
              return n4 || gt.test(t4) ? ne(t4.slice(2), n4 ? 2 : 8) : dt.test(t4) ? h : +t4;
            }
            function mu(t4) {
              return Ci(t4, Ou(t4));
            }
            function bu(t4) {
              return t4 == null ? "" : ui(t4);
            }
            var _u = Ni(function(t4, e4) {
              if (wo(e4) || qa(e4))
                Ci(e4, Ru(e4), t4);
              else
                for (var n4 in e4)
                  Ot2.call(e4, n4) && tr(t4, n4, e4[n4]);
            }), xu = Ni(function(t4, e4) {
              Ci(e4, Ou(e4), t4);
            }), wu = Ni(function(t4, e4, n4, r4) {
              Ci(e4, Ou(e4), t4, r4);
            }), Eu = Ni(function(t4, e4, n4, r4) {
              Ci(e4, Ru(e4), t4, r4);
            }), Su = to(or), Au = Yr(function(t4, e4) {
              t4 = St2(t4);
              var n4 = -1, r4 = e4.length, o2 = r4 > 2 ? e4[2] : i;
              for (o2 && mo(e4[0], e4[1], o2) && (r4 = 1); ++n4 < r4; )
                for (var a2 = e4[n4], u2 = Ou(a2), s2 = -1, c2 = u2.length; ++s2 < c2; ) {
                  var f2 = u2[s2], l2 = t4[f2];
                  (l2 === i || za(l2, Nt2[f2]) && !Ot2.call(t4, f2)) && (t4[f2] = a2[f2]);
                }
              return t4;
            }), Tu = Yr(function(t4) {
              return t4.push(i, $i), ye(Pu, i, t4);
            });
            function Iu(t4, e4, n4) {
              var r4 = t4 == null ? i : wr(t4, e4);
              return r4 === i ? n4 : r4;
            }
            function Cu(t4, e4) {
              return t4 != null && po(t4, e4, Ir);
            }
            var Du = Fi(function(t4, e4, n4) {
              e4 != null && typeof e4.toString != "function" && (e4 = Gt2.call(e4)), t4[e4] = n4;
            }, es(is)), Nu = Fi(function(t4, e4, n4) {
              e4 != null && typeof e4.toString != "function" && (e4 = Gt2.call(e4)), Ot2.call(t4, e4) ? t4[e4].push(n4) : t4[e4] = [n4];
            }, ao), ku = Yr(Dr);
            function Ru(t4) {
              return qa(t4) ? Kn(t4) : Pr(t4);
            }
            function Ou(t4) {
              return qa(t4) ? Kn(t4, true) : function(t5) {
                if (!eu(t5))
                  return function(t6) {
                    var e5 = [];
                    if (t6 != null)
                      for (var n5 in St2(t6))
                        e5.push(n5);
                    return e5;
                  }(t5);
                var e4 = wo(t5), n4 = [];
                for (var r4 in t5)
                  (r4 != "constructor" || !e4 && Ot2.call(t5, r4)) && n4.push(r4);
                return n4;
              }(t4);
            }
            var Mu = Ni(function(t4, e4, n4) {
              Br(t4, e4, n4);
            }), Pu = Ni(function(t4, e4, n4, r4) {
              Br(t4, e4, n4, r4);
            }), Gu = to(function(t4, e4) {
              var n4 = {};
              if (t4 == null)
                return n4;
              var r4 = false;
              e4 = Ae(e4, function(e5) {
                return e5 = yi(e5, t4), r4 || (r4 = e5.length > 1), e5;
              }), Ci(t4, no(t4), n4), r4 && (n4 = ur(n4, 7, Ji));
              for (var i2 = e4.length; i2--; )
                ci(n4, e4[i2]);
              return n4;
            }), Lu = to(function(t4, e4) {
              return t4 == null ? {} : function(t5, e5) {
                return Wr(t5, e5, function(e6, n4) {
                  return Cu(t5, n4);
                });
              }(t4, e4);
            });
            function Uu(t4, e4) {
              if (t4 == null)
                return {};
              var n4 = Ae(no(t4), function(t5) {
                return [t5];
              });
              return e4 = ao(e4), Wr(t4, n4, function(t5, n5) {
                return e4(t5, n5[0]);
              });
            }
            var Fu = Yi(Ru), Bu = Yi(Ou);
            function zu(t4) {
              return t4 == null ? [] : Ve(t4, Ru(t4));
            }
            var ju = Mi(function(t4, e4, n4) {
              return e4 = e4.toLowerCase(), t4 + (n4 ? Wu(e4) : e4);
            });
            function Wu(t4) {
              return $u(bu(t4).toLowerCase());
            }
            function Vu(t4) {
              return (t4 = bu(t4)) && t4.replace(mt, Ke).replace(Xt, "");
            }
            var Xu = Mi(function(t4, e4, n4) {
              return t4 + (n4 ? "-" : "") + e4.toLowerCase();
            }), Hu = Mi(function(t4, e4, n4) {
              return t4 + (n4 ? " " : "") + e4.toLowerCase();
            }), qu = Oi("toLowerCase"), Yu = Mi(function(t4, e4, n4) {
              return t4 + (n4 ? "_" : "") + e4.toLowerCase();
            }), Ku = Mi(function(t4, e4, n4) {
              return t4 + (n4 ? " " : "") + $u(e4);
            }), Zu = Mi(function(t4, e4, n4) {
              return t4 + (n4 ? " " : "") + e4.toUpperCase();
            }), $u = Oi("toUpperCase");
            function Ju(t4, e4, n4) {
              return t4 = bu(t4), (e4 = n4 ? i : e4) === i ? function(t5) {
                return Kt.test(t5);
              }(t4) ? function(t5) {
                return t5.match(qt) || [];
              }(t4) : function(t5) {
                return t5.match(st) || [];
              }(t4) : t4.match(e4) || [];
            }
            var Qu = Yr(function(t4, e4) {
              try {
                return ye(t4, i, e4);
              } catch (t5) {
                return $a(t5) ? t5 : new xt2(t5);
              }
            }), ts2 = to(function(t4, e4) {
              return be(e4, function(e5) {
                e5 = Uo(e5), ir(t4, e5, Na(t4[e5], t4));
              }), t4;
            });
            function es(t4) {
              return function() {
                return t4;
              };
            }
            var ns = Li(), rs = Li(true);
            function is(t4) {
              return t4;
            }
            function os(t4) {
              return Mr(typeof t4 == "function" ? t4 : ur(t4, 1));
            }
            var as = Yr(function(t4, e4) {
              return function(n4) {
                return Dr(n4, t4, e4);
              };
            }), us = Yr(function(t4, e4) {
              return function(n4) {
                return Dr(t4, n4, e4);
              };
            });
            function ss(t4, e4, n4) {
              var r4 = Ru(e4), i2 = xr(e4, r4);
              n4 != null || eu(e4) && (i2.length || !r4.length) || (n4 = e4, e4 = t4, t4 = this, i2 = xr(e4, Ru(e4)));
              var o2 = !(eu(n4) && "chain" in n4 && !n4.chain), a2 = Ja(t4);
              return be(i2, function(n5) {
                var r5 = e4[n5];
                t4[n5] = r5, a2 && (t4.prototype[n5] = function() {
                  var e5 = this.__chain__;
                  if (o2 || e5) {
                    var n6 = t4(this.__wrapped__), i3 = n6.__actions__ = Ii(this.__actions__);
                    return i3.push({ func: r5, args: arguments, thisArg: t4 }), n6.__chain__ = e5, n6;
                  }
                  return r5.apply(t4, Te([this.value()], arguments));
                });
              }), t4;
            }
            function cs() {
            }
            var fs2 = zi(Ae), ls = zi(xe), hs = zi(De);
            function ds(t4) {
              return bo(t4) ? Le(Uo(t4)) : function(t5) {
                return function(e4) {
                  return wr(e4, t5);
                };
              }(t4);
            }
            var ps = Wi(), vs = Wi(true);
            function gs() {
              return [];
            }
            function ys() {
              return false;
            }
            var ms, bs = Bi(function(t4, e4) {
              return t4 + e4;
            }, 0), _s = Hi("ceil"), xs = Bi(function(t4, e4) {
              return t4 / e4;
            }, 1), ws2 = Hi("floor"), Es = Bi(function(t4, e4) {
              return t4 * e4;
            }, 1), Ss = Hi("round"), As = Bi(function(t4, e4) {
              return t4 - e4;
            }, 0);
            return Fn.after = function(t4, e4) {
              if (typeof e4 != "function")
                throw new It2(o);
              return t4 = vu(t4), function() {
                if (--t4 < 1)
                  return e4.apply(this, arguments);
              };
            }, Fn.ary = Ca, Fn.assign = _u, Fn.assignIn = xu, Fn.assignInWith = wu, Fn.assignWith = Eu, Fn.at = Su, Fn.before = Da, Fn.bind = Na, Fn.bindAll = ts2, Fn.bindKey = ka, Fn.castArray = function() {
              if (!arguments.length)
                return [];
              var t4 = arguments[0];
              return Xa(t4) ? t4 : [t4];
            }, Fn.chain = da, Fn.chunk = function(t4, e4, n4) {
              e4 = (n4 ? mo(t4, e4, n4) : e4 === i) ? 1 : yn(vu(e4), 0);
              var o2 = t4 == null ? 0 : t4.length;
              if (!o2 || e4 < 1)
                return [];
              for (var a2 = 0, u2 = 0, s2 = r3(fn(o2 / e4)); a2 < o2; )
                s2[u2++] = ei(t4, a2, a2 += e4);
              return s2;
            }, Fn.compact = function(t4) {
              for (var e4 = -1, n4 = t4 == null ? 0 : t4.length, r4 = 0, i2 = []; ++e4 < n4; ) {
                var o2 = t4[e4];
                o2 && (i2[r4++] = o2);
              }
              return i2;
            }, Fn.concat = function() {
              var t4 = arguments.length;
              if (!t4)
                return [];
              for (var e4 = r3(t4 - 1), n4 = arguments[0], i2 = t4; i2--; )
                e4[i2 - 1] = arguments[i2];
              return Te(Xa(n4) ? Ii(n4) : [n4], gr(e4, 1));
            }, Fn.cond = function(t4) {
              var e4 = t4 == null ? 0 : t4.length, n4 = ao();
              return t4 = e4 ? Ae(t4, function(t5) {
                if (typeof t5[1] != "function")
                  throw new It2(o);
                return [n4(t5[0]), t5[1]];
              }) : [], Yr(function(n5) {
                for (var r4 = -1; ++r4 < e4; ) {
                  var i2 = t4[r4];
                  if (ye(i2[0], this, n5))
                    return ye(i2[1], this, n5);
                }
              });
            }, Fn.conforms = function(t4) {
              return function(t5) {
                var e4 = Ru(t5);
                return function(n4) {
                  return sr(n4, t5, e4);
                };
              }(ur(t4, 1));
            }, Fn.constant = es, Fn.countBy = ga, Fn.create = function(t4, e4) {
              var n4 = Bn(t4);
              return e4 == null ? n4 : rr(n4, e4);
            }, Fn.curry = function t4(e4, n4, r4) {
              var o2 = Ki(e4, 8, i, i, i, i, i, n4 = r4 ? i : n4);
              return o2.placeholder = t4.placeholder, o2;
            }, Fn.curryRight = function t4(e4, n4, r4) {
              var o2 = Ki(e4, 16, i, i, i, i, i, n4 = r4 ? i : n4);
              return o2.placeholder = t4.placeholder, o2;
            }, Fn.debounce = Ra, Fn.defaults = Au, Fn.defaultsDeep = Tu, Fn.defer = Oa, Fn.delay = Ma, Fn.difference = zo, Fn.differenceBy = jo, Fn.differenceWith = Wo, Fn.drop = function(t4, e4, n4) {
              var r4 = t4 == null ? 0 : t4.length;
              return r4 ? ei(t4, (e4 = n4 || e4 === i ? 1 : vu(e4)) < 0 ? 0 : e4, r4) : [];
            }, Fn.dropRight = function(t4, e4, n4) {
              var r4 = t4 == null ? 0 : t4.length;
              return r4 ? ei(t4, 0, (e4 = r4 - (e4 = n4 || e4 === i ? 1 : vu(e4))) < 0 ? 0 : e4) : [];
            }, Fn.dropRightWhile = function(t4, e4) {
              return t4 && t4.length ? li(t4, ao(e4, 3), true, true) : [];
            }, Fn.dropWhile = function(t4, e4) {
              return t4 && t4.length ? li(t4, ao(e4, 3), true) : [];
            }, Fn.fill = function(t4, e4, n4, r4) {
              var o2 = t4 == null ? 0 : t4.length;
              return o2 ? (n4 && typeof n4 != "number" && mo(t4, e4, n4) && (n4 = 0, r4 = o2), function(t5, e5, n5, r5) {
                var o3 = t5.length;
                for ((n5 = vu(n5)) < 0 && (n5 = -n5 > o3 ? 0 : o3 + n5), (r5 = r5 === i || r5 > o3 ? o3 : vu(r5)) < 0 && (r5 += o3), r5 = n5 > r5 ? 0 : gu(r5); n5 < r5; )
                  t5[n5++] = e5;
                return t5;
              }(t4, e4, n4, r4)) : [];
            }, Fn.filter = function(t4, e4) {
              return (Xa(t4) ? we : vr)(t4, ao(e4, 3));
            }, Fn.flatMap = function(t4, e4) {
              return gr(Sa(t4, e4), 1);
            }, Fn.flatMapDeep = function(t4, e4) {
              return gr(Sa(t4, e4), f);
            }, Fn.flatMapDepth = function(t4, e4, n4) {
              return n4 = n4 === i ? 1 : vu(n4), gr(Sa(t4, e4), n4);
            }, Fn.flatten = Ho, Fn.flattenDeep = function(t4) {
              return t4 != null && t4.length ? gr(t4, f) : [];
            }, Fn.flattenDepth = function(t4, e4) {
              return t4 != null && t4.length ? gr(t4, e4 = e4 === i ? 1 : vu(e4)) : [];
            }, Fn.flip = function(t4) {
              return Ki(t4, 512);
            }, Fn.flow = ns, Fn.flowRight = rs, Fn.fromPairs = function(t4) {
              for (var e4 = -1, n4 = t4 == null ? 0 : t4.length, r4 = {}; ++e4 < n4; ) {
                var i2 = t4[e4];
                r4[i2[0]] = i2[1];
              }
              return r4;
            }, Fn.functions = function(t4) {
              return t4 == null ? [] : xr(t4, Ru(t4));
            }, Fn.functionsIn = function(t4) {
              return t4 == null ? [] : xr(t4, Ou(t4));
            }, Fn.groupBy = xa, Fn.initial = function(t4) {
              return t4 != null && t4.length ? ei(t4, 0, -1) : [];
            }, Fn.intersection = Yo, Fn.intersectionBy = Ko, Fn.intersectionWith = Zo, Fn.invert = Du, Fn.invertBy = Nu, Fn.invokeMap = wa, Fn.iteratee = os, Fn.keyBy = Ea, Fn.keys = Ru, Fn.keysIn = Ou, Fn.map = Sa, Fn.mapKeys = function(t4, e4) {
              var n4 = {};
              return e4 = ao(e4, 3), br(t4, function(t5, r4, i2) {
                ir(n4, e4(t5, r4, i2), t5);
              }), n4;
            }, Fn.mapValues = function(t4, e4) {
              var n4 = {};
              return e4 = ao(e4, 3), br(t4, function(t5, r4, i2) {
                ir(n4, r4, e4(t5, r4, i2));
              }), n4;
            }, Fn.matches = function(t4) {
              return Ur(ur(t4, 1));
            }, Fn.matchesProperty = function(t4, e4) {
              return Fr(t4, ur(e4, 1));
            }, Fn.memoize = Pa, Fn.merge = Mu, Fn.mergeWith = Pu, Fn.method = as, Fn.methodOf = us, Fn.mixin = ss, Fn.negate = Ga, Fn.nthArg = function(t4) {
              return t4 = vu(t4), Yr(function(e4) {
                return zr(e4, t4);
              });
            }, Fn.omit = Gu, Fn.omitBy = function(t4, e4) {
              return Uu(t4, Ga(ao(e4)));
            }, Fn.once = function(t4) {
              return Da(2, t4);
            }, Fn.orderBy = function(t4, e4, n4, r4) {
              return t4 == null ? [] : (Xa(e4) || (e4 = e4 == null ? [] : [e4]), Xa(n4 = r4 ? i : n4) || (n4 = n4 == null ? [] : [n4]), jr(t4, e4, n4));
            }, Fn.over = fs2, Fn.overArgs = La, Fn.overEvery = ls, Fn.overSome = hs, Fn.partial = Ua, Fn.partialRight = Fa, Fn.partition = Aa, Fn.pick = Lu, Fn.pickBy = Uu, Fn.property = ds, Fn.propertyOf = function(t4) {
              return function(e4) {
                return t4 == null ? i : wr(t4, e4);
              };
            }, Fn.pull = Jo, Fn.pullAll = Qo, Fn.pullAllBy = function(t4, e4, n4) {
              return t4 && t4.length && e4 && e4.length ? Vr(t4, e4, ao(n4, 2)) : t4;
            }, Fn.pullAllWith = function(t4, e4, n4) {
              return t4 && t4.length && e4 && e4.length ? Vr(t4, e4, i, n4) : t4;
            }, Fn.pullAt = ta, Fn.range = ps, Fn.rangeRight = vs, Fn.rearg = Ba, Fn.reject = function(t4, e4) {
              return (Xa(t4) ? we : vr)(t4, Ga(ao(e4, 3)));
            }, Fn.remove = function(t4, e4) {
              var n4 = [];
              if (!t4 || !t4.length)
                return n4;
              var r4 = -1, i2 = [], o2 = t4.length;
              for (e4 = ao(e4, 3); ++r4 < o2; ) {
                var a2 = t4[r4];
                e4(a2, r4, t4) && (n4.push(a2), i2.push(r4));
              }
              return Xr(t4, i2), n4;
            }, Fn.rest = function(t4, e4) {
              if (typeof t4 != "function")
                throw new It2(o);
              return Yr(t4, e4 = e4 === i ? e4 : vu(e4));
            }, Fn.reverse = ea, Fn.sampleSize = function(t4, e4, n4) {
              return e4 = (n4 ? mo(t4, e4, n4) : e4 === i) ? 1 : vu(e4), (Xa(t4) ? $n : Zr)(t4, e4);
            }, Fn.set = function(t4, e4, n4) {
              return t4 == null ? t4 : $r(t4, e4, n4);
            }, Fn.setWith = function(t4, e4, n4, r4) {
              return r4 = typeof r4 == "function" ? r4 : i, t4 == null ? t4 : $r(t4, e4, n4, r4);
            }, Fn.shuffle = function(t4) {
              return (Xa(t4) ? Jn : ti)(t4);
            }, Fn.slice = function(t4, e4, n4) {
              var r4 = t4 == null ? 0 : t4.length;
              return r4 ? (n4 && typeof n4 != "number" && mo(t4, e4, n4) ? (e4 = 0, n4 = r4) : (e4 = e4 == null ? 0 : vu(e4), n4 = n4 === i ? r4 : vu(n4)), ei(t4, e4, n4)) : [];
            }, Fn.sortBy = Ta, Fn.sortedUniq = function(t4) {
              return t4 && t4.length ? oi(t4) : [];
            }, Fn.sortedUniqBy = function(t4, e4) {
              return t4 && t4.length ? oi(t4, ao(e4, 2)) : [];
            }, Fn.split = function(t4, e4, n4) {
              return n4 && typeof n4 != "number" && mo(t4, e4, n4) && (e4 = n4 = i), (n4 = n4 === i ? d : n4 >>> 0) ? (t4 = bu(t4)) && (typeof e4 == "string" || e4 != null && !au(e4)) && !(e4 = ui(e4)) && Je(t4) ? bi(an(t4), 0, n4) : t4.split(e4, n4) : [];
            }, Fn.spread = function(t4, e4) {
              if (typeof t4 != "function")
                throw new It2(o);
              return e4 = e4 == null ? 0 : yn(vu(e4), 0), Yr(function(n4) {
                var r4 = n4[e4], i2 = bi(n4, 0, e4);
                return r4 && Te(i2, r4), ye(t4, this, i2);
              });
            }, Fn.tail = function(t4) {
              var e4 = t4 == null ? 0 : t4.length;
              return e4 ? ei(t4, 1, e4) : [];
            }, Fn.take = function(t4, e4, n4) {
              return t4 && t4.length ? ei(t4, 0, (e4 = n4 || e4 === i ? 1 : vu(e4)) < 0 ? 0 : e4) : [];
            }, Fn.takeRight = function(t4, e4, n4) {
              var r4 = t4 == null ? 0 : t4.length;
              return r4 ? ei(t4, (e4 = r4 - (e4 = n4 || e4 === i ? 1 : vu(e4))) < 0 ? 0 : e4, r4) : [];
            }, Fn.takeRightWhile = function(t4, e4) {
              return t4 && t4.length ? li(t4, ao(e4, 3), false, true) : [];
            }, Fn.takeWhile = function(t4, e4) {
              return t4 && t4.length ? li(t4, ao(e4, 3)) : [];
            }, Fn.tap = function(t4, e4) {
              return e4(t4), t4;
            }, Fn.throttle = function(t4, e4, n4) {
              var r4 = true, i2 = true;
              if (typeof t4 != "function")
                throw new It2(o);
              return eu(n4) && (r4 = "leading" in n4 ? !!n4.leading : r4, i2 = "trailing" in n4 ? !!n4.trailing : i2), Ra(t4, e4, { leading: r4, maxWait: e4, trailing: i2 });
            }, Fn.thru = pa, Fn.toArray = du, Fn.toPairs = Fu, Fn.toPairsIn = Bu, Fn.toPath = function(t4) {
              return Xa(t4) ? Ae(t4, Uo) : cu(t4) ? [t4] : Ii(Lo(bu(t4)));
            }, Fn.toPlainObject = mu, Fn.transform = function(t4, e4, n4) {
              var r4 = Xa(t4), i2 = r4 || Ka(t4) || fu(t4);
              if (e4 = ao(e4, 4), n4 == null) {
                var o2 = t4 && t4.constructor;
                n4 = i2 ? r4 ? new o2() : [] : eu(t4) && Ja(o2) ? Bn(Ht2(t4)) : {};
              }
              return (i2 ? be : br)(t4, function(t5, r5, i3) {
                return e4(n4, t5, r5, i3);
              }), n4;
            }, Fn.unary = function(t4) {
              return Ca(t4, 1);
            }, Fn.union = na, Fn.unionBy = ra, Fn.unionWith = ia, Fn.uniq = function(t4) {
              return t4 && t4.length ? si(t4) : [];
            }, Fn.uniqBy = function(t4, e4) {
              return t4 && t4.length ? si(t4, ao(e4, 2)) : [];
            }, Fn.uniqWith = function(t4, e4) {
              return e4 = typeof e4 == "function" ? e4 : i, t4 && t4.length ? si(t4, i, e4) : [];
            }, Fn.unset = function(t4, e4) {
              return t4 == null || ci(t4, e4);
            }, Fn.unzip = oa, Fn.unzipWith = aa, Fn.update = function(t4, e4, n4) {
              return t4 == null ? t4 : fi(t4, e4, gi(n4));
            }, Fn.updateWith = function(t4, e4, n4, r4) {
              return r4 = typeof r4 == "function" ? r4 : i, t4 == null ? t4 : fi(t4, e4, gi(n4), r4);
            }, Fn.values = zu, Fn.valuesIn = function(t4) {
              return t4 == null ? [] : Ve(t4, Ou(t4));
            }, Fn.without = ua, Fn.words = Ju, Fn.wrap = function(t4, e4) {
              return Ua(gi(e4), t4);
            }, Fn.xor = sa, Fn.xorBy = ca, Fn.xorWith = fa, Fn.zip = la, Fn.zipObject = function(t4, e4) {
              return pi(t4 || [], e4 || [], tr);
            }, Fn.zipObjectDeep = function(t4, e4) {
              return pi(t4 || [], e4 || [], $r);
            }, Fn.zipWith = ha, Fn.entries = Fu, Fn.entriesIn = Bu, Fn.extend = xu, Fn.extendWith = wu, ss(Fn, Fn), Fn.add = bs, Fn.attempt = Qu, Fn.camelCase = ju, Fn.capitalize = Wu, Fn.ceil = _s, Fn.clamp = function(t4, e4, n4) {
              return n4 === i && (n4 = e4, e4 = i), n4 !== i && (n4 = (n4 = yu(n4)) == n4 ? n4 : 0), e4 !== i && (e4 = (e4 = yu(e4)) == e4 ? e4 : 0), ar(yu(t4), e4, n4);
            }, Fn.clone = function(t4) {
              return ur(t4, 4);
            }, Fn.cloneDeep = function(t4) {
              return ur(t4, 5);
            }, Fn.cloneDeepWith = function(t4, e4) {
              return ur(t4, 5, e4 = typeof e4 == "function" ? e4 : i);
            }, Fn.cloneWith = function(t4, e4) {
              return ur(t4, 4, e4 = typeof e4 == "function" ? e4 : i);
            }, Fn.conformsTo = function(t4, e4) {
              return e4 == null || sr(t4, e4, Ru(e4));
            }, Fn.deburr = Vu, Fn.defaultTo = function(t4, e4) {
              return t4 == null || t4 != t4 ? e4 : t4;
            }, Fn.divide = xs, Fn.endsWith = function(t4, e4, n4) {
              t4 = bu(t4), e4 = ui(e4);
              var r4 = t4.length, o2 = n4 = n4 === i ? r4 : ar(vu(n4), 0, r4);
              return (n4 -= e4.length) >= 0 && t4.slice(n4, o2) == e4;
            }, Fn.eq = za, Fn.escape = function(t4) {
              return (t4 = bu(t4)) && Y.test(t4) ? t4.replace(H, Ze) : t4;
            }, Fn.escapeRegExp = function(t4) {
              return (t4 = bu(t4)) && nt.test(t4) ? t4.replace(et, "\\$&") : t4;
            }, Fn.every = function(t4, e4, n4) {
              var r4 = Xa(t4) ? xe : dr;
              return n4 && mo(t4, e4, n4) && (e4 = i), r4(t4, ao(e4, 3));
            }, Fn.find = ya, Fn.findIndex = Vo, Fn.findKey = function(t4, e4) {
              return ke(t4, ao(e4, 3), br);
            }, Fn.findLast = ma, Fn.findLastIndex = Xo, Fn.findLastKey = function(t4, e4) {
              return ke(t4, ao(e4, 3), _r);
            }, Fn.floor = ws2, Fn.forEach = ba, Fn.forEachRight = _a, Fn.forIn = function(t4, e4) {
              return t4 == null ? t4 : yr(t4, ao(e4, 3), Ou);
            }, Fn.forInRight = function(t4, e4) {
              return t4 == null ? t4 : mr(t4, ao(e4, 3), Ou);
            }, Fn.forOwn = function(t4, e4) {
              return t4 && br(t4, ao(e4, 3));
            }, Fn.forOwnRight = function(t4, e4) {
              return t4 && _r(t4, ao(e4, 3));
            }, Fn.get = Iu, Fn.gt = ja, Fn.gte = Wa, Fn.has = function(t4, e4) {
              return t4 != null && po(t4, e4, Tr);
            }, Fn.hasIn = Cu, Fn.head = qo, Fn.identity = is, Fn.includes = function(t4, e4, n4, r4) {
              t4 = qa(t4) ? t4 : zu(t4), n4 = n4 && !r4 ? vu(n4) : 0;
              var i2 = t4.length;
              return n4 < 0 && (n4 = yn(i2 + n4, 0)), su(t4) ? n4 <= i2 && t4.indexOf(e4, n4) > -1 : !!i2 && Oe(t4, e4, n4) > -1;
            }, Fn.indexOf = function(t4, e4, n4) {
              var r4 = t4 == null ? 0 : t4.length;
              if (!r4)
                return -1;
              var i2 = n4 == null ? 0 : vu(n4);
              return i2 < 0 && (i2 = yn(r4 + i2, 0)), Oe(t4, e4, i2);
            }, Fn.inRange = function(t4, e4, n4) {
              return e4 = pu(e4), n4 === i ? (n4 = e4, e4 = 0) : n4 = pu(n4), function(t5, e5, n5) {
                return t5 >= mn(e5, n5) && t5 < yn(e5, n5);
              }(t4 = yu(t4), e4, n4);
            }, Fn.invoke = ku, Fn.isArguments = Va, Fn.isArray = Xa, Fn.isArrayBuffer = Ha, Fn.isArrayLike = qa, Fn.isArrayLikeObject = Ya, Fn.isBoolean = function(t4) {
              return t4 === true || t4 === false || nu(t4) && Sr(t4) == y;
            }, Fn.isBuffer = Ka, Fn.isDate = Za, Fn.isElement = function(t4) {
              return nu(t4) && t4.nodeType === 1 && !ou(t4);
            }, Fn.isEmpty = function(t4) {
              if (t4 == null)
                return true;
              if (qa(t4) && (Xa(t4) || typeof t4 == "string" || typeof t4.splice == "function" || Ka(t4) || fu(t4) || Va(t4)))
                return !t4.length;
              var e4 = ho(t4);
              if (e4 == w || e4 == I)
                return !t4.size;
              if (wo(t4))
                return !Pr(t4).length;
              for (var n4 in t4)
                if (Ot2.call(t4, n4))
                  return false;
              return true;
            }, Fn.isEqual = function(t4, e4) {
              return kr(t4, e4);
            }, Fn.isEqualWith = function(t4, e4, n4) {
              var r4 = (n4 = typeof n4 == "function" ? n4 : i) ? n4(t4, e4) : i;
              return r4 === i ? kr(t4, e4, i, n4) : !!r4;
            }, Fn.isError = $a, Fn.isFinite = function(t4) {
              return typeof t4 == "number" && pn(t4);
            }, Fn.isFunction = Ja, Fn.isInteger = Qa, Fn.isLength = tu, Fn.isMap = ru, Fn.isMatch = function(t4, e4) {
              return t4 === e4 || Rr(t4, e4, so(e4));
            }, Fn.isMatchWith = function(t4, e4, n4) {
              return n4 = typeof n4 == "function" ? n4 : i, Rr(t4, e4, so(e4), n4);
            }, Fn.isNaN = function(t4) {
              return iu(t4) && t4 != +t4;
            }, Fn.isNative = function(t4) {
              if (xo(t4))
                throw new xt2("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");
              return Or(t4);
            }, Fn.isNil = function(t4) {
              return t4 == null;
            }, Fn.isNull = function(t4) {
              return t4 === null;
            }, Fn.isNumber = iu, Fn.isObject = eu, Fn.isObjectLike = nu, Fn.isPlainObject = ou, Fn.isRegExp = au, Fn.isSafeInteger = function(t4) {
              return Qa(t4) && t4 >= -9007199254740991 && t4 <= l;
            }, Fn.isSet = uu, Fn.isString = su, Fn.isSymbol = cu, Fn.isTypedArray = fu, Fn.isUndefined = function(t4) {
              return t4 === i;
            }, Fn.isWeakMap = function(t4) {
              return nu(t4) && ho(t4) == N;
            }, Fn.isWeakSet = function(t4) {
              return nu(t4) && Sr(t4) == "[object WeakSet]";
            }, Fn.join = function(t4, e4) {
              return t4 == null ? "" : vn.call(t4, e4);
            }, Fn.kebabCase = Xu, Fn.last = $o, Fn.lastIndexOf = function(t4, e4, n4) {
              var r4 = t4 == null ? 0 : t4.length;
              if (!r4)
                return -1;
              var o2 = r4;
              return n4 !== i && (o2 = (o2 = vu(n4)) < 0 ? yn(r4 + o2, 0) : mn(o2, r4 - 1)), e4 == e4 ? function(t5, e5, n5) {
                for (var r5 = n5 + 1; r5--; )
                  if (t5[r5] === e5)
                    return r5;
                return r5;
              }(t4, e4, o2) : Re(t4, Pe, o2, true);
            }, Fn.lowerCase = Hu, Fn.lowerFirst = qu, Fn.lt = lu, Fn.lte = hu, Fn.max = function(t4) {
              return t4 && t4.length ? pr(t4, is, Ar) : i;
            }, Fn.maxBy = function(t4, e4) {
              return t4 && t4.length ? pr(t4, ao(e4, 2), Ar) : i;
            }, Fn.mean = function(t4) {
              return Ge(t4, is);
            }, Fn.meanBy = function(t4, e4) {
              return Ge(t4, ao(e4, 2));
            }, Fn.min = function(t4) {
              return t4 && t4.length ? pr(t4, is, Gr) : i;
            }, Fn.minBy = function(t4, e4) {
              return t4 && t4.length ? pr(t4, ao(e4, 2), Gr) : i;
            }, Fn.stubArray = gs, Fn.stubFalse = ys, Fn.stubObject = function() {
              return {};
            }, Fn.stubString = function() {
              return "";
            }, Fn.stubTrue = function() {
              return true;
            }, Fn.multiply = Es, Fn.nth = function(t4, e4) {
              return t4 && t4.length ? zr(t4, vu(e4)) : i;
            }, Fn.noConflict = function() {
              return oe._ === this && (oe._ = Ut2), this;
            }, Fn.noop = cs, Fn.now = Ia, Fn.pad = function(t4, e4, n4) {
              t4 = bu(t4);
              var r4 = (e4 = vu(e4)) ? on(t4) : 0;
              if (!e4 || r4 >= e4)
                return t4;
              var i2 = (e4 - r4) / 2;
              return ji(ln(i2), n4) + t4 + ji(fn(i2), n4);
            }, Fn.padEnd = function(t4, e4, n4) {
              t4 = bu(t4);
              var r4 = (e4 = vu(e4)) ? on(t4) : 0;
              return e4 && r4 < e4 ? t4 + ji(e4 - r4, n4) : t4;
            }, Fn.padStart = function(t4, e4, n4) {
              t4 = bu(t4);
              var r4 = (e4 = vu(e4)) ? on(t4) : 0;
              return e4 && r4 < e4 ? ji(e4 - r4, n4) + t4 : t4;
            }, Fn.parseInt = function(t4, e4, n4) {
              return n4 || e4 == null ? e4 = 0 : e4 && (e4 = +e4), _n(bu(t4).replace(rt, ""), e4 || 0);
            }, Fn.random = function(t4, e4, n4) {
              if (n4 && typeof n4 != "boolean" && mo(t4, e4, n4) && (e4 = n4 = i), n4 === i && (typeof e4 == "boolean" ? (n4 = e4, e4 = i) : typeof t4 == "boolean" && (n4 = t4, t4 = i)), t4 === i && e4 === i ? (t4 = 0, e4 = 1) : (t4 = pu(t4), e4 === i ? (e4 = t4, t4 = 0) : e4 = pu(e4)), t4 > e4) {
                var r4 = t4;
                t4 = e4, e4 = r4;
              }
              if (n4 || t4 % 1 || e4 % 1) {
                var o2 = xn();
                return mn(t4 + o2 * (e4 - t4 + ee("1e-" + ((o2 + "").length - 1))), e4);
              }
              return Hr(t4, e4);
            }, Fn.reduce = function(t4, e4, n4) {
              var r4 = Xa(t4) ? Ie : Fe, i2 = arguments.length < 3;
              return r4(t4, ao(e4, 4), n4, i2, lr);
            }, Fn.reduceRight = function(t4, e4, n4) {
              var r4 = Xa(t4) ? Ce : Fe, i2 = arguments.length < 3;
              return r4(t4, ao(e4, 4), n4, i2, hr);
            }, Fn.repeat = function(t4, e4, n4) {
              return e4 = (n4 ? mo(t4, e4, n4) : e4 === i) ? 1 : vu(e4), qr(bu(t4), e4);
            }, Fn.replace = function() {
              var t4 = arguments, e4 = bu(t4[0]);
              return t4.length < 3 ? e4 : e4.replace(t4[1], t4[2]);
            }, Fn.result = function(t4, e4, n4) {
              var r4 = -1, o2 = (e4 = yi(e4, t4)).length;
              for (o2 || (o2 = 1, t4 = i); ++r4 < o2; ) {
                var a2 = t4 == null ? i : t4[Uo(e4[r4])];
                a2 === i && (r4 = o2, a2 = n4), t4 = Ja(a2) ? a2.call(t4) : a2;
              }
              return t4;
            }, Fn.round = Ss, Fn.runInContext = t3, Fn.sample = function(t4) {
              return (Xa(t4) ? Zn : Kr)(t4);
            }, Fn.size = function(t4) {
              if (t4 == null)
                return 0;
              if (qa(t4))
                return su(t4) ? on(t4) : t4.length;
              var e4 = ho(t4);
              return e4 == w || e4 == I ? t4.size : Pr(t4).length;
            }, Fn.snakeCase = Yu, Fn.some = function(t4, e4, n4) {
              var r4 = Xa(t4) ? De : ni;
              return n4 && mo(t4, e4, n4) && (e4 = i), r4(t4, ao(e4, 3));
            }, Fn.sortedIndex = function(t4, e4) {
              return ri(t4, e4);
            }, Fn.sortedIndexBy = function(t4, e4, n4) {
              return ii(t4, e4, ao(n4, 2));
            }, Fn.sortedIndexOf = function(t4, e4) {
              var n4 = t4 == null ? 0 : t4.length;
              if (n4) {
                var r4 = ri(t4, e4);
                if (r4 < n4 && za(t4[r4], e4))
                  return r4;
              }
              return -1;
            }, Fn.sortedLastIndex = function(t4, e4) {
              return ri(t4, e4, true);
            }, Fn.sortedLastIndexBy = function(t4, e4, n4) {
              return ii(t4, e4, ao(n4, 2), true);
            }, Fn.sortedLastIndexOf = function(t4, e4) {
              if (t4 != null && t4.length) {
                var n4 = ri(t4, e4, true) - 1;
                if (za(t4[n4], e4))
                  return n4;
              }
              return -1;
            }, Fn.startCase = Ku, Fn.startsWith = function(t4, e4, n4) {
              return t4 = bu(t4), n4 = n4 == null ? 0 : ar(vu(n4), 0, t4.length), e4 = ui(e4), t4.slice(n4, n4 + e4.length) == e4;
            }, Fn.subtract = As, Fn.sum = function(t4) {
              return t4 && t4.length ? Be(t4, is) : 0;
            }, Fn.sumBy = function(t4, e4) {
              return t4 && t4.length ? Be(t4, ao(e4, 2)) : 0;
            }, Fn.template = function(t4, e4, n4) {
              var r4 = Fn.templateSettings;
              n4 && mo(t4, e4, n4) && (e4 = i), t4 = bu(t4), e4 = wu({}, e4, r4, Zi);
              var o2, a2, u2 = wu({}, e4.imports, r4.imports, Zi), s2 = Ru(u2), c2 = Ve(u2, s2), f2 = 0, l2 = e4.interpolate || bt, h2 = "__p += '", d2 = At2((e4.escape || bt).source + "|" + l2.source + "|" + (l2 === $ ? lt : bt).source + "|" + (e4.evaluate || bt).source + "|$", "g"), p2 = "//# sourceURL=" + (Ot2.call(e4, "sourceURL") ? (e4.sourceURL + "").replace(/\s/g, " ") : "lodash.templateSources[" + ++$t + "]") + "\n";
              t4.replace(d2, function(e5, n5, r5, i2, u3, s3) {
                return r5 || (r5 = i2), h2 += t4.slice(f2, s3).replace(_t, $e), n5 && (o2 = true, h2 += "' +\n__e(" + n5 + ") +\n'"), u3 && (a2 = true, h2 += "';\n" + u3 + ";\n__p += '"), r5 && (h2 += "' +\n((__t = (" + r5 + ")) == null ? '' : __t) +\n'"), f2 = s3 + e5.length, e5;
              }), h2 += "';\n";
              var v2 = Ot2.call(e4, "variable") && e4.variable;
              if (v2) {
                if (ct.test(v2))
                  throw new xt2("Invalid `variable` option passed into `_.template`");
              } else
                h2 = "with (obj) {\n" + h2 + "\n}\n";
              h2 = (a2 ? h2.replace(j, "") : h2).replace(W, "$1").replace(V, "$1;"), h2 = "function(" + (v2 || "obj") + ") {\n" + (v2 ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (o2 ? ", __e = _.escape" : "") + (a2 ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + h2 + "return __p\n}";
              var g2 = Qu(function() {
                return wt2(s2, p2 + "return " + h2).apply(i, c2);
              });
              if (g2.source = h2, $a(g2))
                throw g2;
              return g2;
            }, Fn.times = function(t4, e4) {
              if ((t4 = vu(t4)) < 1 || t4 > l)
                return [];
              var n4 = d, r4 = mn(t4, d);
              e4 = ao(e4), t4 -= d;
              for (var i2 = ze(r4, e4); ++n4 < t4; )
                e4(n4);
              return i2;
            }, Fn.toFinite = pu, Fn.toInteger = vu, Fn.toLength = gu, Fn.toLower = function(t4) {
              return bu(t4).toLowerCase();
            }, Fn.toNumber = yu, Fn.toSafeInteger = function(t4) {
              return t4 ? ar(vu(t4), -9007199254740991, l) : t4 === 0 ? t4 : 0;
            }, Fn.toString = bu, Fn.toUpper = function(t4) {
              return bu(t4).toUpperCase();
            }, Fn.trim = function(t4, e4, n4) {
              if ((t4 = bu(t4)) && (n4 || e4 === i))
                return je(t4);
              if (!t4 || !(e4 = ui(e4)))
                return t4;
              var r4 = an(t4), o2 = an(e4);
              return bi(r4, He(r4, o2), qe(r4, o2) + 1).join("");
            }, Fn.trimEnd = function(t4, e4, n4) {
              if ((t4 = bu(t4)) && (n4 || e4 === i))
                return t4.slice(0, un(t4) + 1);
              if (!t4 || !(e4 = ui(e4)))
                return t4;
              var r4 = an(t4);
              return bi(r4, 0, qe(r4, an(e4)) + 1).join("");
            }, Fn.trimStart = function(t4, e4, n4) {
              if ((t4 = bu(t4)) && (n4 || e4 === i))
                return t4.replace(rt, "");
              if (!t4 || !(e4 = ui(e4)))
                return t4;
              var r4 = an(t4);
              return bi(r4, He(r4, an(e4))).join("");
            }, Fn.truncate = function(t4, e4) {
              var n4 = 30, r4 = "...";
              if (eu(e4)) {
                var o2 = "separator" in e4 ? e4.separator : o2;
                n4 = "length" in e4 ? vu(e4.length) : n4, r4 = "omission" in e4 ? ui(e4.omission) : r4;
              }
              var a2 = (t4 = bu(t4)).length;
              if (Je(t4)) {
                var u2 = an(t4);
                a2 = u2.length;
              }
              if (n4 >= a2)
                return t4;
              var s2 = n4 - on(r4);
              if (s2 < 1)
                return r4;
              var c2 = u2 ? bi(u2, 0, s2).join("") : t4.slice(0, s2);
              if (o2 === i)
                return c2 + r4;
              if (u2 && (s2 += c2.length - s2), au(o2)) {
                if (t4.slice(s2).search(o2)) {
                  var f2, l2 = c2;
                  for (o2.global || (o2 = At2(o2.source, bu(ht.exec(o2)) + "g")), o2.lastIndex = 0; f2 = o2.exec(l2); )
                    var h2 = f2.index;
                  c2 = c2.slice(0, h2 === i ? s2 : h2);
                }
              } else if (t4.indexOf(ui(o2), s2) != s2) {
                var d2 = c2.lastIndexOf(o2);
                d2 > -1 && (c2 = c2.slice(0, d2));
              }
              return c2 + r4;
            }, Fn.unescape = function(t4) {
              return (t4 = bu(t4)) && q.test(t4) ? t4.replace(X, sn) : t4;
            }, Fn.uniqueId = function(t4) {
              var e4 = ++Mt2;
              return bu(t4) + e4;
            }, Fn.upperCase = Zu, Fn.upperFirst = $u, Fn.each = ba, Fn.eachRight = _a, Fn.first = qo, ss(Fn, (ms = {}, br(Fn, function(t4, e4) {
              Ot2.call(Fn.prototype, e4) || (ms[e4] = t4);
            }), ms), { chain: false }), Fn.VERSION = "4.17.21", be(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], function(t4) {
              Fn[t4].placeholder = Fn;
            }), be(["drop", "take"], function(t4, e4) {
              Wn.prototype[t4] = function(n4) {
                n4 = n4 === i ? 1 : yn(vu(n4), 0);
                var r4 = this.__filtered__ && !e4 ? new Wn(this) : this.clone();
                return r4.__filtered__ ? r4.__takeCount__ = mn(n4, r4.__takeCount__) : r4.__views__.push({ size: mn(n4, d), type: t4 + (r4.__dir__ < 0 ? "Right" : "") }), r4;
              }, Wn.prototype[t4 + "Right"] = function(e5) {
                return this.reverse()[t4](e5).reverse();
              };
            }), be(["filter", "map", "takeWhile"], function(t4, e4) {
              var n4 = e4 + 1, r4 = n4 == 1 || n4 == 3;
              Wn.prototype[t4] = function(t5) {
                var e5 = this.clone();
                return e5.__iteratees__.push({ iteratee: ao(t5, 3), type: n4 }), e5.__filtered__ = e5.__filtered__ || r4, e5;
              };
            }), be(["head", "last"], function(t4, e4) {
              var n4 = "take" + (e4 ? "Right" : "");
              Wn.prototype[t4] = function() {
                return this[n4](1).value()[0];
              };
            }), be(["initial", "tail"], function(t4, e4) {
              var n4 = "drop" + (e4 ? "" : "Right");
              Wn.prototype[t4] = function() {
                return this.__filtered__ ? new Wn(this) : this[n4](1);
              };
            }), Wn.prototype.compact = function() {
              return this.filter(is);
            }, Wn.prototype.find = function(t4) {
              return this.filter(t4).head();
            }, Wn.prototype.findLast = function(t4) {
              return this.reverse().find(t4);
            }, Wn.prototype.invokeMap = Yr(function(t4, e4) {
              return typeof t4 == "function" ? new Wn(this) : this.map(function(n4) {
                return Dr(n4, t4, e4);
              });
            }), Wn.prototype.reject = function(t4) {
              return this.filter(Ga(ao(t4)));
            }, Wn.prototype.slice = function(t4, e4) {
              t4 = vu(t4);
              var n4 = this;
              return n4.__filtered__ && (t4 > 0 || e4 < 0) ? new Wn(n4) : (t4 < 0 ? n4 = n4.takeRight(-t4) : t4 && (n4 = n4.drop(t4)), e4 !== i && (n4 = (e4 = vu(e4)) < 0 ? n4.dropRight(-e4) : n4.take(e4 - t4)), n4);
            }, Wn.prototype.takeRightWhile = function(t4) {
              return this.reverse().takeWhile(t4).reverse();
            }, Wn.prototype.toArray = function() {
              return this.take(d);
            }, br(Wn.prototype, function(t4, e4) {
              var n4 = /^(?:filter|find|map|reject)|While$/.test(e4), r4 = /^(?:head|last)$/.test(e4), o2 = Fn[r4 ? "take" + (e4 == "last" ? "Right" : "") : e4], a2 = r4 || /^find/.test(e4);
              o2 && (Fn.prototype[e4] = function() {
                var e5 = this.__wrapped__, u2 = r4 ? [1] : arguments, s2 = e5 instanceof Wn, c2 = u2[0], f2 = s2 || Xa(e5), l2 = function(t5) {
                  var e6 = o2.apply(Fn, Te([t5], u2));
                  return r4 && h2 ? e6[0] : e6;
                };
                f2 && n4 && typeof c2 == "function" && c2.length != 1 && (s2 = f2 = false);
                var h2 = this.__chain__, d2 = !!this.__actions__.length, p2 = a2 && !h2, v2 = s2 && !d2;
                if (!a2 && f2) {
                  e5 = v2 ? e5 : new Wn(this);
                  var g2 = t4.apply(e5, u2);
                  return g2.__actions__.push({ func: pa, args: [l2], thisArg: i }), new jn(g2, h2);
                }
                return p2 && v2 ? t4.apply(this, u2) : (g2 = this.thru(l2), p2 ? r4 ? g2.value()[0] : g2.value() : g2);
              });
            }), be(["pop", "push", "shift", "sort", "splice", "unshift"], function(t4) {
              var e4 = Ct2[t4], n4 = /^(?:push|sort|unshift)$/.test(t4) ? "tap" : "thru", r4 = /^(?:pop|shift)$/.test(t4);
              Fn.prototype[t4] = function() {
                var t5 = arguments;
                if (r4 && !this.__chain__) {
                  var i2 = this.value();
                  return e4.apply(Xa(i2) ? i2 : [], t5);
                }
                return this[n4](function(n5) {
                  return e4.apply(Xa(n5) ? n5 : [], t5);
                });
              };
            }), br(Wn.prototype, function(t4, e4) {
              var n4 = Fn[e4];
              if (n4) {
                var r4 = n4.name + "";
                Ot2.call(Nn, r4) || (Nn[r4] = []), Nn[r4].push({ name: e4, func: n4 });
              }
            }), Nn[Ui(i, 2).name] = [{ name: "wrapper", func: i }], Wn.prototype.clone = function() {
              var t4 = new Wn(this.__wrapped__);
              return t4.__actions__ = Ii(this.__actions__), t4.__dir__ = this.__dir__, t4.__filtered__ = this.__filtered__, t4.__iteratees__ = Ii(this.__iteratees__), t4.__takeCount__ = this.__takeCount__, t4.__views__ = Ii(this.__views__), t4;
            }, Wn.prototype.reverse = function() {
              if (this.__filtered__) {
                var t4 = new Wn(this);
                t4.__dir__ = -1, t4.__filtered__ = true;
              } else
                (t4 = this.clone()).__dir__ *= -1;
              return t4;
            }, Wn.prototype.value = function() {
              var t4 = this.__wrapped__.value(), e4 = this.__dir__, n4 = Xa(t4), r4 = e4 < 0, i2 = n4 ? t4.length : 0, o2 = function(t5, e5, n5) {
                for (var r5 = -1, i3 = n5.length; ++r5 < i3; ) {
                  var o3 = n5[r5], a3 = o3.size;
                  switch (o3.type) {
                    case "drop":
                      t5 += a3;
                      break;
                    case "dropRight":
                      e5 -= a3;
                      break;
                    case "take":
                      e5 = mn(e5, t5 + a3);
                      break;
                    case "takeRight":
                      t5 = yn(t5, e5 - a3);
                  }
                }
                return { start: t5, end: e5 };
              }(0, i2, this.__views__), a2 = o2.start, u2 = o2.end, s2 = u2 - a2, c2 = r4 ? u2 : a2 - 1, f2 = this.__iteratees__, l2 = f2.length, h2 = 0, d2 = mn(s2, this.__takeCount__);
              if (!n4 || !r4 && i2 == s2 && d2 == s2)
                return hi(t4, this.__actions__);
              var p2 = [];
              t:
                for (; s2-- && h2 < d2; ) {
                  for (var v2 = -1, g2 = t4[c2 += e4]; ++v2 < l2; ) {
                    var y2 = f2[v2], m2 = y2.iteratee, b2 = y2.type, _2 = m2(g2);
                    if (b2 == 2)
                      g2 = _2;
                    else if (!_2) {
                      if (b2 == 1)
                        continue t;
                      break t;
                    }
                  }
                  p2[h2++] = g2;
                }
              return p2;
            }, Fn.prototype.at = va, Fn.prototype.chain = function() {
              return da(this);
            }, Fn.prototype.commit = function() {
              return new jn(this.value(), this.__chain__);
            }, Fn.prototype.next = function() {
              this.__values__ === i && (this.__values__ = du(this.value()));
              var t4 = this.__index__ >= this.__values__.length;
              return { done: t4, value: t4 ? i : this.__values__[this.__index__++] };
            }, Fn.prototype.plant = function(t4) {
              for (var e4, n4 = this; n4 instanceof zn; ) {
                var r4 = Bo(n4);
                r4.__index__ = 0, r4.__values__ = i, e4 ? o2.__wrapped__ = r4 : e4 = r4;
                var o2 = r4;
                n4 = n4.__wrapped__;
              }
              return o2.__wrapped__ = t4, e4;
            }, Fn.prototype.reverse = function() {
              var t4 = this.__wrapped__;
              if (t4 instanceof Wn) {
                var e4 = t4;
                return this.__actions__.length && (e4 = new Wn(this)), (e4 = e4.reverse()).__actions__.push({ func: pa, args: [ea], thisArg: i }), new jn(e4, this.__chain__);
              }
              return this.thru(ea);
            }, Fn.prototype.toJSON = Fn.prototype.valueOf = Fn.prototype.value = function() {
              return hi(this.__wrapped__, this.__actions__);
            }, Fn.prototype.first = Fn.prototype.head, ae2 && (Fn.prototype[ae2] = function() {
              return this;
            }), Fn;
          }();
          oe._ = cn, (r2 = function() {
            return cn;
          }.call(e2, n2, e2, t2)) === i || (t2.exports = r2);
        }.call(this);
      }, 1739: (t2, e2, n2) => {
        var r2 = n2(5229), i = n2(6765), o = n2(5927), a = n2(4186), u = n2(6064), s = [0, 0];
        t2.exports.x7 = function(t3, e3, n3, a2, c) {
          return r2(t3, n3, a2), o(t3, t3), i(e3, -t3[1], t3[0]), i(s, -n3[1], n3[0]), c / u(e3, s);
        }, t2.exports.mJ = function(t3, e3) {
          return i(t3, -e3[1], e3[0]), t3;
        }, t2.exports.o7 = function(t3, e3, n3) {
          return a(t3, e3, n3), o(t3, t3), t3;
        };
      }, 8892: (t2, e2, n2) => {
        var r2;
        !function(t3) {
          !function(e3) {
            var r3 = typeof n2.g == "object" ? n2.g : typeof self == "object" ? self : typeof this == "object" ? this : Function("return this;")(), i = o(t3);
            function o(t4, e4) {
              return function(n3, r4) {
                typeof t4[n3] != "function" && Object.defineProperty(t4, n3, { configurable: true, writable: true, value: r4 }), e4 && e4(n3, r4);
              };
            }
            r3.Reflect === void 0 ? r3.Reflect = t3 : i = o(r3.Reflect, i), function(t4) {
              var e4 = Object.prototype.hasOwnProperty, n3 = typeof Symbol == "function", r4 = n3 && Symbol.toPrimitive !== void 0 ? Symbol.toPrimitive : "@@toPrimitive", i2 = n3 && Symbol.iterator !== void 0 ? Symbol.iterator : "@@iterator", o2 = typeof Object.create == "function", a = { __proto__: [] } instanceof Array, u = !o2 && !a, s = { create: o2 ? function() {
                return P(Object.create(null));
              } : a ? function() {
                return P({ __proto__: null });
              } : function() {
                return P({});
              }, has: u ? function(t5, n4) {
                return e4.call(t5, n4);
              } : function(t5, e5) {
                return e5 in t5;
              }, get: u ? function(t5, n4) {
                return e4.call(t5, n4) ? t5[n4] : void 0;
              } : function(t5, e5) {
                return t5[e5];
              } }, c = Object.getPrototypeOf(Function), f = typeof process == "object" && process.env && {}.REFLECT_METADATA_USE_MAP_POLYFILL === "true", l = f || typeof Map != "function" || typeof Map.prototype.entries != "function" ? function() {
                var t5 = {}, e5 = [], n4 = function() {
                  function t6(t7, e6, n5) {
                    this._index = 0, this._keys = t7, this._values = e6, this._selector = n5;
                  }
                  return t6.prototype["@@iterator"] = function() {
                    return this;
                  }, t6.prototype[i2] = function() {
                    return this;
                  }, t6.prototype.next = function() {
                    var t7 = this._index;
                    if (t7 >= 0 && t7 < this._keys.length) {
                      var n5 = this._selector(this._keys[t7], this._values[t7]);
                      return t7 + 1 >= this._keys.length ? (this._index = -1, this._keys = e5, this._values = e5) : this._index++, { value: n5, done: false };
                    }
                    return { value: void 0, done: true };
                  }, t6.prototype.throw = function(t7) {
                    throw this._index >= 0 && (this._index = -1, this._keys = e5, this._values = e5), t7;
                  }, t6.prototype.return = function(t7) {
                    return this._index >= 0 && (this._index = -1, this._keys = e5, this._values = e5), { value: t7, done: true };
                  }, t6;
                }();
                return function() {
                  function e6() {
                    this._keys = [], this._values = [], this._cacheKey = t5, this._cacheIndex = -2;
                  }
                  return Object.defineProperty(e6.prototype, "size", { get: function() {
                    return this._keys.length;
                  }, enumerable: true, configurable: true }), e6.prototype.has = function(t6) {
                    return this._find(t6, false) >= 0;
                  }, e6.prototype.get = function(t6) {
                    var e7 = this._find(t6, false);
                    return e7 >= 0 ? this._values[e7] : void 0;
                  }, e6.prototype.set = function(t6, e7) {
                    var n5 = this._find(t6, true);
                    return this._values[n5] = e7, this;
                  }, e6.prototype.delete = function(e7) {
                    var n5 = this._find(e7, false);
                    if (n5 >= 0) {
                      for (var r6 = this._keys.length, i3 = n5 + 1; i3 < r6; i3++)
                        this._keys[i3 - 1] = this._keys[i3], this._values[i3 - 1] = this._values[i3];
                      return this._keys.length--, this._values.length--, e7 === this._cacheKey && (this._cacheKey = t5, this._cacheIndex = -2), true;
                    }
                    return false;
                  }, e6.prototype.clear = function() {
                    this._keys.length = 0, this._values.length = 0, this._cacheKey = t5, this._cacheIndex = -2;
                  }, e6.prototype.keys = function() {
                    return new n4(this._keys, this._values, r5);
                  }, e6.prototype.values = function() {
                    return new n4(this._keys, this._values, o3);
                  }, e6.prototype.entries = function() {
                    return new n4(this._keys, this._values, a2);
                  }, e6.prototype["@@iterator"] = function() {
                    return this.entries();
                  }, e6.prototype[i2] = function() {
                    return this.entries();
                  }, e6.prototype._find = function(t6, e7) {
                    return this._cacheKey !== t6 && (this._cacheIndex = this._keys.indexOf(this._cacheKey = t6)), this._cacheIndex < 0 && e7 && (this._cacheIndex = this._keys.length, this._keys.push(t6), this._values.push(void 0)), this._cacheIndex;
                  }, e6;
                }();
                function r5(t6, e6) {
                  return t6;
                }
                function o3(t6, e6) {
                  return e6;
                }
                function a2(t6, e6) {
                  return [t6, e6];
                }
              }() : Map, h = f || typeof Set != "function" || typeof Set.prototype.entries != "function" ? function() {
                function t5() {
                  this._map = new l();
                }
                return Object.defineProperty(t5.prototype, "size", { get: function() {
                  return this._map.size;
                }, enumerable: true, configurable: true }), t5.prototype.has = function(t6) {
                  return this._map.has(t6);
                }, t5.prototype.add = function(t6) {
                  return this._map.set(t6, t6), this;
                }, t5.prototype.delete = function(t6) {
                  return this._map.delete(t6);
                }, t5.prototype.clear = function() {
                  this._map.clear();
                }, t5.prototype.keys = function() {
                  return this._map.keys();
                }, t5.prototype.values = function() {
                  return this._map.values();
                }, t5.prototype.entries = function() {
                  return this._map.entries();
                }, t5.prototype["@@iterator"] = function() {
                  return this.keys();
                }, t5.prototype[i2] = function() {
                  return this.keys();
                }, t5;
              }() : Set, d = new (f || typeof WeakMap != "function" ? function() {
                var t5 = s.create(), n4 = r5();
                return function() {
                  function t6() {
                    this._key = r5();
                  }
                  return t6.prototype.has = function(t7) {
                    var e5 = i3(t7, false);
                    return e5 !== void 0 && s.has(e5, this._key);
                  }, t6.prototype.get = function(t7) {
                    var e5 = i3(t7, false);
                    return e5 !== void 0 ? s.get(e5, this._key) : void 0;
                  }, t6.prototype.set = function(t7, e5) {
                    return i3(t7, true)[this._key] = e5, this;
                  }, t6.prototype.delete = function(t7) {
                    var e5 = i3(t7, false);
                    return e5 !== void 0 && delete e5[this._key];
                  }, t6.prototype.clear = function() {
                    this._key = r5();
                  }, t6;
                }();
                function r5() {
                  var e5;
                  do {
                    e5 = "@@WeakMap@@" + a2();
                  } while (s.has(t5, e5));
                  return t5[e5] = true, e5;
                }
                function i3(t6, r6) {
                  if (!e4.call(t6, n4)) {
                    if (!r6)
                      return;
                    Object.defineProperty(t6, n4, { value: s.create() });
                  }
                  return t6[n4];
                }
                function o3(t6, e5) {
                  for (var n5 = 0; n5 < e5; ++n5)
                    t6[n5] = 255 * Math.random() | 0;
                  return t6;
                }
                function a2() {
                  var t6, e5 = (t6 = 16, typeof Uint8Array == "function" ? typeof crypto != "undefined" ? crypto.getRandomValues(new Uint8Array(t6)) : typeof msCrypto != "undefined" ? msCrypto.getRandomValues(new Uint8Array(t6)) : o3(new Uint8Array(t6), t6) : o3(new Array(t6), t6));
                  e5[6] = 79 & e5[6] | 64, e5[8] = 191 & e5[8] | 128;
                  for (var n5 = "", r6 = 0; r6 < 16; ++r6) {
                    var i4 = e5[r6];
                    r6 !== 4 && r6 !== 6 && r6 !== 8 || (n5 += "-"), i4 < 16 && (n5 += "0"), n5 += i4.toString(16).toLowerCase();
                  }
                  return n5;
                }
              }() : WeakMap)();
              function p(t5, e5, n4) {
                var r5 = d.get(t5);
                if (E(r5)) {
                  if (!n4)
                    return;
                  r5 = new l(), d.set(t5, r5);
                }
                var i3 = r5.get(e5);
                if (E(i3)) {
                  if (!n4)
                    return;
                  i3 = new l(), r5.set(e5, i3);
                }
                return i3;
              }
              function v(t5, e5, n4) {
                if (g(t5, e5, n4))
                  return true;
                var r5 = M(e5);
                return !S(r5) && v(t5, r5, n4);
              }
              function g(t5, e5, n4) {
                var r5 = p(e5, n4, false);
                return !E(r5) && !!r5.has(t5);
              }
              function y(t5, e5, n4) {
                if (g(t5, e5, n4))
                  return m(t5, e5, n4);
                var r5 = M(e5);
                return S(r5) ? void 0 : y(t5, r5, n4);
              }
              function m(t5, e5, n4) {
                var r5 = p(e5, n4, false);
                if (!E(r5))
                  return r5.get(t5);
              }
              function b(t5, e5, n4, r5) {
                p(n4, r5, true).set(t5, e5);
              }
              function _(t5, e5) {
                var n4 = x(t5, e5), r5 = M(t5);
                if (r5 === null)
                  return n4;
                var i3 = _(r5, e5);
                if (i3.length <= 0)
                  return n4;
                if (n4.length <= 0)
                  return i3;
                for (var o3 = new h(), a2 = [], u2 = 0, s2 = n4; u2 < s2.length; u2++) {
                  var c2 = s2[u2];
                  o3.has(c2) || (o3.add(c2), a2.push(c2));
                }
                for (var f2 = 0, l2 = i3; f2 < l2.length; f2++)
                  c2 = l2[f2], o3.has(c2) || (o3.add(c2), a2.push(c2));
                return a2;
              }
              function x(t5, e5) {
                var n4 = [], r5 = p(t5, e5, false);
                if (E(r5))
                  return n4;
                for (var o3 = function(t6) {
                  var e6 = k(t6, i2);
                  if (!D(e6))
                    throw new TypeError();
                  var n5 = e6.call(t6);
                  if (!A(n5))
                    throw new TypeError();
                  return n5;
                }(r5.keys()), a2 = 0; ; ) {
                  var u2 = R(o3);
                  if (!u2)
                    return n4.length = a2, n4;
                  var s2 = u2.value;
                  try {
                    n4[a2] = s2;
                  } catch (t6) {
                    try {
                      O(o3);
                    } finally {
                      throw t6;
                    }
                  }
                  a2++;
                }
              }
              function w(t5) {
                if (t5 === null)
                  return 1;
                switch (typeof t5) {
                  case "undefined":
                    return 0;
                  case "boolean":
                    return 2;
                  case "string":
                    return 3;
                  case "symbol":
                    return 4;
                  case "number":
                    return 5;
                  case "object":
                    return t5 === null ? 1 : 6;
                  default:
                    return 6;
                }
              }
              function E(t5) {
                return t5 === void 0;
              }
              function S(t5) {
                return t5 === null;
              }
              function A(t5) {
                return typeof t5 == "object" ? t5 !== null : typeof t5 == "function";
              }
              function T(t5, e5) {
                switch (w(t5)) {
                  case 0:
                  case 1:
                  case 2:
                  case 3:
                  case 4:
                  case 5:
                    return t5;
                }
                var n4 = e5 === 3 ? "string" : e5 === 5 ? "number" : "default", i3 = k(t5, r4);
                if (i3 !== void 0) {
                  var o3 = i3.call(t5, n4);
                  if (A(o3))
                    throw new TypeError();
                  return o3;
                }
                return function(t6, e6) {
                  if (e6 === "string") {
                    var n5 = t6.toString;
                    if (D(n5) && !A(i4 = n5.call(t6)))
                      return i4;
                    if (D(r5 = t6.valueOf) && !A(i4 = r5.call(t6)))
                      return i4;
                  } else {
                    var r5;
                    if (D(r5 = t6.valueOf) && !A(i4 = r5.call(t6)))
                      return i4;
                    var i4, o4 = t6.toString;
                    if (D(o4) && !A(i4 = o4.call(t6)))
                      return i4;
                  }
                  throw new TypeError();
                }(t5, n4 === "default" ? "number" : n4);
              }
              function I(t5) {
                var e5 = T(t5, 3);
                return typeof e5 == "symbol" ? e5 : function(t6) {
                  return "" + t6;
                }(e5);
              }
              function C(t5) {
                return Array.isArray ? Array.isArray(t5) : t5 instanceof Object ? t5 instanceof Array : Object.prototype.toString.call(t5) === "[object Array]";
              }
              function D(t5) {
                return typeof t5 == "function";
              }
              function N(t5) {
                return typeof t5 == "function";
              }
              function k(t5, e5) {
                var n4 = t5[e5];
                if (n4 != null) {
                  if (!D(n4))
                    throw new TypeError();
                  return n4;
                }
              }
              function R(t5) {
                var e5 = t5.next();
                return !e5.done && e5;
              }
              function O(t5) {
                var e5 = t5.return;
                e5 && e5.call(t5);
              }
              function M(t5) {
                var e5 = Object.getPrototypeOf(t5);
                if (typeof t5 != "function" || t5 === c)
                  return e5;
                if (e5 !== c)
                  return e5;
                var n4 = t5.prototype, r5 = n4 && Object.getPrototypeOf(n4);
                if (r5 == null || r5 === Object.prototype)
                  return e5;
                var i3 = r5.constructor;
                return typeof i3 != "function" || i3 === t5 ? e5 : i3;
              }
              function P(t5) {
                return t5.__ = void 0, delete t5.__, t5;
              }
              t4("decorate", function(t5, e5, n4, r5) {
                if (E(n4)) {
                  if (!C(t5))
                    throw new TypeError();
                  if (!N(e5))
                    throw new TypeError();
                  return function(t6, e6) {
                    for (var n5 = t6.length - 1; n5 >= 0; --n5) {
                      var r6 = (0, t6[n5])(e6);
                      if (!E(r6) && !S(r6)) {
                        if (!N(r6))
                          throw new TypeError();
                        e6 = r6;
                      }
                    }
                    return e6;
                  }(t5, e5);
                }
                if (!C(t5))
                  throw new TypeError();
                if (!A(e5))
                  throw new TypeError();
                if (!A(r5) && !E(r5) && !S(r5))
                  throw new TypeError();
                return S(r5) && (r5 = void 0), function(t6, e6, n5, r6) {
                  for (var i3 = t6.length - 1; i3 >= 0; --i3) {
                    var o3 = (0, t6[i3])(e6, n5, r6);
                    if (!E(o3) && !S(o3)) {
                      if (!A(o3))
                        throw new TypeError();
                      r6 = o3;
                    }
                  }
                  return r6;
                }(t5, e5, n4 = I(n4), r5);
              }), t4("metadata", function(t5, e5) {
                return function(n4, r5) {
                  if (!A(n4))
                    throw new TypeError();
                  if (!E(r5) && !function(t6) {
                    switch (w(t6)) {
                      case 3:
                      case 4:
                        return true;
                      default:
                        return false;
                    }
                  }(r5))
                    throw new TypeError();
                  b(t5, e5, n4, r5);
                };
              }), t4("defineMetadata", function(t5, e5, n4, r5) {
                if (!A(n4))
                  throw new TypeError();
                return E(r5) || (r5 = I(r5)), b(t5, e5, n4, r5);
              }), t4("hasMetadata", function(t5, e5, n4) {
                if (!A(e5))
                  throw new TypeError();
                return E(n4) || (n4 = I(n4)), v(t5, e5, n4);
              }), t4("hasOwnMetadata", function(t5, e5, n4) {
                if (!A(e5))
                  throw new TypeError();
                return E(n4) || (n4 = I(n4)), g(t5, e5, n4);
              }), t4("getMetadata", function(t5, e5, n4) {
                if (!A(e5))
                  throw new TypeError();
                return E(n4) || (n4 = I(n4)), y(t5, e5, n4);
              }), t4("getOwnMetadata", function(t5, e5, n4) {
                if (!A(e5))
                  throw new TypeError();
                return E(n4) || (n4 = I(n4)), m(t5, e5, n4);
              }), t4("getMetadataKeys", function(t5, e5) {
                if (!A(t5))
                  throw new TypeError();
                return E(e5) || (e5 = I(e5)), _(t5, e5);
              }), t4("getOwnMetadataKeys", function(t5, e5) {
                if (!A(t5))
                  throw new TypeError();
                return E(e5) || (e5 = I(e5)), x(t5, e5);
              }), t4("deleteMetadata", function(t5, e5, n4) {
                if (!A(e5))
                  throw new TypeError();
                E(n4) || (n4 = I(n4));
                var r5 = p(e5, n4, false);
                if (E(r5))
                  return false;
                if (!r5.delete(t5))
                  return false;
                if (r5.size > 0)
                  return true;
                var i3 = d.get(e5);
                return i3.delete(n4), i3.size > 0 || d.delete(e5), true;
              });
            }(i);
          }();
        }(r2 || (r2 = {}));
      }, 405: (t2) => {
        var e2 = function(t3) {
          var e3, n2 = Object.prototype, r2 = n2.hasOwnProperty, i = typeof Symbol == "function" ? Symbol : {}, o = i.iterator || "@@iterator", a = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag";
          function s(t4, e4, n3) {
            return Object.defineProperty(t4, e4, { value: n3, enumerable: true, configurable: true, writable: true }), t4[e4];
          }
          try {
            s({}, "");
          } catch (t4) {
            s = function(t5, e4, n3) {
              return t5[e4] = n3;
            };
          }
          function c(t4, e4, n3, r3) {
            var i2 = e4 && e4.prototype instanceof g ? e4 : g, o2 = Object.create(i2.prototype), a2 = new C(r3 || []);
            return o2._invoke = function(t5, e5, n4) {
              var r4 = l;
              return function(i3, o3) {
                if (r4 === d)
                  throw new Error("Generator is already running");
                if (r4 === p) {
                  if (i3 === "throw")
                    throw o3;
                  return N();
                }
                for (n4.method = i3, n4.arg = o3; ; ) {
                  var a3 = n4.delegate;
                  if (a3) {
                    var u2 = A(a3, n4);
                    if (u2) {
                      if (u2 === v)
                        continue;
                      return u2;
                    }
                  }
                  if (n4.method === "next")
                    n4.sent = n4._sent = n4.arg;
                  else if (n4.method === "throw") {
                    if (r4 === l)
                      throw r4 = p, n4.arg;
                    n4.dispatchException(n4.arg);
                  } else
                    n4.method === "return" && n4.abrupt("return", n4.arg);
                  r4 = d;
                  var s2 = f(t5, e5, n4);
                  if (s2.type === "normal") {
                    if (r4 = n4.done ? p : h, s2.arg === v)
                      continue;
                    return { value: s2.arg, done: n4.done };
                  }
                  s2.type === "throw" && (r4 = p, n4.method = "throw", n4.arg = s2.arg);
                }
              };
            }(t4, n3, a2), o2;
          }
          function f(t4, e4, n3) {
            try {
              return { type: "normal", arg: t4.call(e4, n3) };
            } catch (t5) {
              return { type: "throw", arg: t5 };
            }
          }
          t3.wrap = c;
          var l = "suspendedStart", h = "suspendedYield", d = "executing", p = "completed", v = {};
          function g() {
          }
          function y() {
          }
          function m() {
          }
          var b = {};
          s(b, o, function() {
            return this;
          });
          var _ = Object.getPrototypeOf, x = _ && _(_(D([])));
          x && x !== n2 && r2.call(x, o) && (b = x);
          var w = m.prototype = g.prototype = Object.create(b);
          function E(t4) {
            ["next", "throw", "return"].forEach(function(e4) {
              s(t4, e4, function(t5) {
                return this._invoke(e4, t5);
              });
            });
          }
          function S(t4, e4) {
            function n3(i3, o2, a2, u2) {
              var s2 = f(t4[i3], t4, o2);
              if (s2.type !== "throw") {
                var c2 = s2.arg, l2 = c2.value;
                return l2 && typeof l2 == "object" && r2.call(l2, "__await") ? e4.resolve(l2.__await).then(function(t5) {
                  n3("next", t5, a2, u2);
                }, function(t5) {
                  n3("throw", t5, a2, u2);
                }) : e4.resolve(l2).then(function(t5) {
                  c2.value = t5, a2(c2);
                }, function(t5) {
                  return n3("throw", t5, a2, u2);
                });
              }
              u2(s2.arg);
            }
            var i2;
            this._invoke = function(t5, r3) {
              function o2() {
                return new e4(function(e5, i3) {
                  n3(t5, r3, e5, i3);
                });
              }
              return i2 = i2 ? i2.then(o2, o2) : o2();
            };
          }
          function A(t4, n3) {
            var r3 = t4.iterator[n3.method];
            if (r3 === e3) {
              if (n3.delegate = null, n3.method === "throw") {
                if (t4.iterator.return && (n3.method = "return", n3.arg = e3, A(t4, n3), n3.method === "throw"))
                  return v;
                n3.method = "throw", n3.arg = new TypeError("The iterator does not provide a 'throw' method");
              }
              return v;
            }
            var i2 = f(r3, t4.iterator, n3.arg);
            if (i2.type === "throw")
              return n3.method = "throw", n3.arg = i2.arg, n3.delegate = null, v;
            var o2 = i2.arg;
            return o2 ? o2.done ? (n3[t4.resultName] = o2.value, n3.next = t4.nextLoc, n3.method !== "return" && (n3.method = "next", n3.arg = e3), n3.delegate = null, v) : o2 : (n3.method = "throw", n3.arg = new TypeError("iterator result is not an object"), n3.delegate = null, v);
          }
          function T(t4) {
            var e4 = { tryLoc: t4[0] };
            1 in t4 && (e4.catchLoc = t4[1]), 2 in t4 && (e4.finallyLoc = t4[2], e4.afterLoc = t4[3]), this.tryEntries.push(e4);
          }
          function I(t4) {
            var e4 = t4.completion || {};
            e4.type = "normal", delete e4.arg, t4.completion = e4;
          }
          function C(t4) {
            this.tryEntries = [{ tryLoc: "root" }], t4.forEach(T, this), this.reset(true);
          }
          function D(t4) {
            if (t4) {
              var n3 = t4[o];
              if (n3)
                return n3.call(t4);
              if (typeof t4.next == "function")
                return t4;
              if (!isNaN(t4.length)) {
                var i2 = -1, a2 = function n4() {
                  for (; ++i2 < t4.length; )
                    if (r2.call(t4, i2))
                      return n4.value = t4[i2], n4.done = false, n4;
                  return n4.value = e3, n4.done = true, n4;
                };
                return a2.next = a2;
              }
            }
            return { next: N };
          }
          function N() {
            return { value: e3, done: true };
          }
          return y.prototype = m, s(w, "constructor", m), s(m, "constructor", y), y.displayName = s(m, u, "GeneratorFunction"), t3.isGeneratorFunction = function(t4) {
            var e4 = typeof t4 == "function" && t4.constructor;
            return !!e4 && (e4 === y || (e4.displayName || e4.name) === "GeneratorFunction");
          }, t3.mark = function(t4) {
            return Object.setPrototypeOf ? Object.setPrototypeOf(t4, m) : (t4.__proto__ = m, s(t4, u, "GeneratorFunction")), t4.prototype = Object.create(w), t4;
          }, t3.awrap = function(t4) {
            return { __await: t4 };
          }, E(S.prototype), s(S.prototype, a, function() {
            return this;
          }), t3.AsyncIterator = S, t3.async = function(e4, n3, r3, i2, o2) {
            o2 === void 0 && (o2 = Promise);
            var a2 = new S(c(e4, n3, r3, i2), o2);
            return t3.isGeneratorFunction(n3) ? a2 : a2.next().then(function(t4) {
              return t4.done ? t4.value : a2.next();
            });
          }, E(w), s(w, u, "Generator"), s(w, o, function() {
            return this;
          }), s(w, "toString", function() {
            return "[object Generator]";
          }), t3.keys = function(t4) {
            var e4 = [];
            for (var n3 in t4)
              e4.push(n3);
            return e4.reverse(), function n4() {
              for (; e4.length; ) {
                var r3 = e4.pop();
                if (r3 in t4)
                  return n4.value = r3, n4.done = false, n4;
              }
              return n4.done = true, n4;
            };
          }, t3.values = D, C.prototype = { constructor: C, reset: function(t4) {
            if (this.prev = 0, this.next = 0, this.sent = this._sent = e3, this.done = false, this.delegate = null, this.method = "next", this.arg = e3, this.tryEntries.forEach(I), !t4)
              for (var n3 in this)
                n3.charAt(0) === "t" && r2.call(this, n3) && !isNaN(+n3.slice(1)) && (this[n3] = e3);
          }, stop: function() {
            this.done = true;
            var t4 = this.tryEntries[0].completion;
            if (t4.type === "throw")
              throw t4.arg;
            return this.rval;
          }, dispatchException: function(t4) {
            if (this.done)
              throw t4;
            var n3 = this;
            function i2(r3, i3) {
              return u2.type = "throw", u2.arg = t4, n3.next = r3, i3 && (n3.method = "next", n3.arg = e3), !!i3;
            }
            for (var o2 = this.tryEntries.length - 1; o2 >= 0; --o2) {
              var a2 = this.tryEntries[o2], u2 = a2.completion;
              if (a2.tryLoc === "root")
                return i2("end");
              if (a2.tryLoc <= this.prev) {
                var s2 = r2.call(a2, "catchLoc"), c2 = r2.call(a2, "finallyLoc");
                if (s2 && c2) {
                  if (this.prev < a2.catchLoc)
                    return i2(a2.catchLoc, true);
                  if (this.prev < a2.finallyLoc)
                    return i2(a2.finallyLoc);
                } else if (s2) {
                  if (this.prev < a2.catchLoc)
                    return i2(a2.catchLoc, true);
                } else {
                  if (!c2)
                    throw new Error("try statement without catch or finally");
                  if (this.prev < a2.finallyLoc)
                    return i2(a2.finallyLoc);
                }
              }
            }
          }, abrupt: function(t4, e4) {
            for (var n3 = this.tryEntries.length - 1; n3 >= 0; --n3) {
              var i2 = this.tryEntries[n3];
              if (i2.tryLoc <= this.prev && r2.call(i2, "finallyLoc") && this.prev < i2.finallyLoc) {
                var o2 = i2;
                break;
              }
            }
            o2 && (t4 === "break" || t4 === "continue") && o2.tryLoc <= e4 && e4 <= o2.finallyLoc && (o2 = null);
            var a2 = o2 ? o2.completion : {};
            return a2.type = t4, a2.arg = e4, o2 ? (this.method = "next", this.next = o2.finallyLoc, v) : this.complete(a2);
          }, complete: function(t4, e4) {
            if (t4.type === "throw")
              throw t4.arg;
            return t4.type === "break" || t4.type === "continue" ? this.next = t4.arg : t4.type === "return" ? (this.rval = this.arg = t4.arg, this.method = "return", this.next = "end") : t4.type === "normal" && e4 && (this.next = e4), v;
          }, finish: function(t4) {
            for (var e4 = this.tryEntries.length - 1; e4 >= 0; --e4) {
              var n3 = this.tryEntries[e4];
              if (n3.finallyLoc === t4)
                return this.complete(n3.completion, n3.afterLoc), I(n3), v;
            }
          }, catch: function(t4) {
            for (var e4 = this.tryEntries.length - 1; e4 >= 0; --e4) {
              var n3 = this.tryEntries[e4];
              if (n3.tryLoc === t4) {
                var r3 = n3.completion;
                if (r3.type === "throw") {
                  var i2 = r3.arg;
                  I(n3);
                }
                return i2;
              }
            }
            throw new Error("illegal catch attempt");
          }, delegateYield: function(t4, n3, r3) {
            return this.delegate = { iterator: D(t4), resultName: n3, nextLoc: r3 }, this.method === "next" && (this.arg = e3), v;
          } }, t3;
        }(t2.exports);
        try {
          regeneratorRuntime = e2;
        } catch (t3) {
          typeof globalThis == "object" ? globalThis.regeneratorRuntime = e2 : Function("r", "regeneratorRuntime = r")(e2);
        }
      }, 6377: function(t2) {
        t2.exports = function() {
          var t3 = function(t4) {
            return t4 instanceof Uint8Array || t4 instanceof Uint16Array || t4 instanceof Uint32Array || t4 instanceof Int8Array || t4 instanceof Int16Array || t4 instanceof Int32Array || t4 instanceof Float32Array || t4 instanceof Float64Array || t4 instanceof Uint8ClampedArray;
          }, e2 = function(t4, e3) {
            for (var n3 = Object.keys(e3), r3 = 0; r3 < n3.length; ++r3)
              t4[n3[r3]] = e3[n3[r3]];
            return t4;
          }, n2 = "\n";
          function r2(t4) {
            var e3 = new Error("(regl) " + t4);
            throw console.error(e3), e3;
          }
          function i(t4, e3) {
            t4 || r2(e3);
          }
          function o(t4) {
            return t4 ? ": " + t4 : "";
          }
          function a(t4, e3) {
            switch (e3) {
              case "number":
                return typeof t4 == "number";
              case "object":
                return typeof t4 == "object";
              case "string":
                return typeof t4 == "string";
              case "boolean":
                return typeof t4 == "boolean";
              case "function":
                return typeof t4 == "function";
              case "undefined":
                return t4 === void 0;
              case "symbol":
                return typeof t4 == "symbol";
            }
          }
          function u(t4, e3, n3) {
            e3.indexOf(t4) < 0 && r2("invalid value" + o(n3) + ". must be one of: " + e3);
          }
          var s = ["gl", "canvas", "container", "attributes", "pixelRatio", "extensions", "optionalExtensions", "profile", "onDone"];
          function c(t4, e3) {
            for (t4 += ""; t4.length < e3; )
              t4 = " " + t4;
            return t4;
          }
          function f() {
            this.name = "unknown", this.lines = [], this.index = {}, this.hasErrors = false;
          }
          function l(t4, e3) {
            this.number = t4, this.line = e3, this.errors = [];
          }
          function h(t4, e3, n3) {
            this.file = t4, this.line = e3, this.message = n3;
          }
          function d() {
            var t4 = new Error(), e3 = (t4.stack || t4).toString(), n3 = /compileProcedure.*\n\s*at.*\((.*)\)/.exec(e3);
            if (n3)
              return n3[1];
            var r3 = /compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(e3);
            return r3 ? r3[1] : "unknown";
          }
          function p() {
            var t4 = new Error(), e3 = (t4.stack || t4).toString(), n3 = /at REGLCommand.*\n\s+at.*\((.*)\)/.exec(e3);
            if (n3)
              return n3[1];
            var r3 = /at REGLCommand.*\n\s+at\s+(.*)\n/.exec(e3);
            return r3 ? r3[1] : "unknown";
          }
          function v(t4, e3) {
            var n3, r3 = t4.split("\n"), i2 = 1, o2 = 0, a2 = { unknown: new f(), 0: new f() };
            a2.unknown.name = a2[0].name = e3 || d(), a2.unknown.lines.push(new l(0, ""));
            for (var u2 = 0; u2 < r3.length; ++u2) {
              var s2 = r3[u2], c2 = /^\s*#\s*(\w+)\s+(.+)\s*$/.exec(s2);
              if (c2)
                switch (c2[1]) {
                  case "line":
                    var h2 = /(\d+)(\s+\d+)?/.exec(c2[2]);
                    h2 && (i2 = 0 | h2[1], h2[2] && ((o2 = 0 | h2[2]) in a2 || (a2[o2] = new f())));
                    break;
                  case "define":
                    var p2 = /SHADER_NAME(_B64)?\s+(.*)$/.exec(c2[2]);
                    p2 && (a2[o2].name = p2[1] ? (n3 = p2[2], typeof atob != "undefined" ? atob(n3) : "base64:" + n3) : p2[2]);
                }
              a2[o2].lines.push(new l(i2++, s2));
            }
            return Object.keys(a2).forEach(function(t5) {
              var e4 = a2[t5];
              e4.lines.forEach(function(t6) {
                e4.index[t6.number] = t6;
              });
            }), a2;
          }
          function g(t4) {
            t4._commandRef = d();
          }
          function y(t4, e3) {
            var n3 = p();
            r2(t4 + " in command " + (e3 || d()) + (n3 === "unknown" ? "" : " called from " + n3));
          }
          function m(t4, e3, n3, r3) {
            a(t4, e3) || y("invalid parameter type" + o(n3) + ". expected " + e3 + ", got " + typeof t4, r3 || d());
          }
          var b = 33071, _ = {};
          function x(t4, e3) {
            return t4 === 32820 || t4 === 32819 || t4 === 33635 ? 2 : t4 === 34042 ? 4 : _[t4] * e3;
          }
          function w(t4) {
            return !(t4 & t4 - 1 || !t4);
          }
          _[5120] = _[5121] = 1, _[5122] = _[5123] = _[36193] = _[33635] = _[32819] = _[32820] = 2, _[5124] = _[5125] = _[5126] = _[34042] = 4;
          var E = e2(i, { optional: function(t4) {
            t4();
          }, raise: r2, commandRaise: y, command: function(t4, e3, n3) {
            t4 || y(e3, n3 || d());
          }, parameter: function(t4, e3, n3) {
            t4 in e3 || r2("unknown parameter (" + t4 + ")" + o(n3) + ". possible values: " + Object.keys(e3).join());
          }, commandParameter: function(t4, e3, n3, r3) {
            t4 in e3 || y("unknown parameter (" + t4 + ")" + o(n3) + ". possible values: " + Object.keys(e3).join(), r3 || d());
          }, constructor: function(t4) {
            Object.keys(t4).forEach(function(t5) {
              s.indexOf(t5) < 0 && r2('invalid regl constructor argument "' + t5 + '". must be one of ' + s);
            });
          }, type: function(t4, e3, n3) {
            a(t4, e3) || r2("invalid parameter type" + o(n3) + ". expected " + e3 + ", got " + typeof t4);
          }, commandType: m, isTypedArray: function(e3, n3) {
            t3(e3) || r2("invalid parameter type" + o(n3) + ". must be a typed array");
          }, nni: function(t4, e3) {
            t4 >= 0 && (0 | t4) === t4 || r2("invalid parameter type, (" + t4 + ")" + o(e3) + ". must be a nonnegative integer");
          }, oneOf: u, shaderError: function(t4, e3, r3, o2, a2) {
            if (!t4.getShaderParameter(e3, t4.COMPILE_STATUS)) {
              var u2 = t4.getShaderInfoLog(e3), s2 = o2 === t4.FRAGMENT_SHADER ? "fragment" : "vertex";
              m(r3, "string", s2 + " shader source must be a string", a2);
              var f2 = v(r3, a2), l2 = function(t5) {
                var e4 = [];
                return t5.split("\n").forEach(function(t6) {
                  if (!(t6.length < 5)) {
                    var n3 = /^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(t6);
                    n3 ? e4.push(new h(0 | n3[1], 0 | n3[2], n3[3].trim())) : t6.length > 0 && e4.push(new h("unknown", 0, t6));
                  }
                }), e4;
              }(u2);
              (function(t5, e4) {
                e4.forEach(function(e5) {
                  var n3 = t5[e5.file];
                  if (n3) {
                    var r4 = n3.index[e5.line];
                    if (r4)
                      return r4.errors.push(e5), void (n3.hasErrors = true);
                  }
                  t5.unknown.hasErrors = true, t5.unknown.lines[0].errors.push(e5);
                });
              })(f2, l2), Object.keys(f2).forEach(function(t5) {
                var e4 = f2[t5];
                if (e4.hasErrors) {
                  var r4 = [""], i2 = [""];
                  o3("file number " + t5 + ": " + e4.name + "\n", "color:red;text-decoration:underline;font-weight:bold"), e4.lines.forEach(function(t6) {
                    if (t6.errors.length > 0) {
                      o3(c(t6.number, 4) + "|  ", "background-color:yellow; font-weight:bold"), o3(t6.line + n2, "color:red; background-color:yellow; font-weight:bold");
                      var e5 = 0;
                      t6.errors.forEach(function(r5) {
                        var i3 = r5.message, a3 = /^\s*'(.*)'\s*:\s*(.*)$/.exec(i3);
                        if (a3) {
                          var u3 = a3[1];
                          i3 = a3[2], u3 === "assign" && (u3 = "="), e5 = Math.max(t6.line.indexOf(u3, e5), 0);
                        } else
                          e5 = 0;
                        o3(c("| ", 6)), o3(c("^^^", e5 + 3) + n2, "font-weight:bold"), o3(c("| ", 6)), o3(i3 + n2, "font-weight:bold");
                      }), o3(c("| ", 6) + n2);
                    } else
                      o3(c(t6.number, 4) + "|  "), o3(t6.line + n2, "color:red");
                  }), typeof document == "undefined" || window.chrome ? console.log(r4.join("")) : (i2[0] = r4.join("%c"), console.log.apply(console, i2));
                }
                function o3(t6, e5) {
                  r4.push(t6), i2.push(e5 || "");
                }
              }), i.raise("Error compiling " + s2 + " shader, " + f2[0].name);
            }
          }, linkError: function(t4, e3, r3, o2, a2) {
            if (!t4.getProgramParameter(e3, t4.LINK_STATUS)) {
              var u2 = t4.getProgramInfoLog(e3), s2 = v(r3, a2), c2 = 'Error linking program with vertex shader, "' + v(o2, a2)[0].name + '", and fragment shader "' + s2[0].name + '"';
              typeof document != "undefined" ? console.log("%c" + c2 + "\n%c" + u2, "color:red;text-decoration:underline;font-weight:bold", "color:red") : console.log(c2 + n2 + u2), i.raise(c2);
            }
          }, callSite: p, saveCommandRef: g, saveDrawInfo: function(t4, e3, n3, r3) {
            function i2(t5) {
              return t5 ? r3.id(t5) : 0;
            }
            function o2(t5, e4) {
              Object.keys(e4).forEach(function(e5) {
                t5[r3.id(e5)] = true;
              });
            }
            g(t4), t4._fragId = i2(t4.static.frag), t4._vertId = i2(t4.static.vert);
            var a2 = t4._uniformSet = {};
            o2(a2, e3.static), o2(a2, e3.dynamic);
            var u2 = t4._attributeSet = {};
            o2(u2, n3.static), o2(u2, n3.dynamic), t4._hasCount = "count" in t4.static || "count" in t4.dynamic || "elements" in t4.static || "elements" in t4.dynamic;
          }, framebufferFormat: function(t4, e3, n3) {
            t4.texture ? u(t4.texture._texture.internalformat, e3, "unsupported texture format for attachment") : u(t4.renderbuffer._renderbuffer.format, n3, "unsupported renderbuffer format for attachment");
          }, guessCommand: d, texture2D: function(t4, e3, n3) {
            var r3, o2 = e3.width, a2 = e3.height, u2 = e3.channels;
            i(o2 > 0 && o2 <= n3.maxTextureSize && a2 > 0 && a2 <= n3.maxTextureSize, "invalid texture shape"), t4.wrapS === b && t4.wrapT === b || i(w(o2) && w(a2), "incompatible wrap mode for texture, both width and height must be power of 2"), e3.mipmask === 1 ? o2 !== 1 && a2 !== 1 && i(t4.minFilter !== 9984 && t4.minFilter !== 9986 && t4.minFilter !== 9985 && t4.minFilter !== 9987, "min filter requires mipmap") : (i(w(o2) && w(a2), "texture must be a square power of 2 to support mipmapping"), i(e3.mipmask === (o2 << 1) - 1, "missing or incomplete mipmap data")), e3.type === 5126 && (n3.extensions.indexOf("oes_texture_float_linear") < 0 && i(t4.minFilter === 9728 && t4.magFilter === 9728, "filter not supported, must enable oes_texture_float_linear"), i(!t4.genMipmaps, "mipmap generation not supported with float textures"));
            var s2 = e3.images;
            for (r3 = 0; r3 < 16; ++r3)
              if (s2[r3]) {
                var c2 = o2 >> r3, f2 = a2 >> r3;
                i(e3.mipmask & 1 << r3, "missing mipmap data");
                var l2 = s2[r3];
                if (i(l2.width === c2 && l2.height === f2, "invalid shape for mip images"), i(l2.format === e3.format && l2.internalformat === e3.internalformat && l2.type === e3.type, "incompatible type for mip image"), l2.compressed)
                  ;
                else if (l2.data) {
                  var h2 = Math.ceil(x(l2.type, u2) * c2 / l2.unpackAlignment) * l2.unpackAlignment;
                  i(l2.data.byteLength === h2 * f2, "invalid data for image, buffer size is inconsistent with image format");
                } else
                  l2.element || l2.copy;
              } else
                t4.genMipmaps || i((e3.mipmask & 1 << r3) == 0, "extra mipmap data");
            e3.compressed && i(!t4.genMipmaps, "mipmap generation for compressed images not supported");
          }, textureCube: function(t4, e3, n3, r3) {
            var o2 = t4.width, a2 = t4.height, u2 = t4.channels;
            i(o2 > 0 && o2 <= r3.maxTextureSize && a2 > 0 && a2 <= r3.maxTextureSize, "invalid texture shape"), i(o2 === a2, "cube map must be square"), i(e3.wrapS === b && e3.wrapT === b, "wrap mode not supported by cube map");
            for (var s2 = 0; s2 < n3.length; ++s2) {
              var c2 = n3[s2];
              i(c2.width === o2 && c2.height === a2, "inconsistent cube map face shape"), e3.genMipmaps && (i(!c2.compressed, "can not generate mipmap for compressed textures"), i(c2.mipmask === 1, "can not specify mipmaps and generate mipmaps"));
              for (var f2 = c2.images, l2 = 0; l2 < 16; ++l2) {
                var h2 = f2[l2];
                if (h2) {
                  var d2 = o2 >> l2, p2 = a2 >> l2;
                  i(c2.mipmask & 1 << l2, "missing mipmap data"), i(h2.width === d2 && h2.height === p2, "invalid shape for mip images"), i(h2.format === t4.format && h2.internalformat === t4.internalformat && h2.type === t4.type, "incompatible type for mip image"), h2.compressed || (h2.data ? i(h2.data.byteLength === d2 * p2 * Math.max(x(h2.type, u2), h2.unpackAlignment), "invalid data for image, buffer size is inconsistent with image format") : h2.element || h2.copy);
                }
              }
            }
          } }), S = 0;
          function A(t4, e3) {
            this.id = S++, this.type = t4, this.data = e3;
          }
          function T(t4) {
            return t4.replace(/\\/g, "\\\\").replace(/"/g, '\\"');
          }
          function I(t4) {
            if (t4.length === 0)
              return [];
            var e3 = t4.charAt(0), n3 = t4.charAt(t4.length - 1);
            if (t4.length > 1 && e3 === n3 && (e3 === '"' || e3 === "'"))
              return ['"' + T(t4.substr(1, t4.length - 2)) + '"'];
            var r3 = /\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(t4);
            if (r3)
              return I(t4.substr(0, r3.index)).concat(I(r3[1])).concat(I(t4.substr(r3.index + r3[0].length)));
            var i2 = t4.split(".");
            if (i2.length === 1)
              return ['"' + T(t4) + '"'];
            for (var o2 = [], a2 = 0; a2 < i2.length; ++a2)
              o2 = o2.concat(I(i2[a2]));
            return o2;
          }
          function C(t4) {
            return "[" + I(t4).join("][") + "]";
          }
          var D = { DynamicVariable: A, define: function(t4, e3) {
            return new A(t4, C(e3 + ""));
          }, isDynamic: function(t4) {
            return typeof t4 == "function" && !t4._reglType || t4 instanceof A;
          }, unbox: function t4(e3, n3) {
            return typeof e3 == "function" ? new A(0, e3) : typeof e3 == "number" || typeof e3 == "boolean" ? new A(5, e3) : Array.isArray(e3) ? new A(6, e3.map((e4, r3) => t4(e4, n3 + "[" + r3 + "]"))) : e3 instanceof A ? e3 : void E(false, "invalid option type in uniform " + n3);
          }, accessor: C }, N = { next: typeof requestAnimationFrame == "function" ? function(t4) {
            return requestAnimationFrame(t4);
          } : function(t4) {
            return setTimeout(t4, 16);
          }, cancel: typeof cancelAnimationFrame == "function" ? function(t4) {
            return cancelAnimationFrame(t4);
          } : clearTimeout }, k = typeof performance != "undefined" && performance.now ? function() {
            return performance.now();
          } : function() {
            return +new Date();
          };
          function R(t4) {
            return typeof t4 == "string" ? t4.split() : (E(Array.isArray(t4), "invalid extension array"), t4);
          }
          function O(t4) {
            return typeof t4 == "string" ? (E(typeof document != "undefined", "not supported outside of DOM"), document.querySelector(t4)) : t4;
          }
          function M(t4) {
            var n3, r3, i2, o2, a2, u2 = t4 || {}, s2 = {}, c2 = [], f2 = [], l2 = typeof window == "undefined" ? 1 : window.devicePixelRatio, h2 = false, d2 = function(t5) {
              t5 && E.raise(t5);
            }, p2 = function() {
            };
            if (typeof u2 == "string" ? (E(typeof document != "undefined", "selector queries only supported in DOM enviroments"), n3 = document.querySelector(u2), E(n3, "invalid query string for element")) : typeof u2 == "object" ? typeof (a2 = u2).nodeName == "string" && typeof a2.appendChild == "function" && typeof a2.getBoundingClientRect == "function" ? n3 = u2 : function(t5) {
              return typeof t5.drawArrays == "function" || typeof t5.drawElements == "function";
            }(u2) ? i2 = (o2 = u2).canvas : (E.constructor(u2), "gl" in u2 ? o2 = u2.gl : "canvas" in u2 ? i2 = O(u2.canvas) : "container" in u2 && (r3 = O(u2.container)), "attributes" in u2 && (s2 = u2.attributes, E.type(s2, "object", "invalid context attributes")), "extensions" in u2 && (c2 = R(u2.extensions)), "optionalExtensions" in u2 && (f2 = R(u2.optionalExtensions)), "onDone" in u2 && (E.type(u2.onDone, "function", "invalid or missing onDone callback"), d2 = u2.onDone), "profile" in u2 && (h2 = !!u2.profile), "pixelRatio" in u2 && (l2 = +u2.pixelRatio, E(l2 > 0, "invalid pixel ratio"))) : E.raise("invalid arguments to regl"), n3 && (n3.nodeName.toLowerCase() === "canvas" ? i2 = n3 : r3 = n3), !o2) {
              if (!i2) {
                E(typeof document != "undefined", "must manually specify webgl context outside of DOM environments");
                var v2 = function(t5, n4, r4) {
                  var i3, o3 = document.createElement("canvas");
                  function a3() {
                    var n5 = window.innerWidth, i4 = window.innerHeight;
                    if (t5 !== document.body) {
                      var a4 = t5.getBoundingClientRect();
                      n5 = a4.right - a4.left, i4 = a4.bottom - a4.top;
                    }
                    o3.width = r4 * n5, o3.height = r4 * i4, e2(o3.style, { width: n5 + "px", height: i4 + "px" });
                  }
                  return e2(o3.style, { border: 0, margin: 0, padding: 0, top: 0, left: 0 }), t5.appendChild(o3), t5 === document.body && (o3.style.position = "absolute", e2(t5.style, { margin: 0, padding: 0 })), t5 !== document.body && typeof ResizeObserver == "function" ? (i3 = new ResizeObserver(function() {
                    setTimeout(a3);
                  })).observe(t5) : window.addEventListener("resize", a3, false), a3(), { canvas: o3, onDestroy: function() {
                    i3 ? i3.disconnect() : window.removeEventListener("resize", a3), t5.removeChild(o3);
                  } };
                }(r3 || document.body, 0, l2);
                if (!v2)
                  return null;
                i2 = v2.canvas, p2 = v2.onDestroy;
              }
              s2.premultipliedAlpha === void 0 && (s2.premultipliedAlpha = true), o2 = function(t5, e3) {
                function n4(n5) {
                  try {
                    return t5.getContext(n5, e3);
                  } catch (t6) {
                    return null;
                  }
                }
                return n4("webgl") || n4("experimental-webgl") || n4("webgl-experimental");
              }(i2, s2);
            }
            return o2 ? { gl: o2, canvas: i2, container: r3, extensions: c2, optionalExtensions: f2, pixelRatio: l2, profile: h2, onDone: d2, onDestroy: p2 } : (p2(), d2("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"), null);
          }
          function P(t4, e3) {
            for (var n3 = Array(t4), r3 = 0; r3 < t4; ++r3)
              n3[r3] = e3(r3);
            return n3;
          }
          function G(t4) {
            var e3, n3;
            return e3 = (t4 > 65535) << 4, e3 |= n3 = ((t4 >>>= e3) > 255) << 3, e3 |= n3 = ((t4 >>>= n3) > 15) << 2, (e3 |= n3 = ((t4 >>>= n3) > 3) << 1) | (t4 >>>= n3) >> 1;
          }
          function L() {
            var t4 = P(8, function() {
              return [];
            });
            function e3(e4) {
              var n4 = function(t5) {
                for (var e5 = 16; e5 <= 1 << 28; e5 *= 16)
                  if (t5 <= e5)
                    return e5;
                return 0;
              }(e4), r3 = t4[G(n4) >> 2];
              return r3.length > 0 ? r3.pop() : new ArrayBuffer(n4);
            }
            function n3(e4) {
              t4[G(e4.byteLength) >> 2].push(e4);
            }
            return { alloc: e3, free: n3, allocType: function(t5, n4) {
              var r3 = null;
              switch (t5) {
                case 5120:
                  r3 = new Int8Array(e3(n4), 0, n4);
                  break;
                case 5121:
                  r3 = new Uint8Array(e3(n4), 0, n4);
                  break;
                case 5122:
                  r3 = new Int16Array(e3(2 * n4), 0, n4);
                  break;
                case 5123:
                  r3 = new Uint16Array(e3(2 * n4), 0, n4);
                  break;
                case 5124:
                  r3 = new Int32Array(e3(4 * n4), 0, n4);
                  break;
                case 5125:
                  r3 = new Uint32Array(e3(4 * n4), 0, n4);
                  break;
                case 5126:
                  r3 = new Float32Array(e3(4 * n4), 0, n4);
                  break;
                default:
                  return null;
              }
              return r3.length !== n4 ? r3.subarray(0, n4) : r3;
            }, freeType: function(t5) {
              n3(t5.buffer);
            } };
          }
          var U = L();
          U.zero = L();
          var F = 3553, B = 6408, z = 5126, j = 36160;
          function W(e3) {
            return !!e3 && typeof e3 == "object" && Array.isArray(e3.shape) && Array.isArray(e3.stride) && typeof e3.offset == "number" && e3.shape.length === e3.stride.length && (Array.isArray(e3.data) || t3(e3.data));
          }
          var V = function(t4) {
            return Object.keys(t4).map(function(e3) {
              return t4[e3];
            });
          }, X = { shape: function(t4) {
            for (var e3 = [], n3 = t4; n3.length; n3 = n3[0])
              e3.push(n3.length);
            return e3;
          }, flatten: function(t4, e3, n3, r3) {
            var i2 = 1;
            if (e3.length)
              for (var o2 = 0; o2 < e3.length; ++o2)
                i2 *= e3[o2];
            else
              i2 = 0;
            var a2 = r3 || U.allocType(n3, i2);
            switch (e3.length) {
              case 0:
                break;
              case 1:
                !function(t5, e4, n4) {
                  for (var r4 = 0; r4 < e4; ++r4)
                    n4[r4] = t5[r4];
                }(t4, e3[0], a2);
                break;
              case 2:
                !function(t5, e4, n4, r4) {
                  for (var i3 = 0, o3 = 0; o3 < e4; ++o3)
                    for (var a3 = t5[o3], u2 = 0; u2 < n4; ++u2)
                      r4[i3++] = a3[u2];
                }(t4, e3[0], e3[1], a2);
                break;
              case 3:
                H(t4, e3[0], e3[1], e3[2], a2, 0);
                break;
              default:
                q(t4, e3, 0, a2, 0);
            }
            return a2;
          } };
          function H(t4, e3, n3, r3, i2, o2) {
            for (var a2 = o2, u2 = 0; u2 < e3; ++u2)
              for (var s2 = t4[u2], c2 = 0; c2 < n3; ++c2)
                for (var f2 = s2[c2], l2 = 0; l2 < r3; ++l2)
                  i2[a2++] = f2[l2];
          }
          function q(t4, e3, n3, r3, i2) {
            for (var o2 = 1, a2 = n3 + 1; a2 < e3.length; ++a2)
              o2 *= e3[a2];
            var u2 = e3[n3];
            if (e3.length - n3 == 4) {
              var s2 = e3[n3 + 1], c2 = e3[n3 + 2], f2 = e3[n3 + 3];
              for (a2 = 0; a2 < u2; ++a2)
                H(t4[a2], s2, c2, f2, r3, i2), i2 += o2;
            } else
              for (a2 = 0; a2 < u2; ++a2)
                q(t4[a2], e3, n3 + 1, r3, i2), i2 += o2;
          }
          var Y = { "[object Int8Array]": 5120, "[object Int16Array]": 5122, "[object Int32Array]": 5124, "[object Uint8Array]": 5121, "[object Uint8ClampedArray]": 5121, "[object Uint16Array]": 5123, "[object Uint32Array]": 5125, "[object Float32Array]": 5126, "[object Float64Array]": 5121, "[object ArrayBuffer]": 5121 }, K = { int8: 5120, int16: 5122, int32: 5124, uint8: 5121, uint16: 5123, uint32: 5125, float: 5126, float32: 5126 }, Z = { dynamic: 35048, stream: 35040, static: 35044 }, $ = X.flatten, J = X.shape, Q = 5121, tt = 5126, et = [];
          function nt(t4) {
            return 0 | Y[Object.prototype.toString.call(t4)];
          }
          function rt(t4, e3) {
            for (var n3 = 0; n3 < e3.length; ++n3)
              t4[n3] = e3[n3];
          }
          function it(t4, e3, n3, r3, i2, o2, a2) {
            for (var u2 = 0, s2 = 0; s2 < n3; ++s2)
              for (var c2 = 0; c2 < r3; ++c2)
                t4[u2++] = e3[i2 * s2 + o2 * c2 + a2];
          }
          et[5120] = 1, et[5122] = 2, et[5124] = 4, et[5121] = 1, et[5123] = 2, et[5125] = 4, et[5126] = 4;
          var ot = { points: 0, point: 0, lines: 1, line: 1, triangles: 4, triangle: 4, "line loop": 2, "line strip": 3, "triangle strip": 5, "triangle fan": 6 }, at = 5121, ut = 5123, st = 5125, ct = 34963;
          var ft = new Float32Array(1), lt = new Uint32Array(ft.buffer);
          function ht(t4) {
            for (var e3 = U.allocType(5123, t4.length), n3 = 0; n3 < t4.length; ++n3)
              if (isNaN(t4[n3]))
                e3[n3] = 65535;
              else if (t4[n3] === 1 / 0)
                e3[n3] = 31744;
              else if (t4[n3] === -1 / 0)
                e3[n3] = 64512;
              else {
                ft[0] = t4[n3];
                var r3 = lt[0], i2 = r3 >>> 31 << 15, o2 = (r3 << 1 >>> 24) - 127, a2 = r3 >> 13 & 1023;
                if (o2 < -24)
                  e3[n3] = i2;
                else if (o2 < -14) {
                  var u2 = -14 - o2;
                  e3[n3] = i2 + (a2 + 1024 >> u2);
                } else
                  e3[n3] = o2 > 15 ? i2 + 31744 : i2 + (o2 + 15 << 10) + a2;
              }
            return e3;
          }
          function dt(e3) {
            return Array.isArray(e3) || t3(e3);
          }
          var pt = function(t4) {
            return !(t4 & t4 - 1 || !t4);
          }, vt = 3553, gt = 34067, yt = 34069, mt = 6408, bt = 6406, _t = 6407, xt = 6409, wt = 6410, Et = 32855, St = 6402, At = 34041, Tt = 35904, It = 35906, Ct = 36193, Dt = 33776, Nt = 33777, kt = 33778, Rt = 33779, Ot = 5121, Mt = 5123, Pt = 5125, Gt = 5126, Lt = 33071, Ut = 9728, Ft = 9984, Bt = 9987, zt = 4352, jt = 33984, Wt = [Ft, 9986, 9985, Bt], Vt = [0, xt, wt, _t, mt], Xt = {};
          function Ht(t4) {
            return "[object " + t4 + "]";
          }
          Xt[6409] = Xt[6406] = Xt[6402] = 1, Xt[34041] = Xt[6410] = 2, Xt[6407] = Xt[35904] = 3, Xt[6408] = Xt[35906] = 4;
          var qt = Ht("HTMLCanvasElement"), Yt = Ht("OffscreenCanvas"), Kt = Ht("CanvasRenderingContext2D"), Zt = Ht("ImageBitmap"), $t = Ht("HTMLImageElement"), Jt = Ht("HTMLVideoElement"), Qt = Object.keys(Y).concat([qt, Yt, Kt, Zt, $t, Jt]), te = [];
          te[5121] = 1, te[5126] = 4, te[36193] = 2, te[5123] = 2, te[5125] = 4;
          var ee = [];
          function ne(t4) {
            return Array.isArray(t4) && (t4.length === 0 || typeof t4[0] == "number");
          }
          function re(t4) {
            return !!Array.isArray(t4) && !(t4.length === 0 || !dt(t4[0]));
          }
          function ie(t4) {
            return Object.prototype.toString.call(t4);
          }
          function oe(t4) {
            return ie(t4) === qt;
          }
          function ae(t4) {
            return ie(t4) === Yt;
          }
          function ue(t4) {
            if (!t4)
              return false;
            var e3 = ie(t4);
            return Qt.indexOf(e3) >= 0 || ne(t4) || re(t4) || W(t4);
          }
          function se(t4) {
            return 0 | Y[Object.prototype.toString.call(t4)];
          }
          function ce(t4, e3) {
            return U.allocType(t4.type === Ct ? Gt : t4.type, e3);
          }
          function fe(t4, e3) {
            t4.type === Ct ? (t4.data = ht(e3), U.freeType(e3)) : t4.data = e3;
          }
          function le(t4, e3, n3, r3, i2, o2) {
            var a2;
            if (a2 = ee[t4] !== void 0 ? ee[t4] : Xt[t4] * te[e3], o2 && (a2 *= 6), i2) {
              for (var u2 = 0, s2 = n3; s2 >= 1; )
                u2 += a2 * s2 * s2, s2 /= 2;
              return u2;
            }
            return a2 * n3 * r3;
          }
          function he(n3, r3, i2, o2, a2, u2, s2) {
            var c2 = { "don't care": zt, "dont care": zt, nice: 4354, fast: 4353 }, f2 = { repeat: 10497, clamp: Lt, mirror: 33648 }, l2 = { nearest: Ut, linear: 9729 }, h2 = e2({ mipmap: Bt, "nearest mipmap nearest": Ft, "linear mipmap nearest": 9985, "nearest mipmap linear": 9986, "linear mipmap linear": Bt }, l2), d2 = { none: 0, browser: 37444 }, p2 = { uint8: Ot, rgba4: 32819, rgb565: 33635, "rgb5 a1": 32820 }, v2 = { alpha: bt, luminance: xt, "luminance alpha": wt, rgb: _t, rgba: mt, rgba4: 32854, "rgb5 a1": Et, rgb565: 36194 }, g2 = {};
            r3.ext_srgb && (v2.srgb = Tt, v2.srgba = It), r3.oes_texture_float && (p2.float32 = p2.float = Gt), r3.oes_texture_half_float && (p2.float16 = p2["half float"] = Ct), r3.webgl_depth_texture && (e2(v2, { depth: St, "depth stencil": At }), e2(p2, { uint16: Mt, uint32: Pt, "depth stencil": 34042 })), r3.webgl_compressed_texture_s3tc && e2(g2, { "rgb s3tc dxt1": Dt, "rgba s3tc dxt1": Nt, "rgba s3tc dxt3": kt, "rgba s3tc dxt5": Rt }), r3.webgl_compressed_texture_atc && e2(g2, { "rgb atc": 35986, "rgba atc explicit alpha": 35987, "rgba atc interpolated alpha": 34798 }), r3.webgl_compressed_texture_pvrtc && e2(g2, { "rgb pvrtc 4bppv1": 35840, "rgb pvrtc 2bppv1": 35841, "rgba pvrtc 4bppv1": 35842, "rgba pvrtc 2bppv1": 35843 }), r3.webgl_compressed_texture_etc1 && (g2["rgb etc1"] = 36196);
            var y2 = Array.prototype.slice.call(n3.getParameter(34467));
            Object.keys(g2).forEach(function(t4) {
              var e3 = g2[t4];
              y2.indexOf(e3) >= 0 && (v2[t4] = e3);
            });
            var m2 = Object.keys(v2);
            i2.textureFormats = m2;
            var b2 = [];
            Object.keys(v2).forEach(function(t4) {
              var e3 = v2[t4];
              b2[e3] = t4;
            });
            var _2 = [];
            Object.keys(p2).forEach(function(t4) {
              var e3 = p2[t4];
              _2[e3] = t4;
            });
            var x2 = [];
            Object.keys(l2).forEach(function(t4) {
              x2[l2[t4]] = t4;
            });
            var w2 = [];
            Object.keys(h2).forEach(function(t4) {
              var e3 = h2[t4];
              w2[e3] = t4;
            });
            var S2 = [];
            Object.keys(f2).forEach(function(t4) {
              S2[f2[t4]] = t4;
            });
            var A2 = m2.reduce(function(t4, e3) {
              var n4 = v2[e3];
              return n4 === xt || n4 === bt || n4 === xt || n4 === wt || n4 === St || n4 === At || r3.ext_srgb && (n4 === Tt || n4 === It) ? t4[n4] = n4 : n4 === Et || e3.indexOf("rgba") >= 0 ? t4[n4] = mt : t4[n4] = _t, t4;
            }, {});
            function T2() {
              this.internalformat = mt, this.format = mt, this.type = Ot, this.compressed = false, this.premultiplyAlpha = false, this.flipY = false, this.unpackAlignment = 1, this.colorSpace = 37444, this.width = 0, this.height = 0, this.channels = 0;
            }
            function I2(t4, e3) {
              t4.internalformat = e3.internalformat, t4.format = e3.format, t4.type = e3.type, t4.compressed = e3.compressed, t4.premultiplyAlpha = e3.premultiplyAlpha, t4.flipY = e3.flipY, t4.unpackAlignment = e3.unpackAlignment, t4.colorSpace = e3.colorSpace, t4.width = e3.width, t4.height = e3.height, t4.channels = e3.channels;
            }
            function C2(t4, e3) {
              if (typeof e3 == "object" && e3) {
                if ("premultiplyAlpha" in e3 && (E.type(e3.premultiplyAlpha, "boolean", "invalid premultiplyAlpha"), t4.premultiplyAlpha = e3.premultiplyAlpha), "flipY" in e3 && (E.type(e3.flipY, "boolean", "invalid texture flip"), t4.flipY = e3.flipY), "alignment" in e3 && (E.oneOf(e3.alignment, [1, 2, 4, 8], "invalid texture unpack alignment"), t4.unpackAlignment = e3.alignment), "colorSpace" in e3 && (E.parameter(e3.colorSpace, d2, "invalid colorSpace"), t4.colorSpace = d2[e3.colorSpace]), "type" in e3) {
                  var n4 = e3.type;
                  E(r3.oes_texture_float || !(n4 === "float" || n4 === "float32"), "you must enable the OES_texture_float extension in order to use floating point textures."), E(r3.oes_texture_half_float || !(n4 === "half float" || n4 === "float16"), "you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."), E(r3.webgl_depth_texture || !(n4 === "uint16" || n4 === "uint32" || n4 === "depth stencil"), "you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."), E.parameter(n4, p2, "invalid texture type"), t4.type = p2[n4];
                }
                var o3 = t4.width, a3 = t4.height, u3 = t4.channels, s3 = false;
                "shape" in e3 ? (E(Array.isArray(e3.shape) && e3.shape.length >= 2, "shape must be an array"), o3 = e3.shape[0], a3 = e3.shape[1], e3.shape.length === 3 && (u3 = e3.shape[2], E(u3 > 0 && u3 <= 4, "invalid number of channels"), s3 = true), E(o3 >= 0 && o3 <= i2.maxTextureSize, "invalid width"), E(a3 >= 0 && a3 <= i2.maxTextureSize, "invalid height")) : ("radius" in e3 && (o3 = a3 = e3.radius, E(o3 >= 0 && o3 <= i2.maxTextureSize, "invalid radius")), "width" in e3 && (o3 = e3.width, E(o3 >= 0 && o3 <= i2.maxTextureSize, "invalid width")), "height" in e3 && (a3 = e3.height, E(a3 >= 0 && a3 <= i2.maxTextureSize, "invalid height")), "channels" in e3 && (u3 = e3.channels, E(u3 > 0 && u3 <= 4, "invalid number of channels"), s3 = true)), t4.width = 0 | o3, t4.height = 0 | a3, t4.channels = 0 | u3;
                var c3 = false;
                if ("format" in e3) {
                  var f3 = e3.format;
                  E(r3.webgl_depth_texture || !(f3 === "depth" || f3 === "depth stencil"), "you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."), E.parameter(f3, v2, "invalid texture format");
                  var l3 = t4.internalformat = v2[f3];
                  t4.format = A2[l3], f3 in p2 && ("type" in e3 || (t4.type = p2[f3])), f3 in g2 && (t4.compressed = true), c3 = true;
                }
                !s3 && c3 ? t4.channels = Xt[t4.format] : s3 && !c3 ? t4.channels !== Vt[t4.format] && (t4.format = t4.internalformat = Vt[t4.channels]) : c3 && s3 && E(t4.channels === Xt[t4.format], "number of channels inconsistent with specified format");
              }
            }
            function D2(t4) {
              n3.pixelStorei(37440, t4.flipY), n3.pixelStorei(37441, t4.premultiplyAlpha), n3.pixelStorei(37443, t4.colorSpace), n3.pixelStorei(3317, t4.unpackAlignment);
            }
            function N2() {
              T2.call(this), this.xOffset = 0, this.yOffset = 0, this.data = null, this.needsFree = false, this.element = null, this.needsCopy = false;
            }
            function k2(e3, n4) {
              var r4 = null;
              if (ue(n4) ? r4 = n4 : n4 && (E.type(n4, "object", "invalid pixel data type"), C2(e3, n4), "x" in n4 && (e3.xOffset = 0 | n4.x), "y" in n4 && (e3.yOffset = 0 | n4.y), ue(n4.data) && (r4 = n4.data)), E(!e3.compressed || r4 instanceof Uint8Array, "compressed texture data must be stored in a uint8array"), n4.copy) {
                E(!r4, "can not specify copy and data field for the same texture");
                var o3 = a2.viewportWidth, u3 = a2.viewportHeight;
                e3.width = e3.width || o3 - e3.xOffset, e3.height = e3.height || u3 - e3.yOffset, e3.needsCopy = true, E(e3.xOffset >= 0 && e3.xOffset < o3 && e3.yOffset >= 0 && e3.yOffset < u3 && e3.width > 0 && e3.width <= o3 && e3.height > 0 && e3.height <= u3, "copy texture read out of bounds");
              } else if (r4) {
                if (t3(r4))
                  e3.channels = e3.channels || 4, e3.data = r4, "type" in n4 || e3.type !== Ot || (e3.type = se(r4));
                else if (ne(r4))
                  e3.channels = e3.channels || 4, function(t4, e4) {
                    var n5 = e4.length;
                    switch (t4.type) {
                      case Ot:
                      case Mt:
                      case Pt:
                      case Gt:
                        var r5 = U.allocType(t4.type, n5);
                        r5.set(e4), t4.data = r5;
                        break;
                      case Ct:
                        t4.data = ht(e4);
                        break;
                      default:
                        E.raise("unsupported texture type, must specify a typed array");
                    }
                  }(e3, r4), e3.alignment = 1, e3.needsFree = true;
                else if (W(r4)) {
                  var s3 = r4.data;
                  Array.isArray(s3) || e3.type !== Ot || (e3.type = se(s3));
                  var c3, f3, l3, h3, d3, p3, v3 = r4.shape, g3 = r4.stride;
                  v3.length === 3 ? (l3 = v3[2], p3 = g3[2]) : (E(v3.length === 2, "invalid ndarray pixel data, must be 2 or 3D"), l3 = 1, p3 = 1), c3 = v3[0], f3 = v3[1], h3 = g3[0], d3 = g3[1], e3.alignment = 1, e3.width = c3, e3.height = f3, e3.channels = l3, e3.format = e3.internalformat = Vt[l3], e3.needsFree = true, function(t4, e4, n5, r5, i3, o4) {
                    for (var a3 = t4.width, u4 = t4.height, s4 = t4.channels, c4 = ce(t4, a3 * u4 * s4), f4 = 0, l4 = 0; l4 < u4; ++l4)
                      for (var h4 = 0; h4 < a3; ++h4)
                        for (var d4 = 0; d4 < s4; ++d4)
                          c4[f4++] = e4[n5 * h4 + r5 * l4 + i3 * d4 + o4];
                    fe(t4, c4);
                  }(e3, s3, h3, d3, p3, r4.offset);
                } else if (oe(r4) || ae(r4) || ie(r4) === Kt)
                  oe(r4) || ae(r4) ? e3.element = r4 : e3.element = r4.canvas, e3.width = e3.element.width, e3.height = e3.element.height, e3.channels = 4;
                else if (function(t4) {
                  return ie(t4) === Zt;
                }(r4))
                  e3.element = r4, e3.width = r4.width, e3.height = r4.height, e3.channels = 4;
                else if (function(t4) {
                  return ie(t4) === $t;
                }(r4))
                  e3.element = r4, e3.width = r4.naturalWidth, e3.height = r4.naturalHeight, e3.channels = 4;
                else if (function(t4) {
                  return ie(t4) === Jt;
                }(r4))
                  e3.element = r4, e3.width = r4.videoWidth, e3.height = r4.videoHeight, e3.channels = 4;
                else if (re(r4)) {
                  var y3 = e3.width || r4[0].length, m3 = e3.height || r4.length, b3 = e3.channels;
                  b3 = dt(r4[0][0]) ? b3 || r4[0][0].length : b3 || 1;
                  for (var _3 = X.shape(r4), x3 = 1, w3 = 0; w3 < _3.length; ++w3)
                    x3 *= _3[w3];
                  var S3 = ce(e3, x3);
                  X.flatten(r4, _3, "", S3), fe(e3, S3), e3.alignment = 1, e3.width = y3, e3.height = m3, e3.channels = b3, e3.format = e3.internalformat = Vt[b3], e3.needsFree = true;
                }
              } else
                e3.width = e3.width || 1, e3.height = e3.height || 1, e3.channels = e3.channels || 4;
              e3.type === Gt ? E(i2.extensions.indexOf("oes_texture_float") >= 0, "oes_texture_float extension not enabled") : e3.type === Ct && E(i2.extensions.indexOf("oes_texture_half_float") >= 0, "oes_texture_half_float extension not enabled");
            }
            function R2(t4, e3, r4) {
              var i3 = t4.element, a3 = t4.data, u3 = t4.internalformat, s3 = t4.format, c3 = t4.type, f3 = t4.width, l3 = t4.height;
              D2(t4), i3 ? n3.texImage2D(e3, r4, s3, s3, c3, i3) : t4.compressed ? n3.compressedTexImage2D(e3, r4, u3, f3, l3, 0, a3) : t4.needsCopy ? (o2(), n3.copyTexImage2D(e3, r4, s3, t4.xOffset, t4.yOffset, f3, l3, 0)) : n3.texImage2D(e3, r4, s3, f3, l3, 0, s3, c3, a3 || null);
            }
            function O2(t4, e3, r4, i3, a3) {
              var u3 = t4.element, s3 = t4.data, c3 = t4.internalformat, f3 = t4.format, l3 = t4.type, h3 = t4.width, d3 = t4.height;
              D2(t4), u3 ? n3.texSubImage2D(e3, a3, r4, i3, f3, l3, u3) : t4.compressed ? n3.compressedTexSubImage2D(e3, a3, r4, i3, c3, h3, d3, s3) : t4.needsCopy ? (o2(), n3.copyTexSubImage2D(e3, a3, r4, i3, t4.xOffset, t4.yOffset, h3, d3)) : n3.texSubImage2D(e3, a3, r4, i3, h3, d3, f3, l3, s3);
            }
            var M2 = [];
            function P2() {
              return M2.pop() || new N2();
            }
            function G2(t4) {
              t4.needsFree && U.freeType(t4.data), N2.call(t4), M2.push(t4);
            }
            function L2() {
              T2.call(this), this.genMipmaps = false, this.mipmapHint = zt, this.mipmask = 0, this.images = Array(16);
            }
            function F2(t4, e3, n4) {
              var r4 = t4.images[0] = P2();
              t4.mipmask = 1, r4.width = t4.width = e3, r4.height = t4.height = n4, r4.channels = t4.channels = 4;
            }
            function B2(t4, e3) {
              var n4 = null;
              if (ue(e3))
                I2(n4 = t4.images[0] = P2(), t4), k2(n4, e3), t4.mipmask = 1;
              else if (C2(t4, e3), Array.isArray(e3.mipmap))
                for (var r4 = e3.mipmap, i3 = 0; i3 < r4.length; ++i3)
                  I2(n4 = t4.images[i3] = P2(), t4), n4.width >>= i3, n4.height >>= i3, k2(n4, r4[i3]), t4.mipmask |= 1 << i3;
              else
                I2(n4 = t4.images[0] = P2(), t4), k2(n4, e3), t4.mipmask = 1;
              I2(t4, t4.images[0]), !t4.compressed || t4.internalformat !== Dt && t4.internalformat !== Nt && t4.internalformat !== kt && t4.internalformat !== Rt || E(t4.width % 4 == 0 && t4.height % 4 == 0, "for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4");
            }
            function z2(t4, e3) {
              for (var n4 = t4.images, r4 = 0; r4 < n4.length; ++r4) {
                if (!n4[r4])
                  return;
                R2(n4[r4], e3, r4);
              }
            }
            var j2 = [];
            function H2() {
              var t4 = j2.pop() || new L2();
              T2.call(t4), t4.mipmask = 0;
              for (var e3 = 0; e3 < 16; ++e3)
                t4.images[e3] = null;
              return t4;
            }
            function q2(t4) {
              for (var e3 = t4.images, n4 = 0; n4 < e3.length; ++n4)
                e3[n4] && G2(e3[n4]), e3[n4] = null;
              j2.push(t4);
            }
            function Y2() {
              this.minFilter = Ut, this.magFilter = Ut, this.wrapS = Lt, this.wrapT = Lt, this.anisotropic = 1, this.genMipmaps = false, this.mipmapHint = zt;
            }
            function K2(t4, e3) {
              if ("min" in e3) {
                var n4 = e3.min;
                E.parameter(n4, h2), t4.minFilter = h2[n4], Wt.indexOf(t4.minFilter) >= 0 && !("faces" in e3) && (t4.genMipmaps = true);
              }
              if ("mag" in e3) {
                var r4 = e3.mag;
                E.parameter(r4, l2), t4.magFilter = l2[r4];
              }
              var o3 = t4.wrapS, a3 = t4.wrapT;
              if ("wrap" in e3) {
                var u3 = e3.wrap;
                typeof u3 == "string" ? (E.parameter(u3, f2), o3 = a3 = f2[u3]) : Array.isArray(u3) && (E.parameter(u3[0], f2), E.parameter(u3[1], f2), o3 = f2[u3[0]], a3 = f2[u3[1]]);
              } else {
                if ("wrapS" in e3) {
                  var s3 = e3.wrapS;
                  E.parameter(s3, f2), o3 = f2[s3];
                }
                if ("wrapT" in e3) {
                  var d3 = e3.wrapT;
                  E.parameter(d3, f2), a3 = f2[d3];
                }
              }
              if (t4.wrapS = o3, t4.wrapT = a3, "anisotropic" in e3) {
                var p3 = e3.anisotropic;
                E(typeof p3 == "number" && p3 >= 1 && p3 <= i2.maxAnisotropic, "aniso samples must be between 1 and "), t4.anisotropic = e3.anisotropic;
              }
              if ("mipmap" in e3) {
                var v3 = false;
                switch (typeof e3.mipmap) {
                  case "string":
                    E.parameter(e3.mipmap, c2, "invalid mipmap hint"), t4.mipmapHint = c2[e3.mipmap], t4.genMipmaps = true, v3 = true;
                    break;
                  case "boolean":
                    v3 = t4.genMipmaps = e3.mipmap;
                    break;
                  case "object":
                    E(Array.isArray(e3.mipmap), "invalid mipmap type"), t4.genMipmaps = false, v3 = true;
                    break;
                  default:
                    E.raise("invalid mipmap type");
                }
                v3 && !("min" in e3) && (t4.minFilter = Ft);
              }
            }
            function Z2(t4, e3) {
              n3.texParameteri(e3, 10241, t4.minFilter), n3.texParameteri(e3, 10240, t4.magFilter), n3.texParameteri(e3, 10242, t4.wrapS), n3.texParameteri(e3, 10243, t4.wrapT), r3.ext_texture_filter_anisotropic && n3.texParameteri(e3, 34046, t4.anisotropic), t4.genMipmaps && (n3.hint(33170, t4.mipmapHint), n3.generateMipmap(e3));
            }
            var $2 = 0, J2 = {}, Q2 = i2.maxTextureUnits, tt2 = Array(Q2).map(function() {
              return null;
            });
            function et2(t4) {
              T2.call(this), this.mipmask = 0, this.internalformat = mt, this.id = $2++, this.refCount = 1, this.target = t4, this.texture = n3.createTexture(), this.unit = -1, this.bindCount = 0, this.texInfo = new Y2(), s2.profile && (this.stats = { size: 0 });
            }
            function nt2(t4) {
              n3.activeTexture(jt), n3.bindTexture(t4.target, t4.texture);
            }
            function rt2() {
              var t4 = tt2[0];
              t4 ? n3.bindTexture(t4.target, t4.texture) : n3.bindTexture(vt, null);
            }
            function it2(t4) {
              var e3 = t4.texture;
              E(e3, "must not double destroy texture");
              var r4 = t4.unit, i3 = t4.target;
              r4 >= 0 && (n3.activeTexture(jt + r4), n3.bindTexture(i3, null), tt2[r4] = null), n3.deleteTexture(e3), t4.texture = null, t4.params = null, t4.pixels = null, t4.refCount = 0, delete J2[t4.id], u2.textureCount--;
            }
            return e2(et2.prototype, { bind: function() {
              var t4 = this;
              t4.bindCount += 1;
              var e3 = t4.unit;
              if (e3 < 0) {
                for (var r4 = 0; r4 < Q2; ++r4) {
                  var i3 = tt2[r4];
                  if (i3) {
                    if (i3.bindCount > 0)
                      continue;
                    i3.unit = -1;
                  }
                  tt2[r4] = t4, e3 = r4;
                  break;
                }
                e3 >= Q2 && E.raise("insufficient number of texture units"), s2.profile && u2.maxTextureUnits < e3 + 1 && (u2.maxTextureUnits = e3 + 1), t4.unit = e3, n3.activeTexture(jt + e3), n3.bindTexture(t4.target, t4.texture);
              }
              return e3;
            }, unbind: function() {
              this.bindCount -= 1;
            }, decRef: function() {
              --this.refCount <= 0 && it2(this);
            } }), s2.profile && (u2.getTotalTextureSize = function() {
              var t4 = 0;
              return Object.keys(J2).forEach(function(e3) {
                t4 += J2[e3].stats.size;
              }), t4;
            }), { create2D: function(t4, e3) {
              var r4 = new et2(vt);
              function o3(t5, e4) {
                var n4 = r4.texInfo;
                Y2.call(n4);
                var a3 = H2();
                return typeof t5 == "number" ? F2(a3, 0 | t5, typeof e4 == "number" ? 0 | e4 : 0 | t5) : t5 ? (E.type(t5, "object", "invalid arguments to regl.texture"), K2(n4, t5), B2(a3, t5)) : F2(a3, 1, 1), n4.genMipmaps && (a3.mipmask = (a3.width << 1) - 1), r4.mipmask = a3.mipmask, I2(r4, a3), E.texture2D(n4, a3, i2), r4.internalformat = a3.internalformat, o3.width = a3.width, o3.height = a3.height, nt2(r4), z2(a3, vt), Z2(n4, vt), rt2(), q2(a3), s2.profile && (r4.stats.size = le(r4.internalformat, r4.type, a3.width, a3.height, n4.genMipmaps, false)), o3.format = b2[r4.internalformat], o3.type = _2[r4.type], o3.mag = x2[n4.magFilter], o3.min = w2[n4.minFilter], o3.wrapS = S2[n4.wrapS], o3.wrapT = S2[n4.wrapT], o3;
              }
              return J2[r4.id] = r4, u2.textureCount++, o3(t4, e3), o3.subimage = function(t5, e4, n4, i3) {
                E(!!t5, "must specify image data");
                var a3 = 0 | e4, u3 = 0 | n4, s3 = 0 | i3, c3 = P2();
                return I2(c3, r4), c3.width = 0, c3.height = 0, k2(c3, t5), c3.width = c3.width || (r4.width >> s3) - a3, c3.height = c3.height || (r4.height >> s3) - u3, E(r4.type === c3.type && r4.format === c3.format && r4.internalformat === c3.internalformat, "incompatible format for texture.subimage"), E(a3 >= 0 && u3 >= 0 && a3 + c3.width <= r4.width && u3 + c3.height <= r4.height, "texture.subimage write out of bounds"), E(r4.mipmask & 1 << s3, "missing mipmap data"), E(c3.data || c3.element || c3.needsCopy, "missing image data"), nt2(r4), O2(c3, vt, a3, u3, s3), rt2(), G2(c3), o3;
              }, o3.resize = function(t5, e4) {
                var i3 = 0 | t5, a3 = 0 | e4 || i3;
                if (i3 === r4.width && a3 === r4.height)
                  return o3;
                o3.width = r4.width = i3, o3.height = r4.height = a3, nt2(r4);
                for (var u3 = 0; r4.mipmask >> u3; ++u3) {
                  var c3 = i3 >> u3, f3 = a3 >> u3;
                  if (!c3 || !f3)
                    break;
                  n3.texImage2D(vt, u3, r4.format, c3, f3, 0, r4.format, r4.type, null);
                }
                return rt2(), s2.profile && (r4.stats.size = le(r4.internalformat, r4.type, i3, a3, false, false)), o3;
              }, o3._reglType = "texture2d", o3._texture = r4, s2.profile && (o3.stats = r4.stats), o3.destroy = function() {
                r4.decRef();
              }, o3;
            }, createCube: function(t4, e3, r4, o3, a3, c3) {
              var f3 = new et2(gt);
              J2[f3.id] = f3, u2.cubeCount++;
              var l3 = new Array(6);
              function h3(t5, e4, n4, r5, o4, a4) {
                var u3, c4 = f3.texInfo;
                for (Y2.call(c4), u3 = 0; u3 < 6; ++u3)
                  l3[u3] = H2();
                if (typeof t5 != "number" && t5)
                  if (typeof t5 == "object")
                    if (e4)
                      B2(l3[0], t5), B2(l3[1], e4), B2(l3[2], n4), B2(l3[3], r5), B2(l3[4], o4), B2(l3[5], a4);
                    else if (K2(c4, t5), C2(f3, t5), "faces" in t5) {
                      var d3 = t5.faces;
                      for (E(Array.isArray(d3) && d3.length === 6, "cube faces must be a length 6 array"), u3 = 0; u3 < 6; ++u3)
                        E(typeof d3[u3] == "object" && !!d3[u3], "invalid input for cube map face"), I2(l3[u3], f3), B2(l3[u3], d3[u3]);
                    } else
                      for (u3 = 0; u3 < 6; ++u3)
                        B2(l3[u3], t5);
                  else
                    E.raise("invalid arguments to cube map");
                else {
                  var p3 = 0 | t5 || 1;
                  for (u3 = 0; u3 < 6; ++u3)
                    F2(l3[u3], p3, p3);
                }
                for (I2(f3, l3[0]), i2.npotTextureCube || E(pt(f3.width) && pt(f3.height), "your browser does not support non power or two texture dimensions"), c4.genMipmaps ? f3.mipmask = (l3[0].width << 1) - 1 : f3.mipmask = l3[0].mipmask, E.textureCube(f3, c4, l3, i2), f3.internalformat = l3[0].internalformat, h3.width = l3[0].width, h3.height = l3[0].height, nt2(f3), u3 = 0; u3 < 6; ++u3)
                  z2(l3[u3], yt + u3);
                for (Z2(c4, gt), rt2(), s2.profile && (f3.stats.size = le(f3.internalformat, f3.type, h3.width, h3.height, c4.genMipmaps, true)), h3.format = b2[f3.internalformat], h3.type = _2[f3.type], h3.mag = x2[c4.magFilter], h3.min = w2[c4.minFilter], h3.wrapS = S2[c4.wrapS], h3.wrapT = S2[c4.wrapT], u3 = 0; u3 < 6; ++u3)
                  q2(l3[u3]);
                return h3;
              }
              return h3(t4, e3, r4, o3, a3, c3), h3.subimage = function(t5, e4, n4, r5, i3) {
                E(!!e4, "must specify image data"), E(typeof t5 == "number" && t5 === (0 | t5) && t5 >= 0 && t5 < 6, "invalid face");
                var o4 = 0 | n4, a4 = 0 | r5, u3 = 0 | i3, s3 = P2();
                return I2(s3, f3), s3.width = 0, s3.height = 0, k2(s3, e4), s3.width = s3.width || (f3.width >> u3) - o4, s3.height = s3.height || (f3.height >> u3) - a4, E(f3.type === s3.type && f3.format === s3.format && f3.internalformat === s3.internalformat, "incompatible format for texture.subimage"), E(o4 >= 0 && a4 >= 0 && o4 + s3.width <= f3.width && a4 + s3.height <= f3.height, "texture.subimage write out of bounds"), E(f3.mipmask & 1 << u3, "missing mipmap data"), E(s3.data || s3.element || s3.needsCopy, "missing image data"), nt2(f3), O2(s3, yt + t5, o4, a4, u3), rt2(), G2(s3), h3;
              }, h3.resize = function(t5) {
                var e4 = 0 | t5;
                if (e4 !== f3.width) {
                  h3.width = f3.width = e4, h3.height = f3.height = e4, nt2(f3);
                  for (var r5 = 0; r5 < 6; ++r5)
                    for (var i3 = 0; f3.mipmask >> i3; ++i3)
                      n3.texImage2D(yt + r5, i3, f3.format, e4 >> i3, e4 >> i3, 0, f3.format, f3.type, null);
                  return rt2(), s2.profile && (f3.stats.size = le(f3.internalformat, f3.type, h3.width, h3.height, false, true)), h3;
                }
              }, h3._reglType = "textureCube", h3._texture = f3, s2.profile && (h3.stats = f3.stats), h3.destroy = function() {
                f3.decRef();
              }, h3;
            }, clear: function() {
              for (var t4 = 0; t4 < Q2; ++t4)
                n3.activeTexture(jt + t4), n3.bindTexture(vt, null), tt2[t4] = null;
              V(J2).forEach(it2), u2.cubeCount = 0, u2.textureCount = 0;
            }, getTexture: function(t4) {
              return null;
            }, restore: function() {
              for (var t4 = 0; t4 < Q2; ++t4) {
                var e3 = tt2[t4];
                e3 && (e3.bindCount = 0, e3.unit = -1, tt2[t4] = null);
              }
              V(J2).forEach(function(t5) {
                t5.texture = n3.createTexture(), n3.bindTexture(t5.target, t5.texture);
                for (var e4 = 0; e4 < 32; ++e4)
                  if ((t5.mipmask & 1 << e4) != 0)
                    if (t5.target === vt)
                      n3.texImage2D(vt, e4, t5.internalformat, t5.width >> e4, t5.height >> e4, 0, t5.internalformat, t5.type, null);
                    else
                      for (var r4 = 0; r4 < 6; ++r4)
                        n3.texImage2D(yt + r4, e4, t5.internalformat, t5.width >> e4, t5.height >> e4, 0, t5.internalformat, t5.type, null);
                Z2(t5.texInfo, t5.target);
              });
            }, refresh: function() {
              for (var t4 = 0; t4 < Q2; ++t4) {
                var e3 = tt2[t4];
                e3 && (e3.bindCount = 0, e3.unit = -1, tt2[t4] = null), n3.activeTexture(jt + t4), n3.bindTexture(vt, null), n3.bindTexture(gt, null);
              }
            } };
          }
          ee[32854] = 2, ee[32855] = 2, ee[36194] = 2, ee[34041] = 4, ee[33776] = 0.5, ee[33777] = 0.5, ee[33778] = 1, ee[33779] = 1, ee[35986] = 0.5, ee[35987] = 1, ee[34798] = 1, ee[35840] = 0.5, ee[35841] = 0.25, ee[35842] = 0.5, ee[35843] = 0.25, ee[36196] = 0.5;
          var de = 36161, pe = 32854, ve = [];
          function ge(t4, e3, n3) {
            return ve[t4] * e3 * n3;
          }
          ve[32854] = 2, ve[32855] = 2, ve[36194] = 2, ve[33189] = 2, ve[36168] = 1, ve[34041] = 4, ve[35907] = 4, ve[34836] = 16, ve[34842] = 8, ve[34843] = 6;
          var ye = 36160, me = 36161, be = 3553, _e = 34069, xe = [6407, 6408], we = [];
          we[6408] = 4, we[6407] = 3;
          var Ee = [];
          Ee[5121] = 1, Ee[5126] = 4, Ee[36193] = 2;
          var Se = [32854, 32855, 36194, 35907, 34842, 34843, 34836], Ae = {};
          Ae[36053] = "complete", Ae[36054] = "incomplete attachment", Ae[36057] = "incomplete dimensions", Ae[36055] = "incomplete, missing attachment", Ae[36061] = "unsupported";
          function Te() {
            this.state = 0, this.x = 0, this.y = 0, this.z = 0, this.w = 0, this.buffer = null, this.size = 0, this.normalized = false, this.type = 5126, this.offset = 0, this.stride = 0, this.divisor = 0;
          }
          var Ie = 5121, Ce = 5126;
          function De(e3, n3, r3, i2, o2, a2, u2) {
            function s2(s3) {
              var c2;
              n3.next === null ? (E(o2.preserveDrawingBuffer, 'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'), c2 = Ie) : (E(n3.next.colorAttachments[0].texture !== null, "You cannot read from a renderbuffer"), c2 = n3.next.colorAttachments[0].texture._texture.type, a2.oes_texture_float ? (E(c2 === Ie || c2 === Ce, "Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"), c2 === Ce && E(u2.readFloat, "Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")) : E(c2 === Ie, "Reading from a framebuffer is only allowed for the type 'uint8'"));
              var f2 = 0, l2 = 0, h2 = i2.framebufferWidth, d2 = i2.framebufferHeight, p2 = null;
              t3(s3) ? p2 = s3 : s3 && (E.type(s3, "object", "invalid arguments to regl.read()"), f2 = 0 | s3.x, l2 = 0 | s3.y, E(f2 >= 0 && f2 < i2.framebufferWidth, "invalid x offset for regl.read"), E(l2 >= 0 && l2 < i2.framebufferHeight, "invalid y offset for regl.read"), h2 = 0 | (s3.width || i2.framebufferWidth - f2), d2 = 0 | (s3.height || i2.framebufferHeight - l2), p2 = s3.data || null), p2 && (c2 === Ie ? E(p2 instanceof Uint8Array, "buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'") : c2 === Ce && E(p2 instanceof Float32Array, "buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")), E(h2 > 0 && h2 + f2 <= i2.framebufferWidth, "invalid width for read pixels"), E(d2 > 0 && d2 + l2 <= i2.framebufferHeight, "invalid height for read pixels"), r3();
              var v2 = h2 * d2 * 4;
              return p2 || (c2 === Ie ? p2 = new Uint8Array(v2) : c2 === Ce && (p2 = p2 || new Float32Array(v2))), E.isTypedArray(p2, "data buffer for regl.read() must be a typedarray"), E(p2.byteLength >= v2, "data buffer for regl.read() too small"), e3.pixelStorei(3333, 4), e3.readPixels(f2, l2, h2, d2, 6408, c2, p2), p2;
            }
            return function(t4) {
              return t4 && "framebuffer" in t4 ? function(t5) {
                var e4;
                return n3.setFBO({ framebuffer: t5.framebuffer }, function() {
                  e4 = s2(t5);
                }), e4;
              }(t4) : s2(t4);
            };
          }
          function Ne(t4) {
            return Array.prototype.slice.call(t4);
          }
          function ke(t4) {
            return Ne(t4).join("");
          }
          var Re = "xyzw".split(""), Oe = "dither", Me = "blend.enable", Pe = "blend.color", Ge = "blend.equation", Le = "blend.func", Ue = "depth.enable", Fe = "depth.func", Be = "depth.range", ze = "depth.mask", je = "colorMask", We = "cull.enable", Ve = "cull.face", Xe = "frontFace", He = "lineWidth", qe = "polygonOffset.enable", Ye = "polygonOffset.offset", Ke = "sample.alpha", Ze = "sample.enable", $e = "sample.coverage", Je = "stencil.enable", Qe = "stencil.mask", tn = "stencil.func", en = "stencil.opFront", nn = "stencil.opBack", rn = "scissor.enable", on = "scissor.box", an = "viewport", un = "profile", sn = "framebuffer", cn = "vert", fn = "frag", ln = "elements", hn = "primitive", dn = "count", pn = "offset", vn = "instances", gn = "vao", yn = "Width", mn = "Height", bn = sn + yn, _n = sn + mn, xn = "drawingBufferWidth", wn = "drawingBufferHeight", En = [Le, Ge, tn, en, nn, $e, an, on, Ye], Sn = 34962, An = 5126, Tn = 35664, In = 35665, Cn = 35666, Dn = 5124, Nn = 35667, kn = 35668, Rn = 35669, On = 35670, Mn = 35671, Pn = 35672, Gn = 35673, Ln = 35674, Un = 35675, Fn = 35676, Bn = 35678, zn = 35680, jn = 1028, Wn = 1029, Vn = 2305, Xn = 7680, Hn = { 0: 0, 1: 1, zero: 0, one: 1, "src color": 768, "one minus src color": 769, "src alpha": 770, "one minus src alpha": 771, "dst color": 774, "one minus dst color": 775, "dst alpha": 772, "one minus dst alpha": 773, "constant color": 32769, "one minus constant color": 32770, "constant alpha": 32771, "one minus constant alpha": 32772, "src alpha saturate": 776 }, qn = ["constant color, constant alpha", "one minus constant color, constant alpha", "constant color, one minus constant alpha", "one minus constant color, one minus constant alpha", "constant alpha, constant color", "constant alpha, one minus constant color", "one minus constant alpha, constant color", "one minus constant alpha, one minus constant color"], Yn = { never: 512, less: 513, "<": 513, equal: 514, "=": 514, "==": 514, "===": 514, lequal: 515, "<=": 515, greater: 516, ">": 516, notequal: 517, "!=": 517, "!==": 517, gequal: 518, ">=": 518, always: 519 }, Kn = { 0: 0, zero: 0, keep: 7680, replace: 7681, increment: 7682, decrement: 7683, "increment wrap": 34055, "decrement wrap": 34056, invert: 5386 }, Zn = { frag: 35632, vert: 35633 }, $n = { cw: 2304, ccw: Vn };
          function Jn(e3) {
            return Array.isArray(e3) || t3(e3) || W(e3);
          }
          function Qn(t4) {
            return t4.sort(function(t5, e3) {
              return t5 === an ? -1 : e3 === an ? 1 : t5 < e3 ? -1 : 1;
            });
          }
          function tr(t4, e3, n3, r3) {
            this.thisDep = t4, this.contextDep = e3, this.propDep = n3, this.append = r3;
          }
          function er(t4) {
            return t4 && !(t4.thisDep || t4.contextDep || t4.propDep);
          }
          function nr(t4) {
            return new tr(false, false, false, t4);
          }
          function rr(t4, e3) {
            var n3 = t4.type;
            if (n3 === 0) {
              var r3 = t4.data.length;
              return new tr(true, r3 >= 1, r3 >= 2, e3);
            }
            if (n3 === 4) {
              var i2 = t4.data;
              return new tr(i2.thisDep, i2.contextDep, i2.propDep, e3);
            }
            if (n3 === 5)
              return new tr(false, false, false, e3);
            if (n3 === 6) {
              for (var o2 = false, a2 = false, u2 = false, s2 = 0; s2 < t4.data.length; ++s2) {
                var c2 = t4.data[s2];
                if (c2.type === 1)
                  u2 = true;
                else if (c2.type === 2)
                  a2 = true;
                else if (c2.type === 3)
                  o2 = true;
                else if (c2.type === 0) {
                  o2 = true;
                  var f2 = c2.data;
                  f2 >= 1 && (a2 = true), f2 >= 2 && (u2 = true);
                } else
                  c2.type === 4 && (o2 = o2 || c2.data.thisDep, a2 = a2 || c2.data.contextDep, u2 = u2 || c2.data.propDep);
              }
              return new tr(o2, a2, u2, e3);
            }
            return new tr(n3 === 3, n3 === 2, n3 === 1, e3);
          }
          var ir = new tr(false, false, false, function() {
          });
          function or(t4, n3, r3, i2, o2, a2, u2, s2, c2, f2, l2, h2, d2, p2, v2) {
            var g2 = f2.Record, y2 = { add: 32774, subtract: 32778, "reverse subtract": 32779 };
            r3.ext_blend_minmax && (y2.min = 32775, y2.max = 32776);
            var m2 = r3.angle_instanced_arrays, b2 = r3.webgl_draw_buffers, _2 = { dirty: true, profile: v2.profile }, x2 = {}, w2 = [], S2 = {}, A2 = {};
            function T2(t5) {
              return t5.replace(".", "_");
            }
            function I2(t5, e3, n4) {
              var r4 = T2(t5);
              w2.push(t5), x2[r4] = _2[r4] = !!n4, S2[r4] = e3;
            }
            function C2(t5, e3, n4) {
              var r4 = T2(t5);
              w2.push(t5), Array.isArray(n4) ? (_2[r4] = n4.slice(), x2[r4] = n4.slice()) : _2[r4] = x2[r4] = n4, A2[r4] = e3;
            }
            I2(Oe, 3024), I2(Me, 3042), C2(Pe, "blendColor", [0, 0, 0, 0]), C2(Ge, "blendEquationSeparate", [32774, 32774]), C2(Le, "blendFuncSeparate", [1, 0, 1, 0]), I2(Ue, 2929, true), C2(Fe, "depthFunc", 513), C2(Be, "depthRange", [0, 1]), C2(ze, "depthMask", true), C2(je, je, [true, true, true, true]), I2(We, 2884), C2(Ve, "cullFace", Wn), C2(Xe, Xe, Vn), C2(He, He, 1), I2(qe, 32823), C2(Ye, "polygonOffset", [0, 0]), I2(Ke, 32926), I2(Ze, 32928), C2($e, "sampleCoverage", [1, false]), I2(Je, 2960), C2(Qe, "stencilMask", -1), C2(tn, "stencilFunc", [519, 0, -1]), C2(en, "stencilOpSeparate", [jn, Xn, Xn, Xn]), C2(nn, "stencilOpSeparate", [Wn, Xn, Xn, Xn]), I2(rn, 3089), C2(on, "scissor", [0, 0, t4.drawingBufferWidth, t4.drawingBufferHeight]), C2(an, an, [0, 0, t4.drawingBufferWidth, t4.drawingBufferHeight]);
            var N2 = { gl: t4, context: d2, strings: n3, next: x2, current: _2, draw: h2, elements: a2, buffer: o2, shader: l2, attributes: f2.state, vao: f2, uniforms: c2, framebuffer: s2, extensions: r3, timer: p2, isBufferArgs: Jn }, k2 = { primTypes: ot, compareFuncs: Yn, blendFuncs: Hn, blendEquations: y2, stencilOps: Kn, glTypes: K, orientationType: $n };
            E.optional(function() {
              N2.isArrayLike = dt;
            }), b2 && (k2.backBuffer = [Wn], k2.drawBuffer = P(i2.maxDrawbuffers, function(t5) {
              return t5 === 0 ? [0] : P(t5, function(t6) {
                return 36064 + t6;
              });
            }));
            var R2 = 0;
            function O2() {
              var t5 = function() {
                var t6 = 0, n4 = [], r5 = [];
                function i4() {
                  var n5 = [], r6 = [];
                  return e2(function() {
                    n5.push.apply(n5, Ne(arguments));
                  }, { def: function() {
                    var e3 = "v" + t6++;
                    return r6.push(e3), arguments.length > 0 && (n5.push(e3, "="), n5.push.apply(n5, Ne(arguments)), n5.push(";")), e3;
                  }, toString: function() {
                    return ke([r6.length > 0 ? "var " + r6.join(",") + ";" : "", ke(n5)]);
                  } });
                }
                function o4() {
                  var t7 = i4(), n5 = i4(), r6 = t7.toString, o5 = n5.toString;
                  function a5(e3, r7) {
                    n5(e3, r7, "=", t7.def(e3, r7), ";");
                  }
                  return e2(function() {
                    t7.apply(t7, Ne(arguments));
                  }, { def: t7.def, entry: t7, exit: n5, save: a5, set: function(e3, n6, r7) {
                    a5(e3, n6), t7(e3, n6, "=", r7, ";");
                  }, toString: function() {
                    return r6() + o5();
                  } });
                }
                var a4 = i4(), u4 = {};
                return { global: a4, link: function(e3) {
                  for (var i5 = 0; i5 < r5.length; ++i5)
                    if (r5[i5] === e3)
                      return n4[i5];
                  var o5 = "g" + t6++;
                  return n4.push(o5), r5.push(e3), o5;
                }, block: i4, proc: function(t7, n5) {
                  var r6 = [];
                  function i5() {
                    var t8 = "a" + r6.length;
                    return r6.push(t8), t8;
                  }
                  n5 = n5 || 0;
                  for (var a5 = 0; a5 < n5; ++a5)
                    i5();
                  var s4 = o4(), c4 = s4.toString;
                  return u4[t7] = e2(s4, { arg: i5, toString: function() {
                    return ke(["function(", r6.join(), "){", c4(), "}"]);
                  } });
                }, scope: o4, cond: function() {
                  var t7 = ke(arguments), n5 = o4(), r6 = o4(), i5 = n5.toString, a5 = r6.toString;
                  return e2(n5, { then: function() {
                    return n5.apply(n5, Ne(arguments)), this;
                  }, else: function() {
                    return r6.apply(r6, Ne(arguments)), this;
                  }, toString: function() {
                    var e3 = a5();
                    return e3 && (e3 = "else{" + e3 + "}"), ke(["if(", t7, "){", i5(), "}", e3]);
                  } });
                }, compile: function() {
                  var t7 = ['"use strict";', a4, "return {"];
                  Object.keys(u4).forEach(function(e4) {
                    t7.push('"', e4, '":', u4[e4].toString(), ",");
                  }), t7.push("}");
                  var e3 = ke(t7).replace(/;/g, ";\n").replace(/}/g, "}\n").replace(/{/g, "{\n");
                  return Function.apply(null, n4.concat(e3)).apply(null, r5);
                } };
              }(), r4 = t5.link, i3 = t5.global;
              t5.id = R2++, t5.batchId = "0";
              var o3 = r4(N2), a3 = t5.shared = { props: "a0" };
              Object.keys(N2).forEach(function(t6) {
                a3[t6] = i3.def(o3, ".", t6);
              }), E.optional(function() {
                t5.CHECK = r4(E), t5.commandStr = E.guessCommand(), t5.command = r4(t5.commandStr), t5.assert = function(t6, e3, n4) {
                  t6("if(!(", e3, "))", this.CHECK, ".commandRaise(", r4(n4), ",", this.command, ");");
                }, k2.invalidBlendCombinations = qn;
              });
              var u3 = t5.next = {}, s3 = t5.current = {};
              Object.keys(A2).forEach(function(t6) {
                Array.isArray(_2[t6]) && (u3[t6] = i3.def(a3.next, ".", t6), s3[t6] = i3.def(a3.current, ".", t6));
              });
              var c3 = t5.constants = {};
              Object.keys(k2).forEach(function(t6) {
                c3[t6] = i3.def(JSON.stringify(k2[t6]));
              }), t5.invoke = function(e3, n4) {
                switch (n4.type) {
                  case 0:
                    var i4 = ["this", a3.context, a3.props, t5.batchId];
                    return e3.def(r4(n4.data), ".call(", i4.slice(0, Math.max(n4.data.length + 1, 4)), ")");
                  case 1:
                    return e3.def(a3.props, n4.data);
                  case 2:
                    return e3.def(a3.context, n4.data);
                  case 3:
                    return e3.def("this", n4.data);
                  case 4:
                    return n4.data.append(t5, e3), n4.data.ref;
                  case 5:
                    return n4.data.toString();
                  case 6:
                    return n4.data.map(function(n5) {
                      return t5.invoke(e3, n5);
                    });
                }
              }, t5.attribCache = {};
              var l3 = {};
              return t5.scopeAttrib = function(t6) {
                var e3 = n3.id(t6);
                if (e3 in l3)
                  return l3[e3];
                var i4 = f2.scope[e3];
                return i4 || (i4 = f2.scope[e3] = new g2()), l3[e3] = r4(i4);
              }, t5;
            }
            function M2(t5, e3, u3, c3, h3) {
              var d3 = t5.static, p3 = t5.dynamic;
              E.optional(function() {
                var t6 = [sn, cn, fn, ln, hn, pn, dn, vn, un, gn].concat(w2);
                function e4(e5) {
                  Object.keys(e5).forEach(function(e6) {
                    E.command(t6.indexOf(e6) >= 0, 'unknown parameter "' + e6 + '"', h3.commandStr);
                  });
                }
                e4(d3), e4(p3);
              });
              var v3 = function(t6, e4) {
                var n4 = t6.static;
                if (typeof n4[fn] == "string" && typeof n4[cn] == "string") {
                  if (Object.keys(e4.dynamic).length > 0)
                    return null;
                  var r4 = e4.static, i3 = Object.keys(r4);
                  if (i3.length > 0 && typeof r4[i3[0]] == "number") {
                    for (var o3 = [], a3 = 0; a3 < i3.length; ++a3)
                      E(typeof r4[i3[a3]] == "number", "must specify all vertex attribute locations when using vaos"), o3.push([0 | r4[i3[a3]], i3[a3]]);
                    return o3;
                  }
                }
                return null;
              }(t5, e3), b3 = function(t6, e4) {
                var n4 = t6.static, r4 = t6.dynamic;
                if (sn in n4) {
                  var i3 = n4[sn];
                  return i3 ? (i3 = s2.getFramebuffer(i3), E.command(i3, "invalid framebuffer object"), nr(function(t7, e5) {
                    var n5 = t7.link(i3), r5 = t7.shared;
                    e5.set(r5.framebuffer, ".next", n5);
                    var o4 = r5.context;
                    return e5.set(o4, "." + bn, n5 + ".width"), e5.set(o4, "." + _n, n5 + ".height"), n5;
                  })) : nr(function(t7, e5) {
                    var n5 = t7.shared;
                    e5.set(n5.framebuffer, ".next", "null");
                    var r5 = n5.context;
                    return e5.set(r5, "." + bn, r5 + "." + xn), e5.set(r5, "." + _n, r5 + "." + wn), "null";
                  });
                }
                if (sn in r4) {
                  var o3 = r4[sn];
                  return rr(o3, function(t7, e5) {
                    var n5 = t7.invoke(e5, o3), r5 = t7.shared, i4 = r5.framebuffer, a3 = e5.def(i4, ".getFramebuffer(", n5, ")");
                    E.optional(function() {
                      t7.assert(e5, "!" + n5 + "||" + a3, "invalid framebuffer object");
                    }), e5.set(i4, ".next", a3);
                    var u4 = r5.context;
                    return e5.set(u4, "." + bn, a3 + "?" + a3 + ".width:" + u4 + "." + xn), e5.set(u4, "." + _n, a3 + "?" + a3 + ".height:" + u4 + "." + wn), a3;
                  });
                }
                return null;
              }(t5), _3 = function(t6, e4, n4) {
                var r4 = t6.static, i3 = t6.dynamic;
                function o3(t7) {
                  if (t7 in r4) {
                    var o4 = r4[t7];
                    E.commandType(o4, "object", "invalid " + t7, n4.commandStr);
                    var a4, u5, s3 = true, c4 = 0 | o4.x, f3 = 0 | o4.y;
                    return "width" in o4 ? (a4 = 0 | o4.width, E.command(a4 >= 0, "invalid " + t7, n4.commandStr)) : s3 = false, "height" in o4 ? (u5 = 0 | o4.height, E.command(u5 >= 0, "invalid " + t7, n4.commandStr)) : s3 = false, new tr(!s3 && e4 && e4.thisDep, !s3 && e4 && e4.contextDep, !s3 && e4 && e4.propDep, function(t8, e5) {
                      var n5 = t8.shared.context, r5 = a4;
                      "width" in o4 || (r5 = e5.def(n5, ".", bn, "-", c4));
                      var i4 = u5;
                      return "height" in o4 || (i4 = e5.def(n5, ".", _n, "-", f3)), [c4, f3, r5, i4];
                    });
                  }
                  if (t7 in i3) {
                    var l3 = i3[t7], h4 = rr(l3, function(e5, n5) {
                      var r5 = e5.invoke(n5, l3);
                      E.optional(function() {
                        e5.assert(n5, r5 + "&&typeof " + r5 + '==="object"', "invalid " + t7);
                      });
                      var i4 = e5.shared.context, o5 = n5.def(r5, ".x|0"), a5 = n5.def(r5, ".y|0"), u6 = n5.def('"width" in ', r5, "?", r5, ".width|0:", "(", i4, ".", bn, "-", o5, ")"), s4 = n5.def('"height" in ', r5, "?", r5, ".height|0:", "(", i4, ".", _n, "-", a5, ")");
                      return E.optional(function() {
                        e5.assert(n5, u6 + ">=0&&" + s4 + ">=0", "invalid " + t7);
                      }), [o5, a5, u6, s4];
                    });
                    return e4 && (h4.thisDep = h4.thisDep || e4.thisDep, h4.contextDep = h4.contextDep || e4.contextDep, h4.propDep = h4.propDep || e4.propDep), h4;
                  }
                  return e4 ? new tr(e4.thisDep, e4.contextDep, e4.propDep, function(t8, e5) {
                    var n5 = t8.shared.context;
                    return [0, 0, e5.def(n5, ".", bn), e5.def(n5, ".", _n)];
                  }) : null;
                }
                var a3 = o3(an);
                if (a3) {
                  var u4 = a3;
                  a3 = new tr(a3.thisDep, a3.contextDep, a3.propDep, function(t7, e5) {
                    var n5 = u4.append(t7, e5), r5 = t7.shared.context;
                    return e5.set(r5, ".viewportWidth", n5[2]), e5.set(r5, ".viewportHeight", n5[3]), n5;
                  });
                }
                return { viewport: a3, scissor_box: o3(on) };
              }(t5, b3, h3), x3 = function(t6, e4) {
                var n4 = t6.static, r4 = t6.dynamic, i3 = function() {
                  if (ln in n4) {
                    var t7 = n4[ln];
                    Jn(t7) ? t7 = a2.getElements(a2.create(t7, true)) : t7 && (t7 = a2.getElements(t7), E.command(t7, "invalid elements", e4.commandStr));
                    var i4 = nr(function(e5, n5) {
                      if (t7) {
                        var r5 = e5.link(t7);
                        return e5.ELEMENTS = r5, r5;
                      }
                      return e5.ELEMENTS = null, null;
                    });
                    return i4.value = t7, i4;
                  }
                  if (ln in r4) {
                    var o4 = r4[ln];
                    return rr(o4, function(t8, e5) {
                      var n5 = t8.shared, r5 = n5.isBufferArgs, i5 = n5.elements, a3 = t8.invoke(e5, o4), u5 = e5.def("null"), s3 = e5.def(r5, "(", a3, ")"), c4 = t8.cond(s3).then(u5, "=", i5, ".createStream(", a3, ");").else(u5, "=", i5, ".getElements(", a3, ");");
                      return E.optional(function() {
                        t8.assert(c4.else, "!" + a3 + "||" + u5, "invalid elements");
                      }), e5.entry(c4), e5.exit(t8.cond(s3).then(i5, ".destroyStream(", u5, ");")), t8.ELEMENTS = u5, u5;
                    });
                  }
                  return null;
                }();
                function o3(t7, o4) {
                  if (t7 in n4) {
                    var a3 = 0 | n4[t7];
                    return E.command(!o4 || a3 >= 0, "invalid " + t7, e4.commandStr), nr(function(t8, e5) {
                      return o4 && (t8.OFFSET = a3), a3;
                    });
                  }
                  if (t7 in r4) {
                    var u5 = r4[t7];
                    return rr(u5, function(e5, n5) {
                      var r5 = e5.invoke(n5, u5);
                      return o4 && (e5.OFFSET = r5, E.optional(function() {
                        e5.assert(n5, r5 + ">=0", "invalid " + t7);
                      })), r5;
                    });
                  }
                  return o4 && i3 ? nr(function(t8, e5) {
                    return t8.OFFSET = "0", 0;
                  }) : null;
                }
                var u4 = o3(pn, true);
                return { elements: i3, primitive: function() {
                  if (hn in n4) {
                    var t7 = n4[hn];
                    return E.commandParameter(t7, ot, "invalid primitve", e4.commandStr), nr(function(e5, n5) {
                      return ot[t7];
                    });
                  }
                  if (hn in r4) {
                    var o4 = r4[hn];
                    return rr(o4, function(t8, e5) {
                      var n5 = t8.constants.primTypes, r5 = t8.invoke(e5, o4);
                      return E.optional(function() {
                        t8.assert(e5, r5 + " in " + n5, "invalid primitive, must be one of " + Object.keys(ot));
                      }), e5.def(n5, "[", r5, "]");
                    });
                  }
                  return i3 ? er(i3) ? i3.value ? nr(function(t8, e5) {
                    return e5.def(t8.ELEMENTS, ".primType");
                  }) : nr(function() {
                    return 4;
                  }) : new tr(i3.thisDep, i3.contextDep, i3.propDep, function(t8, e5) {
                    var n5 = t8.ELEMENTS;
                    return e5.def(n5, "?", n5, ".primType:", 4);
                  }) : null;
                }(), count: function() {
                  if (dn in n4) {
                    var t7 = 0 | n4[dn];
                    return E.command(typeof t7 == "number" && t7 >= 0, "invalid vertex count", e4.commandStr), nr(function() {
                      return t7;
                    });
                  }
                  if (dn in r4) {
                    var o4 = r4[dn];
                    return rr(o4, function(t8, e5) {
                      var n5 = t8.invoke(e5, o4);
                      return E.optional(function() {
                        t8.assert(e5, "typeof " + n5 + '==="number"&&' + n5 + ">=0&&" + n5 + "===(" + n5 + "|0)", "invalid vertex count");
                      }), n5;
                    });
                  }
                  if (i3) {
                    if (er(i3)) {
                      if (i3)
                        return u4 ? new tr(u4.thisDep, u4.contextDep, u4.propDep, function(t8, e5) {
                          var n5 = e5.def(t8.ELEMENTS, ".vertCount-", t8.OFFSET);
                          return E.optional(function() {
                            t8.assert(e5, n5 + ">=0", "invalid vertex offset/element buffer too small");
                          }), n5;
                        }) : nr(function(t8, e5) {
                          return e5.def(t8.ELEMENTS, ".vertCount");
                        });
                      var a3 = nr(function() {
                        return -1;
                      });
                      return E.optional(function() {
                        a3.MISSING = true;
                      }), a3;
                    }
                    var s3 = new tr(i3.thisDep || u4.thisDep, i3.contextDep || u4.contextDep, i3.propDep || u4.propDep, function(t8, e5) {
                      var n5 = t8.ELEMENTS;
                      return t8.OFFSET ? e5.def(n5, "?", n5, ".vertCount-", t8.OFFSET, ":-1") : e5.def(n5, "?", n5, ".vertCount:-1");
                    });
                    return E.optional(function() {
                      s3.DYNAMIC = true;
                    }), s3;
                  }
                  return null;
                }(), instances: o3(vn, false), offset: u4 };
              }(t5, h3), S3 = function(t6, e4) {
                var n4 = t6.static, r4 = t6.dynamic, o3 = {};
                return w2.forEach(function(t7) {
                  var a3 = T2(t7);
                  function u4(e5, i3) {
                    if (t7 in n4) {
                      var u5 = e5(n4[t7]);
                      o3[a3] = nr(function() {
                        return u5;
                      });
                    } else if (t7 in r4) {
                      var s3 = r4[t7];
                      o3[a3] = rr(s3, function(t8, e6) {
                        return i3(t8, e6, t8.invoke(e6, s3));
                      });
                    }
                  }
                  switch (t7) {
                    case We:
                    case Me:
                    case Oe:
                    case Je:
                    case Ue:
                    case rn:
                    case qe:
                    case Ke:
                    case Ze:
                    case ze:
                      return u4(function(n5) {
                        return E.commandType(n5, "boolean", t7, e4.commandStr), n5;
                      }, function(e5, n5, r5) {
                        return E.optional(function() {
                          e5.assert(n5, "typeof " + r5 + '==="boolean"', "invalid flag " + t7, e5.commandStr);
                        }), r5;
                      });
                    case Fe:
                      return u4(function(n5) {
                        return E.commandParameter(n5, Yn, "invalid " + t7, e4.commandStr), Yn[n5];
                      }, function(e5, n5, r5) {
                        var i3 = e5.constants.compareFuncs;
                        return E.optional(function() {
                          e5.assert(n5, r5 + " in " + i3, "invalid " + t7 + ", must be one of " + Object.keys(Yn));
                        }), n5.def(i3, "[", r5, "]");
                      });
                    case Be:
                      return u4(function(t8) {
                        return E.command(dt(t8) && t8.length === 2 && typeof t8[0] == "number" && typeof t8[1] == "number" && t8[0] <= t8[1], "depth range is 2d array", e4.commandStr), t8;
                      }, function(t8, e5, n5) {
                        return E.optional(function() {
                          t8.assert(e5, t8.shared.isArrayLike + "(" + n5 + ")&&" + n5 + ".length===2&&typeof " + n5 + '[0]==="number"&&typeof ' + n5 + '[1]==="number"&&' + n5 + "[0]<=" + n5 + "[1]", "depth range must be a 2d array");
                        }), [e5.def("+", n5, "[0]"), e5.def("+", n5, "[1]")];
                      });
                    case Le:
                      return u4(function(t8) {
                        E.commandType(t8, "object", "blend.func", e4.commandStr);
                        var n5 = "srcRGB" in t8 ? t8.srcRGB : t8.src, r5 = "srcAlpha" in t8 ? t8.srcAlpha : t8.src, i3 = "dstRGB" in t8 ? t8.dstRGB : t8.dst, o4 = "dstAlpha" in t8 ? t8.dstAlpha : t8.dst;
                        return E.commandParameter(n5, Hn, a3 + ".srcRGB", e4.commandStr), E.commandParameter(r5, Hn, a3 + ".srcAlpha", e4.commandStr), E.commandParameter(i3, Hn, a3 + ".dstRGB", e4.commandStr), E.commandParameter(o4, Hn, a3 + ".dstAlpha", e4.commandStr), E.command(qn.indexOf(n5 + ", " + i3) === -1, "unallowed blending combination (srcRGB, dstRGB) = (" + n5 + ", " + i3 + ")", e4.commandStr), [Hn[n5], Hn[i3], Hn[r5], Hn[o4]];
                      }, function(e5, n5, r5) {
                        var i3 = e5.constants.blendFuncs;
                        function o4(o5, a5) {
                          var u6 = n5.def('"', o5, a5, '" in ', r5, "?", r5, ".", o5, a5, ":", r5, ".", o5);
                          return E.optional(function() {
                            e5.assert(n5, u6 + " in " + i3, "invalid " + t7 + "." + o5 + a5 + ", must be one of " + Object.keys(Hn));
                          }), u6;
                        }
                        E.optional(function() {
                          e5.assert(n5, r5 + "&&typeof " + r5 + '==="object"', "invalid blend func, must be an object");
                        });
                        var a4 = o4("src", "RGB"), u5 = o4("dst", "RGB");
                        E.optional(function() {
                          var t8 = e5.constants.invalidBlendCombinations;
                          e5.assert(n5, t8 + ".indexOf(" + a4 + '+", "+' + u5 + ") === -1 ", "unallowed blending combination for (srcRGB, dstRGB)");
                        });
                        var s3 = n5.def(i3, "[", a4, "]"), c4 = n5.def(i3, "[", o4("src", "Alpha"), "]");
                        return [s3, n5.def(i3, "[", u5, "]"), c4, n5.def(i3, "[", o4("dst", "Alpha"), "]")];
                      });
                    case Ge:
                      return u4(function(n5) {
                        return typeof n5 == "string" ? (E.commandParameter(n5, y2, "invalid " + t7, e4.commandStr), [y2[n5], y2[n5]]) : typeof n5 == "object" ? (E.commandParameter(n5.rgb, y2, t7 + ".rgb", e4.commandStr), E.commandParameter(n5.alpha, y2, t7 + ".alpha", e4.commandStr), [y2[n5.rgb], y2[n5.alpha]]) : void E.commandRaise("invalid blend.equation", e4.commandStr);
                      }, function(e5, n5, r5) {
                        var i3 = e5.constants.blendEquations, o4 = n5.def(), a4 = n5.def(), u5 = e5.cond("typeof ", r5, '==="string"');
                        return E.optional(function() {
                          function n6(t8, n7, r6) {
                            e5.assert(t8, r6 + " in " + i3, "invalid " + n7 + ", must be one of " + Object.keys(y2));
                          }
                          n6(u5.then, t7, r5), e5.assert(u5.else, r5 + "&&typeof " + r5 + '==="object"', "invalid " + t7), n6(u5.else, t7 + ".rgb", r5 + ".rgb"), n6(u5.else, t7 + ".alpha", r5 + ".alpha");
                        }), u5.then(o4, "=", a4, "=", i3, "[", r5, "];"), u5.else(o4, "=", i3, "[", r5, ".rgb];", a4, "=", i3, "[", r5, ".alpha];"), n5(u5), [o4, a4];
                      });
                    case Pe:
                      return u4(function(t8) {
                        return E.command(dt(t8) && t8.length === 4, "blend.color must be a 4d array", e4.commandStr), P(4, function(e5) {
                          return +t8[e5];
                        });
                      }, function(t8, e5, n5) {
                        return E.optional(function() {
                          t8.assert(e5, t8.shared.isArrayLike + "(" + n5 + ")&&" + n5 + ".length===4", "blend.color must be a 4d array");
                        }), P(4, function(t9) {
                          return e5.def("+", n5, "[", t9, "]");
                        });
                      });
                    case Qe:
                      return u4(function(t8) {
                        return E.commandType(t8, "number", a3, e4.commandStr), 0 | t8;
                      }, function(t8, e5, n5) {
                        return E.optional(function() {
                          t8.assert(e5, "typeof " + n5 + '==="number"', "invalid stencil.mask");
                        }), e5.def(n5, "|0");
                      });
                    case tn:
                      return u4(function(n5) {
                        E.commandType(n5, "object", a3, e4.commandStr);
                        var r5 = n5.cmp || "keep", i3 = n5.ref || 0, o4 = "mask" in n5 ? n5.mask : -1;
                        return E.commandParameter(r5, Yn, t7 + ".cmp", e4.commandStr), E.commandType(i3, "number", t7 + ".ref", e4.commandStr), E.commandType(o4, "number", t7 + ".mask", e4.commandStr), [Yn[r5], i3, o4];
                      }, function(t8, e5, n5) {
                        var r5 = t8.constants.compareFuncs;
                        return E.optional(function() {
                          function i3() {
                            t8.assert(e5, Array.prototype.join.call(arguments, ""), "invalid stencil.func");
                          }
                          i3(n5 + "&&typeof ", n5, '==="object"'), i3('!("cmp" in ', n5, ")||(", n5, ".cmp in ", r5, ")");
                        }), [e5.def('"cmp" in ', n5, "?", r5, "[", n5, ".cmp]", ":", Xn), e5.def(n5, ".ref|0"), e5.def('"mask" in ', n5, "?", n5, ".mask|0:-1")];
                      });
                    case en:
                    case nn:
                      return u4(function(n5) {
                        E.commandType(n5, "object", a3, e4.commandStr);
                        var r5 = n5.fail || "keep", i3 = n5.zfail || "keep", o4 = n5.zpass || "keep";
                        return E.commandParameter(r5, Kn, t7 + ".fail", e4.commandStr), E.commandParameter(i3, Kn, t7 + ".zfail", e4.commandStr), E.commandParameter(o4, Kn, t7 + ".zpass", e4.commandStr), [t7 === nn ? Wn : jn, Kn[r5], Kn[i3], Kn[o4]];
                      }, function(e5, n5, r5) {
                        var i3 = e5.constants.stencilOps;
                        function o4(o5) {
                          return E.optional(function() {
                            e5.assert(n5, '!("' + o5 + '" in ' + r5 + ")||(" + r5 + "." + o5 + " in " + i3 + ")", "invalid " + t7 + "." + o5 + ", must be one of " + Object.keys(Kn));
                          }), n5.def('"', o5, '" in ', r5, "?", i3, "[", r5, ".", o5, "]:", Xn);
                        }
                        return E.optional(function() {
                          e5.assert(n5, r5 + "&&typeof " + r5 + '==="object"', "invalid " + t7);
                        }), [t7 === nn ? Wn : jn, o4("fail"), o4("zfail"), o4("zpass")];
                      });
                    case Ye:
                      return u4(function(t8) {
                        E.commandType(t8, "object", a3, e4.commandStr);
                        var n5 = 0 | t8.factor, r5 = 0 | t8.units;
                        return E.commandType(n5, "number", a3 + ".factor", e4.commandStr), E.commandType(r5, "number", a3 + ".units", e4.commandStr), [n5, r5];
                      }, function(e5, n5, r5) {
                        return E.optional(function() {
                          e5.assert(n5, r5 + "&&typeof " + r5 + '==="object"', "invalid " + t7);
                        }), [n5.def(r5, ".factor|0"), n5.def(r5, ".units|0")];
                      });
                    case Ve:
                      return u4(function(t8) {
                        var n5 = 0;
                        return t8 === "front" ? n5 = jn : t8 === "back" && (n5 = Wn), E.command(!!n5, a3, e4.commandStr), n5;
                      }, function(t8, e5, n5) {
                        return E.optional(function() {
                          t8.assert(e5, n5 + '==="front"||' + n5 + '==="back"', "invalid cull.face");
                        }), e5.def(n5, '==="front"?', jn, ":", Wn);
                      });
                    case He:
                      return u4(function(t8) {
                        return E.command(typeof t8 == "number" && t8 >= i2.lineWidthDims[0] && t8 <= i2.lineWidthDims[1], "invalid line width, must be a positive number between " + i2.lineWidthDims[0] + " and " + i2.lineWidthDims[1], e4.commandStr), t8;
                      }, function(t8, e5, n5) {
                        return E.optional(function() {
                          t8.assert(e5, "typeof " + n5 + '==="number"&&' + n5 + ">=" + i2.lineWidthDims[0] + "&&" + n5 + "<=" + i2.lineWidthDims[1], "invalid line width");
                        }), n5;
                      });
                    case Xe:
                      return u4(function(t8) {
                        return E.commandParameter(t8, $n, a3, e4.commandStr), $n[t8];
                      }, function(t8, e5, n5) {
                        return E.optional(function() {
                          t8.assert(e5, n5 + '==="cw"||' + n5 + '==="ccw"', "invalid frontFace, must be one of cw,ccw");
                        }), e5.def(n5 + '==="cw"?2304:' + Vn);
                      });
                    case je:
                      return u4(function(t8) {
                        return E.command(dt(t8) && t8.length === 4, "color.mask must be length 4 array", e4.commandStr), t8.map(function(t9) {
                          return !!t9;
                        });
                      }, function(t8, e5, n5) {
                        return E.optional(function() {
                          t8.assert(e5, t8.shared.isArrayLike + "(" + n5 + ")&&" + n5 + ".length===4", "invalid color.mask");
                        }), P(4, function(t9) {
                          return "!!" + n5 + "[" + t9 + "]";
                        });
                      });
                    case $e:
                      return u4(function(t8) {
                        E.command(typeof t8 == "object" && t8, a3, e4.commandStr);
                        var n5 = "value" in t8 ? t8.value : 1, r5 = !!t8.invert;
                        return E.command(typeof n5 == "number" && n5 >= 0 && n5 <= 1, "sample.coverage.value must be a number between 0 and 1", e4.commandStr), [n5, r5];
                      }, function(t8, e5, n5) {
                        return E.optional(function() {
                          t8.assert(e5, n5 + "&&typeof " + n5 + '==="object"', "invalid sample.coverage");
                        }), [e5.def('"value" in ', n5, "?+", n5, ".value:1"), e5.def("!!", n5, ".invert")];
                      });
                  }
                }), o3;
              }(t5, h3), A3 = function(t6, e4, r4) {
                var i3 = t6.static, o3 = t6.dynamic;
                function a3(t7) {
                  if (t7 in i3) {
                    var e5 = n3.id(i3[t7]);
                    E.optional(function() {
                      l2.shader(Zn[t7], e5, E.guessCommand());
                    });
                    var r5 = nr(function() {
                      return e5;
                    });
                    return r5.id = e5, r5;
                  }
                  if (t7 in o3) {
                    var a4 = o3[t7];
                    return rr(a4, function(e6, n4) {
                      var r6 = e6.invoke(n4, a4), i4 = n4.def(e6.shared.strings, ".id(", r6, ")");
                      return E.optional(function() {
                        n4(e6.shared.shader, ".shader(", Zn[t7], ",", i4, ",", e6.command, ");");
                      }), i4;
                    });
                  }
                  return null;
                }
                var u4, s3 = a3(fn), c4 = a3(cn), f3 = null;
                return er(s3) && er(c4) ? (f3 = l2.program(c4.id, s3.id, null, r4), u4 = nr(function(t7, e5) {
                  return t7.link(f3);
                })) : u4 = new tr(s3 && s3.thisDep || c4 && c4.thisDep, s3 && s3.contextDep || c4 && c4.contextDep, s3 && s3.propDep || c4 && c4.propDep, function(t7, e5) {
                  var n4, r5 = t7.shared.shader;
                  n4 = s3 ? s3.append(t7, e5) : e5.def(r5, ".", fn);
                  var i4 = r5 + ".program(" + (c4 ? c4.append(t7, e5) : e5.def(r5, ".", cn)) + "," + n4;
                  return E.optional(function() {
                    i4 += "," + t7.command;
                  }), e5.def(i4 + ")");
                }), { frag: s3, vert: c4, progVar: u4, program: f3 };
              }(t5, 0, v3);
              function I3(t6) {
                var e4 = _3[t6];
                e4 && (S3[t6] = e4);
              }
              I3(an), I3(T2(on));
              var C3 = Object.keys(S3).length > 0, D2 = { framebuffer: b3, draw: x3, shader: A3, state: S3, dirty: C3, scopeVAO: null, drawVAO: null, useVAO: false, attributes: {} };
              if (D2.profile = function(t6) {
                var e4, n4 = t6.static, r4 = t6.dynamic;
                if (un in n4) {
                  var i3 = !!n4[un];
                  (e4 = nr(function(t7, e5) {
                    return i3;
                  })).enable = i3;
                } else if (un in r4) {
                  var o3 = r4[un];
                  e4 = rr(o3, function(t7, e5) {
                    return t7.invoke(e5, o3);
                  });
                }
                return e4;
              }(t5), D2.uniforms = function(t6, e4) {
                var n4 = t6.static, r4 = t6.dynamic, i3 = {};
                return Object.keys(n4).forEach(function(t7) {
                  var r5, o3 = n4[t7];
                  if (typeof o3 == "number" || typeof o3 == "boolean")
                    r5 = nr(function() {
                      return o3;
                    });
                  else if (typeof o3 == "function") {
                    var a3 = o3._reglType;
                    a3 === "texture2d" || a3 === "textureCube" ? r5 = nr(function(t8) {
                      return t8.link(o3);
                    }) : a3 === "framebuffer" || a3 === "framebufferCube" ? (E.command(o3.color.length > 0, 'missing color attachment for framebuffer sent to uniform "' + t7 + '"', e4.commandStr), r5 = nr(function(t8) {
                      return t8.link(o3.color[0]);
                    })) : E.commandRaise('invalid data for uniform "' + t7 + '"', e4.commandStr);
                  } else
                    dt(o3) ? r5 = nr(function(e5) {
                      return e5.global.def("[", P(o3.length, function(n5) {
                        return E.command(typeof o3[n5] == "number" || typeof o3[n5] == "boolean", "invalid uniform " + t7, e5.commandStr), o3[n5];
                      }), "]");
                    }) : E.commandRaise('invalid or missing data for uniform "' + t7 + '"', e4.commandStr);
                  r5.value = o3, i3[t7] = r5;
                }), Object.keys(r4).forEach(function(t7) {
                  var e5 = r4[t7];
                  i3[t7] = rr(e5, function(t8, n5) {
                    return t8.invoke(n5, e5);
                  });
                }), i3;
              }(u3, h3), D2.drawVAO = D2.scopeVAO = function(t6, e4) {
                var n4 = t6.static, r4 = t6.dynamic;
                if (gn in n4) {
                  var i3 = n4[gn];
                  return i3 !== null && f2.getVAO(i3) === null && (i3 = f2.createVAO(i3)), nr(function(t7) {
                    return t7.link(f2.getVAO(i3));
                  });
                }
                if (gn in r4) {
                  var o3 = r4[gn];
                  return rr(o3, function(t7, e5) {
                    var n5 = t7.invoke(e5, o3);
                    return e5.def(t7.shared.vao + ".getVAO(" + n5 + ")");
                  });
                }
                return null;
              }(t5), !D2.drawVAO && A3.program && !v3 && r3.angle_instanced_arrays) {
                var N3 = true, k3 = A3.program.attributes.map(function(t6) {
                  var n4 = e3.static[t6];
                  return N3 = N3 && !!n4, n4;
                });
                if (N3 && k3.length > 0) {
                  var R3 = f2.getVAO(f2.createVAO(k3));
                  D2.drawVAO = new tr(null, null, null, function(t6, e4) {
                    return t6.link(R3);
                  }), D2.useVAO = true;
                }
              }
              return v3 ? D2.useVAO = true : D2.attributes = function(t6, e4) {
                var r4 = t6.static, i3 = t6.dynamic, a3 = {};
                return Object.keys(r4).forEach(function(t7) {
                  var i4 = r4[t7], u4 = n3.id(t7), s3 = new g2();
                  if (Jn(i4))
                    s3.state = 1, s3.buffer = o2.getBuffer(o2.create(i4, Sn, false, true)), s3.type = 0;
                  else {
                    var c4 = o2.getBuffer(i4);
                    if (c4)
                      s3.state = 1, s3.buffer = c4, s3.type = 0;
                    else if (E.command(typeof i4 == "object" && i4, "invalid data for attribute " + t7, e4.commandStr), "constant" in i4) {
                      var f3 = i4.constant;
                      s3.buffer = "null", s3.state = 2, typeof f3 == "number" ? s3.x = f3 : (E.command(dt(f3) && f3.length > 0 && f3.length <= 4, "invalid constant for attribute " + t7, e4.commandStr), Re.forEach(function(t8, e5) {
                        e5 < f3.length && (s3[t8] = f3[e5]);
                      }));
                    } else {
                      c4 = Jn(i4.buffer) ? o2.getBuffer(o2.create(i4.buffer, Sn, false, true)) : o2.getBuffer(i4.buffer), E.command(!!c4, 'missing buffer for attribute "' + t7 + '"', e4.commandStr);
                      var l3 = 0 | i4.offset;
                      E.command(l3 >= 0, 'invalid offset for attribute "' + t7 + '"', e4.commandStr);
                      var h4 = 0 | i4.stride;
                      E.command(h4 >= 0 && h4 < 256, 'invalid stride for attribute "' + t7 + '", must be integer betweeen [0, 255]', e4.commandStr);
                      var d4 = 0 | i4.size;
                      E.command(!("size" in i4) || d4 > 0 && d4 <= 4, 'invalid size for attribute "' + t7 + '", must be 1,2,3,4', e4.commandStr);
                      var p4 = !!i4.normalized, v4 = 0;
                      "type" in i4 && (E.commandParameter(i4.type, K, "invalid type for attribute " + t7, e4.commandStr), v4 = K[i4.type]);
                      var y3 = 0 | i4.divisor;
                      "divisor" in i4 && (E.command(y3 === 0 || m2, 'cannot specify divisor for attribute "' + t7 + '", instancing not supported', e4.commandStr), E.command(y3 >= 0, 'invalid divisor for attribute "' + t7 + '"', e4.commandStr)), E.optional(function() {
                        var n4 = e4.commandStr, r5 = ["buffer", "offset", "divisor", "normalized", "type", "size", "stride"];
                        Object.keys(i4).forEach(function(e5) {
                          E.command(r5.indexOf(e5) >= 0, 'unknown parameter "' + e5 + '" for attribute pointer "' + t7 + '" (valid parameters are ' + r5 + ")", n4);
                        });
                      }), s3.buffer = c4, s3.state = 1, s3.size = d4, s3.normalized = p4, s3.type = v4 || c4.dtype, s3.offset = l3, s3.stride = h4, s3.divisor = y3;
                    }
                  }
                  a3[t7] = nr(function(t8, e5) {
                    var n4 = t8.attribCache;
                    if (u4 in n4)
                      return n4[u4];
                    var r5 = { isStream: false };
                    return Object.keys(s3).forEach(function(t9) {
                      r5[t9] = s3[t9];
                    }), s3.buffer && (r5.buffer = t8.link(s3.buffer), r5.type = r5.type || r5.buffer + ".dtype"), n4[u4] = r5, r5;
                  });
                }), Object.keys(i3).forEach(function(t7) {
                  var e5 = i3[t7];
                  a3[t7] = rr(e5, function(n4, r5) {
                    var i4 = n4.invoke(r5, e5), o3 = n4.shared, a4 = n4.constants, u4 = o3.isBufferArgs, s3 = o3.buffer;
                    E.optional(function() {
                      n4.assert(r5, i4 + "&&(typeof " + i4 + '==="object"||typeof ' + i4 + '==="function")&&(' + u4 + "(" + i4 + ")||" + s3 + ".getBuffer(" + i4 + ")||" + s3 + ".getBuffer(" + i4 + ".buffer)||" + u4 + "(" + i4 + '.buffer)||("constant" in ' + i4 + "&&(typeof " + i4 + '.constant==="number"||' + o3.isArrayLike + "(" + i4 + ".constant))))", 'invalid dynamic attribute "' + t7 + '"');
                    });
                    var c4 = { isStream: r5.def(false) }, f3 = new g2();
                    f3.state = 1, Object.keys(f3).forEach(function(t8) {
                      c4[t8] = r5.def("" + f3[t8]);
                    });
                    var l3 = c4.buffer, h4 = c4.type;
                    function d4(t8) {
                      r5(c4[t8], "=", i4, ".", t8, "|0;");
                    }
                    return r5("if(", u4, "(", i4, ")){", c4.isStream, "=true;", l3, "=", s3, ".createStream(", Sn, ",", i4, ");", h4, "=", l3, ".dtype;", "}else{", l3, "=", s3, ".getBuffer(", i4, ");", "if(", l3, "){", h4, "=", l3, ".dtype;", '}else if("constant" in ', i4, "){", c4.state, "=", 2, ";", "if(typeof " + i4 + '.constant === "number"){', c4[Re[0]], "=", i4, ".constant;", Re.slice(1).map(function(t8) {
                      return c4[t8];
                    }).join("="), "=0;", "}else{", Re.map(function(t8, e6) {
                      return c4[t8] + "=" + i4 + ".constant.length>" + e6 + "?" + i4 + ".constant[" + e6 + "]:0;";
                    }).join(""), "}}else{", "if(", u4, "(", i4, ".buffer)){", l3, "=", s3, ".createStream(", Sn, ",", i4, ".buffer);", "}else{", l3, "=", s3, ".getBuffer(", i4, ".buffer);", "}", h4, '="type" in ', i4, "?", a4.glTypes, "[", i4, ".type]:", l3, ".dtype;", c4.normalized, "=!!", i4, ".normalized;"), d4("size"), d4("offset"), d4("stride"), d4("divisor"), r5("}}"), r5.exit("if(", c4.isStream, "){", s3, ".destroyStream(", l3, ");", "}"), c4;
                  });
                }), a3;
              }(e3, h3), D2.context = function(t6) {
                var e4 = t6.static, n4 = t6.dynamic, r4 = {};
                return Object.keys(e4).forEach(function(t7) {
                  var n5 = e4[t7];
                  r4[t7] = nr(function(t8, e5) {
                    return typeof n5 == "number" || typeof n5 == "boolean" ? "" + n5 : t8.link(n5);
                  });
                }), Object.keys(n4).forEach(function(t7) {
                  var e5 = n4[t7];
                  r4[t7] = rr(e5, function(t8, n5) {
                    return t8.invoke(n5, e5);
                  });
                }), r4;
              }(c3), D2;
            }
            function G2(t5, e3, n4) {
              var r4 = t5.shared.context, i3 = t5.scope();
              Object.keys(n4).forEach(function(o3) {
                e3.save(r4, "." + o3);
                var a3 = n4[o3].append(t5, e3);
                Array.isArray(a3) ? i3(r4, ".", o3, "=[", a3.join(), "];") : i3(r4, ".", o3, "=", a3, ";");
              }), e3(i3);
            }
            function L2(t5, e3, n4, r4) {
              var i3, o3 = t5.shared, a3 = o3.gl, u3 = o3.framebuffer;
              b2 && (i3 = e3.def(o3.extensions, ".webgl_draw_buffers"));
              var s3, c3 = t5.constants, f3 = c3.drawBuffer, l3 = c3.backBuffer;
              s3 = n4 ? n4.append(t5, e3) : e3.def(u3, ".next"), r4 || e3("if(", s3, "!==", u3, ".cur){"), e3("if(", s3, "){", a3, ".bindFramebuffer(", 36160, ",", s3, ".framebuffer);"), b2 && e3(i3, ".drawBuffersWEBGL(", f3, "[", s3, ".colorAttachments.length]);"), e3("}else{", a3, ".bindFramebuffer(", 36160, ",null);"), b2 && e3(i3, ".drawBuffersWEBGL(", l3, ");"), e3("}", u3, ".cur=", s3, ";"), r4 || e3("}");
            }
            function U2(t5, e3, n4) {
              var r4 = t5.shared, i3 = r4.gl, o3 = t5.current, a3 = t5.next, u3 = r4.current, s3 = r4.next, c3 = t5.cond(u3, ".dirty");
              w2.forEach(function(e4) {
                var r5, f3, l3 = T2(e4);
                if (!(l3 in n4.state))
                  if (l3 in a3) {
                    r5 = a3[l3], f3 = o3[l3];
                    var h3 = P(_2[l3].length, function(t6) {
                      return c3.def(r5, "[", t6, "]");
                    });
                    c3(t5.cond(h3.map(function(t6, e5) {
                      return t6 + "!==" + f3 + "[" + e5 + "]";
                    }).join("||")).then(i3, ".", A2[l3], "(", h3, ");", h3.map(function(t6, e5) {
                      return f3 + "[" + e5 + "]=" + t6;
                    }).join(";"), ";"));
                  } else {
                    r5 = c3.def(s3, ".", l3);
                    var d3 = t5.cond(r5, "!==", u3, ".", l3);
                    c3(d3), l3 in S2 ? d3(t5.cond(r5).then(i3, ".enable(", S2[l3], ");").else(i3, ".disable(", S2[l3], ");"), u3, ".", l3, "=", r5, ";") : d3(i3, ".", A2[l3], "(", r5, ");", u3, ".", l3, "=", r5, ";");
                  }
              }), Object.keys(n4.state).length === 0 && c3(u3, ".dirty=false;"), e3(c3);
            }
            function F2(t5, e3, n4, r4) {
              var i3 = t5.shared, o3 = t5.current, a3 = i3.current, u3 = i3.gl;
              Qn(Object.keys(n4)).forEach(function(i4) {
                var s3 = n4[i4];
                if (!r4 || r4(s3)) {
                  var c3 = s3.append(t5, e3);
                  if (S2[i4]) {
                    var f3 = S2[i4];
                    er(s3) ? e3(u3, c3 ? ".enable(" : ".disable(", f3, ");") : e3(t5.cond(c3).then(u3, ".enable(", f3, ");").else(u3, ".disable(", f3, ");")), e3(a3, ".", i4, "=", c3, ";");
                  } else if (dt(c3)) {
                    var l3 = o3[i4];
                    e3(u3, ".", A2[i4], "(", c3, ");", c3.map(function(t6, e4) {
                      return l3 + "[" + e4 + "]=" + t6;
                    }).join(";"), ";");
                  } else
                    e3(u3, ".", A2[i4], "(", c3, ");", a3, ".", i4, "=", c3, ";");
                }
              });
            }
            function B2(t5, e3) {
              m2 && (t5.instancing = e3.def(t5.shared.extensions, ".angle_instanced_arrays"));
            }
            function z2(t5, e3, n4, r4, i3) {
              var o3, a3, u3, s3 = t5.shared, c3 = t5.stats, f3 = s3.current, l3 = s3.timer, h3 = n4.profile;
              function d3() {
                return typeof performance == "undefined" ? "Date.now()" : "performance.now()";
              }
              function v3(t6) {
                t6(o3 = e3.def(), "=", d3(), ";"), typeof i3 == "string" ? t6(c3, ".count+=", i3, ";") : t6(c3, ".count++;"), p2 && (r4 ? t6(a3 = e3.def(), "=", l3, ".getNumPendingQueries();") : t6(l3, ".beginQuery(", c3, ");"));
              }
              function g3(t6) {
                t6(c3, ".cpuTime+=", d3(), "-", o3, ";"), p2 && (r4 ? t6(l3, ".pushScopeStats(", a3, ",", l3, ".getNumPendingQueries(),", c3, ");") : t6(l3, ".endQuery();"));
              }
              function y3(t6) {
                var n5 = e3.def(f3, ".profile");
                e3(f3, ".profile=", t6, ";"), e3.exit(f3, ".profile=", n5, ";");
              }
              if (h3) {
                if (er(h3))
                  return void (h3.enable ? (v3(e3), g3(e3.exit), y3("true")) : y3("false"));
                y3(u3 = h3.append(t5, e3));
              } else
                u3 = e3.def(f3, ".profile");
              var m3 = t5.block();
              v3(m3), e3("if(", u3, "){", m3, "}");
              var b3 = t5.block();
              g3(b3), e3.exit("if(", u3, "){", b3, "}");
            }
            function j2(t5, e3, n4, r4, i3) {
              var o3 = t5.shared;
              r4.forEach(function(r5) {
                var a3, u3 = r5.name, s3 = n4.attributes[u3];
                if (s3) {
                  if (!i3(s3))
                    return;
                  a3 = s3.append(t5, e3);
                } else {
                  if (!i3(ir))
                    return;
                  var c3 = t5.scopeAttrib(u3);
                  E.optional(function() {
                    t5.assert(e3, c3 + ".state", "missing attribute " + u3);
                  }), a3 = {}, Object.keys(new g2()).forEach(function(t6) {
                    a3[t6] = e3.def(c3, ".", t6);
                  });
                }
                !function(n5, r6, i4) {
                  var a4 = o3.gl, u4 = e3.def(n5, ".location"), s4 = e3.def(o3.attributes, "[", u4, "]"), c4 = i4.state, f3 = i4.buffer, l3 = [i4.x, i4.y, i4.z, i4.w], h3 = ["buffer", "normalized", "offset", "stride"];
                  function d3() {
                    e3("if(!", s4, ".buffer){", a4, ".enableVertexAttribArray(", u4, ");}");
                    var n6, o4 = i4.type;
                    if (n6 = i4.size ? e3.def(i4.size, "||", r6) : r6, e3("if(", s4, ".type!==", o4, "||", s4, ".size!==", n6, "||", h3.map(function(t6) {
                      return s4 + "." + t6 + "!==" + i4[t6];
                    }).join("||"), "){", a4, ".bindBuffer(", Sn, ",", f3, ".buffer);", a4, ".vertexAttribPointer(", [u4, n6, o4, i4.normalized, i4.stride, i4.offset], ");", s4, ".type=", o4, ";", s4, ".size=", n6, ";", h3.map(function(t6) {
                      return s4 + "." + t6 + "=" + i4[t6] + ";";
                    }).join(""), "}"), m2) {
                      var c5 = i4.divisor;
                      e3("if(", s4, ".divisor!==", c5, "){", t5.instancing, ".vertexAttribDivisorANGLE(", [u4, c5], ");", s4, ".divisor=", c5, ";}");
                    }
                  }
                  function p3() {
                    e3("if(", s4, ".buffer){", a4, ".disableVertexAttribArray(", u4, ");", s4, ".buffer=null;", "}if(", Re.map(function(t6, e4) {
                      return s4 + "." + t6 + "!==" + l3[e4];
                    }).join("||"), "){", a4, ".vertexAttrib4f(", u4, ",", l3, ");", Re.map(function(t6, e4) {
                      return s4 + "." + t6 + "=" + l3[e4] + ";";
                    }).join(""), "}");
                  }
                  c4 === 1 ? d3() : c4 === 2 ? p3() : (e3("if(", c4, "===", 1, "){"), d3(), e3("}else{"), p3(), e3("}"));
                }(t5.link(r5), function(t6) {
                  switch (t6) {
                    case Tn:
                    case Nn:
                    case Mn:
                      return 2;
                    case In:
                    case kn:
                    case Pn:
                      return 3;
                    case Cn:
                    case Rn:
                    case Gn:
                      return 4;
                    default:
                      return 1;
                  }
                }(r5.info.type), a3);
              });
            }
            function W2(t5, e3, r4, i3, o3) {
              for (var a3, u3 = t5.shared, s3 = u3.gl, c3 = 0; c3 < i3.length; ++c3) {
                var f3, l3 = i3[c3], h3 = l3.name, d3 = l3.info.type, p3 = r4.uniforms[h3], v3 = t5.link(l3) + ".location";
                if (p3) {
                  if (!o3(p3))
                    continue;
                  if (er(p3)) {
                    var g3 = p3.value;
                    if (E.command(g3 != null, 'missing uniform "' + h3 + '"', t5.commandStr), d3 === Bn || d3 === zn) {
                      E.command(typeof g3 == "function" && (d3 === Bn && (g3._reglType === "texture2d" || g3._reglType === "framebuffer") || d3 === zn && (g3._reglType === "textureCube" || g3._reglType === "framebufferCube")), "invalid texture for uniform " + h3, t5.commandStr);
                      var y3 = t5.link(g3._texture || g3.color[0]._texture);
                      e3(s3, ".uniform1i(", v3, ",", y3 + ".bind());"), e3.exit(y3, ".unbind();");
                    } else if (d3 === Ln || d3 === Un || d3 === Fn) {
                      E.optional(function() {
                        E.command(dt(g3), "invalid matrix for uniform " + h3, t5.commandStr), E.command(d3 === Ln && g3.length === 4 || d3 === Un && g3.length === 9 || d3 === Fn && g3.length === 16, "invalid length for matrix uniform " + h3, t5.commandStr);
                      });
                      var m3 = t5.global.def("new Float32Array([" + Array.prototype.slice.call(g3) + "])"), b3 = 2;
                      d3 === Un ? b3 = 3 : d3 === Fn && (b3 = 4), e3(s3, ".uniformMatrix", b3, "fv(", v3, ",false,", m3, ");");
                    } else {
                      switch (d3) {
                        case An:
                          E.commandType(g3, "number", "uniform " + h3, t5.commandStr), a3 = "1f";
                          break;
                        case Tn:
                          E.command(dt(g3) && g3.length === 2, "uniform " + h3, t5.commandStr), a3 = "2f";
                          break;
                        case In:
                          E.command(dt(g3) && g3.length === 3, "uniform " + h3, t5.commandStr), a3 = "3f";
                          break;
                        case Cn:
                          E.command(dt(g3) && g3.length === 4, "uniform " + h3, t5.commandStr), a3 = "4f";
                          break;
                        case On:
                          E.commandType(g3, "boolean", "uniform " + h3, t5.commandStr), a3 = "1i";
                          break;
                        case Dn:
                          E.commandType(g3, "number", "uniform " + h3, t5.commandStr), a3 = "1i";
                          break;
                        case Mn:
                        case Nn:
                          E.command(dt(g3) && g3.length === 2, "uniform " + h3, t5.commandStr), a3 = "2i";
                          break;
                        case Pn:
                        case kn:
                          E.command(dt(g3) && g3.length === 3, "uniform " + h3, t5.commandStr), a3 = "3i";
                          break;
                        case Gn:
                        case Rn:
                          E.command(dt(g3) && g3.length === 4, "uniform " + h3, t5.commandStr), a3 = "4i";
                      }
                      e3(s3, ".uniform", a3, "(", v3, ",", dt(g3) ? Array.prototype.slice.call(g3) : g3, ");");
                    }
                    continue;
                  }
                  f3 = p3.append(t5, e3);
                } else {
                  if (!o3(ir))
                    continue;
                  f3 = e3.def(u3.uniforms, "[", n3.id(h3), "]");
                }
                d3 === Bn ? (E(!Array.isArray(f3), "must specify a scalar prop for textures"), e3("if(", f3, "&&", f3, '._reglType==="framebuffer"){', f3, "=", f3, ".color[0];", "}")) : d3 === zn && (E(!Array.isArray(f3), "must specify a scalar prop for cube maps"), e3("if(", f3, "&&", f3, '._reglType==="framebufferCube"){', f3, "=", f3, ".color[0];", "}")), E.optional(function() {
                  function n4(n5, r6) {
                    t5.assert(e3, n5, 'bad data or missing for uniform "' + h3 + '".  ' + r6);
                  }
                  function r5(t6) {
                    E(!Array.isArray(f3), "must not specify an array type for uniform"), n4("typeof " + f3 + '==="' + t6 + '"', "invalid type, expected " + t6);
                  }
                  function i4(e4, r6) {
                    Array.isArray(f3) ? E(f3.length === e4, "must have length " + e4) : n4(u3.isArrayLike + "(" + f3 + ")&&" + f3 + ".length===" + e4, "invalid vector, should have length " + e4, t5.commandStr);
                  }
                  function o4(e4) {
                    E(!Array.isArray(f3), "must not specify a value type"), n4("typeof " + f3 + '==="function"&&' + f3 + '._reglType==="texture' + (e4 === 3553 ? "2d" : "Cube") + '"', "invalid texture type", t5.commandStr);
                  }
                  switch (d3) {
                    case Dn:
                    case An:
                      r5("number");
                      break;
                    case Nn:
                    case Tn:
                    case Mn:
                      i4(2);
                      break;
                    case kn:
                    case In:
                    case Pn:
                      i4(3);
                      break;
                    case Rn:
                    case Cn:
                    case Ln:
                    case Gn:
                      i4(4);
                      break;
                    case On:
                      r5("boolean");
                      break;
                    case Un:
                      i4(9);
                      break;
                    case Fn:
                      i4(16);
                      break;
                    case Bn:
                      o4(3553);
                      break;
                    case zn:
                      o4(34067);
                  }
                });
                var _3 = 1;
                switch (d3) {
                  case Bn:
                  case zn:
                    var x3 = e3.def(f3, "._texture");
                    e3(s3, ".uniform1i(", v3, ",", x3, ".bind());"), e3.exit(x3, ".unbind();");
                    continue;
                  case Dn:
                  case On:
                    a3 = "1i";
                    break;
                  case Nn:
                  case Mn:
                    a3 = "2i", _3 = 2;
                    break;
                  case kn:
                  case Pn:
                    a3 = "3i", _3 = 3;
                    break;
                  case Rn:
                  case Gn:
                    a3 = "4i", _3 = 4;
                    break;
                  case An:
                    a3 = "1f";
                    break;
                  case Tn:
                    a3 = "2f", _3 = 2;
                    break;
                  case In:
                    a3 = "3f", _3 = 3;
                    break;
                  case Cn:
                    a3 = "4f", _3 = 4;
                    break;
                  case Ln:
                    a3 = "Matrix2fv";
                    break;
                  case Un:
                    a3 = "Matrix3fv";
                    break;
                  case Fn:
                    a3 = "Matrix4fv";
                }
                if (e3(s3, ".uniform", a3, "(", v3, ","), a3.charAt(0) === "M") {
                  var w3 = Math.pow(d3 - Ln + 2, 2), S3 = t5.global.def("new Float32Array(", w3, ")");
                  Array.isArray(f3) ? e3("false,(", P(w3, function(t6) {
                    return S3 + "[" + t6 + "]=" + f3[t6];
                  }), ",", S3, ")") : e3("false,(Array.isArray(", f3, ")||", f3, " instanceof Float32Array)?", f3, ":(", P(w3, function(t6) {
                    return S3 + "[" + t6 + "]=" + f3 + "[" + t6 + "]";
                  }), ",", S3, ")");
                } else
                  _3 > 1 ? e3(P(_3, function(t6) {
                    return Array.isArray(f3) ? f3[t6] : f3 + "[" + t6 + "]";
                  })) : (E(!Array.isArray(f3), "uniform value must not be an array"), e3(f3));
                e3(");");
              }
            }
            function V2(t5, e3, n4, r4) {
              var i3 = t5.shared, o3 = i3.gl, a3 = i3.draw, u3 = r4.draw;
              var s3 = function() {
                var i4, s4 = u3.elements, c4 = e3;
                return s4 ? ((s4.contextDep && r4.contextDynamic || s4.propDep) && (c4 = n4), i4 = s4.append(t5, c4)) : i4 = c4.def(a3, ".", ln), i4 && c4("if(" + i4 + ")" + o3 + ".bindBuffer(34963," + i4 + ".buffer.buffer);"), i4;
              }();
              function c3(i4) {
                var o4 = u3[i4];
                return o4 ? o4.contextDep && r4.contextDynamic || o4.propDep ? o4.append(t5, n4) : o4.append(t5, e3) : e3.def(a3, ".", i4);
              }
              var f3, l3, h3 = c3(hn), d3 = c3(pn), p3 = function() {
                var i4, o4 = u3.count, s4 = e3;
                return o4 ? ((o4.contextDep && r4.contextDynamic || o4.propDep) && (s4 = n4), i4 = o4.append(t5, s4), E.optional(function() {
                  o4.MISSING && t5.assert(e3, "false", "missing vertex count"), o4.DYNAMIC && t5.assert(s4, i4 + ">=0", "missing vertex count");
                })) : (i4 = s4.def(a3, ".", dn), E.optional(function() {
                  t5.assert(s4, i4 + ">=0", "missing vertex count");
                })), i4;
              }();
              if (typeof p3 == "number") {
                if (p3 === 0)
                  return;
              } else
                n4("if(", p3, "){"), n4.exit("}");
              m2 && (f3 = c3(vn), l3 = t5.instancing);
              var v3 = s3 + ".type", g3 = u3.elements && er(u3.elements);
              function y3() {
                function t6() {
                  n4(l3, ".drawElementsInstancedANGLE(", [h3, p3, v3, d3 + "<<((" + v3 + "-5121)>>1)", f3], ");");
                }
                function e4() {
                  n4(l3, ".drawArraysInstancedANGLE(", [h3, d3, p3, f3], ");");
                }
                s3 ? g3 ? t6() : (n4("if(", s3, "){"), t6(), n4("}else{"), e4(), n4("}")) : e4();
              }
              function b3() {
                function t6() {
                  n4(o3 + ".drawElements(" + [h3, p3, v3, d3 + "<<((" + v3 + "-5121)>>1)"] + ");");
                }
                function e4() {
                  n4(o3 + ".drawArrays(" + [h3, d3, p3] + ");");
                }
                s3 ? g3 ? t6() : (n4("if(", s3, "){"), t6(), n4("}else{"), e4(), n4("}")) : e4();
              }
              m2 && (typeof f3 != "number" || f3 >= 0) ? typeof f3 == "string" ? (n4("if(", f3, ">0){"), y3(), n4("}else if(", f3, "<0){"), b3(), n4("}")) : y3() : b3();
            }
            function X2(t5, e3, n4, r4, i3) {
              var o3 = O2(), a3 = o3.proc("body", i3);
              return E.optional(function() {
                o3.commandStr = e3.commandStr, o3.command = o3.link(e3.commandStr);
              }), m2 && (o3.instancing = a3.def(o3.shared.extensions, ".angle_instanced_arrays")), t5(o3, a3, n4, r4), o3.compile().body;
            }
            function H2(t5, e3, n4, r4) {
              B2(t5, e3), n4.useVAO ? n4.drawVAO ? e3(t5.shared.vao, ".setVAO(", n4.drawVAO.append(t5, e3), ");") : e3(t5.shared.vao, ".setVAO(", t5.shared.vao, ".targetVAO);") : (e3(t5.shared.vao, ".setVAO(null);"), j2(t5, e3, n4, r4.attributes, function() {
                return true;
              })), W2(t5, e3, n4, r4.uniforms, function() {
                return true;
              }), V2(t5, e3, e3, n4);
            }
            function q2(t5, e3, n4, r4) {
              function i3() {
                return true;
              }
              t5.batchId = "a1", B2(t5, e3), j2(t5, e3, n4, r4.attributes, i3), W2(t5, e3, n4, r4.uniforms, i3), V2(t5, e3, e3, n4);
            }
            function Y2(t5, e3, n4, r4) {
              B2(t5, e3);
              var i3 = n4.contextDep, o3 = e3.def(), a3 = e3.def();
              t5.shared.props = a3, t5.batchId = o3;
              var u3 = t5.scope(), s3 = t5.scope();
              function c3(t6) {
                return t6.contextDep && i3 || t6.propDep;
              }
              function f3(t6) {
                return !c3(t6);
              }
              if (e3(u3.entry, "for(", o3, "=0;", o3, "<", "a1", ";++", o3, "){", a3, "=", "a0", "[", o3, "];", s3, "}", u3.exit), n4.needsContext && G2(t5, s3, n4.context), n4.needsFramebuffer && L2(t5, s3, n4.framebuffer), F2(t5, s3, n4.state, c3), n4.profile && c3(n4.profile) && z2(t5, s3, n4, false, true), r4)
                n4.useVAO ? n4.drawVAO ? c3(n4.drawVAO) ? s3(t5.shared.vao, ".setVAO(", n4.drawVAO.append(t5, s3), ");") : u3(t5.shared.vao, ".setVAO(", n4.drawVAO.append(t5, u3), ");") : u3(t5.shared.vao, ".setVAO(", t5.shared.vao, ".targetVAO);") : (u3(t5.shared.vao, ".setVAO(null);"), j2(t5, u3, n4, r4.attributes, f3), j2(t5, s3, n4, r4.attributes, c3)), W2(t5, u3, n4, r4.uniforms, f3), W2(t5, s3, n4, r4.uniforms, c3), V2(t5, u3, s3, n4);
              else {
                var l3 = t5.global.def("{}"), h3 = n4.shader.progVar.append(t5, s3), d3 = s3.def(h3, ".id"), p3 = s3.def(l3, "[", d3, "]");
                s3(t5.shared.gl, ".useProgram(", h3, ".program);", "if(!", p3, "){", p3, "=", l3, "[", d3, "]=", t5.link(function(e4) {
                  return X2(q2, t5, n4, e4, 2);
                }), "(", h3, ");}", p3, ".call(this,a0[", o3, "],", o3, ");");
              }
            }
            function Z2(t5, e3, n4) {
              var r4 = e3.static[n4];
              if (r4 && function(t6) {
                if (typeof t6 == "object" && !dt(t6)) {
                  for (var e4 = Object.keys(t6), n5 = 0; n5 < e4.length; ++n5)
                    if (D.isDynamic(t6[e4[n5]]))
                      return true;
                  return false;
                }
              }(r4)) {
                var i3 = t5.global, o3 = Object.keys(r4), a3 = false, u3 = false, s3 = false, c3 = t5.global.def("{}");
                o3.forEach(function(e4) {
                  var n5 = r4[e4];
                  if (D.isDynamic(n5)) {
                    typeof n5 == "function" && (n5 = r4[e4] = D.unbox(n5));
                    var o4 = rr(n5, null);
                    a3 = a3 || o4.thisDep, s3 = s3 || o4.propDep, u3 = u3 || o4.contextDep;
                  } else {
                    switch (i3(c3, ".", e4, "="), typeof n5) {
                      case "number":
                        i3(n5);
                        break;
                      case "string":
                        i3('"', n5, '"');
                        break;
                      case "object":
                        Array.isArray(n5) && i3("[", n5.join(), "]");
                        break;
                      default:
                        i3(t5.link(n5));
                    }
                    i3(";");
                  }
                }), e3.dynamic[n4] = new D.DynamicVariable(4, { thisDep: a3, contextDep: u3, propDep: s3, ref: c3, append: function(t6, e4) {
                  o3.forEach(function(n5) {
                    var i4 = r4[n5];
                    if (D.isDynamic(i4)) {
                      var o4 = t6.invoke(e4, i4);
                      e4(c3, ".", n5, "=", o4, ";");
                    }
                  });
                } }), delete e3.static[n4];
              }
            }
            return { next: x2, current: _2, procs: function() {
              var t5 = O2(), e3 = t5.proc("poll"), n4 = t5.proc("refresh"), o3 = t5.block();
              e3(o3), n4(o3);
              var a3, u3 = t5.shared, s3 = u3.gl, c3 = u3.next, f3 = u3.current;
              o3(f3, ".dirty=false;"), L2(t5, e3), L2(t5, n4, null, true), m2 && (a3 = t5.link(m2)), r3.oes_vertex_array_object && n4(t5.link(r3.oes_vertex_array_object), ".bindVertexArrayOES(null);");
              for (var l3 = 0; l3 < i2.maxAttributes; ++l3) {
                var h3 = n4.def(u3.attributes, "[", l3, "]"), d3 = t5.cond(h3, ".buffer");
                d3.then(s3, ".enableVertexAttribArray(", l3, ");", s3, ".bindBuffer(", Sn, ",", h3, ".buffer.buffer);", s3, ".vertexAttribPointer(", l3, ",", h3, ".size,", h3, ".type,", h3, ".normalized,", h3, ".stride,", h3, ".offset);").else(s3, ".disableVertexAttribArray(", l3, ");", s3, ".vertexAttrib4f(", l3, ",", h3, ".x,", h3, ".y,", h3, ".z,", h3, ".w);", h3, ".buffer=null;"), n4(d3), m2 && n4(a3, ".vertexAttribDivisorANGLE(", l3, ",", h3, ".divisor);");
              }
              return n4(t5.shared.vao, ".currentVAO=null;", t5.shared.vao, ".setVAO(", t5.shared.vao, ".targetVAO);"), Object.keys(S2).forEach(function(r4) {
                var i3 = S2[r4], a4 = o3.def(c3, ".", r4), u4 = t5.block();
                u4("if(", a4, "){", s3, ".enable(", i3, ")}else{", s3, ".disable(", i3, ")}", f3, ".", r4, "=", a4, ";"), n4(u4), e3("if(", a4, "!==", f3, ".", r4, "){", u4, "}");
              }), Object.keys(A2).forEach(function(r4) {
                var i3, a4, u4 = A2[r4], l4 = _2[r4], h4 = t5.block();
                if (h4(s3, ".", u4, "("), dt(l4)) {
                  var d4 = l4.length;
                  i3 = t5.global.def(c3, ".", r4), a4 = t5.global.def(f3, ".", r4), h4(P(d4, function(t6) {
                    return i3 + "[" + t6 + "]";
                  }), ");", P(d4, function(t6) {
                    return a4 + "[" + t6 + "]=" + i3 + "[" + t6 + "];";
                  }).join("")), e3("if(", P(d4, function(t6) {
                    return i3 + "[" + t6 + "]!==" + a4 + "[" + t6 + "]";
                  }).join("||"), "){", h4, "}");
                } else
                  i3 = o3.def(c3, ".", r4), a4 = o3.def(f3, ".", r4), h4(i3, ");", f3, ".", r4, "=", i3, ";"), e3("if(", i3, "!==", a4, "){", h4, "}");
                n4(h4);
              }), t5.compile();
            }(), compile: function(t5, r4, i3, o3, a3) {
              var u3 = O2();
              u3.stats = u3.link(a3), Object.keys(r4.static).forEach(function(t6) {
                Z2(u3, r4, t6);
              }), En.forEach(function(e3) {
                Z2(u3, t5, e3);
              });
              var s3 = M2(t5, r4, i3, o3, u3);
              return function(t6, e3) {
                var n4 = t6.proc("draw", 1);
                B2(t6, n4), G2(t6, n4, e3.context), L2(t6, n4, e3.framebuffer), U2(t6, n4, e3), F2(t6, n4, e3.state), z2(t6, n4, e3, false, true);
                var r5 = e3.shader.progVar.append(t6, n4);
                if (n4(t6.shared.gl, ".useProgram(", r5, ".program);"), e3.shader.program)
                  H2(t6, n4, e3, e3.shader.program);
                else {
                  n4(t6.shared.vao, ".setVAO(null);");
                  var i4 = t6.global.def("{}"), o4 = n4.def(r5, ".id"), a4 = n4.def(i4, "[", o4, "]");
                  n4(t6.cond(a4).then(a4, ".call(this,a0);").else(a4, "=", i4, "[", o4, "]=", t6.link(function(n5) {
                    return X2(H2, t6, e3, n5, 1);
                  }), "(", r5, ");", a4, ".call(this,a0);"));
                }
                Object.keys(e3.state).length > 0 && n4(t6.shared.current, ".dirty=true;");
              }(u3, s3), function(t6, e3) {
                var r5 = t6.proc("scope", 3);
                t6.batchId = "a2";
                var i4 = t6.shared, o4 = i4.current;
                function a4(n4) {
                  var o5 = e3.shader[n4];
                  o5 && r5.set(i4.shader, "." + n4, o5.append(t6, r5));
                }
                G2(t6, r5, e3.context), e3.framebuffer && e3.framebuffer.append(t6, r5), Qn(Object.keys(e3.state)).forEach(function(n4) {
                  var o5 = e3.state[n4].append(t6, r5);
                  dt(o5) ? o5.forEach(function(e4, i5) {
                    r5.set(t6.next[n4], "[" + i5 + "]", e4);
                  }) : r5.set(i4.next, "." + n4, o5);
                }), z2(t6, r5, e3, true, true), [ln, pn, dn, vn, hn].forEach(function(n4) {
                  var o5 = e3.draw[n4];
                  o5 && r5.set(i4.draw, "." + n4, "" + o5.append(t6, r5));
                }), Object.keys(e3.uniforms).forEach(function(o5) {
                  var a5 = e3.uniforms[o5].append(t6, r5);
                  Array.isArray(a5) && (a5 = "[" + a5.join() + "]"), r5.set(i4.uniforms, "[" + n3.id(o5) + "]", a5);
                }), Object.keys(e3.attributes).forEach(function(n4) {
                  var i5 = e3.attributes[n4].append(t6, r5), o5 = t6.scopeAttrib(n4);
                  Object.keys(new g2()).forEach(function(t7) {
                    r5.set(o5, "." + t7, i5[t7]);
                  });
                }), e3.scopeVAO && r5.set(i4.vao, ".targetVAO", e3.scopeVAO.append(t6, r5)), a4(cn), a4(fn), Object.keys(e3.state).length > 0 && (r5(o4, ".dirty=true;"), r5.exit(o4, ".dirty=true;")), r5("a1(", t6.shared.context, ",a0,", t6.batchId, ");");
              }(u3, s3), function(t6, e3) {
                var n4 = t6.proc("batch", 2);
                t6.batchId = "0", B2(t6, n4);
                var r5 = false, i4 = true;
                Object.keys(e3.context).forEach(function(t7) {
                  r5 = r5 || e3.context[t7].propDep;
                }), r5 || (G2(t6, n4, e3.context), i4 = false);
                var o4 = e3.framebuffer, a4 = false;
                function u4(t7) {
                  return t7.contextDep && r5 || t7.propDep;
                }
                o4 ? (o4.propDep ? r5 = a4 = true : o4.contextDep && r5 && (a4 = true), a4 || L2(t6, n4, o4)) : L2(t6, n4, null), e3.state.viewport && e3.state.viewport.propDep && (r5 = true), U2(t6, n4, e3), F2(t6, n4, e3.state, function(t7) {
                  return !u4(t7);
                }), e3.profile && u4(e3.profile) || z2(t6, n4, e3, false, "a1"), e3.contextDep = r5, e3.needsContext = i4, e3.needsFramebuffer = a4;
                var s4 = e3.shader.progVar;
                if (s4.contextDep && r5 || s4.propDep)
                  Y2(t6, n4, e3, null);
                else {
                  var c3 = s4.append(t6, n4);
                  if (n4(t6.shared.gl, ".useProgram(", c3, ".program);"), e3.shader.program)
                    Y2(t6, n4, e3, e3.shader.program);
                  else {
                    n4(t6.shared.vao, ".setVAO(null);");
                    var f3 = t6.global.def("{}"), l3 = n4.def(c3, ".id"), h3 = n4.def(f3, "[", l3, "]");
                    n4(t6.cond(h3).then(h3, ".call(this,a0,a1);").else(h3, "=", f3, "[", l3, "]=", t6.link(function(n5) {
                      return X2(Y2, t6, e3, n5, 2);
                    }), "(", c3, ");", h3, ".call(this,a0,a1);"));
                  }
                }
                Object.keys(e3.state).length > 0 && n4(t6.shared.current, ".dirty=true;");
              }(u3, s3), e2(u3.compile(), { destroy: function() {
                s3.shader.program.destroy();
              } });
            } };
          }
          var ar = function(t4, e3) {
            if (!e3.ext_disjoint_timer_query)
              return null;
            var n3 = [];
            function r3(t5) {
              n3.push(t5);
            }
            var i2 = [];
            function o2() {
              this.startQueryIndex = -1, this.endQueryIndex = -1, this.sum = 0, this.stats = null;
            }
            var a2 = [];
            function u2(t5) {
              a2.push(t5);
            }
            var s2 = [];
            function c2(t5, e4, n4) {
              var r4 = a2.pop() || new o2();
              r4.startQueryIndex = t5, r4.endQueryIndex = e4, r4.sum = 0, r4.stats = n4, s2.push(r4);
            }
            var f2 = [], l2 = [];
            return { beginQuery: function(t5) {
              var r4 = n3.pop() || e3.ext_disjoint_timer_query.createQueryEXT();
              e3.ext_disjoint_timer_query.beginQueryEXT(35007, r4), i2.push(r4), c2(i2.length - 1, i2.length, t5);
            }, endQuery: function() {
              e3.ext_disjoint_timer_query.endQueryEXT(35007);
            }, pushScopeStats: c2, update: function() {
              var t5, n4, o3 = i2.length;
              if (o3 !== 0) {
                l2.length = Math.max(l2.length, o3 + 1), f2.length = Math.max(f2.length, o3 + 1), f2[0] = 0, l2[0] = 0;
                var a3 = 0;
                for (t5 = 0, n4 = 0; n4 < i2.length; ++n4) {
                  var c3 = i2[n4];
                  e3.ext_disjoint_timer_query.getQueryObjectEXT(c3, 34919) ? (a3 += e3.ext_disjoint_timer_query.getQueryObjectEXT(c3, 34918), r3(c3)) : i2[t5++] = c3, f2[n4 + 1] = a3, l2[n4 + 1] = t5;
                }
                for (i2.length = t5, t5 = 0, n4 = 0; n4 < s2.length; ++n4) {
                  var h2 = s2[n4], d2 = h2.startQueryIndex, p2 = h2.endQueryIndex;
                  h2.sum += f2[p2] - f2[d2];
                  var v2 = l2[d2], g2 = l2[p2];
                  g2 === v2 ? (h2.stats.gpuTime += h2.sum / 1e6, u2(h2)) : (h2.startQueryIndex = v2, h2.endQueryIndex = g2, s2[t5++] = h2);
                }
                s2.length = t5;
              }
            }, getNumPendingQueries: function() {
              return i2.length;
            }, clear: function() {
              n3.push.apply(n3, i2);
              for (var t5 = 0; t5 < n3.length; t5++)
                e3.ext_disjoint_timer_query.deleteQueryEXT(n3[t5]);
              i2.length = 0, n3.length = 0;
            }, restore: function() {
              i2.length = 0, n3.length = 0;
            } };
          }, ur = "webglcontextlost", sr = "webglcontextrestored";
          function cr(t4, e3) {
            for (var n3 = 0; n3 < t4.length; ++n3)
              if (t4[n3] === e3)
                return n3;
            return -1;
          }
          return function(n3) {
            var r3 = M(n3);
            if (!r3)
              return null;
            var i2 = r3.gl, o2 = i2.getContextAttributes(), a2 = i2.isContextLost(), u2 = function(t4, e3) {
              var n4 = {};
              function r4(e4) {
                E.type(e4, "string", "extension name must be string");
                var r5, i4 = e4.toLowerCase();
                try {
                  r5 = n4[i4] = t4.getExtension(i4);
                } catch (t5) {
                }
                return !!r5;
              }
              for (var i3 = 0; i3 < e3.extensions.length; ++i3) {
                var o3 = e3.extensions[i3];
                if (!r4(o3))
                  return e3.onDestroy(), e3.onDone('"' + o3 + '" extension is not supported by the current WebGL context, try upgrading your system or a different browser'), null;
              }
              return e3.optionalExtensions.forEach(r4), { extensions: n4, restore: function() {
                Object.keys(n4).forEach(function(t5) {
                  if (n4[t5] && !r4(t5))
                    throw new Error("(regl): error restoring extension " + t5);
                });
              } };
            }(i2, r3);
            if (!u2)
              return null;
            var s2, c2, f2 = (s2 = { "": 0 }, c2 = [""], { id: function(t4) {
              var e3 = s2[t4];
              return e3 || (e3 = s2[t4] = c2.length, c2.push(t4), e3);
            }, str: function(t4) {
              return c2[t4];
            } }), l2 = { vaoCount: 0, bufferCount: 0, elementsCount: 0, framebufferCount: 0, shaderCount: 0, textureCount: 0, cubeCount: 0, renderbufferCount: 0, maxTextureUnits: 0 }, h2 = u2.extensions, d2 = ar(0, h2), p2 = k(), v2 = i2.drawingBufferWidth, g2 = i2.drawingBufferHeight, y2 = { tick: 0, time: 0, viewportWidth: v2, viewportHeight: g2, framebufferWidth: v2, framebufferHeight: g2, drawingBufferWidth: v2, drawingBufferHeight: g2, pixelRatio: r3.pixelRatio }, m2 = function(t4, e3) {
              var n4 = 1;
              e3.ext_texture_filter_anisotropic && (n4 = t4.getParameter(34047));
              var r4 = 1, i3 = 1;
              e3.webgl_draw_buffers && (r4 = t4.getParameter(34852), i3 = t4.getParameter(36063));
              var o3 = !!e3.oes_texture_float;
              if (o3) {
                var a3 = t4.createTexture();
                t4.bindTexture(F, a3), t4.texImage2D(F, 0, B, 1, 1, 0, B, z, null);
                var u3 = t4.createFramebuffer();
                if (t4.bindFramebuffer(j, u3), t4.framebufferTexture2D(j, 36064, F, a3, 0), t4.bindTexture(F, null), t4.checkFramebufferStatus(j) !== 36053)
                  o3 = false;
                else {
                  t4.viewport(0, 0, 1, 1), t4.clearColor(1, 0, 0, 1), t4.clear(16384);
                  var s3 = U.allocType(z, 4);
                  t4.readPixels(0, 0, 1, 1, B, z, s3), t4.getError() ? o3 = false : (t4.deleteFramebuffer(u3), t4.deleteTexture(a3), o3 = s3[0] === 1), U.freeType(s3);
                }
              }
              var c3 = true;
              if (typeof navigator == "undefined" || !(/MSIE/.test(navigator.userAgent) || /Trident\//.test(navigator.appVersion) || /Edge/.test(navigator.userAgent))) {
                var f3 = t4.createTexture(), l3 = U.allocType(5121, 36);
                t4.activeTexture(33984), t4.bindTexture(34067, f3), t4.texImage2D(34069, 0, B, 3, 3, 0, B, 5121, l3), U.freeType(l3), t4.bindTexture(34067, null), t4.deleteTexture(f3), c3 = !t4.getError();
              }
              return { colorBits: [t4.getParameter(3410), t4.getParameter(3411), t4.getParameter(3412), t4.getParameter(3413)], depthBits: t4.getParameter(3414), stencilBits: t4.getParameter(3415), subpixelBits: t4.getParameter(3408), extensions: Object.keys(e3).filter(function(t5) {
                return !!e3[t5];
              }), maxAnisotropic: n4, maxDrawbuffers: r4, maxColorAttachments: i3, pointSizeDims: t4.getParameter(33901), lineWidthDims: t4.getParameter(33902), maxViewportDims: t4.getParameter(3386), maxCombinedTextureUnits: t4.getParameter(35661), maxCubeMapSize: t4.getParameter(34076), maxRenderbufferSize: t4.getParameter(34024), maxTextureUnits: t4.getParameter(34930), maxTextureSize: t4.getParameter(3379), maxAttributes: t4.getParameter(34921), maxVertexUniforms: t4.getParameter(36347), maxVertexTextureUnits: t4.getParameter(35660), maxVaryingVectors: t4.getParameter(36348), maxFragmentUniforms: t4.getParameter(36349), glsl: t4.getParameter(35724), renderer: t4.getParameter(7937), vendor: t4.getParameter(7936), version: t4.getParameter(7938), readFloat: o3, npotTextureCube: c3 };
            }(i2, h2), b2 = function(e3, n4, r4, i3) {
              var o3 = 0, a3 = {};
              function u3(t4) {
                this.id = o3++, this.buffer = e3.createBuffer(), this.type = t4, this.usage = 35044, this.byteLength = 0, this.dimension = 1, this.dtype = Q, this.persistentData = null, r4.profile && (this.stats = { size: 0 });
              }
              u3.prototype.bind = function() {
                e3.bindBuffer(this.type, this.buffer);
              }, u3.prototype.destroy = function() {
                l3(this);
              };
              var s3 = [];
              function c3(t4, n5, r5) {
                t4.byteLength = n5.byteLength, e3.bufferData(t4.type, n5, r5);
              }
              function f3(e4, n5, r5, i4, o4, a4) {
                var u4, s4;
                if (e4.usage = r5, Array.isArray(n5)) {
                  if (e4.dtype = i4 || tt, n5.length > 0)
                    if (Array.isArray(n5[0])) {
                      u4 = J(n5);
                      for (var f4 = 1, l4 = 1; l4 < u4.length; ++l4)
                        f4 *= u4[l4];
                      e4.dimension = f4, c3(e4, s4 = $(n5, u4, e4.dtype), r5), a4 ? e4.persistentData = s4 : U.freeType(s4);
                    } else if (typeof n5[0] == "number") {
                      e4.dimension = o4;
                      var h3 = U.allocType(e4.dtype, n5.length);
                      rt(h3, n5), c3(e4, h3, r5), a4 ? e4.persistentData = h3 : U.freeType(h3);
                    } else
                      t3(n5[0]) ? (e4.dimension = n5[0].length, e4.dtype = i4 || nt(n5[0]) || tt, c3(e4, s4 = $(n5, [n5.length, n5[0].length], e4.dtype), r5), a4 ? e4.persistentData = s4 : U.freeType(s4)) : E.raise("invalid buffer data");
                } else if (t3(n5))
                  e4.dtype = i4 || nt(n5), e4.dimension = o4, c3(e4, n5, r5), a4 && (e4.persistentData = new Uint8Array(new Uint8Array(n5.buffer)));
                else if (W(n5)) {
                  u4 = n5.shape;
                  var d3 = n5.stride, p3 = n5.offset, v3 = 0, g3 = 0, y3 = 0, m3 = 0;
                  u4.length === 1 ? (v3 = u4[0], g3 = 1, y3 = d3[0], m3 = 0) : u4.length === 2 ? (v3 = u4[0], g3 = u4[1], y3 = d3[0], m3 = d3[1]) : E.raise("invalid shape"), e4.dtype = i4 || nt(n5.data) || tt, e4.dimension = g3;
                  var b3 = U.allocType(e4.dtype, v3 * g3);
                  it(b3, n5.data, v3, g3, y3, m3, p3), c3(e4, b3, r5), a4 ? e4.persistentData = b3 : U.freeType(b3);
                } else
                  n5 instanceof ArrayBuffer ? (e4.dtype = Q, e4.dimension = o4, c3(e4, n5, r5), a4 && (e4.persistentData = new Uint8Array(new Uint8Array(n5)))) : E.raise("invalid buffer data");
              }
              function l3(t4) {
                n4.bufferCount--, i3(t4);
                var r5 = t4.buffer;
                E(r5, "buffer must not be deleted already"), e3.deleteBuffer(r5), t4.buffer = null, delete a3[t4.id];
              }
              return r4.profile && (n4.getTotalBufferSize = function() {
                var t4 = 0;
                return Object.keys(a3).forEach(function(e4) {
                  t4 += a3[e4].stats.size;
                }), t4;
              }), { create: function(i4, o4, s4, c4) {
                n4.bufferCount++;
                var h3 = new u3(o4);
                function d3(n5) {
                  var i5 = 35044, o5 = null, a4 = 0, u4 = 0, s5 = 1;
                  return Array.isArray(n5) || t3(n5) || W(n5) || n5 instanceof ArrayBuffer ? o5 = n5 : typeof n5 == "number" ? a4 = 0 | n5 : n5 && (E.type(n5, "object", "buffer arguments must be an object, a number or an array"), "data" in n5 && (E(o5 === null || Array.isArray(o5) || t3(o5) || W(o5), "invalid data for buffer"), o5 = n5.data), "usage" in n5 && (E.parameter(n5.usage, Z, "invalid buffer usage"), i5 = Z[n5.usage]), "type" in n5 && (E.parameter(n5.type, K, "invalid buffer type"), u4 = K[n5.type]), "dimension" in n5 && (E.type(n5.dimension, "number", "invalid dimension"), s5 = 0 | n5.dimension), "length" in n5 && (E.nni(a4, "buffer length must be a nonnegative integer"), a4 = 0 | n5.length)), h3.bind(), o5 ? f3(h3, o5, i5, u4, s5, c4) : (a4 && e3.bufferData(h3.type, a4, i5), h3.dtype = u4 || Q, h3.usage = i5, h3.dimension = s5, h3.byteLength = a4), r4.profile && (h3.stats.size = h3.byteLength * et[h3.dtype]), d3;
                }
                function p3(t4, n5) {
                  E(n5 + t4.byteLength <= h3.byteLength, "invalid buffer subdata call, buffer is too small.  Can't write data of size " + t4.byteLength + " starting from offset " + n5 + " to a buffer of size " + h3.byteLength), e3.bufferSubData(h3.type, n5, t4);
                }
                return a3[h3.id] = h3, s4 || d3(i4), d3._reglType = "buffer", d3._buffer = h3, d3.subdata = function(e4, n5) {
                  var r5, i5 = 0 | (n5 || 0);
                  if (h3.bind(), t3(e4) || e4 instanceof ArrayBuffer)
                    p3(e4, i5);
                  else if (Array.isArray(e4)) {
                    if (e4.length > 0)
                      if (typeof e4[0] == "number") {
                        var o5 = U.allocType(h3.dtype, e4.length);
                        rt(o5, e4), p3(o5, i5), U.freeType(o5);
                      } else if (Array.isArray(e4[0]) || t3(e4[0])) {
                        r5 = J(e4);
                        var a4 = $(e4, r5, h3.dtype);
                        p3(a4, i5), U.freeType(a4);
                      } else
                        E.raise("invalid buffer data");
                  } else if (W(e4)) {
                    r5 = e4.shape;
                    var u4 = e4.stride, s5 = 0, c5 = 0, f4 = 0, l4 = 0;
                    r5.length === 1 ? (s5 = r5[0], c5 = 1, f4 = u4[0], l4 = 0) : r5.length === 2 ? (s5 = r5[0], c5 = r5[1], f4 = u4[0], l4 = u4[1]) : E.raise("invalid shape");
                    var v3 = Array.isArray(e4.data) ? h3.dtype : nt(e4.data), g3 = U.allocType(v3, s5 * c5);
                    it(g3, e4.data, s5, c5, f4, l4, e4.offset), p3(g3, i5), U.freeType(g3);
                  } else
                    E.raise("invalid data for buffer subdata");
                  return d3;
                }, r4.profile && (d3.stats = h3.stats), d3.destroy = function() {
                  l3(h3);
                }, d3;
              }, createStream: function(t4, e4) {
                var n5 = s3.pop();
                return n5 || (n5 = new u3(t4)), n5.bind(), f3(n5, e4, 35040, 0, 1, false), n5;
              }, destroyStream: function(t4) {
                s3.push(t4);
              }, clear: function() {
                V(a3).forEach(l3), s3.forEach(l3);
              }, getBuffer: function(t4) {
                return t4 && t4._buffer instanceof u3 ? t4._buffer : null;
              }, restore: function() {
                V(a3).forEach(function(t4) {
                  t4.buffer = e3.createBuffer(), e3.bindBuffer(t4.type, t4.buffer), e3.bufferData(t4.type, t4.persistentData || t4.byteLength, t4.usage);
                });
              }, _initBuffer: f3 };
            }(i2, l2, r3, function(t4) {
              return _2.destroyBuffer(t4);
            }), _2 = function(e3, n4, r4, i3, o3) {
              for (var a3 = r4.maxAttributes, u3 = new Array(a3), s3 = 0; s3 < a3; ++s3)
                u3[s3] = new Te();
              var c3 = 0, f3 = {}, l3 = { Record: Te, scope: {}, state: u3, currentVAO: null, targetVAO: null, restore: h3() ? function() {
                h3() && V(f3).forEach(function(t4) {
                  t4.refresh();
                });
              } : function() {
              }, createVAO: function(e4) {
                var r5 = new p3();
                function u4(e5) {
                  E(Array.isArray(e5), "arguments to vertex array constructor must be an array"), E(e5.length < a3, "too many attributes"), E(e5.length > 0, "must specify at least one attribute");
                  var i4 = {}, s4 = r5.attributes;
                  s4.length = e5.length;
                  for (var c4 = 0; c4 < e5.length; ++c4) {
                    var f4, l4 = e5[c4], h4 = s4[c4] = new Te(), d4 = l4.data || l4;
                    Array.isArray(d4) || t3(d4) || W(d4) ? (r5.buffers[c4] && (f4 = r5.buffers[c4], t3(d4) && f4._buffer.byteLength >= d4.byteLength ? f4.subdata(d4) : (f4.destroy(), r5.buffers[c4] = null)), r5.buffers[c4] || (f4 = r5.buffers[c4] = o3.create(l4, 34962, false, true)), h4.buffer = o3.getBuffer(f4), h4.size = 0 | h4.buffer.dimension, h4.normalized = false, h4.type = h4.buffer.dtype, h4.offset = 0, h4.stride = 0, h4.divisor = 0, h4.state = 1, i4[c4] = 1) : o3.getBuffer(l4) ? (h4.buffer = o3.getBuffer(l4), h4.size = 0 | h4.buffer.dimension, h4.normalized = false, h4.type = h4.buffer.dtype, h4.offset = 0, h4.stride = 0, h4.divisor = 0, h4.state = 1) : o3.getBuffer(l4.buffer) ? (h4.buffer = o3.getBuffer(l4.buffer), h4.size = 0 | (+l4.size || h4.buffer.dimension), h4.normalized = !!l4.normalized || false, "type" in l4 ? (E.parameter(l4.type, K, "invalid buffer type"), h4.type = K[l4.type]) : h4.type = h4.buffer.dtype, h4.offset = 0 | (l4.offset || 0), h4.stride = 0 | (l4.stride || 0), h4.divisor = 0 | (l4.divisor || 0), h4.state = 1, E(h4.size >= 1 && h4.size <= 4, "size must be between 1 and 4"), E(h4.offset >= 0, "invalid offset"), E(h4.stride >= 0 && h4.stride <= 255, "stride must be between 0 and 255"), E(h4.divisor >= 0, "divisor must be positive"), E(!h4.divisor || !!n4.angle_instanced_arrays, "ANGLE_instanced_arrays must be enabled to use divisor")) : "x" in l4 ? (E(c4 > 0, "first attribute must not be a constant"), h4.x = +l4.x || 0, h4.y = +l4.y || 0, h4.z = +l4.z || 0, h4.w = +l4.w || 0, h4.state = 2) : E(false, "invalid attribute spec for location " + c4);
                  }
                  for (var p4 = 0; p4 < r5.buffers.length; ++p4)
                    !i4[p4] && r5.buffers[p4] && (r5.buffers[p4].destroy(), r5.buffers[p4] = null);
                  return r5.refresh(), u4;
                }
                return i3.vaoCount += 1, u4.destroy = function() {
                  for (var t4 = 0; t4 < r5.buffers.length; ++t4)
                    r5.buffers[t4] && r5.buffers[t4].destroy();
                  r5.buffers.length = 0, r5.destroy();
                }, u4._vao = r5, u4._reglType = "vao", u4(e4);
              }, getVAO: function(t4) {
                return typeof t4 == "function" && t4._vao ? t4._vao : null;
              }, destroyBuffer: function(t4) {
                for (var n5 = 0; n5 < u3.length; ++n5) {
                  var r5 = u3[n5];
                  r5.buffer === t4 && (e3.disableVertexAttribArray(n5), r5.buffer = null);
                }
              }, setVAO: h3() ? function(t4) {
                if (t4 !== l3.currentVAO) {
                  var e4 = h3();
                  t4 ? e4.bindVertexArrayOES(t4.vao) : e4.bindVertexArrayOES(null), l3.currentVAO = t4;
                }
              } : function(t4) {
                if (t4 !== l3.currentVAO) {
                  if (t4)
                    t4.bindAttrs();
                  else
                    for (var n5 = d3(), r5 = 0; r5 < u3.length; ++r5) {
                      var i4 = u3[r5];
                      i4.buffer ? (e3.enableVertexAttribArray(r5), e3.vertexAttribPointer(r5, i4.size, i4.type, i4.normalized, i4.stride, i4.offfset), n5 && i4.divisor && n5.vertexAttribDivisorANGLE(r5, i4.divisor)) : (e3.disableVertexAttribArray(r5), e3.vertexAttrib4f(r5, i4.x, i4.y, i4.z, i4.w));
                    }
                  l3.currentVAO = t4;
                }
              }, clear: h3() ? function() {
                V(f3).forEach(function(t4) {
                  t4.destroy();
                });
              } : function() {
              } };
              function h3() {
                return n4.oes_vertex_array_object;
              }
              function d3() {
                return n4.angle_instanced_arrays;
              }
              function p3() {
                this.id = ++c3, this.attributes = [];
                var t4 = h3();
                this.vao = t4 ? t4.createVertexArrayOES() : null, f3[this.id] = this, this.buffers = [];
              }
              return p3.prototype.bindAttrs = function() {
                for (var t4 = d3(), n5 = this.attributes, r5 = 0; r5 < n5.length; ++r5) {
                  var i4 = n5[r5];
                  i4.buffer ? (e3.enableVertexAttribArray(r5), e3.bindBuffer(34962, i4.buffer.buffer), e3.vertexAttribPointer(r5, i4.size, i4.type, i4.normalized, i4.stride, i4.offset), t4 && i4.divisor && t4.vertexAttribDivisorANGLE(r5, i4.divisor)) : (e3.disableVertexAttribArray(r5), e3.vertexAttrib4f(r5, i4.x, i4.y, i4.z, i4.w));
                }
                for (var o4 = n5.length; o4 < a3; ++o4)
                  e3.disableVertexAttribArray(o4);
              }, p3.prototype.refresh = function() {
                var t4 = h3();
                t4 && (t4.bindVertexArrayOES(this.vao), this.bindAttrs(), l3.currentVAO = this);
              }, p3.prototype.destroy = function() {
                if (this.vao) {
                  var t4 = h3();
                  this === l3.currentVAO && (l3.currentVAO = null, t4.bindVertexArrayOES(null)), t4.deleteVertexArrayOES(this.vao), this.vao = null;
                }
                f3[this.id] && (delete f3[this.id], i3.vaoCount -= 1);
              }, l3;
            }(i2, h2, m2, l2, b2), x2 = function(e3, n4, r4, i3) {
              var o3 = {}, a3 = 0, u3 = { uint8: at, uint16: ut };
              function s3(t4) {
                this.id = a3++, o3[this.id] = this, this.buffer = t4, this.primType = 4, this.vertCount = 0, this.type = 0;
              }
              n4.oes_element_index_uint && (u3.uint32 = st), s3.prototype.bind = function() {
                this.buffer.bind();
              };
              var c3 = [];
              function f3(i4, o4, a4, u4, s4, c4, f4) {
                var l4;
                if (i4.buffer.bind(), o4) {
                  var h3 = f4;
                  f4 || t3(o4) && (!W(o4) || t3(o4.data)) || (h3 = n4.oes_element_index_uint ? st : ut), r4._initBuffer(i4.buffer, o4, a4, h3, 3);
                } else
                  e3.bufferData(ct, c4, a4), i4.buffer.dtype = l4 || at, i4.buffer.usage = a4, i4.buffer.dimension = 3, i4.buffer.byteLength = c4;
                if (l4 = f4, !f4) {
                  switch (i4.buffer.dtype) {
                    case at:
                    case 5120:
                      l4 = at;
                      break;
                    case ut:
                    case 5122:
                      l4 = ut;
                      break;
                    case st:
                    case 5124:
                      l4 = st;
                      break;
                    default:
                      E.raise("unsupported type for element array");
                  }
                  i4.buffer.dtype = l4;
                }
                i4.type = l4, E(l4 !== st || !!n4.oes_element_index_uint, "32 bit element buffers not supported, enable oes_element_index_uint first");
                var d3 = s4;
                d3 < 0 && (d3 = i4.buffer.byteLength, l4 === ut ? d3 >>= 1 : l4 === st && (d3 >>= 2)), i4.vertCount = d3;
                var p3 = u4;
                if (u4 < 0) {
                  p3 = 4;
                  var v3 = i4.buffer.dimension;
                  v3 === 1 && (p3 = 0), v3 === 2 && (p3 = 1), v3 === 3 && (p3 = 4);
                }
                i4.primType = p3;
              }
              function l3(t4) {
                i3.elementsCount--, E(t4.buffer !== null, "must not double destroy elements"), delete o3[t4.id], t4.buffer.destroy(), t4.buffer = null;
              }
              return { create: function(e4, n5) {
                var o4 = r4.create(null, ct, true), a4 = new s3(o4._buffer);
                function c4(e5) {
                  if (e5)
                    if (typeof e5 == "number")
                      o4(e5), a4.primType = 4, a4.vertCount = 0 | e5, a4.type = at;
                    else {
                      var n6 = null, r5 = 35044, i4 = -1, s4 = -1, l4 = 0, h3 = 0;
                      Array.isArray(e5) || t3(e5) || W(e5) ? n6 = e5 : (E.type(e5, "object", "invalid arguments for elements"), "data" in e5 && (n6 = e5.data, E(Array.isArray(n6) || t3(n6) || W(n6), "invalid data for element buffer")), "usage" in e5 && (E.parameter(e5.usage, Z, "invalid element buffer usage"), r5 = Z[e5.usage]), "primitive" in e5 && (E.parameter(e5.primitive, ot, "invalid element buffer primitive"), i4 = ot[e5.primitive]), "count" in e5 && (E(typeof e5.count == "number" && e5.count >= 0, "invalid vertex count for elements"), s4 = 0 | e5.count), "type" in e5 && (E.parameter(e5.type, u3, "invalid buffer type"), h3 = u3[e5.type]), "length" in e5 ? l4 = 0 | e5.length : (l4 = s4, h3 === ut || h3 === 5122 ? l4 *= 2 : h3 !== st && h3 !== 5124 || (l4 *= 4))), f3(a4, n6, r5, i4, s4, l4, h3);
                    }
                  else
                    o4(), a4.primType = 4, a4.vertCount = 0, a4.type = at;
                  return c4;
                }
                return i3.elementsCount++, c4(e4), c4._reglType = "elements", c4._elements = a4, c4.subdata = function(t4, e5) {
                  return o4.subdata(t4, e5), c4;
                }, c4.destroy = function() {
                  l3(a4);
                }, c4;
              }, createStream: function(t4) {
                var e4 = c3.pop();
                return e4 || (e4 = new s3(r4.create(null, ct, true, false)._buffer)), f3(e4, t4, 35040, -1, -1, 0, 0), e4;
              }, destroyStream: function(t4) {
                c3.push(t4);
              }, getElements: function(t4) {
                return typeof t4 == "function" && t4._elements instanceof s3 ? t4._elements : null;
              }, clear: function() {
                V(o3).forEach(l3);
              } };
            }(i2, h2, b2, l2), w2 = function(t4, n4, r4, i3) {
              var o3 = {}, a3 = {};
              function u3(t5, e3, n5, r5) {
                this.name = t5, this.id = e3, this.location = n5, this.info = r5;
              }
              function s3(t5, e3) {
                for (var n5 = 0; n5 < t5.length; ++n5)
                  if (t5[n5].id === e3.id)
                    return void (t5[n5].location = e3.location);
                t5.push(e3);
              }
              function c3(e3, r5, i4) {
                var u4 = e3 === 35632 ? o3 : a3, s4 = u4[r5];
                if (!s4) {
                  var c4 = n4.str(r5);
                  s4 = t4.createShader(e3), t4.shaderSource(s4, c4), t4.compileShader(s4), E.shaderError(t4, s4, c4, e3, i4), u4[r5] = s4;
                }
                return s4;
              }
              var f3 = {}, l3 = [], h3 = 0;
              function d3(t5, e3) {
                this.id = h3++, this.fragId = t5, this.vertId = e3, this.program = null, this.uniforms = [], this.attributes = [], this.refCount = 1, i3.profile && (this.stats = { uniformsCount: 0, attributesCount: 0 });
              }
              function p3(e3, r5, o4) {
                var a4, f4, l4 = c3(35632, e3.fragId), h4 = c3(35633, e3.vertId), d4 = e3.program = t4.createProgram();
                if (t4.attachShader(d4, l4), t4.attachShader(d4, h4), o4)
                  for (a4 = 0; a4 < o4.length; ++a4) {
                    var p4 = o4[a4];
                    t4.bindAttribLocation(d4, p4[0], p4[1]);
                  }
                t4.linkProgram(d4), E.linkError(t4, d4, n4.str(e3.fragId), n4.str(e3.vertId), r5);
                var v3 = t4.getProgramParameter(d4, 35718);
                i3.profile && (e3.stats.uniformsCount = v3);
                var g3 = e3.uniforms;
                for (a4 = 0; a4 < v3; ++a4)
                  if (f4 = t4.getActiveUniform(d4, a4))
                    if (f4.size > 1)
                      for (var y3 = 0; y3 < f4.size; ++y3) {
                        var m3 = f4.name.replace("[0]", "[" + y3 + "]");
                        s3(g3, new u3(m3, n4.id(m3), t4.getUniformLocation(d4, m3), f4));
                      }
                    else
                      s3(g3, new u3(f4.name, n4.id(f4.name), t4.getUniformLocation(d4, f4.name), f4));
                var b3 = t4.getProgramParameter(d4, 35721);
                i3.profile && (e3.stats.attributesCount = b3);
                var _3 = e3.attributes;
                for (a4 = 0; a4 < b3; ++a4)
                  (f4 = t4.getActiveAttrib(d4, a4)) && s3(_3, new u3(f4.name, n4.id(f4.name), t4.getAttribLocation(d4, f4.name), f4));
              }
              return i3.profile && (r4.getMaxUniformsCount = function() {
                var t5 = 0;
                return l3.forEach(function(e3) {
                  e3.stats.uniformsCount > t5 && (t5 = e3.stats.uniformsCount);
                }), t5;
              }, r4.getMaxAttributesCount = function() {
                var t5 = 0;
                return l3.forEach(function(e3) {
                  e3.stats.attributesCount > t5 && (t5 = e3.stats.attributesCount);
                }), t5;
              }), { clear: function() {
                var e3 = t4.deleteShader.bind(t4);
                V(o3).forEach(e3), o3 = {}, V(a3).forEach(e3), a3 = {}, l3.forEach(function(e4) {
                  t4.deleteProgram(e4.program);
                }), l3.length = 0, f3 = {}, r4.shaderCount = 0;
              }, program: function(n5, i4, u4, s4) {
                E.command(n5 >= 0, "missing vertex shader", u4), E.command(i4 >= 0, "missing fragment shader", u4);
                var c4 = f3[i4];
                c4 || (c4 = f3[i4] = {});
                var h4 = c4[n5];
                if (h4 && (h4.refCount++, !s4))
                  return h4;
                var v3 = new d3(i4, n5);
                return r4.shaderCount++, p3(v3, u4, s4), h4 || (c4[n5] = v3), l3.push(v3), e2(v3, { destroy: function() {
                  if (v3.refCount--, v3.refCount <= 0) {
                    t4.deleteProgram(v3.program);
                    var e3 = l3.indexOf(v3);
                    l3.splice(e3, 1), r4.shaderCount--;
                  }
                  c4[v3.vertId].refCount <= 0 && (t4.deleteShader(a3[v3.vertId]), delete a3[v3.vertId], delete f3[v3.fragId][v3.vertId]), Object.keys(f3[v3.fragId]).length || (t4.deleteShader(o3[v3.fragId]), delete o3[v3.fragId], delete f3[v3.fragId]);
                } });
              }, restore: function() {
                o3 = {}, a3 = {};
                for (var t5 = 0; t5 < l3.length; ++t5)
                  p3(l3[t5], null, l3[t5].attributes.map(function(t6) {
                    return [t6.location, t6.name];
                  }));
              }, shader: c3, frag: -1, vert: -1 };
            }(i2, f2, l2, r3), S2 = he(i2, h2, m2, function() {
              I2.procs.poll();
            }, y2, l2, r3), A2 = function(t4, e3, n4, r4, i3) {
              var o3 = { rgba4: pe, rgb565: 36194, "rgb5 a1": 32855, depth: 33189, stencil: 36168, "depth stencil": 34041 };
              e3.ext_srgb && (o3.srgba = 35907), e3.ext_color_buffer_half_float && (o3.rgba16f = 34842, o3.rgb16f = 34843), e3.webgl_color_buffer_float && (o3.rgba32f = 34836);
              var a3 = [];
              Object.keys(o3).forEach(function(t5) {
                var e4 = o3[t5];
                a3[e4] = t5;
              });
              var u3 = 0, s3 = {};
              function c3(t5) {
                this.id = u3++, this.refCount = 1, this.renderbuffer = t5, this.format = pe, this.width = 0, this.height = 0, i3.profile && (this.stats = { size: 0 });
              }
              function f3(e4) {
                var n5 = e4.renderbuffer;
                E(n5, "must not double destroy renderbuffer"), t4.bindRenderbuffer(de, null), t4.deleteRenderbuffer(n5), e4.renderbuffer = null, e4.refCount = 0, delete s3[e4.id], r4.renderbufferCount--;
              }
              return c3.prototype.decRef = function() {
                --this.refCount <= 0 && f3(this);
              }, i3.profile && (r4.getTotalRenderbufferSize = function() {
                var t5 = 0;
                return Object.keys(s3).forEach(function(e4) {
                  t5 += s3[e4].stats.size;
                }), t5;
              }), { create: function(e4, u4) {
                var f4 = new c3(t4.createRenderbuffer());
                function l3(e5, r5) {
                  var u5 = 0, s4 = 0, c4 = pe;
                  if (typeof e5 == "object" && e5) {
                    var h3 = e5;
                    if ("shape" in h3) {
                      var d3 = h3.shape;
                      E(Array.isArray(d3) && d3.length >= 2, "invalid renderbuffer shape"), u5 = 0 | d3[0], s4 = 0 | d3[1];
                    } else
                      "radius" in h3 && (u5 = s4 = 0 | h3.radius), "width" in h3 && (u5 = 0 | h3.width), "height" in h3 && (s4 = 0 | h3.height);
                    "format" in h3 && (E.parameter(h3.format, o3, "invalid renderbuffer format"), c4 = o3[h3.format]);
                  } else
                    typeof e5 == "number" ? (u5 = 0 | e5, s4 = typeof r5 == "number" ? 0 | r5 : u5) : e5 ? E.raise("invalid arguments to renderbuffer constructor") : u5 = s4 = 1;
                  if (E(u5 > 0 && s4 > 0 && u5 <= n4.maxRenderbufferSize && s4 <= n4.maxRenderbufferSize, "invalid renderbuffer size"), u5 !== f4.width || s4 !== f4.height || c4 !== f4.format)
                    return l3.width = f4.width = u5, l3.height = f4.height = s4, f4.format = c4, t4.bindRenderbuffer(de, f4.renderbuffer), t4.renderbufferStorage(de, c4, u5, s4), E(t4.getError() === 0, "invalid render buffer format"), i3.profile && (f4.stats.size = ge(f4.format, f4.width, f4.height)), l3.format = a3[f4.format], l3;
                }
                return s3[f4.id] = f4, r4.renderbufferCount++, l3(e4, u4), l3.resize = function(e5, r5) {
                  var o4 = 0 | e5, a4 = 0 | r5 || o4;
                  return o4 === f4.width && a4 === f4.height || (E(o4 > 0 && a4 > 0 && o4 <= n4.maxRenderbufferSize && a4 <= n4.maxRenderbufferSize, "invalid renderbuffer size"), l3.width = f4.width = o4, l3.height = f4.height = a4, t4.bindRenderbuffer(de, f4.renderbuffer), t4.renderbufferStorage(de, f4.format, o4, a4), E(t4.getError() === 0, "invalid render buffer format"), i3.profile && (f4.stats.size = ge(f4.format, f4.width, f4.height))), l3;
                }, l3._reglType = "renderbuffer", l3._renderbuffer = f4, i3.profile && (l3.stats = f4.stats), l3.destroy = function() {
                  f4.decRef();
                }, l3;
              }, clear: function() {
                V(s3).forEach(f3);
              }, restore: function() {
                V(s3).forEach(function(e4) {
                  e4.renderbuffer = t4.createRenderbuffer(), t4.bindRenderbuffer(de, e4.renderbuffer), t4.renderbufferStorage(de, e4.format, e4.width, e4.height);
                }), t4.bindRenderbuffer(de, null);
              } };
            }(i2, h2, m2, l2, r3), T2 = function(t4, n4, r4, i3, o3, a3) {
              var u3 = { cur: null, next: null, dirty: false, setFBO: null }, s3 = ["rgba"], c3 = ["rgba4", "rgb565", "rgb5 a1"];
              n4.ext_srgb && c3.push("srgba"), n4.ext_color_buffer_half_float && c3.push("rgba16f", "rgb16f"), n4.webgl_color_buffer_float && c3.push("rgba32f");
              var f3 = ["uint8"];
              function l3(t5, e3, n5) {
                this.target = t5, this.texture = e3, this.renderbuffer = n5;
                var r5 = 0, i4 = 0;
                e3 ? (r5 = e3.width, i4 = e3.height) : n5 && (r5 = n5.width, i4 = n5.height), this.width = r5, this.height = i4;
              }
              function h3(t5) {
                t5 && (t5.texture && t5.texture._texture.decRef(), t5.renderbuffer && t5.renderbuffer._renderbuffer.decRef());
              }
              function d3(t5, e3, n5) {
                if (t5)
                  if (t5.texture) {
                    var r5 = t5.texture._texture, i4 = Math.max(1, r5.width), o4 = Math.max(1, r5.height);
                    E(i4 === e3 && o4 === n5, "inconsistent width/height for supplied texture"), r5.refCount += 1;
                  } else {
                    var a4 = t5.renderbuffer._renderbuffer;
                    E(a4.width === e3 && a4.height === n5, "inconsistent width/height for renderbuffer"), a4.refCount += 1;
                  }
              }
              function p3(e3, n5) {
                n5 && (n5.texture ? t4.framebufferTexture2D(ye, e3, n5.target, n5.texture._texture.texture, 0) : t4.framebufferRenderbuffer(ye, e3, me, n5.renderbuffer._renderbuffer.renderbuffer));
              }
              function v3(t5) {
                var e3 = be, n5 = null, r5 = null, i4 = t5;
                typeof t5 == "object" && (i4 = t5.data, "target" in t5 && (e3 = 0 | t5.target)), E.type(i4, "function", "invalid attachment data");
                var o4 = i4._reglType;
                return o4 === "texture2d" ? (n5 = i4, E(e3 === be)) : o4 === "textureCube" ? (n5 = i4, E(e3 >= _e && e3 < 34075, "invalid cube map target")) : o4 === "renderbuffer" ? (r5 = i4, e3 = me) : E.raise("invalid regl object for attachment"), new l3(e3, n5, r5);
              }
              function g3(t5, e3, n5, r5, a4) {
                if (n5) {
                  var u4 = i3.create2D({ width: t5, height: e3, format: r5, type: a4 });
                  return u4._texture.refCount = 0, new l3(be, u4, null);
                }
                var s4 = o3.create({ width: t5, height: e3, format: r5 });
                return s4._renderbuffer.refCount = 0, new l3(me, null, s4);
              }
              function y3(t5) {
                return t5 && (t5.texture || t5.renderbuffer);
              }
              function m3(t5, e3, n5) {
                t5 && (t5.texture ? t5.texture.resize(e3, n5) : t5.renderbuffer && t5.renderbuffer.resize(e3, n5), t5.width = e3, t5.height = n5);
              }
              n4.oes_texture_half_float && f3.push("half float", "float16"), n4.oes_texture_float && f3.push("float", "float32");
              var b3 = 0, _3 = {};
              function x3() {
                this.id = b3++, _3[this.id] = this, this.framebuffer = t4.createFramebuffer(), this.width = 0, this.height = 0, this.colorAttachments = [], this.depthAttachment = null, this.stencilAttachment = null, this.depthStencilAttachment = null;
              }
              function w3(t5) {
                t5.colorAttachments.forEach(h3), h3(t5.depthAttachment), h3(t5.stencilAttachment), h3(t5.depthStencilAttachment);
              }
              function S3(e3) {
                var n5 = e3.framebuffer;
                E(n5, "must not double destroy framebuffer"), t4.deleteFramebuffer(n5), e3.framebuffer = null, a3.framebufferCount--, delete _3[e3.id];
              }
              function A3(e3) {
                var n5;
                t4.bindFramebuffer(ye, e3.framebuffer);
                var i4 = e3.colorAttachments;
                for (n5 = 0; n5 < i4.length; ++n5)
                  p3(36064 + n5, i4[n5]);
                for (n5 = i4.length; n5 < r4.maxColorAttachments; ++n5)
                  t4.framebufferTexture2D(ye, 36064 + n5, be, null, 0);
                t4.framebufferTexture2D(ye, 33306, be, null, 0), t4.framebufferTexture2D(ye, 36096, be, null, 0), t4.framebufferTexture2D(ye, 36128, be, null, 0), p3(36096, e3.depthAttachment), p3(36128, e3.stencilAttachment), p3(33306, e3.depthStencilAttachment);
                var o4 = t4.checkFramebufferStatus(ye);
                t4.isContextLost() || o4 === 36053 || E.raise("framebuffer configuration not supported, status = " + Ae[o4]), t4.bindFramebuffer(ye, u3.next ? u3.next.framebuffer : null), u3.cur = u3.next, t4.getError();
              }
              function T3(t5, i4) {
                var o4 = new x3();
                function l4(t6, e3) {
                  var i5;
                  E(u3.next !== o4, "can not update framebuffer which is currently in use");
                  var a4 = 0, h4 = 0, p4 = true, m4 = true, b4 = null, _4 = true, x4 = "rgba", S4 = "uint8", T4 = 1, I3 = null, C3 = null, D2 = null, N2 = false;
                  if (typeof t6 == "number")
                    a4 = 0 | t6, h4 = 0 | e3 || a4;
                  else if (t6) {
                    E.type(t6, "object", "invalid arguments for framebuffer");
                    var k2 = t6;
                    if ("shape" in k2) {
                      var R3 = k2.shape;
                      E(Array.isArray(R3) && R3.length >= 2, "invalid shape for framebuffer"), a4 = R3[0], h4 = R3[1];
                    } else
                      "radius" in k2 && (a4 = h4 = k2.radius), "width" in k2 && (a4 = k2.width), "height" in k2 && (h4 = k2.height);
                    ("color" in k2 || "colors" in k2) && (b4 = k2.color || k2.colors, Array.isArray(b4) && E(b4.length === 1 || n4.webgl_draw_buffers, "multiple render targets not supported")), b4 || ("colorCount" in k2 && (T4 = 0 | k2.colorCount, E(T4 > 0, "invalid color buffer count")), "colorTexture" in k2 && (_4 = !!k2.colorTexture, x4 = "rgba4"), "colorType" in k2 && (S4 = k2.colorType, _4 ? (E(n4.oes_texture_float || !(S4 === "float" || S4 === "float32"), "you must enable OES_texture_float in order to use floating point framebuffer objects"), E(n4.oes_texture_half_float || !(S4 === "half float" || S4 === "float16"), "you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")) : S4 === "half float" || S4 === "float16" ? (E(n4.ext_color_buffer_half_float, "you must enable EXT_color_buffer_half_float to use 16-bit render buffers"), x4 = "rgba16f") : S4 !== "float" && S4 !== "float32" || (E(n4.webgl_color_buffer_float, "you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"), x4 = "rgba32f"), E.oneOf(S4, f3, "invalid color type")), "colorFormat" in k2 && (x4 = k2.colorFormat, s3.indexOf(x4) >= 0 ? _4 = true : c3.indexOf(x4) >= 0 ? _4 = false : _4 ? E.oneOf(k2.colorFormat, s3, "invalid color format for texture") : E.oneOf(k2.colorFormat, c3, "invalid color format for renderbuffer"))), ("depthTexture" in k2 || "depthStencilTexture" in k2) && (N2 = !(!k2.depthTexture && !k2.depthStencilTexture), E(!N2 || n4.webgl_depth_texture, "webgl_depth_texture extension not supported")), "depth" in k2 && (typeof k2.depth == "boolean" ? p4 = k2.depth : (I3 = k2.depth, m4 = false)), "stencil" in k2 && (typeof k2.stencil == "boolean" ? m4 = k2.stencil : (C3 = k2.stencil, p4 = false)), "depthStencil" in k2 && (typeof k2.depthStencil == "boolean" ? p4 = m4 = k2.depthStencil : (D2 = k2.depthStencil, p4 = false, m4 = false));
                  } else
                    a4 = h4 = 1;
                  var O3 = null, M2 = null, P3 = null, G3 = null;
                  if (Array.isArray(b4))
                    O3 = b4.map(v3);
                  else if (b4)
                    O3 = [v3(b4)];
                  else
                    for (O3 = new Array(T4), i5 = 0; i5 < T4; ++i5)
                      O3[i5] = g3(a4, h4, _4, x4, S4);
                  E(n4.webgl_draw_buffers || O3.length <= 1, "you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."), E(O3.length <= r4.maxColorAttachments, "too many color attachments, not supported"), a4 = a4 || O3[0].width, h4 = h4 || O3[0].height, I3 ? M2 = v3(I3) : p4 && !m4 && (M2 = g3(a4, h4, N2, "depth", "uint32")), C3 ? P3 = v3(C3) : m4 && !p4 && (P3 = g3(a4, h4, false, "stencil", "uint8")), D2 ? G3 = v3(D2) : !I3 && !C3 && m4 && p4 && (G3 = g3(a4, h4, N2, "depth stencil", "depth stencil")), E(!!I3 + !!C3 + !!D2 <= 1, "invalid framebuffer configuration, can specify exactly one depth/stencil attachment");
                  var L3 = null;
                  for (i5 = 0; i5 < O3.length; ++i5)
                    if (d3(O3[i5], a4, h4), E(!O3[i5] || O3[i5].texture && xe.indexOf(O3[i5].texture._texture.format) >= 0 || O3[i5].renderbuffer && Se.indexOf(O3[i5].renderbuffer._renderbuffer.format) >= 0, "framebuffer color attachment " + i5 + " is invalid"), O3[i5] && O3[i5].texture) {
                      var U2 = we[O3[i5].texture._texture.format] * Ee[O3[i5].texture._texture.type];
                      L3 === null ? L3 = U2 : E(L3 === U2, "all color attachments much have the same number of bits per pixel.");
                    }
                  return d3(M2, a4, h4), E(!M2 || M2.texture && M2.texture._texture.format === 6402 || M2.renderbuffer && M2.renderbuffer._renderbuffer.format === 33189, "invalid depth attachment for framebuffer object"), d3(P3, a4, h4), E(!P3 || P3.renderbuffer && P3.renderbuffer._renderbuffer.format === 36168, "invalid stencil attachment for framebuffer object"), d3(G3, a4, h4), E(!G3 || G3.texture && G3.texture._texture.format === 34041 || G3.renderbuffer && G3.renderbuffer._renderbuffer.format === 34041, "invalid depth-stencil attachment for framebuffer object"), w3(o4), o4.width = a4, o4.height = h4, o4.colorAttachments = O3, o4.depthAttachment = M2, o4.stencilAttachment = P3, o4.depthStencilAttachment = G3, l4.color = O3.map(y3), l4.depth = y3(M2), l4.stencil = y3(P3), l4.depthStencil = y3(G3), l4.width = o4.width, l4.height = o4.height, A3(o4), l4;
                }
                return a3.framebufferCount++, l4(t5, i4), e2(l4, { resize: function(t6, e3) {
                  E(u3.next !== o4, "can not resize a framebuffer which is currently in use");
                  var n5 = Math.max(0 | t6, 1), r5 = Math.max(0 | e3 || n5, 1);
                  if (n5 === o4.width && r5 === o4.height)
                    return l4;
                  for (var i5 = o4.colorAttachments, a4 = 0; a4 < i5.length; ++a4)
                    m3(i5[a4], n5, r5);
                  return m3(o4.depthAttachment, n5, r5), m3(o4.stencilAttachment, n5, r5), m3(o4.depthStencilAttachment, n5, r5), o4.width = l4.width = n5, o4.height = l4.height = r5, A3(o4), l4;
                }, _reglType: "framebuffer", _framebuffer: o4, destroy: function() {
                  S3(o4), w3(o4);
                }, use: function(t6) {
                  u3.setFBO({ framebuffer: l4 }, t6);
                } });
              }
              return e2(u3, { getFramebuffer: function(t5) {
                if (typeof t5 == "function" && t5._reglType === "framebuffer") {
                  var e3 = t5._framebuffer;
                  if (e3 instanceof x3)
                    return e3;
                }
                return null;
              }, create: T3, createCube: function(t5) {
                var o4 = Array(6);
                function a4(t6) {
                  var r5;
                  E(o4.indexOf(u3.next) < 0, "can not update framebuffer which is currently in use");
                  var c4, l4 = { color: null }, h4 = 0, d4 = null, p4 = "rgba", v4 = "uint8", g4 = 1;
                  if (typeof t6 == "number")
                    h4 = 0 | t6;
                  else if (t6) {
                    E.type(t6, "object", "invalid arguments for framebuffer");
                    var y4 = t6;
                    if ("shape" in y4) {
                      var m4 = y4.shape;
                      E(Array.isArray(m4) && m4.length >= 2, "invalid shape for framebuffer"), E(m4[0] === m4[1], "cube framebuffer must be square"), h4 = m4[0];
                    } else
                      "radius" in y4 && (h4 = 0 | y4.radius), "width" in y4 ? (h4 = 0 | y4.width, "height" in y4 && E(y4.height === h4, "must be square")) : "height" in y4 && (h4 = 0 | y4.height);
                    ("color" in y4 || "colors" in y4) && (d4 = y4.color || y4.colors, Array.isArray(d4) && E(d4.length === 1 || n4.webgl_draw_buffers, "multiple render targets not supported")), d4 || ("colorCount" in y4 && (g4 = 0 | y4.colorCount, E(g4 > 0, "invalid color buffer count")), "colorType" in y4 && (E.oneOf(y4.colorType, f3, "invalid color type"), v4 = y4.colorType), "colorFormat" in y4 && (p4 = y4.colorFormat, E.oneOf(y4.colorFormat, s3, "invalid color format for texture"))), "depth" in y4 && (l4.depth = y4.depth), "stencil" in y4 && (l4.stencil = y4.stencil), "depthStencil" in y4 && (l4.depthStencil = y4.depthStencil);
                  } else
                    h4 = 1;
                  if (d4)
                    if (Array.isArray(d4))
                      for (c4 = [], r5 = 0; r5 < d4.length; ++r5)
                        c4[r5] = d4[r5];
                    else
                      c4 = [d4];
                  else {
                    c4 = Array(g4);
                    var b4 = { radius: h4, format: p4, type: v4 };
                    for (r5 = 0; r5 < g4; ++r5)
                      c4[r5] = i3.createCube(b4);
                  }
                  for (l4.color = Array(c4.length), r5 = 0; r5 < c4.length; ++r5) {
                    var _4 = c4[r5];
                    E(typeof _4 == "function" && _4._reglType === "textureCube", "invalid cube map"), h4 = h4 || _4.width, E(_4.width === h4 && _4.height === h4, "invalid cube map shape"), l4.color[r5] = { target: _e, data: c4[r5] };
                  }
                  for (r5 = 0; r5 < 6; ++r5) {
                    for (var x4 = 0; x4 < c4.length; ++x4)
                      l4.color[x4].target = _e + r5;
                    r5 > 0 && (l4.depth = o4[0].depth, l4.stencil = o4[0].stencil, l4.depthStencil = o4[0].depthStencil), o4[r5] ? o4[r5](l4) : o4[r5] = T3(l4);
                  }
                  return e2(a4, { width: h4, height: h4, color: c4 });
                }
                return a4(t5), e2(a4, { faces: o4, resize: function(t6) {
                  var e3, n5 = 0 | t6;
                  if (E(n5 > 0 && n5 <= r4.maxCubeMapSize, "invalid radius for cube fbo"), n5 === a4.width)
                    return a4;
                  var i4 = a4.color;
                  for (e3 = 0; e3 < i4.length; ++e3)
                    i4[e3].resize(n5);
                  for (e3 = 0; e3 < 6; ++e3)
                    o4[e3].resize(n5);
                  return a4.width = a4.height = n5, a4;
                }, _reglType: "framebufferCube", destroy: function() {
                  o4.forEach(function(t6) {
                    t6.destroy();
                  });
                } });
              }, clear: function() {
                V(_3).forEach(S3);
              }, restore: function() {
                u3.cur = null, u3.next = null, u3.dirty = true, V(_3).forEach(function(e3) {
                  e3.framebuffer = t4.createFramebuffer(), A3(e3);
                });
              } });
            }(i2, h2, m2, S2, A2, l2), I2 = or(i2, f2, h2, m2, b2, x2, 0, T2, {}, _2, w2, { elements: null, primitive: 4, count: -1, offset: 0, instances: -1 }, y2, d2, r3), C2 = De(i2, T2, I2.procs.poll, y2, o2, h2, m2), R2 = I2.next, O2 = i2.canvas, P2 = [], G2 = [], L2 = [], X2 = [r3.onDestroy], H2 = null;
            function q2() {
              if (P2.length === 0)
                return d2 && d2.update(), void (H2 = null);
              H2 = N.next(q2), mt2();
              for (var t4 = P2.length - 1; t4 >= 0; --t4) {
                var e3 = P2[t4];
                e3 && e3(y2, null, 0);
              }
              i2.flush(), d2 && d2.update();
            }
            function Y2() {
              !H2 && P2.length > 0 && (H2 = N.next(q2));
            }
            function ft2() {
              H2 && (N.cancel(q2), H2 = null);
            }
            function lt2(t4) {
              t4.preventDefault(), a2 = true, ft2(), G2.forEach(function(t5) {
                t5();
              });
            }
            function ht2(t4) {
              i2.getError(), a2 = false, u2.restore(), w2.restore(), b2.restore(), S2.restore(), A2.restore(), T2.restore(), _2.restore(), d2 && d2.restore(), I2.procs.refresh(), Y2(), L2.forEach(function(t5) {
                t5();
              });
            }
            function dt2(t4) {
              function n4(t5, e3) {
                var n5 = {}, r5 = {};
                return Object.keys(t5).forEach(function(i4) {
                  var o4 = t5[i4];
                  if (D.isDynamic(o4))
                    r5[i4] = D.unbox(o4, i4);
                  else {
                    if (e3 && Array.isArray(o4)) {
                      for (var a3 = 0; a3 < o4.length; ++a3)
                        if (D.isDynamic(o4[a3]))
                          return void (r5[i4] = D.unbox(o4, i4));
                    }
                    n5[i4] = o4;
                  }
                }), { dynamic: r5, static: n5 };
              }
              E(!!t4, "invalid args to regl({...})"), E.type(t4, "object", "invalid args to regl({...})");
              var r4 = n4(t4.context || {}, true), i3 = n4(t4.uniforms || {}, true), o3 = n4(t4.attributes || {}, false), u3 = n4(function(t5) {
                var n5 = e2({}, t5);
                function r5(t6) {
                  if (t6 in n5) {
                    var e3 = n5[t6];
                    delete n5[t6], Object.keys(e3).forEach(function(r6) {
                      n5[t6 + "." + r6] = e3[r6];
                    });
                  }
                }
                return delete n5.uniforms, delete n5.attributes, delete n5.context, delete n5.vao, "stencil" in n5 && n5.stencil.op && (n5.stencil.opBack = n5.stencil.opFront = n5.stencil.op, delete n5.stencil.op), r5("blend"), r5("depth"), r5("cull"), r5("stencil"), r5("polygonOffset"), r5("scissor"), r5("sample"), "vao" in t5 && (n5.vao = t5.vao), n5;
              }(t4), false), s3 = { gpuTime: 0, cpuTime: 0, count: 0 }, c3 = I2.compile(u3, o3, i3, r4, s3), f3 = c3.draw, l3 = c3.batch, h3 = c3.scope, d3 = [];
              return e2(function(t5, e3) {
                var n5;
                if (a2 && E.raise("context lost"), typeof t5 == "function")
                  return h3.call(this, null, t5, 0);
                if (typeof e3 == "function")
                  if (typeof t5 == "number")
                    for (n5 = 0; n5 < t5; ++n5)
                      h3.call(this, null, e3, n5);
                  else {
                    if (!Array.isArray(t5))
                      return h3.call(this, t5, e3, 0);
                    for (n5 = 0; n5 < t5.length; ++n5)
                      h3.call(this, t5[n5], e3, n5);
                  }
                else if (typeof t5 == "number") {
                  if (t5 > 0)
                    return l3.call(this, function(t6) {
                      for (; d3.length < t6; )
                        d3.push(null);
                      return d3;
                    }(0 | t5), 0 | t5);
                } else {
                  if (!Array.isArray(t5))
                    return f3.call(this, t5);
                  if (t5.length)
                    return l3.call(this, t5, t5.length);
                }
              }, { stats: s3, destroy: function() {
                c3.destroy();
              } });
            }
            O2 && (O2.addEventListener(ur, lt2, false), O2.addEventListener(sr, ht2, false));
            var pt2 = T2.setFBO = dt2({ framebuffer: D.define.call(null, 1, "framebuffer") });
            function vt2(t4, e3) {
              var n4 = 0;
              I2.procs.poll();
              var r4 = e3.color;
              r4 && (i2.clearColor(+r4[0] || 0, +r4[1] || 0, +r4[2] || 0, +r4[3] || 0), n4 |= 16384), "depth" in e3 && (i2.clearDepth(+e3.depth), n4 |= 256), "stencil" in e3 && (i2.clearStencil(0 | e3.stencil), n4 |= 1024), E(!!n4, "called regl.clear with no buffer specified"), i2.clear(n4);
            }
            function gt2(t4) {
              return E.type(t4, "function", "regl.frame() callback must be a function"), P2.push(t4), Y2(), { cancel: function() {
                var e3 = cr(P2, t4);
                E(e3 >= 0, "cannot cancel a frame twice"), P2[e3] = function t5() {
                  var e4 = cr(P2, t5);
                  P2[e4] = P2[P2.length - 1], P2.length -= 1, P2.length <= 0 && ft2();
                };
              } };
            }
            function yt2() {
              var t4 = R2.viewport, e3 = R2.scissor_box;
              t4[0] = t4[1] = e3[0] = e3[1] = 0, y2.viewportWidth = y2.framebufferWidth = y2.drawingBufferWidth = t4[2] = e3[2] = i2.drawingBufferWidth, y2.viewportHeight = y2.framebufferHeight = y2.drawingBufferHeight = t4[3] = e3[3] = i2.drawingBufferHeight;
            }
            function mt2() {
              y2.tick += 1, y2.time = _t2(), yt2(), I2.procs.poll();
            }
            function bt2() {
              S2.refresh(), yt2(), I2.procs.refresh(), d2 && d2.update();
            }
            function _t2() {
              return (k() - p2) / 1e3;
            }
            bt2();
            var xt2 = e2(dt2, { clear: function(t4) {
              if (E(typeof t4 == "object" && t4, "regl.clear() takes an object as input"), "framebuffer" in t4)
                if (t4.framebuffer && t4.framebuffer_reglType === "framebufferCube")
                  for (var n4 = 0; n4 < 6; ++n4)
                    pt2(e2({ framebuffer: t4.framebuffer.faces[n4] }, t4), vt2);
                else
                  pt2(t4, vt2);
              else
                vt2(0, t4);
            }, prop: D.define.bind(null, 1), context: D.define.bind(null, 2), this: D.define.bind(null, 3), draw: dt2({}), buffer: function(t4) {
              return b2.create(t4, 34962, false, false);
            }, elements: function(t4) {
              return x2.create(t4, false);
            }, texture: S2.create2D, cube: S2.createCube, renderbuffer: A2.create, framebuffer: T2.create, framebufferCube: T2.createCube, vao: _2.createVAO, attributes: o2, frame: gt2, on: function(t4, e3) {
              var n4;
              switch (E.type(e3, "function", "listener callback must be a function"), t4) {
                case "frame":
                  return gt2(e3);
                case "lost":
                  n4 = G2;
                  break;
                case "restore":
                  n4 = L2;
                  break;
                case "destroy":
                  n4 = X2;
                  break;
                default:
                  E.raise("invalid event, must be one of frame,lost,restore,destroy");
              }
              return n4.push(e3), { cancel: function() {
                for (var t5 = 0; t5 < n4.length; ++t5)
                  if (n4[t5] === e3)
                    return n4[t5] = n4[n4.length - 1], void n4.pop();
              } };
            }, limits: m2, hasExtension: function(t4) {
              return m2.extensions.indexOf(t4.toLowerCase()) >= 0;
            }, read: C2, destroy: function() {
              P2.length = 0, ft2(), O2 && (O2.removeEventListener(ur, lt2), O2.removeEventListener(sr, ht2)), w2.clear(), T2.clear(), A2.clear(), S2.clear(), x2.clear(), b2.clear(), _2.clear(), d2 && d2.clear(), X2.forEach(function(t4) {
                t4();
              });
            }, _gl: i2, _refresh: bt2, poll: function() {
              mt2(), d2 && d2.update();
            }, now: _t2, stats: l2 });
            return r3.onDone(null, xt2), xt2;
          };
        }();
      } }, e = {};
      function n(r2) {
        var i = e[r2];
        if (i !== void 0)
          return i.exports;
        var o = e[r2] = { id: r2, loaded: false, exports: {} };
        return t[r2].call(o.exports, o, o.exports, n), o.loaded = true, o.exports;
      }
      n.n = (t2) => {
        var e2 = t2 && t2.__esModule ? () => t2.default : () => t2;
        return n.d(e2, { a: e2 }), e2;
      }, n.d = (t2, e2) => {
        for (var r2 in e2)
          n.o(e2, r2) && !n.o(t2, r2) && Object.defineProperty(t2, r2, { enumerable: true, get: e2[r2] });
      }, n.g = function() {
        if (typeof globalThis == "object")
          return globalThis;
        try {
          return this || new Function("return this")();
        } catch (t2) {
          if (typeof window == "object")
            return window;
        }
      }(), n.o = (t2, e2) => Object.prototype.hasOwnProperty.call(t2, e2), n.r = (t2) => {
        typeof Symbol != "undefined" && Symbol.toStringTag && Object.defineProperty(t2, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t2, "__esModule", { value: true });
      }, n.nmd = (t2) => (t2.paths = [], t2.children || (t2.children = []), t2);
      var r = {};
      return (() => {
        n(9216);
        var t2, e2 = (t2 = n(2680)) && t2.__esModule ? t2 : { default: t2 };
        e2.default._babelPolyfill && typeof console != "undefined" && console.warn && console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."), e2.default._babelPolyfill = true;
      })(), (() => {
        n.r(r), n.d(r, { CircularLayout: () => Ot, ComboForceLayout: () => nd, ConcentricLayout: () => dr, DagreLayout: () => Mn, ERLayout: () => Sd, ForceAtlas2Layout: () => sd, ForceLayout: () => Dt, FruchtermanGPULayout: () => Zh, FruchtermanLayout: () => yr, GForceGPULayout: () => td, GForceLayout: () => k, GridLayout: () => T, Layout: () => Ad, Layouts: () => Td, MDSLayout: () => vr, RadialLayout: () => lr, RandomLayout: () => C, getLayoutByName: () => S, registerLayout: () => w, unRegisterLayout: () => E });
        var t2 = function() {
          function t3() {
            this.nodes = [], this.edges = [], this.combos = [], this.positions = [], this.destroyed = false, this.onLayoutEnd = function() {
            };
          }
          return t3.prototype.layout = function(t4) {
            return this.init(t4), this.execute(true);
          }, t3.prototype.init = function(t4) {
            this.nodes = t4.nodes || [], this.edges = t4.edges || [], this.combos = t4.combos || [];
          }, t3.prototype.execute = function(t4) {
          }, t3.prototype.executeWithWorker = function() {
          }, t3.prototype.getDefaultCfg = function() {
            return {};
          }, t3.prototype.updateCfg = function(t4) {
            t4 && Object.assign(this, t4);
          }, t3.prototype.getType = function() {
            return "base";
          }, t3.prototype.destroy = function() {
            this.nodes = null, this.edges = null, this.combos = null, this.positions = null, this.destroyed = true;
          }, t3;
        }(), e2 = function(t3) {
          return typeof t3 == "string";
        }, o = Array.isArray, a = function(t3) {
          return typeof t3 == "number";
        }, u = function(t3) {
          return Number.isNaN(Number(t3));
        };
        function s(t3) {
          return s = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(t4) {
            return typeof t4;
          } : function(t4) {
            return t4 && typeof Symbol == "function" && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
          }, s(t3);
        }
        var c, f = function() {
          return f = Object.assign || function(t3) {
            for (var e3, n2 = 1, r2 = arguments.length; n2 < r2; n2++)
              for (var i in e3 = arguments[n2])
                Object.prototype.hasOwnProperty.call(e3, i) && (t3[i] = e3[i]);
            return t3;
          }, f.apply(this, arguments);
        }, l = function(t3) {
          return t3 !== null && s(t3) === "object";
        }, h = function t3(e3) {
          if (e3 === null)
            return e3;
          if (e3 instanceof Date)
            return new Date(e3.getTime());
          if (e3 instanceof Array) {
            var n2 = [];
            return e3.forEach(function(t4) {
              n2.push(t4);
            }), n2.map(function(e4) {
              return t3(e4);
            });
          }
          if (s(e3) === "object" && e3 !== {}) {
            var r2 = f({}, e3);
            return Object.keys(r2).forEach(function(e4) {
              r2[e4] = t3(r2[e4]);
            }), r2;
          }
          return e3;
        }, d = function(t3, e3) {
          var n2 = t3[e3];
          return l(n2) ? n2.cell : n2;
        }, p = function(t3, e3, n2) {
          for (var r2 = [], i = 0; i < t3; i++)
            r2[i] = 0;
          return n2 ? (n2.forEach(function(t4) {
            var n3 = d(t4, "source"), i2 = d(t4, "target");
            n3 && (r2[e3[n3]] += 1), i2 && (r2[e3[i2]] += 1);
          }), r2) : r2;
        }, v = function(t3) {
          for (var e3 = [], n2 = t3.length, r2 = 0; r2 < n2; r2 += 1) {
            e3[r2] = [];
            for (var i = 0; i < n2; i += 1)
              r2 === i ? e3[r2][i] = 0 : t3[r2][i] !== 0 && t3[r2][i] ? e3[r2][i] = t3[r2][i] : e3[r2][i] = 1 / 0;
          }
          for (var o2 = 0; o2 < n2; o2 += 1)
            for (r2 = 0; r2 < n2; r2 += 1)
              for (i = 0; i < n2; i += 1)
                e3[r2][i] > e3[r2][o2] + e3[o2][i] && (e3[r2][i] = e3[r2][o2] + e3[o2][i]);
          return e3;
        }, g = function(t3, e3) {
          var n2 = t3.nodes, r2 = t3.edges, i = [], o2 = {};
          if (!n2)
            throw new Error("invalid nodes data!");
          return n2 && n2.forEach(function(t4, e4) {
            o2[t4.id] = e4, i.push([]);
          }), r2 && r2.forEach(function(t4) {
            var n3 = d(t4, "source"), r3 = d(t4, "target"), a2 = o2[n3], u2 = o2[r3];
            i[a2][u2] = 1, e3 || (i[u2][a2] = 1);
          }), i;
        }, y = function t3(e3, n2) {
          if (e3 && e3.children) {
            for (var r2 = e3.children.length - 1; r2 >= 0; r2--)
              if (!t3(e3.children[r2], n2))
                return;
          }
          return !!n2(e3);
        }, m = function(t3, e3) {
          typeof e3 == "function" && y(t3, e3);
        }, b = function(t3) {
          return typeof t3 == "function";
        }, _ = (c = function(t3, e3) {
          return c = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
            t4.__proto__ = e4;
          } || function(t4, e4) {
            for (var n2 in e4)
              Object.prototype.hasOwnProperty.call(e4, n2) && (t4[n2] = e4[n2]);
          }, c(t3, e3);
        }, function(t3, e3) {
          if (typeof e3 != "function" && e3 !== null)
            throw new TypeError("Class extends value " + String(e3) + " is not a constructor or null");
          function n2() {
            this.constructor = t3;
          }
          c(t3, e3), t3.prototype = e3 === null ? Object.create(e3) : (n2.prototype = e3.prototype, new n2());
        }), x = new Map(), w = function(e3, n2) {
          if (x.get(e3) && console.warn("The layout with the name " + e3 + " exists already, it will be overridden"), l(n2)) {
            var r2 = function(t3) {
              function e4(e5) {
                var r3 = t3.call(this) || this, i = r3, o2 = {}, a2 = i.getDefaultCfg();
                return Object.assign(o2, a2, n2, e5), Object.keys(o2).forEach(function(t4) {
                  var e6 = o2[t4];
                  i[t4] = e6;
                }), r3;
              }
              return _(e4, t3), e4;
            }(t2);
            x.set(e3, r2);
          } else
            x.set(e3, n2);
          return x.get(e3);
        }, E = function(t3) {
          x.has(t3) && x.delete(t3);
        }, S = function(t3) {
          return x.has(t3) ? x.get(t3) : null;
        }, A = function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4)
                Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if (typeof n2 != "function" && n2 !== null)
              throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function r2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = n2 === null ? Object.create(n2) : (r2.prototype = n2.prototype, new r2());
          };
        }(), T = function(t3) {
          function n2(e3) {
            var n3 = t3.call(this) || this;
            return n3.begin = [0, 0], n3.preventOverlap = true, n3.preventOverlapPadding = 10, n3.condense = false, n3.sortBy = "degree", n3.nodeSize = 30, n3.nodes = [], n3.edges = [], n3.width = 300, n3.height = 300, n3.row = 0, n3.col = 0, n3.cellWidth = 0, n3.cellHeight = 0, n3.cellUsed = {}, n3.id2manPos = {}, n3.onLayoutEnd = function() {
            }, n3.updateCfg(e3), n3;
          }
          return A(n2, t3), n2.prototype.getDefaultCfg = function() {
            return { begin: [0, 0], preventOverlap: true, preventOverlapPadding: 10, condense: false, rows: void 0, cols: void 0, position: void 0, sortBy: "degree", nodeSize: 30 };
          }, n2.prototype.execute = function() {
            var t4 = this, n3 = t4.nodes, r2 = t4.edges, i = n3.length, s2 = t4.begin;
            if (i === 0)
              return t4.onLayoutEnd && t4.onLayoutEnd(), { nodes: n3, edges: r2 };
            if (i === 1)
              return n3[0].x = s2[0], n3[0].y = s2[1], t4.onLayoutEnd && t4.onLayoutEnd(), { nodes: n3, edges: r2 };
            var c2 = [];
            n3.forEach(function(t5) {
              c2.push(t5);
            });
            var f2 = {};
            if (c2.forEach(function(t5, e3) {
              f2[t5.id] = e3;
            }), (t4.sortBy === "degree" || !e2(t4.sortBy) || c2[0][t4.sortBy] === void 0) && (t4.sortBy = "degree", u(n3[0].degree))) {
              var h2 = p(c2.length, f2, r2);
              c2.forEach(function(t5, e3) {
                t5.degree = h2[e3];
              });
            }
            c2.sort(function(e3, n4) {
              return n4[t4.sortBy] - e3[t4.sortBy];
            }), t4.width || typeof window == "undefined" || (t4.width = window.innerWidth), t4.height || typeof window == "undefined" || (t4.height = window.innerHeight);
            var d2 = t4.rows, v2 = t4.cols != null ? t4.cols : t4.columns;
            if (t4.cells = i, d2 != null && v2 != null ? (t4.rows = d2, t4.cols = v2) : d2 != null && v2 == null ? (t4.rows = d2, t4.cols = Math.ceil(t4.cells / t4.rows)) : d2 == null && v2 != null ? (t4.cols = v2, t4.rows = Math.ceil(t4.cells / t4.cols)) : (t4.splits = Math.sqrt(t4.cells * t4.height / t4.width), t4.rows = Math.round(t4.splits), t4.cols = Math.round(t4.width / t4.height * t4.splits)), t4.cols * t4.rows > t4.cells)
              ((y2 = t4.small()) - 1) * (g2 = t4.large()) >= t4.cells ? t4.small(y2 - 1) : (g2 - 1) * y2 >= t4.cells && t4.large(g2 - 1);
            else
              for (; t4.cols * t4.rows < t4.cells; ) {
                var g2, y2 = t4.small();
                ((g2 = t4.large()) + 1) * y2 >= t4.cells ? t4.large(g2 + 1) : t4.small(y2 + 1);
              }
            t4.cellWidth = t4.width / t4.cols, t4.cellHeight = t4.height / t4.rows, t4.condense && (t4.cellWidth = 0, t4.cellHeight = 0), t4.preventOverlap && c2.forEach(function(e3) {
              var n4, r3;
              e3.x && e3.y || (e3.x = 0, e3.y = 0), o(e3.size) ? (n4 = e3.size[0], r3 = e3.size[1]) : a(e3.size) ? (n4 = e3.size, r3 = e3.size) : l(e3.size) && (n4 = e3.size.width, r3 = e3.size.height), n4 !== void 0 && r3 !== void 0 || (o(t4.nodeSize) ? (n4 = t4.nodeSize[0], r3 = t4.nodeSize[1]) : a(t4.nodeSize) ? (n4 = t4.nodeSize, r3 = t4.nodeSize) : (n4 = 30, r3 = 30));
              var i2 = t4.preventOverlapPadding, u2 = n4 + i2, s3 = r3 + i2;
              t4.cellWidth = Math.max(t4.cellWidth, u2), t4.cellHeight = Math.max(t4.cellHeight, s3);
            }), t4.cellUsed = {}, t4.row = 0, t4.col = 0, t4.id2manPos = {};
            for (var m2 = 0; m2 < c2.length; m2++) {
              var b2 = c2[m2], _2 = void 0;
              if (t4.position && (_2 = t4.position(b2)), _2 && (_2.row !== void 0 || _2.col !== void 0)) {
                var x2 = { row: _2.row, col: _2.col };
                if (x2.col === void 0)
                  for (x2.col = 0; t4.used(x2.row, x2.col); )
                    x2.col++;
                else if (x2.row === void 0)
                  for (x2.row = 0; t4.used(x2.row, x2.col); )
                    x2.row++;
                t4.id2manPos[b2.id] = x2, t4.use(x2.row, x2.col);
              }
              t4.getPos(b2);
            }
            return t4.onLayoutEnd && t4.onLayoutEnd(), { edges: r2, nodes: c2 };
          }, n2.prototype.small = function(t4) {
            var e3, n3 = this, r2 = n3.rows || 5, i = n3.cols || 5;
            return t4 == null ? e3 = Math.min(r2, i) : Math.min(r2, i) === n3.rows ? n3.rows = t4 : n3.cols = t4, e3;
          }, n2.prototype.large = function(t4) {
            var e3, n3 = this, r2 = n3.rows || 5, i = n3.cols || 5;
            return t4 == null ? e3 = Math.max(r2, i) : Math.max(r2, i) === n3.rows ? n3.rows = t4 : n3.cols = t4, e3;
          }, n2.prototype.used = function(t4, e3) {
            return this.cellUsed["c-" + t4 + "-" + e3] || false;
          }, n2.prototype.use = function(t4, e3) {
            this.cellUsed["c-" + t4 + "-" + e3] = true;
          }, n2.prototype.moveToNextCell = function() {
            var t4 = this, e3 = t4.cols || 5;
            t4.col++, t4.col >= e3 && (t4.col = 0, t4.row++);
          }, n2.prototype.getPos = function(t4) {
            var e3, n3, r2 = this, i = r2.begin, o2 = r2.cellWidth, a2 = r2.cellHeight, u2 = r2.id2manPos[t4.id];
            if (u2)
              e3 = u2.col * o2 + o2 / 2 + i[0], n3 = u2.row * a2 + a2 / 2 + i[1];
            else {
              for (; r2.used(r2.row, r2.col); )
                r2.moveToNextCell();
              e3 = r2.col * o2 + o2 / 2 + i[0], n3 = r2.row * a2 + a2 / 2 + i[1], r2.use(r2.row, r2.col), r2.moveToNextCell();
            }
            t4.x = e3, t4.y = n3;
          }, n2.prototype.getType = function() {
            return "grid";
          }, n2;
        }(t2), I = function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4)
                Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if (typeof n2 != "function" && n2 !== null)
              throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function r2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = n2 === null ? Object.create(n2) : (r2.prototype = n2.prototype, new r2());
          };
        }(), C = function(t3) {
          function e3(e4) {
            var n2 = t3.call(this) || this;
            return n2.center = [0, 0], n2.width = 300, n2.height = 300, n2.nodes = [], n2.edges = [], n2.onLayoutEnd = function() {
            }, n2.updateCfg(e4), n2;
          }
          return I(e3, t3), e3.prototype.getDefaultCfg = function() {
            return { center: [0, 0], width: 300, height: 300 };
          }, e3.prototype.execute = function() {
            var t4 = this, e4 = t4.nodes, n2 = t4.center;
            return t4.width || typeof window == "undefined" || (t4.width = window.innerWidth), t4.height || typeof window == "undefined" || (t4.height = window.innerHeight), e4 && e4.forEach(function(e5) {
              e5.x = 0.9 * (Math.random() - 0.5) * t4.width + n2[0], e5.y = 0.9 * (Math.random() - 0.5) * t4.height + n2[1];
            }), t4.onLayoutEnd && t4.onLayoutEnd(), { nodes: e4, edges: this.edges };
          }, e3.prototype.getType = function() {
            return "random";
          }, e3;
        }(t2), D = function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4)
                Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if (typeof n2 != "function" && n2 !== null)
              throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function r2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = n2 === null ? Object.create(n2) : (r2.prototype = n2.prototype, new r2());
          };
        }(), N = function(t3, e3) {
          return t3 ? a(t3) ? function(e4) {
            return t3;
          } : t3 : function(t4) {
            return e3 || 1;
          };
        }, k = function(t3) {
          function e3(e4) {
            var n2 = t3.call(this) || this;
            return n2.maxIteration = 1e3, n2.workerEnabled = false, n2.edgeStrength = 200, n2.nodeStrength = 1e3, n2.coulombDisScale = 5e-3, n2.damping = 0.9, n2.maxSpeed = 1e3, n2.minMovement = 0.5, n2.interval = 0.02, n2.factor = 1, n2.linkDistance = 1, n2.gravity = 10, n2.preventOverlap = true, n2.tick = function() {
            }, n2.nodes = [], n2.edges = [], n2.width = 300, n2.height = 300, n2.nodeMap = {}, n2.nodeIdxMap = {}, n2.updateCfg(e4), n2;
          }
          return D(e3, t3), e3.prototype.getDefaultCfg = function() {
            return { maxIteration: 500, gravity: 10, enableTick: true };
          }, e3.prototype.execute = function() {
            var t4, e4, n2 = this, r2 = n2.nodes;
            if (n2.timeInterval !== void 0 && typeof window != "undefined" && window.clearInterval(n2.timeInterval), r2 && r2.length !== 0) {
              n2.width || typeof window == "undefined" || (n2.width = window.innerWidth), n2.height || typeof window == "undefined" || (n2.height = window.innerHeight), n2.center || (n2.center = [n2.width / 2, n2.height / 2]);
              var i = n2.center;
              if (r2.length === 1)
                return r2[0].x = i[0], r2[0].y = i[1], void ((e4 = n2.onLayoutEnd) === null || e4 === void 0 || e4.call(n2));
              var u2 = {}, s2 = {};
              r2.forEach(function(t5, e5) {
                a(t5.x) || (t5.x = Math.random() * n2.width), a(t5.y) || (t5.y = Math.random() * n2.height), u2[t5.id] = t5, s2[t5.id] = e5;
              }), n2.nodeMap = u2, n2.nodeIdxMap = s2, n2.linkDistance = N(n2.linkDistance, 1), n2.nodeStrength = N(n2.nodeStrength, 1), n2.edgeStrength = N(n2.edgeStrength, 1);
              var c2, f2 = n2.nodeSize;
              if (n2.preventOverlap) {
                var h2, d2 = n2.nodeSpacing;
                h2 = a(d2) ? function() {
                  return d2;
                } : b(d2) ? d2 : function() {
                  return 0;
                }, c2 = f2 ? o(f2) ? function(t5) {
                  return (f2[0] > f2[1] ? f2[0] : f2[1]) + h2(t5);
                } : function(t5) {
                  return f2 + h2(t5);
                } : function(t5) {
                  return t5.size ? o(t5.size) ? (t5.size[0] > t5.size[1] ? t5.size[0] : t5.size[1]) + h2(t5) : l(t5.size) ? (t5.size.width > t5.size.height ? t5.size.width : t5.size.height) + h2(t5) : t5.size + h2(t5) : 10 + h2(t5);
                };
              }
              n2.nodeSize = c2;
              var v2 = n2.edges;
              n2.degrees = p(r2.length, n2.nodeIdxMap, v2), n2.getMass || (n2.getMass = function(t5) {
                return n2.degrees[n2.nodeIdxMap[t5.id]] || 1;
              }), n2.run();
            } else
              (t4 = n2.onLayoutEnd) === null || t4 === void 0 || t4.call(n2);
          }, e3.prototype.run = function() {
            var t4, e4 = this, n2 = e4.maxIteration, r2 = e4.nodes, i = e4.workerEnabled, o2 = e4.minMovement;
            if (r2)
              if (i) {
                for (var a2 = 0; a2 < n2; a2++) {
                  var u2 = e4.runOneStep(a2);
                  if (e4.reachMoveThreshold(r2, u2, o2))
                    break;
                }
                (t4 = e4.onLayoutEnd) === null || t4 === void 0 || t4.call(e4);
              } else {
                if (typeof window == "undefined")
                  return;
                var s2 = 0;
                this.timeInterval = window.setInterval(function() {
                  var t5, i2;
                  if (r2) {
                    var a3 = e4.runOneStep(s2) || [];
                    e4.reachMoveThreshold(r2, a3, o2) && ((t5 = e4.onLayoutEnd) === null || t5 === void 0 || t5.call(e4), window.clearInterval(e4.timeInterval)), ++s2 >= n2 && ((i2 = e4.onLayoutEnd) === null || i2 === void 0 || i2.call(e4), window.clearInterval(e4.timeInterval));
                  }
                }, 0);
              }
          }, e3.prototype.reachMoveThreshold = function(t4, e4, n2) {
            var r2 = 0;
            return t4.forEach(function(t5, n3) {
              var i = t5.x - e4[n3].x, o2 = t5.y - e4[n3].y;
              r2 += Math.sqrt(i * i + o2 * o2);
            }), (r2 /= t4.length) < n2;
          }, e3.prototype.runOneStep = function(t4) {
            var e4, n2 = this, r2 = n2.nodes, i = n2.edges, o2 = [], a2 = [];
            if (r2) {
              r2.forEach(function(t5, e5) {
                o2[2 * e5] = 0, o2[2 * e5 + 1] = 0, a2[2 * e5] = 0, a2[2 * e5 + 1] = 0;
              }), n2.calRepulsive(o2, r2), i && n2.calAttractive(o2, i), n2.calGravity(o2, r2);
              var u2 = Math.max(0.02, n2.interval - 2e-3 * t4);
              n2.updateVelocity(o2, a2, u2, r2);
              var s2 = [];
              return r2.forEach(function(t5) {
                s2.push({ x: t5.x, y: t5.y });
              }), n2.updatePosition(a2, u2, r2), (e4 = n2.tick) === null || e4 === void 0 || e4.call(n2), s2;
            }
          }, e3.prototype.calRepulsive = function(t4, e4) {
            var n2 = this, r2 = n2.getMass, i = n2.nodeStrength, o2 = n2.factor, a2 = n2.coulombDisScale, u2 = n2.preventOverlap, s2 = n2.nodeSize;
            e4.forEach(function(n3, c2) {
              var f2 = r2 ? r2(n3) : 1;
              e4.forEach(function(e5, l2) {
                if (!(c2 >= l2)) {
                  var h2 = n3.x - e5.x, d2 = n3.y - e5.y, p2 = Math.sqrt(h2 * h2 + d2 * d2) + 0.01, v2 = (p2 + 0.1) * a2, g2 = h2 / p2, y2 = d2 / p2, m2 = (i(n3) + i(e5)) / 2 * o2 / (v2 * v2), b2 = r2 ? r2(e5) : 1;
                  if (t4[2 * c2] += g2 * m2, t4[2 * c2 + 1] += y2 * m2, t4[2 * l2] -= g2 * m2, t4[2 * l2 + 1] -= y2 * m2, u2 && p2 < (s2(n3) + s2(e5)) / 2) {
                    var _2 = (i(n3) + i(e5)) / 2 / (p2 * p2);
                    t4[2 * c2] += g2 * _2 / f2, t4[2 * c2 + 1] += y2 * _2 / f2, t4[2 * l2] -= g2 * _2 / b2, t4[2 * l2 + 1] -= y2 * _2 / b2;
                  }
                }
              });
            });
          }, e3.prototype.calAttractive = function(t4, e4) {
            var n2 = this, r2 = n2.nodeMap, i = n2.nodeIdxMap, o2 = n2.linkDistance, a2 = n2.edgeStrength, u2 = n2.getMass;
            e4.forEach(function(e5, n3) {
              var s2 = d(e5, "source"), c2 = d(e5, "target"), f2 = r2[s2], l2 = r2[c2], h2 = l2.x - f2.x, p2 = l2.y - f2.y, v2 = Math.sqrt(h2 * h2 + p2 * p2) + 0.01, g2 = h2 / v2, y2 = p2 / v2, m2 = ((o2(e5) || 1) - v2) * a2(e5), b2 = i[s2], _2 = i[c2], x2 = u2 ? u2(f2) : 1, w2 = u2 ? u2(l2) : 1;
              t4[2 * b2] -= g2 * m2 / x2, t4[2 * b2 + 1] -= y2 * m2 / x2, t4[2 * _2] += g2 * m2 / w2, t4[2 * _2 + 1] += y2 * m2 / w2;
            });
          }, e3.prototype.calGravity = function(t4, e4) {
            for (var n2 = this, r2 = n2.center, i = n2.gravity, o2 = n2.degrees, u2 = e4.length, s2 = 0; s2 < u2; s2++) {
              var c2 = e4[s2], f2 = c2.x - r2[0], l2 = c2.y - r2[1], h2 = i;
              if (n2.getCenter) {
                var d2 = n2.getCenter(c2, o2[s2]);
                d2 && a(d2[0]) && a(d2[1]) && a(d2[2]) && (f2 = c2.x - d2[0], l2 = c2.y - d2[1], h2 = d2[2]);
              }
              h2 && (t4[2 * s2] -= h2 * f2, t4[2 * s2 + 1] -= h2 * l2);
            }
          }, e3.prototype.updateVelocity = function(t4, e4, n2, r2) {
            var i = this, o2 = n2 * i.damping;
            r2.forEach(function(n3, r3) {
              var a2 = t4[2 * r3] * o2 || 0.01, u2 = t4[2 * r3 + 1] * o2 || 0.01, s2 = Math.sqrt(a2 * a2 + u2 * u2);
              if (s2 > i.maxSpeed) {
                var c2 = i.maxSpeed / s2;
                a2 *= c2, u2 *= c2;
              }
              e4[2 * r3] = a2, e4[2 * r3 + 1] = u2;
            });
          }, e3.prototype.updatePosition = function(t4, e4, n2) {
            n2.forEach(function(n3, r2) {
              if (a(n3.fx) && a(n3.fy))
                return n3.x = n3.fx, void (n3.y = n3.fy);
              var i = t4[2 * r2] * e4, o2 = t4[2 * r2 + 1] * e4;
              n3.x += i, n3.y += o2;
            });
          }, e3.prototype.stop = function() {
            this.timeInterval && typeof window != "undefined" && window.clearInterval(this.timeInterval);
          }, e3.prototype.destroy = function() {
            var t4 = this;
            t4.stop(), t4.tick = null, t4.nodes = null, t4.edges = null, t4.destroyed = true;
          }, e3.prototype.getType = function() {
            return "gForce";
          }, e3;
        }(t2);
        function R(t3, e3, n2, r2) {
          if (isNaN(e3) || isNaN(n2))
            return t3;
          var i, o2, a2, u2, s2, c2, f2, l2, h2, d2 = t3._root, p2 = { data: r2 }, v2 = t3._x0, g2 = t3._y0, y2 = t3._x1, m2 = t3._y1;
          if (!d2)
            return t3._root = p2, t3;
          for (; d2.length; )
            if ((c2 = e3 >= (o2 = (v2 + y2) / 2)) ? v2 = o2 : y2 = o2, (f2 = n2 >= (a2 = (g2 + m2) / 2)) ? g2 = a2 : m2 = a2, i = d2, !(d2 = d2[l2 = f2 << 1 | c2]))
              return i[l2] = p2, t3;
          if (u2 = +t3._x.call(null, d2.data), s2 = +t3._y.call(null, d2.data), e3 === u2 && n2 === s2)
            return p2.next = d2, i ? i[l2] = p2 : t3._root = p2, t3;
          do {
            i = i ? i[l2] = new Array(4) : t3._root = new Array(4), (c2 = e3 >= (o2 = (v2 + y2) / 2)) ? v2 = o2 : y2 = o2, (f2 = n2 >= (a2 = (g2 + m2) / 2)) ? g2 = a2 : m2 = a2;
          } while ((l2 = f2 << 1 | c2) == (h2 = (s2 >= a2) << 1 | u2 >= o2));
          return i[h2] = d2, i[l2] = p2, t3;
        }
        function O(t3, e3, n2, r2, i) {
          this.node = t3, this.x0 = e3, this.y0 = n2, this.x1 = r2, this.y1 = i;
        }
        function M(t3) {
          return t3[0];
        }
        function P(t3) {
          return t3[1];
        }
        function G(t3, e3, n2) {
          var r2 = new L(e3 == null ? M : e3, n2 == null ? P : n2, NaN, NaN, NaN, NaN);
          return t3 == null ? r2 : r2.addAll(t3);
        }
        function L(t3, e3, n2, r2, i, o2) {
          this._x = t3, this._y = e3, this._x0 = n2, this._y0 = r2, this._x1 = i, this._y1 = o2, this._root = void 0;
        }
        function U(t3) {
          for (var e3 = { data: t3.data }, n2 = e3; t3 = t3.next; )
            n2 = n2.next = { data: t3.data };
          return e3;
        }
        var F = G.prototype = L.prototype;
        function B(t3) {
          return function() {
            return t3;
          };
        }
        function z(t3) {
          return 1e-6 * (t3() - 0.5);
        }
        F.copy = function() {
          var t3, e3, n2 = new L(this._x, this._y, this._x0, this._y0, this._x1, this._y1), r2 = this._root;
          if (!r2)
            return n2;
          if (!r2.length)
            return n2._root = U(r2), n2;
          for (t3 = [{ source: r2, target: n2._root = new Array(4) }]; r2 = t3.pop(); )
            for (var i = 0; i < 4; ++i)
              (e3 = r2.source[i]) && (e3.length ? t3.push({ source: e3, target: r2.target[i] = new Array(4) }) : r2.target[i] = U(e3));
          return n2;
        }, F.add = function(t3) {
          const e3 = +this._x.call(null, t3), n2 = +this._y.call(null, t3);
          return R(this.cover(e3, n2), e3, n2, t3);
        }, F.addAll = function(t3) {
          var e3, n2, r2, i, o2 = t3.length, a2 = new Array(o2), u2 = new Array(o2), s2 = 1 / 0, c2 = 1 / 0, f2 = -1 / 0, l2 = -1 / 0;
          for (n2 = 0; n2 < o2; ++n2)
            isNaN(r2 = +this._x.call(null, e3 = t3[n2])) || isNaN(i = +this._y.call(null, e3)) || (a2[n2] = r2, u2[n2] = i, r2 < s2 && (s2 = r2), r2 > f2 && (f2 = r2), i < c2 && (c2 = i), i > l2 && (l2 = i));
          if (s2 > f2 || c2 > l2)
            return this;
          for (this.cover(s2, c2).cover(f2, l2), n2 = 0; n2 < o2; ++n2)
            R(this, a2[n2], u2[n2], t3[n2]);
          return this;
        }, F.cover = function(t3, e3) {
          if (isNaN(t3 = +t3) || isNaN(e3 = +e3))
            return this;
          var n2 = this._x0, r2 = this._y0, i = this._x1, o2 = this._y1;
          if (isNaN(n2))
            i = (n2 = Math.floor(t3)) + 1, o2 = (r2 = Math.floor(e3)) + 1;
          else {
            for (var a2, u2, s2 = i - n2 || 1, c2 = this._root; n2 > t3 || t3 >= i || r2 > e3 || e3 >= o2; )
              switch (u2 = (e3 < r2) << 1 | t3 < n2, (a2 = new Array(4))[u2] = c2, c2 = a2, s2 *= 2, u2) {
                case 0:
                  i = n2 + s2, o2 = r2 + s2;
                  break;
                case 1:
                  n2 = i - s2, o2 = r2 + s2;
                  break;
                case 2:
                  i = n2 + s2, r2 = o2 - s2;
                  break;
                case 3:
                  n2 = i - s2, r2 = o2 - s2;
              }
            this._root && this._root.length && (this._root = c2);
          }
          return this._x0 = n2, this._y0 = r2, this._x1 = i, this._y1 = o2, this;
        }, F.data = function() {
          var t3 = [];
          return this.visit(function(e3) {
            if (!e3.length)
              do {
                t3.push(e3.data);
              } while (e3 = e3.next);
          }), t3;
        }, F.extent = function(t3) {
          return arguments.length ? this.cover(+t3[0][0], +t3[0][1]).cover(+t3[1][0], +t3[1][1]) : isNaN(this._x0) ? void 0 : [[this._x0, this._y0], [this._x1, this._y1]];
        }, F.find = function(t3, e3, n2) {
          var r2, i, o2, a2, u2, s2, c2, f2 = this._x0, l2 = this._y0, h2 = this._x1, d2 = this._y1, p2 = [], v2 = this._root;
          for (v2 && p2.push(new O(v2, f2, l2, h2, d2)), n2 == null ? n2 = 1 / 0 : (f2 = t3 - n2, l2 = e3 - n2, h2 = t3 + n2, d2 = e3 + n2, n2 *= n2); s2 = p2.pop(); )
            if (!(!(v2 = s2.node) || (i = s2.x0) > h2 || (o2 = s2.y0) > d2 || (a2 = s2.x1) < f2 || (u2 = s2.y1) < l2))
              if (v2.length) {
                var g2 = (i + a2) / 2, y2 = (o2 + u2) / 2;
                p2.push(new O(v2[3], g2, y2, a2, u2), new O(v2[2], i, y2, g2, u2), new O(v2[1], g2, o2, a2, y2), new O(v2[0], i, o2, g2, y2)), (c2 = (e3 >= y2) << 1 | t3 >= g2) && (s2 = p2[p2.length - 1], p2[p2.length - 1] = p2[p2.length - 1 - c2], p2[p2.length - 1 - c2] = s2);
              } else {
                var m2 = t3 - +this._x.call(null, v2.data), b2 = e3 - +this._y.call(null, v2.data), _2 = m2 * m2 + b2 * b2;
                if (_2 < n2) {
                  var x2 = Math.sqrt(n2 = _2);
                  f2 = t3 - x2, l2 = e3 - x2, h2 = t3 + x2, d2 = e3 + x2, r2 = v2.data;
                }
              }
          return r2;
        }, F.remove = function(t3) {
          if (isNaN(o2 = +this._x.call(null, t3)) || isNaN(a2 = +this._y.call(null, t3)))
            return this;
          var e3, n2, r2, i, o2, a2, u2, s2, c2, f2, l2, h2, d2 = this._root, p2 = this._x0, v2 = this._y0, g2 = this._x1, y2 = this._y1;
          if (!d2)
            return this;
          if (d2.length)
            for (; ; ) {
              if ((c2 = o2 >= (u2 = (p2 + g2) / 2)) ? p2 = u2 : g2 = u2, (f2 = a2 >= (s2 = (v2 + y2) / 2)) ? v2 = s2 : y2 = s2, e3 = d2, !(d2 = d2[l2 = f2 << 1 | c2]))
                return this;
              if (!d2.length)
                break;
              (e3[l2 + 1 & 3] || e3[l2 + 2 & 3] || e3[l2 + 3 & 3]) && (n2 = e3, h2 = l2);
            }
          for (; d2.data !== t3; )
            if (r2 = d2, !(d2 = d2.next))
              return this;
          return (i = d2.next) && delete d2.next, r2 ? (i ? r2.next = i : delete r2.next, this) : e3 ? (i ? e3[l2] = i : delete e3[l2], (d2 = e3[0] || e3[1] || e3[2] || e3[3]) && d2 === (e3[3] || e3[2] || e3[1] || e3[0]) && !d2.length && (n2 ? n2[h2] = d2 : this._root = d2), this) : (this._root = i, this);
        }, F.removeAll = function(t3) {
          for (var e3 = 0, n2 = t3.length; e3 < n2; ++e3)
            this.remove(t3[e3]);
          return this;
        }, F.root = function() {
          return this._root;
        }, F.size = function() {
          var t3 = 0;
          return this.visit(function(e3) {
            if (!e3.length)
              do {
                ++t3;
              } while (e3 = e3.next);
          }), t3;
        }, F.visit = function(t3) {
          var e3, n2, r2, i, o2, a2, u2 = [], s2 = this._root;
          for (s2 && u2.push(new O(s2, this._x0, this._y0, this._x1, this._y1)); e3 = u2.pop(); )
            if (!t3(s2 = e3.node, r2 = e3.x0, i = e3.y0, o2 = e3.x1, a2 = e3.y1) && s2.length) {
              var c2 = (r2 + o2) / 2, f2 = (i + a2) / 2;
              (n2 = s2[3]) && u2.push(new O(n2, c2, f2, o2, a2)), (n2 = s2[2]) && u2.push(new O(n2, r2, f2, c2, a2)), (n2 = s2[1]) && u2.push(new O(n2, c2, i, o2, f2)), (n2 = s2[0]) && u2.push(new O(n2, r2, i, c2, f2));
            }
          return this;
        }, F.visitAfter = function(t3) {
          var e3, n2 = [], r2 = [];
          for (this._root && n2.push(new O(this._root, this._x0, this._y0, this._x1, this._y1)); e3 = n2.pop(); ) {
            var i = e3.node;
            if (i.length) {
              var o2, a2 = e3.x0, u2 = e3.y0, s2 = e3.x1, c2 = e3.y1, f2 = (a2 + s2) / 2, l2 = (u2 + c2) / 2;
              (o2 = i[0]) && n2.push(new O(o2, a2, u2, f2, l2)), (o2 = i[1]) && n2.push(new O(o2, f2, u2, s2, l2)), (o2 = i[2]) && n2.push(new O(o2, a2, l2, f2, c2)), (o2 = i[3]) && n2.push(new O(o2, f2, l2, s2, c2));
            }
            r2.push(e3);
          }
          for (; e3 = r2.pop(); )
            t3(e3.node, e3.x0, e3.y0, e3.x1, e3.y1);
          return this;
        }, F.x = function(t3) {
          return arguments.length ? (this._x = t3, this) : this._x;
        }, F.y = function(t3) {
          return arguments.length ? (this._y = t3, this) : this._y;
        };
        var j = { value: () => {
        } };
        function W() {
          for (var t3, e3 = 0, n2 = arguments.length, r2 = {}; e3 < n2; ++e3) {
            if (!(t3 = arguments[e3] + "") || t3 in r2 || /[\s.]/.test(t3))
              throw new Error("illegal type: " + t3);
            r2[t3] = [];
          }
          return new V(r2);
        }
        function V(t3) {
          this._ = t3;
        }
        function X(t3, e3) {
          return t3.trim().split(/^|\s+/).map(function(t4) {
            var n2 = "", r2 = t4.indexOf(".");
            if (r2 >= 0 && (n2 = t4.slice(r2 + 1), t4 = t4.slice(0, r2)), t4 && !e3.hasOwnProperty(t4))
              throw new Error("unknown type: " + t4);
            return { type: t4, name: n2 };
          });
        }
        function H(t3, e3) {
          for (var n2, r2 = 0, i = t3.length; r2 < i; ++r2)
            if ((n2 = t3[r2]).name === e3)
              return n2.value;
        }
        function q(t3, e3, n2) {
          for (var r2 = 0, i = t3.length; r2 < i; ++r2)
            if (t3[r2].name === e3) {
              t3[r2] = j, t3 = t3.slice(0, r2).concat(t3.slice(r2 + 1));
              break;
            }
          return n2 != null && t3.push({ name: e3, value: n2 }), t3;
        }
        V.prototype = W.prototype = { constructor: V, on: function(t3, e3) {
          var n2, r2 = this._, i = X(t3 + "", r2), o2 = -1, a2 = i.length;
          if (!(arguments.length < 2)) {
            if (e3 != null && typeof e3 != "function")
              throw new Error("invalid callback: " + e3);
            for (; ++o2 < a2; )
              if (n2 = (t3 = i[o2]).type)
                r2[n2] = q(r2[n2], t3.name, e3);
              else if (e3 == null)
                for (n2 in r2)
                  r2[n2] = q(r2[n2], t3.name, null);
            return this;
          }
          for (; ++o2 < a2; )
            if ((n2 = (t3 = i[o2]).type) && (n2 = H(r2[n2], t3.name)))
              return n2;
        }, copy: function() {
          var t3 = {}, e3 = this._;
          for (var n2 in e3)
            t3[n2] = e3[n2].slice();
          return new V(t3);
        }, call: function(t3, e3) {
          if ((n2 = arguments.length - 2) > 0)
            for (var n2, r2, i = new Array(n2), o2 = 0; o2 < n2; ++o2)
              i[o2] = arguments[o2 + 2];
          if (!this._.hasOwnProperty(t3))
            throw new Error("unknown type: " + t3);
          for (o2 = 0, n2 = (r2 = this._[t3]).length; o2 < n2; ++o2)
            r2[o2].value.apply(e3, i);
        }, apply: function(t3, e3, n2) {
          if (!this._.hasOwnProperty(t3))
            throw new Error("unknown type: " + t3);
          for (var r2 = this._[t3], i = 0, o2 = r2.length; i < o2; ++i)
            r2[i].value.apply(e3, n2);
        } };
        const Y = W;
        var K, Z, $ = 0, J = 0, Q = 0, tt = 0, et = 0, nt = 0, rt = typeof performance == "object" && performance.now ? performance : Date, it = typeof window == "object" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(t3) {
          setTimeout(t3, 17);
        };
        function ot() {
          return et || (it(at), et = rt.now() + nt);
        }
        function at() {
          et = 0;
        }
        function ut() {
          this._call = this._time = this._next = null;
        }
        function st(t3, e3, n2) {
          var r2 = new ut();
          return r2.restart(t3, e3, n2), r2;
        }
        function ct() {
          et = (tt = rt.now()) + nt, $ = J = 0;
          try {
            !function() {
              ot(), ++$;
              for (var t3, e3 = K; e3; )
                (t3 = et - e3._time) >= 0 && e3._call.call(null, t3), e3 = e3._next;
              --$;
            }();
          } finally {
            $ = 0, function() {
              for (var t3, e3, n2 = K, r2 = 1 / 0; n2; )
                n2._call ? (r2 > n2._time && (r2 = n2._time), t3 = n2, n2 = n2._next) : (e3 = n2._next, n2._next = null, n2 = t3 ? t3._next = e3 : K = e3);
              Z = t3, lt(r2);
            }(), et = 0;
          }
        }
        function ft() {
          var t3 = rt.now(), e3 = t3 - tt;
          e3 > 1e3 && (nt -= e3, tt = t3);
        }
        function lt(t3) {
          $ || (J && (J = clearTimeout(J)), t3 - et > 24 ? (t3 < 1 / 0 && (J = setTimeout(ct, t3 - rt.now() - nt)), Q && (Q = clearInterval(Q))) : (Q || (tt = rt.now(), Q = setInterval(ft, 1e3)), $ = 1, it(ct)));
        }
        ut.prototype = st.prototype = { constructor: ut, restart: function(t3, e3, n2) {
          if (typeof t3 != "function")
            throw new TypeError("callback is not a function");
          n2 = (n2 == null ? ot() : +n2) + (e3 == null ? 0 : +e3), this._next || Z === this || (Z ? Z._next = this : K = this, Z = this), this._call = t3, this._time = n2, lt();
        }, stop: function() {
          this._call && (this._call = null, this._time = 1 / 0, lt());
        } };
        const ht = 4294967296;
        function dt(t3) {
          return t3.x;
        }
        function pt(t3) {
          return t3.y;
        }
        var vt = Math.PI * (3 - Math.sqrt(5));
        function gt(t3) {
          var e3, n2 = 1, r2 = 1e-3, i = 1 - Math.pow(r2, 1 / 300), o2 = 0, a2 = 0.6, u2 = new Map(), s2 = st(l2), c2 = Y("tick", "end"), f2 = function() {
            let t4 = 1;
            return () => (t4 = (1664525 * t4 + 1013904223) % ht) / ht;
          }();
          function l2() {
            h2(), c2.call("tick", e3), n2 < r2 && (s2.stop(), c2.call("end", e3));
          }
          function h2(r3) {
            var s3, c3, f3 = t3.length;
            r3 === void 0 && (r3 = 1);
            for (var l3 = 0; l3 < r3; ++l3)
              for (n2 += (o2 - n2) * i, u2.forEach(function(t4) {
                t4(n2);
              }), s3 = 0; s3 < f3; ++s3)
                (c3 = t3[s3]).fx == null ? c3.x += c3.vx *= a2 : (c3.x = c3.fx, c3.vx = 0), c3.fy == null ? c3.y += c3.vy *= a2 : (c3.y = c3.fy, c3.vy = 0);
            return e3;
          }
          function d2() {
            for (var e4, n3 = 0, r3 = t3.length; n3 < r3; ++n3) {
              if ((e4 = t3[n3]).index = n3, e4.fx != null && (e4.x = e4.fx), e4.fy != null && (e4.y = e4.fy), isNaN(e4.x) || isNaN(e4.y)) {
                var i2 = 10 * Math.sqrt(0.5 + n3), o3 = n3 * vt;
                e4.x = i2 * Math.cos(o3), e4.y = i2 * Math.sin(o3);
              }
              (isNaN(e4.vx) || isNaN(e4.vy)) && (e4.vx = e4.vy = 0);
            }
          }
          function p2(e4) {
            return e4.initialize && e4.initialize(t3, f2), e4;
          }
          return t3 == null && (t3 = []), d2(), e3 = { tick: h2, restart: function() {
            return s2.restart(l2), e3;
          }, stop: function() {
            return s2.stop(), e3;
          }, nodes: function(n3) {
            return arguments.length ? (t3 = n3, d2(), u2.forEach(p2), e3) : t3;
          }, alpha: function(t4) {
            return arguments.length ? (n2 = +t4, e3) : n2;
          }, alphaMin: function(t4) {
            return arguments.length ? (r2 = +t4, e3) : r2;
          }, alphaDecay: function(t4) {
            return arguments.length ? (i = +t4, e3) : +i;
          }, alphaTarget: function(t4) {
            return arguments.length ? (o2 = +t4, e3) : o2;
          }, velocityDecay: function(t4) {
            return arguments.length ? (a2 = 1 - t4, e3) : 1 - a2;
          }, randomSource: function(t4) {
            return arguments.length ? (f2 = t4, u2.forEach(p2), e3) : f2;
          }, force: function(t4, n3) {
            return arguments.length > 1 ? (n3 == null ? u2.delete(t4) : u2.set(t4, p2(n3)), e3) : u2.get(t4);
          }, find: function(e4, n3, r3) {
            var i2, o3, a3, u3, s3, c3 = 0, f3 = t3.length;
            for (r3 == null ? r3 = 1 / 0 : r3 *= r3, c3 = 0; c3 < f3; ++c3)
              (a3 = (i2 = e4 - (u3 = t3[c3]).x) * i2 + (o3 = n3 - u3.y) * o3) < r3 && (s3 = u3, r3 = a3);
            return s3;
          }, on: function(t4, n3) {
            return arguments.length > 1 ? (c2.on(t4, n3), e3) : c2.on(t4);
          } };
        }
        function yt() {
          var t3, e3, n2, r2, i, o2 = B(-30), a2 = 1, u2 = 1 / 0, s2 = 0.81;
          function c2(n3) {
            var i2, o3 = t3.length, a3 = G(t3, dt, pt).visitAfter(l2);
            for (r2 = n3, i2 = 0; i2 < o3; ++i2)
              e3 = t3[i2], a3.visit(h2);
          }
          function f2() {
            if (t3) {
              var e4, n3, r3 = t3.length;
              for (i = new Array(r3), e4 = 0; e4 < r3; ++e4)
                n3 = t3[e4], i[n3.index] = +o2(n3, e4, t3);
            }
          }
          function l2(t4) {
            var e4, n3, r3, o3, a3, u3 = 0, s3 = 0;
            if (t4.length) {
              for (r3 = o3 = a3 = 0; a3 < 4; ++a3)
                (e4 = t4[a3]) && (n3 = Math.abs(e4.value)) && (u3 += e4.value, s3 += n3, r3 += n3 * e4.x, o3 += n3 * e4.y);
              t4.x = r3 / s3, t4.y = o3 / s3;
            } else {
              (e4 = t4).x = e4.data.x, e4.y = e4.data.y;
              do {
                u3 += i[e4.data.index];
              } while (e4 = e4.next);
            }
            t4.value = u3;
          }
          function h2(t4, o3, c3, f3) {
            if (!t4.value)
              return true;
            var l3 = t4.x - e3.x, h3 = t4.y - e3.y, d2 = f3 - o3, p2 = l3 * l3 + h3 * h3;
            if (d2 * d2 / s2 < p2)
              return p2 < u2 && (l3 === 0 && (p2 += (l3 = z(n2)) * l3), h3 === 0 && (p2 += (h3 = z(n2)) * h3), p2 < a2 && (p2 = Math.sqrt(a2 * p2)), e3.vx += l3 * t4.value * r2 / p2, e3.vy += h3 * t4.value * r2 / p2), true;
            if (!(t4.length || p2 >= u2)) {
              (t4.data !== e3 || t4.next) && (l3 === 0 && (p2 += (l3 = z(n2)) * l3), h3 === 0 && (p2 += (h3 = z(n2)) * h3), p2 < a2 && (p2 = Math.sqrt(a2 * p2)));
              do {
                t4.data !== e3 && (d2 = i[t4.data.index] * r2 / p2, e3.vx += l3 * d2, e3.vy += h3 * d2);
              } while (t4 = t4.next);
            }
          }
          return c2.initialize = function(e4, r3) {
            t3 = e4, n2 = r3, f2();
          }, c2.strength = function(t4) {
            return arguments.length ? (o2 = typeof t4 == "function" ? t4 : B(+t4), f2(), c2) : o2;
          }, c2.distanceMin = function(t4) {
            return arguments.length ? (a2 = t4 * t4, c2) : Math.sqrt(a2);
          }, c2.distanceMax = function(t4) {
            return arguments.length ? (u2 = t4 * t4, c2) : Math.sqrt(u2);
          }, c2.theta = function(t4) {
            return arguments.length ? (s2 = t4 * t4, c2) : Math.sqrt(s2);
          }, c2;
        }
        function mt(t3, e3) {
          var n2, r2 = 1;
          function i() {
            var i2, o2, a2 = n2.length, u2 = 0, s2 = 0;
            for (i2 = 0; i2 < a2; ++i2)
              u2 += (o2 = n2[i2]).x, s2 += o2.y;
            for (u2 = (u2 / a2 - t3) * r2, s2 = (s2 / a2 - e3) * r2, i2 = 0; i2 < a2; ++i2)
              (o2 = n2[i2]).x -= u2, o2.y -= s2;
          }
          return t3 == null && (t3 = 0), e3 == null && (e3 = 0), i.initialize = function(t4) {
            n2 = t4;
          }, i.x = function(e4) {
            return arguments.length ? (t3 = +e4, i) : t3;
          }, i.y = function(t4) {
            return arguments.length ? (e3 = +t4, i) : e3;
          }, i.strength = function(t4) {
            return arguments.length ? (r2 = +t4, i) : r2;
          }, i;
        }
        function bt(t3) {
          return t3.index;
        }
        function _t(t3, e3) {
          var n2 = t3.get(e3);
          if (!n2)
            throw new Error("node not found: " + e3);
          return n2;
        }
        function xt(t3) {
          var e3, n2, r2, i, o2, a2, u2 = bt, s2 = function(t4) {
            return 1 / Math.min(i[t4.source.index], i[t4.target.index]);
          }, c2 = B(30), f2 = 1;
          function l2(r3) {
            for (var i2 = 0, u3 = t3.length; i2 < f2; ++i2)
              for (var s3, c3, l3, h3, d3, p3, v2, g2 = 0; g2 < u3; ++g2)
                c3 = (s3 = t3[g2]).source, h3 = (l3 = s3.target).x + l3.vx - c3.x - c3.vx || z(a2), d3 = l3.y + l3.vy - c3.y - c3.vy || z(a2), h3 *= p3 = ((p3 = Math.sqrt(h3 * h3 + d3 * d3)) - n2[g2]) / p3 * r3 * e3[g2], d3 *= p3, l3.vx -= h3 * (v2 = o2[g2]), l3.vy -= d3 * v2, c3.vx += h3 * (v2 = 1 - v2), c3.vy += d3 * v2;
          }
          function h2() {
            if (r2) {
              var a3, s3, c3 = r2.length, f3 = t3.length, l3 = new Map(r2.map((t4, e4) => [u2(t4, e4, r2), t4]));
              for (a3 = 0, i = new Array(c3); a3 < f3; ++a3)
                (s3 = t3[a3]).index = a3, typeof s3.source != "object" && (s3.source = _t(l3, s3.source)), typeof s3.target != "object" && (s3.target = _t(l3, s3.target)), i[s3.source.index] = (i[s3.source.index] || 0) + 1, i[s3.target.index] = (i[s3.target.index] || 0) + 1;
              for (a3 = 0, o2 = new Array(f3); a3 < f3; ++a3)
                s3 = t3[a3], o2[a3] = i[s3.source.index] / (i[s3.source.index] + i[s3.target.index]);
              e3 = new Array(f3), d2(), n2 = new Array(f3), p2();
            }
          }
          function d2() {
            if (r2)
              for (var n3 = 0, i2 = t3.length; n3 < i2; ++n3)
                e3[n3] = +s2(t3[n3], n3, t3);
          }
          function p2() {
            if (r2)
              for (var e4 = 0, i2 = t3.length; e4 < i2; ++e4)
                n2[e4] = +c2(t3[e4], e4, t3);
          }
          return t3 == null && (t3 = []), l2.initialize = function(t4, e4) {
            r2 = t4, a2 = e4, h2();
          }, l2.links = function(e4) {
            return arguments.length ? (t3 = e4, h2(), l2) : t3;
          }, l2.id = function(t4) {
            return arguments.length ? (u2 = t4, l2) : u2;
          }, l2.iterations = function(t4) {
            return arguments.length ? (f2 = +t4, l2) : f2;
          }, l2.strength = function(t4) {
            return arguments.length ? (s2 = typeof t4 == "function" ? t4 : B(+t4), d2(), l2) : s2;
          }, l2.distance = function(t4) {
            return arguments.length ? (c2 = typeof t4 == "function" ? t4 : B(+t4), p2(), l2) : c2;
          }, l2;
        }
        function wt(t3) {
          return t3.x + t3.vx;
        }
        function Et(t3) {
          return t3.y + t3.vy;
        }
        function St(t3) {
          var e3, n2, r2, i = 1, o2 = 1;
          function a2() {
            for (var t4, a3, s3, c2, f2, l2, h2, d2 = e3.length, p2 = 0; p2 < o2; ++p2)
              for (a3 = G(e3, wt, Et).visitAfter(u2), t4 = 0; t4 < d2; ++t4)
                s3 = e3[t4], l2 = n2[s3.index], h2 = l2 * l2, c2 = s3.x + s3.vx, f2 = s3.y + s3.vy, a3.visit(v2);
            function v2(t5, e4, n3, o3, a4) {
              var u3 = t5.data, d3 = t5.r, p3 = l2 + d3;
              if (!u3)
                return e4 > c2 + p3 || o3 < c2 - p3 || n3 > f2 + p3 || a4 < f2 - p3;
              if (u3.index > s3.index) {
                var v3 = c2 - u3.x - u3.vx, g2 = f2 - u3.y - u3.vy, y2 = v3 * v3 + g2 * g2;
                y2 < p3 * p3 && (v3 === 0 && (y2 += (v3 = z(r2)) * v3), g2 === 0 && (y2 += (g2 = z(r2)) * g2), y2 = (p3 - (y2 = Math.sqrt(y2))) / y2 * i, s3.vx += (v3 *= y2) * (p3 = (d3 *= d3) / (h2 + d3)), s3.vy += (g2 *= y2) * p3, u3.vx -= v3 * (p3 = 1 - p3), u3.vy -= g2 * p3);
              }
            }
          }
          function u2(t4) {
            if (t4.data)
              return t4.r = n2[t4.data.index];
            for (var e4 = t4.r = 0; e4 < 4; ++e4)
              t4[e4] && t4[e4].r > t4.r && (t4.r = t4[e4].r);
          }
          function s2() {
            if (e3) {
              var r3, i2, o3 = e3.length;
              for (n2 = new Array(o3), r3 = 0; r3 < o3; ++r3)
                i2 = e3[r3], n2[i2.index] = +t3(i2, r3, e3);
            }
          }
          return typeof t3 != "function" && (t3 = B(t3 == null ? 1 : +t3)), a2.initialize = function(t4, n3) {
            e3 = t4, r2 = n3, s2();
          }, a2.iterations = function(t4) {
            return arguments.length ? (o2 = +t4, a2) : o2;
          }, a2.strength = function(t4) {
            return arguments.length ? (i = +t4, a2) : i;
          }, a2.radius = function(e4) {
            return arguments.length ? (t3 = typeof e4 == "function" ? e4 : B(+e4), s2(), a2) : t3;
          }, a2;
        }
        function At(t3) {
          var e3, n2, r2, i = B(0.1);
          function o2(t4) {
            for (var i2, o3 = 0, a3 = e3.length; o3 < a3; ++o3)
              (i2 = e3[o3]).vx += (r2[o3] - i2.x) * n2[o3] * t4;
          }
          function a2() {
            if (e3) {
              var o3, a3 = e3.length;
              for (n2 = new Array(a3), r2 = new Array(a3), o3 = 0; o3 < a3; ++o3)
                n2[o3] = isNaN(r2[o3] = +t3(e3[o3], o3, e3)) ? 0 : +i(e3[o3], o3, e3);
            }
          }
          return typeof t3 != "function" && (t3 = B(t3 == null ? 0 : +t3)), o2.initialize = function(t4) {
            e3 = t4, a2();
          }, o2.strength = function(t4) {
            return arguments.length ? (i = typeof t4 == "function" ? t4 : B(+t4), a2(), o2) : i;
          }, o2.x = function(e4) {
            return arguments.length ? (t3 = typeof e4 == "function" ? e4 : B(+e4), a2(), o2) : t3;
          }, o2;
        }
        function Tt(t3) {
          var e3, n2, r2, i = B(0.1);
          function o2(t4) {
            for (var i2, o3 = 0, a3 = e3.length; o3 < a3; ++o3)
              (i2 = e3[o3]).vy += (r2[o3] - i2.y) * n2[o3] * t4;
          }
          function a2() {
            if (e3) {
              var o3, a3 = e3.length;
              for (n2 = new Array(a3), r2 = new Array(a3), o3 = 0; o3 < a3; ++o3)
                n2[o3] = isNaN(r2[o3] = +t3(e3[o3], o3, e3)) ? 0 : +i(e3[o3], o3, e3);
            }
          }
          return typeof t3 != "function" && (t3 = B(t3 == null ? 0 : +t3)), o2.initialize = function(t4) {
            e3 = t4, a2();
          }, o2.strength = function(t4) {
            return arguments.length ? (i = typeof t4 == "function" ? t4 : B(+t4), a2(), o2) : i;
          }, o2.y = function(e4) {
            return arguments.length ? (t3 = typeof e4 == "function" ? e4 : B(+e4), a2(), o2) : t3;
          }, o2;
        }
        var It = "GPU_LAYOUT_END", Ct = function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4)
                Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if (typeof n2 != "function" && n2 !== null)
              throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function r2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = n2 === null ? Object.create(n2) : (r2.prototype = n2.prototype, new r2());
          };
        }(), Dt = function(t3) {
          function e3(e4) {
            var n2 = t3.call(this) || this;
            return n2.center = [0, 0], n2.nodeStrength = null, n2.edgeStrength = null, n2.preventOverlap = false, n2.clusterNodeStrength = null, n2.clusterEdgeStrength = null, n2.clusterEdgeDistance = null, n2.clusterNodeSize = null, n2.clusterFociStrength = null, n2.linkDistance = 50, n2.alphaDecay = 0.028, n2.alphaMin = 1e-3, n2.alpha = 0.3, n2.collideStrength = 1, n2.workerEnabled = false, n2.tick = function() {
            }, n2.onLayoutEnd = function() {
            }, n2.ticking = void 0, e4 && n2.updateCfg(e4), n2;
          }
          return Ct(e3, t3), e3.prototype.getDefaultCfg = function() {
            return { center: [0, 0], nodeStrength: null, edgeStrength: null, preventOverlap: false, nodeSize: void 0, nodeSpacing: void 0, linkDistance: 50, forceSimulation: null, alphaDecay: 0.028, alphaMin: 1e-3, alpha: 0.3, collideStrength: 1, clustering: false, clusterNodeStrength: -1, clusterEdgeStrength: 0.1, clusterEdgeDistance: 100, clusterFociStrength: 0.8, clusterNodeSize: 10, tick: function() {
            }, onLayoutEnd: function() {
            }, workerEnabled: false };
          }, e3.prototype.init = function(t4) {
            var e4 = this;
            e4.nodes = t4.nodes || [];
            var n2 = t4.edges || [];
            e4.edges = n2.map(function(t5) {
              var e5 = {}, n3 = ["targetNode", "sourceNode", "startPoint", "endPoint"];
              return Object.keys(t5).forEach(function(r2) {
                n3.indexOf(r2) > -1 || (e5[r2] = t5[r2]);
              }), e5;
            }), e4.ticking = false;
          }, e3.prototype.execute = function(t4) {
            var e4 = this, n2 = e4.nodes, r2 = e4.edges;
            if (!e4.ticking) {
              var i = e4.forceSimulation, o2 = e4.alphaMin, a2 = e4.alphaDecay, u2 = e4.alpha;
              if (i)
                t4 && (e4.clustering && e4.clusterForce && (e4.clusterForce.nodes(n2), e4.clusterForce.links(r2)), i.nodes(n2), r2 && e4.edgeForce ? e4.edgeForce.links(r2) : r2 && !e4.edgeForce && (f2 = xt().id(function(t5) {
                  return t5.id;
                }).links(r2), e4.edgeStrength && f2.strength(e4.edgeStrength), e4.linkDistance && f2.distance(e4.linkDistance), e4.edgeForce = f2, i.force("link", f2))), e4.preventOverlap && e4.overlapProcess(i), i.alpha(u2).restart(), this.ticking = true;
              else
                try {
                  var s2 = yt();
                  if (e4.nodeStrength && s2.strength(e4.nodeStrength), i = gt().nodes(n2), e4.clustering) {
                    var c2 = function() {
                      function t5(t6) {
                        return function() {
                          return t6;
                        };
                      }
                      var e5, n3 = function(t6) {
                        return t6.cluster;
                      }, r3 = t5(1), i2 = t5(-1), o3 = t5(100), a3 = t5(0.1), u3 = [0, 0], s3 = [], c3 = {}, f3 = [], l3 = 100, h3 = 100, p2 = { none: { x: 0, y: 0 } }, v2 = [], g2 = "force", y2 = true, m2 = 0.1;
                      function b2(t6) {
                        if (!y2)
                          return b2;
                        e5.tick(), x2();
                        for (var r4 = 0, i3 = s3.length, o4 = void 0, a4 = t6 * m2; r4 < i3; ++r4)
                          (o4 = s3[r4]).vx += (p2[n3(o4)].x - o4.x) * a4, o4.vy += (p2[n3(o4)].y - o4.y) * a4;
                      }
                      function _2() {
                        s3 && function() {
                          if (s3 && s3.length) {
                            if (n3(s3[0]) === void 0)
                              throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");
                            var t6, u4, p3, g3, y3, m3 = (t6 = [], u4 = [], p3 = {}, y3 = [], g3 = function(t7) {
                              var e6 = {};
                              return t7.forEach(function(t8) {
                                var r4 = n3(t8);
                                e6[r4] || (e6[r4] = { count: 0, sumforceNodeSize: 0 });
                              }), t7.forEach(function(t8) {
                                var i3 = n3(t8), o4 = r3(t8), a4 = e6[i3];
                                a4.count = a4.count + 1, a4.sumforceNodeSize = a4.sumforceNodeSize + Math.PI * (o4 * o4) * 1.3, e6[i3] = a4;
                              }), e6;
                            }(s3), y3 = function(t7) {
                              var e6 = {}, r4 = [];
                              return t7.forEach(function(t8) {
                                var r5 = function(t9) {
                                  var e7 = d(t9, "source"), r6 = d(t9, "target"), i4 = n3(c3[e7]), o4 = n3(c3[r6]);
                                  return i4 <= o4 ? i4 + "~" + o4 : o4 + "~" + i4;
                                }(t8), i3 = 0;
                                e6[r5] !== void 0 && (i3 = e6[r5]), i3 += 1, e6[r5] = i3;
                              }), Object.entries(e6).forEach(function(t8) {
                                var e7 = t8[0], n4 = t8[1], i3 = e7.split("~")[0], o4 = e7.split("~")[1];
                                i3 !== void 0 && o4 !== void 0 && r4.push({ source: i3, target: o4, count: n4 });
                              }), r4;
                            }(f3), Object.keys(g3).forEach(function(e6, n4) {
                              var r4 = g3[e6];
                              t6.push({ id: e6, size: r4.count, r: Math.sqrt(r4.sumforceNodeSize / Math.PI) }), p3[e6] = n4;
                            }), y3.forEach(function(t7) {
                              var e6 = d(t7, "source"), n4 = d(t7, "target"), r4 = p3[e6], i3 = p3[n4];
                              r4 !== void 0 && i3 !== void 0 && u4.push({ source: r4, target: i3, count: t7.count });
                            }), { nodes: t6, links: u4 });
                            e5 = gt(m3.nodes).force("x", At(l3).strength(0.1)).force("y", Tt(h3).strength(0.1)).force("collide", St(function(t7) {
                              return t7.r;
                            }).iterations(4)).force("charge", yt().strength(i2)).force("links", xt(m3.nodes.length ? m3.links : []).distance(o3).strength(a3)), v2 = e5.nodes(), x2();
                          }
                        }();
                      }
                      function x2() {
                        return p2 = { none: { x: 0, y: 0 } }, v2.forEach(function(t6) {
                          p2[t6.id] = { x: t6.x - u3[0], y: t6.y - u3[1] };
                        }), p2;
                      }
                      function w2(t6) {
                        c3 = {}, t6.forEach(function(t7) {
                          c3[t7.id] = t7;
                        });
                      }
                      return b2.initialize = function(t6) {
                        s3 = t6, _2();
                      }, b2.template = function(t6) {
                        return arguments.length ? (g2 = t6, _2(), b2) : g2;
                      }, b2.groupBy = function(t6) {
                        return arguments.length ? typeof t6 == "string" ? (n3 = function(e6) {
                          return e6[t6];
                        }, b2) : (n3 = t6, b2) : n3;
                      }, b2.enableGrouping = function(t6) {
                        return arguments.length ? (y2 = t6, b2) : y2;
                      }, b2.strength = function(t6) {
                        return arguments.length ? (m2 = t6, b2) : m2;
                      }, b2.centerX = function(t6) {
                        return arguments.length ? (l3 = t6, b2) : l3;
                      }, b2.centerY = function(t6) {
                        return arguments.length ? (h3 = t6, b2) : h3;
                      }, b2.nodes = function(t6) {
                        return arguments.length ? (w2(t6 || []), s3 = t6 || [], b2) : s3;
                      }, b2.links = function(t6) {
                        return arguments.length ? (f3 = t6 || [], _2(), b2) : f3;
                      }, b2.forceNodeSize = function(e6) {
                        return arguments.length ? (r3 = typeof e6 == "function" ? e6 : t5(+e6), _2(), b2) : r3;
                      }, b2.nodeSize = b2.forceNodeSize, b2.forceCharge = function(e6) {
                        return arguments.length ? (i2 = typeof e6 == "function" ? e6 : t5(+e6), _2(), b2) : i2;
                      }, b2.forceLinkDistance = function(e6) {
                        return arguments.length ? (o3 = typeof e6 == "function" ? e6 : t5(+e6), _2(), b2) : o3;
                      }, b2.forceLinkStrength = function(e6) {
                        return arguments.length ? (a3 = typeof e6 == "function" ? e6 : t5(+e6), _2(), b2) : a3;
                      }, b2.offset = function(t6) {
                        return arguments.length ? (u3 = t6, b2) : u3;
                      }, b2.getFocis = x2, b2;
                    }();
                    c2.centerX(e4.center[0]).centerY(e4.center[1]).template("force").strength(e4.clusterFociStrength), r2 && c2.links(r2), n2 && c2.nodes(n2), c2.forceLinkDistance(e4.clusterEdgeDistance).forceLinkStrength(e4.clusterEdgeStrength).forceCharge(e4.clusterNodeStrength).forceNodeSize(e4.clusterNodeSize), e4.clusterForce = c2, i.force("group", c2);
                  }
                  if (i.force("center", mt(e4.center[0], e4.center[1])).force("charge", s2).alpha(u2).alphaDecay(a2).alphaMin(o2), e4.preventOverlap && e4.overlapProcess(i), r2) {
                    var f2 = xt().id(function(t5) {
                      return t5.id;
                    }).links(r2);
                    e4.edgeStrength && f2.strength(e4.edgeStrength), e4.linkDistance && f2.distance(e4.linkDistance), e4.edgeForce = f2, i.force("link", f2);
                  }
                  if (e4.workerEnabled && !Nt() && (e4.workerEnabled = false, console.warn("workerEnabled option is only supported when running in web worker.")), e4.workerEnabled) {
                    i.stop();
                    for (var l2 = function(t5) {
                      var e5 = t5.alphaMin(), n3 = t5.alphaTarget(), r3 = t5.alpha(), i2 = Math.log((e5 - n3) / (r3 - n3)) / Math.log(1 - t5.alphaDecay());
                      return Math.ceil(i2);
                    }(i), h2 = 1; h2 <= l2; h2++)
                      i.tick(), postMessage({ nodes: n2, currentTick: h2, totalTicks: l2, type: "LAYOUT_TICK" }, void 0);
                    e4.ticking = false;
                  } else
                    i.on("tick", function() {
                      e4.tick();
                    }).on("end", function() {
                      e4.ticking = false, e4.onLayoutEnd && e4.onLayoutEnd();
                    }), e4.ticking = true;
                  e4.forceSimulation = i, e4.ticking = true;
                } catch (t5) {
                  e4.ticking = false, console.warn(t5);
                }
            }
          }, e3.prototype.overlapProcess = function(t4) {
            var e4, n2, r2 = this, i = r2.nodeSize, u2 = r2.nodeSpacing, s2 = r2.collideStrength;
            if (n2 = a(u2) ? function() {
              return u2;
            } : b(u2) ? u2 : function() {
              return 0;
            }, i)
              if (b(i))
                e4 = function(t5) {
                  return i(t5) + n2(t5);
                };
              else if (o(i)) {
                var c2 = (i[0] > i[1] ? i[0] : i[1]) / 2;
                e4 = function(t5) {
                  return c2 + n2(t5);
                };
              } else if (a(i)) {
                var f2 = i / 2;
                e4 = function(t5) {
                  return f2 + n2(t5);
                };
              } else
                e4 = function() {
                  return 10;
                };
            else
              e4 = function(t5) {
                return t5.size ? o(t5.size) ? (t5.size[0] > t5.size[1] ? t5.size[0] : t5.size[1]) / 2 + n2(t5) : l(t5.size) ? (t5.size.width > t5.size.height ? t5.size.width : t5.size.height) / 2 + n2(t5) : t5.size / 2 + n2(t5) : 10 + n2(t5);
              };
            t4.force("collisionForce", St(e4).strength(s2));
          }, e3.prototype.updateCfg = function(t4) {
            var e4 = this;
            e4.ticking && (e4.forceSimulation.stop(), e4.ticking = false), e4.forceSimulation = null, Object.assign(e4, t4);
          }, e3.prototype.destroy = function() {
            var t4 = this;
            t4.ticking && (t4.forceSimulation.stop(), t4.ticking = false), t4.nodes = null, t4.edges = null, t4.destroyed = true;
          }, e3;
        }(t2);
        function Nt() {
          return typeof WorkerGlobalScope != "undefined" && self instanceof WorkerGlobalScope;
        }
        var kt = function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4)
                Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if (typeof n2 != "function" && n2 !== null)
              throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function r2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = n2 === null ? Object.create(n2) : (r2.prototype = n2.prototype, new r2());
          };
        }();
        function Rt(t3, e3) {
          var n2 = t3.degree, r2 = e3.degree;
          return n2 < r2 ? -1 : n2 > r2 ? 1 : 0;
        }
        var Ot = function(t3) {
          function e3(e4) {
            var n2 = t3.call(this) || this;
            return n2.radius = null, n2.startRadius = null, n2.endRadius = null, n2.startAngle = 0, n2.endAngle = 2 * Math.PI, n2.clockwise = true, n2.divisions = 1, n2.ordering = null, n2.angleRatio = 1, n2.nodes = [], n2.edges = [], n2.nodeMap = {}, n2.degrees = [], n2.width = 300, n2.height = 300, n2.updateCfg(e4), n2;
          }
          return kt(e3, t3), e3.prototype.getDefaultCfg = function() {
            return { radius: null, startRadius: null, endRadius: null, startAngle: 0, endAngle: 2 * Math.PI, clockwise: true, divisions: 1, ordering: null, angleRatio: 1 };
          }, e3.prototype.execute = function() {
            var t4 = this, e4 = t4.nodes, n2 = t4.edges, r2 = e4.length;
            if (r2 !== 0) {
              t4.width || typeof window == "undefined" || (t4.width = window.innerWidth), t4.height || typeof window == "undefined" || (t4.height = window.innerHeight), t4.center || (t4.center = [t4.width / 2, t4.height / 2]);
              var i = t4.center;
              if (r2 === 1)
                return e4[0].x = i[0], e4[0].y = i[1], void (t4.onLayoutEnd && t4.onLayoutEnd());
              var o2 = t4.radius, a2 = t4.startRadius, u2 = t4.endRadius, s2 = t4.divisions, c2 = t4.startAngle, f2 = t4.endAngle, l2 = (f2 - c2) / r2, h2 = {};
              e4.forEach(function(t5, e5) {
                h2[t5.id] = e5;
              }), t4.nodeMap = h2;
              var d2 = p(e4.length, h2, n2);
              t4.degrees = d2, o2 || a2 || u2 ? !a2 && u2 ? a2 = u2 : a2 && !u2 && (u2 = a2) : o2 = t4.height > t4.width ? t4.width / 2 : t4.height / 2;
              var v2 = l2 * t4.angleRatio, g2 = t4.ordering, y2 = [];
              y2 = g2 === "topology" ? t4.topologyOrdering() : g2 === "topology-directed" ? t4.topologyOrdering(true) : g2 === "degree" ? t4.degreeOrdering() : e4;
              for (var m2 = t4.clockwise, b2 = Math.ceil(r2 / s2), _2 = 0; _2 < r2; ++_2) {
                var x2 = o2;
                x2 || a2 === null || u2 === null || (x2 = a2 + _2 * (u2 - a2) / (r2 - 1)), x2 || (x2 = 10 + 100 * _2 / (r2 - 1));
                var w2 = c2 + _2 % b2 * v2 + 2 * Math.PI / s2 * Math.floor(_2 / b2);
                m2 || (w2 = f2 - _2 % b2 * v2 - 2 * Math.PI / s2 * Math.floor(_2 / b2)), y2[_2].x = i[0] + Math.cos(w2) * x2, y2[_2].y = i[1] + Math.sin(w2) * x2, y2[_2].weight = d2[_2];
              }
              return t4.onLayoutEnd && t4.onLayoutEnd(), { nodes: y2, edges: this.edges };
            }
            t4.onLayoutEnd && t4.onLayoutEnd();
          }, e3.prototype.topologyOrdering = function(t4) {
            t4 === void 0 && (t4 = false);
            var e4 = this, n2 = e4.degrees, r2 = e4.edges, i = e4.nodes, o2 = h(i), a2 = e4.nodeMap, u2 = [o2[0]], s2 = [i[0]], c2 = [], f2 = i.length;
            c2[0] = true, function(t5, e5, n3, r3) {
              t5.forEach(function(e6, n4) {
                t5[n4].children = [], t5[n4].parent = [];
              }), r3 ? e5.forEach(function(e6) {
                var r4 = d(e6, "source"), i2 = d(e6, "target"), o3 = 0;
                r4 && (o3 = n3[r4]);
                var a3 = 0;
                i2 && (a3 = n3[i2]);
                var u3 = t5[o3].children, s3 = t5[a3].parent;
                u3.push(t5[a3].id), s3.push(t5[o3].id);
              }) : e5.forEach(function(e6) {
                var r4 = d(e6, "source"), i2 = d(e6, "target"), o3 = 0;
                r4 && (o3 = n3[r4]);
                var a3 = 0;
                i2 && (a3 = n3[i2]);
                var u3 = t5[o3].children, s3 = t5[a3].children;
                u3.push(t5[a3].id), s3.push(t5[o3].id);
              });
            }(o2, r2, a2, t4);
            var l2 = 0;
            return o2.forEach(function(t5, e5) {
              if (e5 !== 0)
                if (e5 !== f2 - 1 && n2[e5] === n2[e5 + 1] && !function(t6, e6, n3) {
                  for (var r3 = n3.length, i2 = 0; i2 < r3; i2++) {
                    var o3 = d(n3[i2], "source"), a3 = d(n3[i2], "target");
                    if (t6.id === o3 && e6.id === a3 || e6.id === o3 && t6.id === a3)
                      return true;
                  }
                  return false;
                }(u2[l2], t5, r2) || c2[e5]) {
                  for (var h2 = u2[l2].children, p2 = false, v2 = 0; v2 < h2.length; v2++) {
                    var g2 = a2[h2[v2]];
                    if (n2[g2] === n2[e5] && !c2[g2]) {
                      u2.push(o2[g2]), s2.push(i[a2[o2[g2].id]]), c2[g2] = true, p2 = true;
                      break;
                    }
                  }
                  for (var y2 = 0; !p2 && (c2[y2] || (u2.push(o2[y2]), s2.push(i[a2[o2[y2].id]]), c2[y2] = true, p2 = true), ++y2 !== f2); )
                    ;
                } else
                  u2.push(t5), s2.push(i[a2[t5.id]]), c2[e5] = true, l2++;
            }), s2;
          }, e3.prototype.degreeOrdering = function() {
            var t4 = this.nodes, e4 = [], n2 = this.degrees;
            return t4.forEach(function(t5, r2) {
              t5.degree = n2[r2], e4.push(t5);
            }), e4.sort(Rt), e4;
          }, e3.prototype.getType = function() {
            return "circular";
          }, e3;
        }(t2), Mt = n(8311), Pt = n.n(Mt)();
        Pt || typeof window == "undefined" || (Pt = window.graphlib), Array.prototype.flat = function(t3) {
          var e3 = t3 || 1, n2 = this.length, r2 = [];
          if (this.length == 0)
            return this;
          for (; e3--; ) {
            var i = [], o2 = false;
            if (r2.length == 0) {
              o2 = true;
              for (var a2 = 0; a2 < n2; a2++)
                this[a2] instanceof Array ? r2.push.apply(r2, this[a2]) : r2.push(this[a2]);
            } else {
              for (a2 = 0; a2 < r2.length; a2++)
                r2[a2] instanceof Array ? (o2 = true, i.push.apply(i, r2[a2])) : i.push(r2[a2]);
              r2 = i;
            }
            if (!o2 && e3 == 1 / 0)
              break;
          }
          return r2;
        };
        const Gt = Pt;
        var Lt = function(t3) {
          t3._prev._next = t3._next, t3._next._prev = t3._prev, delete t3._next, delete t3._prev;
        }, Ut = function(t3, e3) {
          if (t3 !== "_next" && t3 !== "_prev")
            return e3;
        };
        const Ft = function() {
          function t3() {
            var t4 = {};
            t4._next = t4._prev = t4, this.isentinel = t4;
          }
          return t3.prototype.dequeue = function() {
            var t4 = this.isentinel, e3 = t4._prev;
            if (e3 !== t4)
              return Lt(e3), e3;
          }, t3.prototype.enqueue = function() {
            var t4 = this.isentinel, e3 = t4._prev;
            if (e3 !== t4)
              return Lt(e3), e3;
          }, t3.prototype.toString = function() {
            for (var t4 = [], e3 = this.isentinel, n2 = e3._prev; n2 !== e3; )
              t4.push(JSON.stringify(n2, Ut)), n2 = n2._prev;
            return "[" + t4.join(", ") + "]";
          }, t3;
        }();
        var Bt = Gt.Graph, zt = function() {
          return 1;
        }, jt = function(t3, e3, n2, r2, i) {
          var o2, a2, u2 = i ? [] : void 0;
          return (o2 = t3.inEdges(r2.v)) === null || o2 === void 0 || o2.forEach(function(r3) {
            var o3 = t3.edge(r3), a3 = t3.node(r3.v);
            i && u2.push({ v: r3.v, w: r3.w }), a3.out === void 0 && (a3.out = 0), a3.out -= o3, Wt(e3, n2, a3);
          }), (a2 = t3.outEdges(r2.v)) === null || a2 === void 0 || a2.forEach(function(r3) {
            var i2 = t3.edge(r3), o3 = r3.w, a3 = t3.node(o3);
            a3.in === void 0 && (a3.in = 0), a3.in -= i2, Wt(e3, n2, a3);
          }), t3.removeNode(r2.v), u2;
        }, Wt = function(t3, e3, n2) {
          n2.out ? n2.in ? t3[n2.out - n2.in + e3].enqueue(n2) : t3[t3.length - 1].enqueue(n2) : t3[0].enqueue(n2);
        };
        const Vt = function(t3, e3) {
          var n2;
          if (t3.nodeCount() <= 1)
            return [];
          var r2 = function(t4, e4) {
            var n3 = new Bt(), r3 = 0, i = 0;
            t4.nodes().forEach(function(t5) {
              n3.setNode(t5, { v: t5, in: 0, out: 0 });
            }), t4.edges().forEach(function(t5) {
              var o3 = n3.edge(t5.v, t5.w) || 0, a3 = e4 == null ? void 0 : e4(t5), u3 = o3 + a3;
              n3.setEdge(t5.v, t5.w, u3), i = Math.max(i, n3.node(t5.v).out += a3), r3 = Math.max(r3, n3.node(t5.w).in += a3);
            });
            for (var o2 = [], a2 = i + r3 + 3, u2 = 0; u2 < a2; u2++)
              o2.push(new Ft());
            var s2 = r3 + 1;
            return n3.nodes().forEach(function(t5) {
              Wt(o2, s2, n3.node(t5));
            }), { buckets: o2, zeroIdx: s2, graph: n3 };
          }(t3, e3 || zt);
          return (n2 = function(t4, e4, n3) {
            for (var r3, i = [], o2 = e4[e4.length - 1], a2 = e4[0]; t4.nodeCount(); ) {
              for (; r3 = a2.dequeue(); )
                jt(t4, e4, n3, r3);
              for (; r3 = o2.dequeue(); )
                jt(t4, e4, n3, r3);
              if (t4.nodeCount()) {
                for (var u2 = e4.length - 2; u2 > 0; --u2)
                  if (r3 = e4[u2].dequeue()) {
                    i = i.concat(jt(t4, e4, n3, r3, true));
                    break;
                  }
              }
            }
            return i;
          }(r2.graph, r2.buckets, r2.zeroIdx).map(function(e4) {
            return t3.outEdges(e4.v, e4.w);
          })) === null || n2 === void 0 ? void 0 : n2.flat();
        };
        var Xt = Gt.Graph, Ht = function(t3, e3, n2, r2) {
          var i;
          do {
            i = "" + r2 + Math.random();
          } while (t3.hasNode(i));
          return n2.dummy = e3, t3.setNode(i, n2), i;
        }, qt = function(t3) {
          var e3 = new Xt().setGraph(t3.graph());
          return t3.nodes().forEach(function(n2) {
            e3.setNode(n2, t3.node(n2));
          }), t3.edges().forEach(function(n2) {
            var r2 = e3.edge(n2.v, n2.w) || { weight: 0, minlen: 1 }, i = t3.edge(n2);
            e3.setEdge(n2.v, n2.w, { weight: r2.weight + i.weight, minlen: Math.max(r2.minlen, i.minlen) });
          }), e3;
        }, Yt = function(t3, e3) {
          var n2 = {};
          return t3.forEach(function(t4, r2) {
            n2[t4] = e3[r2];
          }), n2;
        }, Kt = function(t3) {
          var e3 = t3.nodes().map(function(e4) {
            return t3.node(e4).rank;
          }), n2 = Math.min.apply(Math, e3);
          t3.nodes().forEach(function(e4) {
            var r2 = t3.node(e4);
            r2.hasOwnProperty("rank") && (r2.rank || (r2.rank = 0), r2.rank -= n2);
          });
        }, Zt = function(t3) {
          var e3 = t3.nodes().map(function(e4) {
            return t3.node(e4).rank;
          }), n2 = Math.min.apply(Math, e3), r2 = [];
          t3.nodes().forEach(function(e4) {
            var i2, o3 = (((i2 = t3.node(e4)) === null || i2 === void 0 ? void 0 : i2.rank) || 0) - n2;
            r2[o3] || (r2[o3] = []), r2[o3].push(e4);
          });
          var i = 0, o2 = t3.graph().nodeRankFactor || 0;
          r2.forEach(function(e4, n3) {
            e4 === void 0 && n3 % o2 != 0 ? --i : i && e4.forEach(function(e5) {
              t3.node(e5).rank || (t3.node(e5).rank = 0), t3.node(e5).rank += i;
            });
          });
        }, $t = function(t3) {
          var e3 = t3.nodes().map(function(e4) {
            var n2 = t3.node(e4).rank;
            return n2 !== void 0 ? n2 : -1 / 0;
          });
          return Math.max.apply(Math, e3);
        }, Jt = function(t3, e3) {
          var n2 = Date.now();
          try {
            return e3();
          } finally {
            console.log(t3 + " time: " + (Date.now() - n2) + "ms");
          }
        }, Qt = function(t3, e3) {
          return e3();
        }, te = function(t3, e3) {
          var n2, r2 = 1 / 0;
          return t3.forEach(function(t4) {
            var i = e3(t4);
            r2 > i && (r2 = i, n2 = t4);
          }), n2;
        };
        const ee = { addDummyNode: Ht, simplify: qt, asNonCompoundGraph: function(t3) {
          var e3 = new Xt({ multigraph: t3.isMultigraph() }).setGraph(t3.graph());
          return t3.nodes().forEach(function(n2) {
            var r2;
            ((r2 = t3.children(n2)) === null || r2 === void 0 ? void 0 : r2.length) || e3.setNode(n2, t3.node(n2));
          }), t3.edges().forEach(function(n2) {
            return e3.setEdge(n2, t3.edge(n2));
          }), e3;
        }, successorWeights: function(t3) {
          var e3 = t3.nodes().map(function(e4) {
            var n2, r2 = {};
            return (n2 = t3.outEdges(e4)) === null || n2 === void 0 || n2.forEach(function(e5) {
              r2[e5.w] = (r2[e5.w] || 0) + t3.edge(e5).weight;
            }), r2;
          });
          return Yt(t3.nodes(), e3);
        }, predecessorWeights: function(t3) {
          var e3 = t3.nodes().map(function(e4) {
            var n2, r2 = {};
            return (n2 = t3.inEdges(e4)) === null || n2 === void 0 || n2.forEach(function(e5) {
              r2[e5.v] = (r2[e5.v] || 0) + t3.edge(e5).weight;
            }), r2;
          });
          return Yt(t3.nodes(), e3);
        }, intersectRect: function(t3, e3) {
          var n2, r2, i = t3.x, o2 = t3.y, a2 = e3.x - i, u2 = e3.y - o2, s2 = t3.width / 2, c2 = t3.height / 2;
          return a2 || u2 ? (Math.abs(u2) * s2 > Math.abs(a2) * c2 ? (u2 < 0 && (c2 = -c2), n2 = c2 * a2 / u2, r2 = c2) : (a2 < 0 && (s2 = -s2), n2 = s2, r2 = s2 * u2 / a2), { x: i + n2, y: o2 + r2 }) : { x: 0, y: 0 };
        }, buildLayerMatrix: function(t3) {
          for (var e3 = [], n2 = $t(t3) + 1, r2 = 0; r2 < n2; r2++)
            e3.push([]);
          return t3.nodes().forEach(function(n3) {
            var r3 = t3.node(n3), i = r3.rank;
            i !== void 0 && (e3[i][r3.order || 0] = n3);
          }), e3;
        }, normalizeRanks: Kt, removeEmptyRanks: Zt, addBorderNode: function(t3, e3, n2, r2) {
          var i = { width: 0, height: 0 };
          return a(n2) && a(r2) && (i.rank = n2, i.order = r2), Ht(t3, "border", i, e3);
        }, maxRank: $t, partition: function(t3, e3) {
          var n2 = { lhs: [], rhs: [] };
          return t3.forEach(function(t4) {
            e3(t4) ? n2.lhs.push(t4) : n2.rhs.push(t4);
          }), n2;
        }, time: Jt, notime: Qt, zipObject: Yt, minBy: te };
        const ne = function(t3) {
          t3.graph().dummyChains = [], t3.edges().forEach(function(e3) {
            return function(t4, e4) {
              var n2, r2, i = e4.v, o2 = t4.node(i).rank, a2 = e4.w, u2 = t4.node(a2).rank, s2 = e4.name, c2 = t4.edge(e4), f2 = c2.labelRank;
              if (u2 !== o2 + 1) {
                var l2, h2, d2;
                for (t4.removeEdge(e4), d2 = 0, ++o2; o2 < u2; ++d2, ++o2)
                  c2.points = [], l2 = ee.addDummyNode(t4, "edge", h2 = { edgeLabel: c2, width: 0, height: 0, edgeObj: e4, rank: o2 }, "_d"), o2 === f2 && (h2.width = c2.width, h2.height = c2.height, h2.dummy = "edge-label", h2.labelpos = c2.labelpos), t4.setEdge(i, l2, { weight: c2.weight }, s2), d2 === 0 && (t4.graph().dummyChains || (t4.graph().dummyChains = []), (r2 = (n2 = t4.graph()) === null || n2 === void 0 ? void 0 : n2.dummyChains) === null || r2 === void 0 || r2.push(l2)), i = l2;
                t4.setEdge(i, a2, { weight: c2.weight }, s2);
              }
            }(t3, e3);
          });
        };
        var re = function(t3) {
          var e3 = {}, n2 = function n3(r2) {
            var i, o2 = t3.node(r2);
            if (e3.hasOwnProperty(r2))
              return o2.rank;
            e3[r2] = true;
            var a2 = (i = t3.outEdges(r2)) === null || i === void 0 ? void 0 : i.map(function(e4) {
              return n3(e4.w) - t3.edge(e4).minlen || 1 / 0;
            }), u2 = Math.min.apply(Math, a2);
            return u2 !== Number.POSITIVE_INFINITY && u2 != null || (u2 = 0), o2.rank = u2, u2;
          };
          t3.sources().forEach(function(t4) {
            return n2(t4);
          });
        }, ie = function(t3) {
          var e3 = {}, n2 = 0, r2 = function r3(i2) {
            var o2, a2 = t3.node(i2);
            if (e3.hasOwnProperty(i2))
              return a2.rank;
            e3[i2] = true;
            var u2 = (o2 = t3.outEdges(i2)) === null || o2 === void 0 ? void 0 : o2.map(function(e4) {
              return r3(e4.w) - t3.edge(e4).minlen || 1 / 0;
            }), s2 = Math.min.apply(Math, u2);
            return s2 !== Number.POSITIVE_INFINITY && s2 != null || (s2 = 0), a2.rank = s2, n2 = Math.min(a2.rank, n2), a2.rank;
          };
          t3.sources().forEach(function(t4) {
            return r2(t4);
          }), n2 += 1;
          var i = function e4(n3, r3) {
            var i2, o2 = t3.node(n3), a2 = isNaN(o2.layer) ? r3 : o2.layer;
            (o2.rank === void 0 || o2.rank < a2) && (o2.rank = a2), (i2 = t3.outEdges(n3)) === null || i2 === void 0 || i2.map(function(n4) {
              e4(n4.w, a2 + t3.edge(n4).minlen);
            });
          };
          t3.nodes().forEach(function(e4) {
            var r3 = t3.node(e4);
            isNaN(r3.layer) ? r3.rank -= n2 : i(e4, r3.layer);
          });
        }, oe = function(t3, e3) {
          return t3.node(e3.w).rank - t3.node(e3.v).rank - t3.edge(e3).minlen;
        }, ae = Gt.Graph, ue = function(t3, e3) {
          return t3.nodes().forEach(function n2(r2) {
            e3.nodeEdges(r2).forEach(function(i) {
              var o2 = i.v, a2 = r2 === o2 ? i.w : o2;
              t3.hasNode(a2) || oe(e3, i) || (t3.setNode(a2, {}), t3.setEdge(r2, a2, {}), n2(a2));
            });
          }), t3.nodeCount();
        }, se = function(t3, e3) {
          return t3.nodes().forEach(function n2(r2) {
            var i;
            (i = e3.nodeEdges(r2)) === null || i === void 0 || i.forEach(function(i2) {
              var o2 = i2.v, a2 = r2 === o2 ? i2.w : o2;
              t3.hasNode(a2) || e3.node(a2).layer === void 0 && oe(e3, i2) || (t3.setNode(a2, {}), t3.setEdge(r2, a2, {}), n2(a2));
            });
          }), t3.nodeCount();
        }, ce = function(t3, e3) {
          return te(e3.edges(), function(n2) {
            return t3.hasNode(n2.v) !== t3.hasNode(n2.w) ? oe(e3, n2) : 1 / 0;
          });
        }, fe = function(t3, e3, n2) {
          t3.nodes().forEach(function(t4) {
            e3.node(t4).rank || (e3.node(t4).rank = 0), e3.node(t4).rank += n2;
          });
        }, le = Gt.alg, he = le.preorder, de = le.postorder, pe = function(t3) {
          t3 = qt(t3), re(t3);
          var e3, n2, r2 = function(t4) {
            var e4, n3, r3 = new ae({ directed: false }), i = t4.nodes()[0], o2 = t4.nodeCount();
            for (r3.setNode(i, {}); ue(r3, t4) < o2; )
              e4 = ce(r3, t4), n3 = r3.hasNode(e4.v) ? oe(t4, e4) : -oe(t4, e4), fe(r3, t4, n3);
            return r3;
          }(t3);
          for (me(r2), ve(r2, t3); e3 = _e(r2); )
            n2 = xe(r2, t3, e3), we(r2, t3, e3, n2);
        }, ve = function(t3, e3) {
          var n2 = de(t3, t3.nodes());
          (n2 = n2.slice(0, n2.length - 1)).forEach(function(n3) {
            ge(t3, e3, n3);
          });
        }, ge = function(t3, e3, n2) {
          var r2 = t3.node(n2).parent;
          t3.edge(n2, r2).cutvalue = ye(t3, e3, n2);
        }, ye = function(t3, e3, n2) {
          var r2 = t3.node(n2).parent, i = true, o2 = e3.edge(n2, r2), a2 = 0;
          return o2 || (i = false, o2 = e3.edge(r2, n2)), a2 = o2.weight, e3.nodeEdges(n2).forEach(function(o3) {
            var u2 = o3.v === n2, s2 = u2 ? o3.w : o3.v;
            if (s2 !== r2) {
              var c2 = u2 === i, f2 = e3.edge(o3).weight;
              if (a2 += c2 ? f2 : -f2, Se(t3, n2, s2)) {
                var l2 = t3.edge(n2, s2).cutvalue;
                a2 += c2 ? -l2 : l2;
              }
            }
          }), a2;
        }, me = function(t3, e3) {
          e3 !== void 0 && (e3 = t3.nodes()[0]), be(t3, {}, 1, e3);
        }, be = function t3(e3, n2, r2, i, o2) {
          var a2, u2 = r2, s2 = r2, c2 = e3.node(i);
          return n2[i] = true, (a2 = e3.neighbors(i)) === null || a2 === void 0 || a2.forEach(function(r3) {
            n2.hasOwnProperty(r3) || (s2 = t3(e3, n2, s2, r3, i));
          }), c2.low = u2, c2.lim = s2++, o2 ? c2.parent = o2 : delete c2.parent, s2;
        }, _e = function(t3) {
          return t3.edges().find(function(e3) {
            return t3.edge(e3).cutvalue < 0;
          });
        }, xe = function(t3, e3, n2) {
          var r2 = n2.v, i = n2.w;
          e3.hasEdge(r2, i) || (r2 = n2.w, i = n2.v);
          var o2 = t3.node(r2), a2 = t3.node(i), u2 = o2, s2 = false;
          o2.lim > a2.lim && (u2 = a2, s2 = true);
          var c2 = e3.edges().filter(function(e4) {
            return s2 === Ae(t3, t3.node(e4.v), u2) && s2 !== Ae(t3, t3.node(e4.w), u2);
          });
          return te(c2, function(t4) {
            return oe(e3, t4);
          });
        }, we = function(t3, e3, n2, r2) {
          var i = n2.v, o2 = n2.w;
          t3.removeEdge(i, o2), t3.setEdge(r2.v, r2.w, {}), me(t3), ve(t3, e3), Ee(t3, e3);
        }, Ee = function(t3, e3) {
          var n2 = t3.nodes().find(function(t4) {
            return !e3.node(t4).parent;
          }), r2 = he(t3, n2);
          (r2 = r2.slice(1)).forEach(function(n3) {
            var r3 = t3.node(n3).parent, i = e3.edge(n3, r3), o2 = false;
            i || (i = e3.edge(r3, n3), o2 = true), e3.node(n3).rank = e3.node(r3).rank + (o2 ? i.minlen : -i.minlen);
          });
        }, Se = function(t3, e3, n2) {
          return t3.hasEdge(e3, n2);
        }, Ae = function(t3, e3, n2) {
          return n2.low <= e3.lim && e3.lim <= n2.lim;
        };
        pe.initLowLimValues = me, pe.initCutValues = ve, pe.calcCutValue = ye, pe.leaveEdge = _e, pe.enterEdge = xe, pe.exchangeEdges = we;
        const Te = pe;
        var Ie = re, Ce = function(t3) {
          ie(t3), function(t4) {
            var e3, n2, r2 = new ae({ directed: false }), i = t4.nodes()[0], o2 = t4.nodeCount();
            for (r2.setNode(i, {}); se(r2, t4) < o2; )
              e3 = ce(r2, t4), n2 = r2.hasNode(e3.v) ? oe(t4, e3) : -oe(t4, e3), fe(r2, t4, n2);
          }(t3);
        };
        const De = function(t3) {
          switch (t3.graph().ranker) {
            case "network-simplex":
              !function(t4) {
                Te(t4);
              }(t3);
              break;
            default:
              Ce(t3);
              break;
            case "longest-path":
              Ie(t3);
          }
        };
        const Ne = function(t3) {
          var e3, n2 = function(t4) {
            var e4, n3 = {}, r2 = 0;
            return (e4 = t4.children()) === null || e4 === void 0 || e4.forEach(function e5(i) {
              var o2, a2 = r2;
              (o2 = t4.children(i)) === null || o2 === void 0 || o2.forEach(e5), n3[i] = { low: a2, lim: r2++ };
            }), n3;
          }(t3);
          (e3 = t3.graph().dummyChains) === null || e3 === void 0 || e3.forEach(function(e4) {
            var r2, i, o2 = t3.node(e4), a2 = o2.edgeObj;
            if (a2)
              for (var u2 = function(t4, e5, n3, r3) {
                var i2, o3, a3 = [], u3 = [], s3 = Math.min(e5[n3].low, e5[r3].low), c3 = Math.max(e5[n3].lim, e5[r3].lim);
                i2 = n3;
                do {
                  i2 = t4.parent(i2), a3.push(i2);
                } while (i2 && (e5[i2].low > s3 || c3 > e5[i2].lim));
                for (o3 = i2, i2 = r3; (i2 = t4.parent(i2)) !== o3; )
                  u3.push(i2);
                return { lca: o3, path: a3.concat(u3.reverse()) };
              }(t3, n2, a2.v, a2.w), s2 = u2.path, c2 = u2.lca, f2 = 0, l2 = s2[f2], h2 = true; e4 !== a2.w; ) {
                if (o2 = t3.node(e4), h2) {
                  for (; (l2 = s2[f2]) !== c2 && t3.node(l2).maxRank < o2.rank; )
                    f2++;
                  l2 === c2 && (h2 = false);
                }
                if (!h2) {
                  for (; f2 < s2.length - 1 && ((r2 = t3.node(l2 = s2[f2 + 1])) === null || r2 === void 0 ? void 0 : r2.minRank) <= o2.rank; )
                    f2++;
                  l2 = s2[f2];
                }
                t3.setParent(e4, l2), e4 = (i = t3.successors(e4)) === null || i === void 0 ? void 0 : i[0];
              }
          });
        };
        var ke = function t3(e3, n2, r2, i, o2, a2, u2) {
          var s2 = e3.children(u2);
          if (s2 == null ? void 0 : s2.length) {
            var c2 = ee.addBorderNode(e3, "_bt"), f2 = ee.addBorderNode(e3, "_bb"), l2 = e3.node(u2);
            e3.setParent(c2, u2), l2.borderTop = c2, e3.setParent(f2, u2), l2.borderBottom = f2, s2 == null || s2.forEach(function(s3) {
              t3(e3, n2, r2, i, o2, a2, s3);
              var l3 = e3.node(s3), h2 = l3.borderTop ? l3.borderTop : s3, d2 = l3.borderBottom ? l3.borderBottom : s3, p2 = l3.borderTop ? i : 2 * i, v2 = h2 !== d2 ? 1 : o2 - a2[u2] + 1;
              e3.setEdge(c2, h2, { minlen: v2, weight: p2, nestingEdge: true }), e3.setEdge(d2, f2, { minlen: v2, weight: p2, nestingEdge: true });
            }), e3.parent(u2) || e3.setEdge(n2, c2, { weight: 0, minlen: o2 + a2[u2] });
          } else
            u2 !== n2 && e3.setEdge(n2, u2, { weight: 0, minlen: r2 });
        }, Re = function(t3) {
          var e3, n2 = {}, r2 = function e4(r3, i) {
            var o2 = t3.children(r3);
            o2 == null || o2.forEach(function(t4) {
              return e4(t4, i + 1);
            }), n2[r3] = i;
          };
          return (e3 = t3.children()) === null || e3 === void 0 || e3.forEach(function(t4) {
            return r2(t4, 1);
          }), n2;
        };
        const Oe = function(t3) {
          var e3, n2 = ee.addDummyNode(t3, "root", {}, "_root"), r2 = Re(t3), i = Math.max.apply(Math, Object.values(r2)) - 1, o2 = 2 * i + 1;
          t3.graph().nestingRoot = n2, t3.edges().forEach(function(e4) {
            t3.edge(e4).minlen *= o2;
          });
          var a2 = function(t4) {
            var e4 = 0;
            return t4.edges().forEach(function(n3) {
              e4 += t4.edge(n3).weight;
            }), e4;
          }(t3) + 1;
          (e3 = t3.children()) === null || e3 === void 0 || e3.forEach(function(e4) {
            ke(t3, n2, o2, a2, i, r2, e4);
          }), t3.graph().nodeRankFactor = o2;
        };
        var Me = function(t3, e3, n2, r2, i, o2) {
          var a2 = { rank: o2, width: 0, height: 0, borderType: e3 }, u2 = i[e3][o2 - 1], s2 = ee.addDummyNode(t3, "border", a2, n2);
          i[e3][o2] = s2, t3.setParent(s2, r2), u2 && t3.setEdge(u2, s2, { weight: 1 });
        };
        const Pe = function(t3) {
          var e3, n2 = function e4(n3) {
            var r2 = t3.children(n3), i = t3.node(n3);
            if ((r2 == null ? void 0 : r2.length) && r2.forEach(function(t4) {
              return e4(t4);
            }), i.hasOwnProperty("minRank")) {
              i.borderLeft = [], i.borderRight = [];
              for (var o2 = i.minRank, a2 = i.maxRank + 1; o2 < a2; ++o2)
                Me(t3, "borderLeft", "_bl", n3, i, o2), Me(t3, "borderRight", "_br", n3, i, o2);
            }
          };
          (e3 = t3.children()) === null || e3 === void 0 || e3.forEach(function(t4) {
            return n2(t4);
          });
        };
        var Ge = function(t3) {
          t3.nodes().forEach(function(e3) {
            Le(t3.node(e3));
          }), t3.edges().forEach(function(e3) {
            Le(t3.edge(e3));
          });
        }, Le = function(t3) {
          var e3 = t3.width;
          t3.width = t3.height, t3.height = e3;
        }, Ue = function(t3) {
          t3.y = -t3.y;
        }, Fe = function(t3) {
          var e3 = t3.x;
          t3.x = t3.y, t3.y = e3;
        };
        const Be = function(t3) {
          var e3, n2 = (e3 = t3.graph().rankdir) === null || e3 === void 0 ? void 0 : e3.toLowerCase();
          n2 !== "bt" && n2 !== "rl" || function(t4) {
            t4.nodes().forEach(function(e4) {
              Ue(t4.node(e4));
            }), t4.edges().forEach(function(e4) {
              var n3 = t4.edge(e4);
              n3.points.forEach(function(t5) {
                return Ue(t5);
              }), n3.hasOwnProperty("y") && Ue(n3);
            });
          }(t3), n2 !== "lr" && n2 !== "rl" || (function(t4) {
            t4.nodes().forEach(function(e4) {
              Fe(t4.node(e4));
            }), t4.edges().forEach(function(e4) {
              var n3 = t4.edge(e4);
              n3.points.forEach(function(t5) {
                return Fe(t5);
              }), n3.hasOwnProperty("x") && Fe(n3);
            });
          }(t3), Ge(t3));
        }, ze = function(t3) {
          for (var e3 = {}, n2 = t3.nodes().filter(function(e4) {
            var n3;
            return !((n3 = t3.children(e4)) === null || n3 === void 0 ? void 0 : n3.length);
          }), r2 = n2.map(function(e4) {
            return t3.node(e4).rank;
          }), i = Math.max.apply(Math, r2), o2 = [], a2 = 0; a2 < i + 1; a2++)
            o2.push([]);
          var u2 = n2.sort(function(e4, n3) {
            return t3.node(e4).rank - t3.node(n3).rank;
          });
          return u2.filter(function(e4) {
            return t3.node(e4).fixorder !== void 0;
          }).sort(function(e4, n3) {
            return t3.node(e4).fixorder - t3.node(n3).fixorder;
          }).forEach(function(n3) {
            o2[t3.node(n3).rank].push(n3), e3[n3] = true;
          }), u2.forEach(function n3(r3) {
            var i2;
            if (!e3.hasOwnProperty(r3)) {
              e3[r3] = true;
              var a3 = t3.node(r3);
              o2[a3.rank].push(r3), (i2 = t3.successors(r3)) === null || i2 === void 0 || i2.forEach(function(t4) {
                return n3(t4);
              });
            }
          }), o2;
        };
        var je = function(t3, e3, n2) {
          for (var r2 = Yt(n2, n2.map(function(t4, e4) {
            return e4;
          })), i = e3.map(function(e4) {
            var n3, i2 = (n3 = t3.outEdges(e4)) === null || n3 === void 0 ? void 0 : n3.map(function(e5) {
              return { pos: r2[e5.w], weight: t3.edge(e5).weight };
            });
            return i2 == null ? void 0 : i2.sort(function(t4, e5) {
              return t4.pos - e5.pos;
            });
          }).flat(), o2 = 1; o2 < n2.length; )
            o2 <<= 1;
          var a2 = 2 * o2 - 1;
          o2 -= 1;
          var u2 = Array(a2).fill(0, 0, a2), s2 = 0;
          return i.forEach(function(t4) {
            var e4 = t4.pos + o2;
            u2[e4] += t4.weight;
            for (var n3 = 0; e4 > 0; )
              e4 % 2 && (n3 += u2[e4 + 1]), u2[e4 = e4 - 1 >> 1] += t4.weight;
            s2 += t4.weight * n3;
          }), s2;
        };
        const We = function(t3, e3) {
          for (var n2 = 0, r2 = 1; r2 < e3.length; ++r2)
            n2 += je(t3, e3[r2 - 1], e3[r2]);
          return n2;
        };
        var Ve = Gt.Graph;
        const Xe = function(t3, e3, n2) {
          var r2 = function(t4) {
            for (var e4; t4.hasNode(e4 = "_root" + Math.random()); )
              ;
            return e4;
          }(t3), i = new Ve({ compound: true }).setGraph({ root: r2 }).setDefaultNodeLabel(function(e4) {
            return t3.node(e4);
          });
          return t3.nodes().forEach(function(o2) {
            var a2 = t3.node(o2), u2 = t3.parent(o2);
            (a2.rank === e3 || a2.minRank <= e3 && e3 <= a2.maxRank) && (i.setNode(o2), i.setParent(o2, u2 || r2), t3[n2](o2).forEach(function(e4) {
              var n3 = e4.v === o2 ? e4.w : e4.v, r3 = i.edge(n3, o2), a3 = r3 !== void 0 ? r3.weight : 0;
              i.setEdge(n3, o2, { weight: t3.edge(e4).weight + a3 });
            }), a2.hasOwnProperty("minRank") && i.setNode(o2, { borderLeft: a2.borderLeft[e3], borderRight: a2.borderRight[e3] }));
          }), i;
        };
        var He = function(t3, e3) {
          var n2 = 0, r2 = 0;
          t3.weight && (n2 += t3.barycenter * t3.weight, r2 += t3.weight), e3.weight && (n2 += e3.barycenter * e3.weight, r2 += e3.weight), t3.vs = e3.vs.concat(t3.vs), t3.barycenter = n2 / r2, t3.weight = r2, t3.i = Math.min(e3.i, t3.i), e3.merged = true;
        };
        const qe = function(t3, e3) {
          var n2, r2, i = {};
          return t3.forEach(function(t4, e4) {
            var n3 = i[t4.v] = { i: e4, indegree: 0, in: [], out: [], vs: [t4.v] };
            t4.barycenter !== void 0 && (n3.barycenter = t4.barycenter, n3.weight = t4.weight);
          }), e3.edges().forEach(function(t4) {
            var e4 = i[t4.v], n3 = i[t4.w];
            e4 !== void 0 && n3 !== void 0 && (n3.indegree++, e4.out.push(i[t4.w]));
          }), function(t4) {
            for (var e4 = [], n3 = function() {
              var n4 = t4.pop();
              e4.push(n4), n4.in.reverse().forEach(function(t5) {
                return e5 = n4, function(t6) {
                  t6.merged || (t6.barycenter !== void 0 || e5.barycenter !== void 0 || t6.barycenter >= e5.barycenter) && He(e5, t6);
                };
                var e5;
              }), n4.out.forEach(function(e5) {
                return r4 = n4, function(e6) {
                  e6.in.push(r4), --e6.indegree == 0 && t4.push(e6);
                };
                var r4;
              });
            }; t4 == null ? void 0 : t4.length; )
              n3();
            var r3 = e4.filter(function(t5) {
              return !t5.merged;
            }), i2 = ["vs", "i", "barycenter", "weight"];
            return r3.map(function(t5) {
              var e5 = {};
              return i2.forEach(function(n4) {
                t5[n4] !== void 0 && (e5[n4] = t5[n4]);
              }), e5;
            });
          }((r2 = (n2 = Object.values(i)).filter) === null || r2 === void 0 ? void 0 : r2.call(n2, function(t4) {
            return !t4.indegree;
          }));
        };
        var Ye = function(t3, e3, n2) {
          for (var r2, i = n2; e3.length && (r2 = e3[e3.length - 1]).i <= i; )
            e3.pop(), t3.push(r2.vs), i++;
          return i;
        };
        const Ke = function t3(e3, n2, r2, i, o2) {
          var a2, u2, s2, c2 = e3.children(n2), f2 = e3.node(n2), l2 = f2 ? f2.borderLeft : void 0, h2 = f2 ? f2.borderRight : void 0, d2 = {};
          l2 && (c2 = c2 == null ? void 0 : c2.filter(function(t4) {
            return t4 !== l2 && t4 !== h2;
          }));
          var p2 = function(t4, e4) {
            return e4.map(function(e5) {
              var n3 = t4.inEdges(e5);
              if (!(n3 == null ? void 0 : n3.length))
                return { v: e5 };
              var r3 = { sum: 0, weight: 0 };
              return n3.forEach(function(e6) {
                var n4 = t4.edge(e6), i2 = t4.node(e6.v);
                r3.sum += n4.weight * i2.order, r3.weight += n4.weight;
              }), { v: e5, barycenter: r3.sum / r3.weight, weight: r3.weight };
            });
          }(e3, c2 || []);
          p2.forEach(function(n3) {
            var o3, a3, u3;
            if ((o3 = e3.children(n3.v)) === null || o3 === void 0 ? void 0 : o3.length) {
              var s3 = t3(e3, n3.v, r2, i);
              d2[n3.v] = s3, s3.hasOwnProperty("barycenter") && (u3 = s3, (a3 = n3).barycenter !== void 0 ? (a3.barycenter = (a3.barycenter * a3.weight + u3.barycenter * u3.weight) / (a3.weight + u3.weight), a3.weight += u3.weight) : (a3.barycenter = u3.barycenter, a3.weight = u3.weight));
            }
          });
          var v2 = qe(p2, r2);
          (function(t4, e4) {
            t4.forEach(function(t5) {
              var n3 = t5.vs.map(function(t6) {
                return e4[t6] ? e4[t6].vs : t6;
              });
              t5.vs = n3.flat();
            });
          })(v2, d2), v2.forEach(function(t4) {
            var n3 = e3.node(t4.vs[0]);
            t4.fixorder = n3.fixorder, t4.order = n3.order;
          });
          var g2 = function(t4, e4, n3) {
            var r3 = ee.partition(t4, function(t5) {
              return t5.hasOwnProperty("fixorder") && !isNaN(t5.fixorder) || t5.hasOwnProperty("barycenter");
            }), i2 = r3.lhs, o3 = r3.rhs.sort(function(t5, e5) {
              return -t5.i - -e5.i;
            }), a3 = [], u3 = 0, s3 = 0, c3 = 0;
            i2.sort(function(t5, e5) {
              return function(n4, r4) {
                if (n4.fixorder !== void 0 && r4.fixorder !== void 0)
                  return n4.fixorder - r4.fixorder;
                if (n4.barycenter < r4.barycenter)
                  return -1;
                if (n4.barycenter > r4.barycenter)
                  return 1;
                if (e5 && n4.order !== void 0 && r4.order !== void 0) {
                  if (n4.order < r4.order)
                    return -1;
                  if (n4.order > r4.order)
                    return 1;
                }
                return t5 ? r4.i - n4.i : n4.i - r4.i;
              };
            }(!!e4, !!n3)), c3 = Ye(a3, o3, c3), i2.forEach(function(t5) {
              c3 += t5.vs.length, a3.push(t5.vs), u3 += t5.barycenter * t5.weight, s3 += t5.weight, c3 = Ye(a3, o3, c3);
            });
            var f3 = { vs: a3.flat() };
            return s3 && (f3.barycenter = u3 / s3, f3.weight = s3), f3;
          }(v2, i, o2);
          if (l2 && (g2.vs = [l2, g2.vs, h2].flat(), (a2 = e3.predecessors(l2)) === null || a2 === void 0 ? void 0 : a2.length)) {
            var y2 = e3.node(((u2 = e3.predecessors(l2)) === null || u2 === void 0 ? void 0 : u2[0]) || {}), m2 = e3.node(((s2 = e3.predecessors(h2)) === null || s2 === void 0 ? void 0 : s2[0]) || {});
            g2.hasOwnProperty("barycenter") || (g2.barycenter = 0, g2.weight = 0), g2.barycenter = (g2.barycenter * g2.weight + y2.order + m2.order) / (g2.weight + 2), g2.weight += 2;
          }
          return g2;
        };
        var Ze = Gt.Graph, $e = function(t3, e3, n2) {
          return e3.map(function(e4) {
            return Xe(t3, e4, n2);
          });
        }, Je = function(t3, e3, n2) {
          var r2 = new Ze();
          t3 == null || t3.forEach(function(t4) {
            var i = t4.graph().root, o2 = Ke(t4, i, r2, e3, n2);
            o2.vs.forEach(function(e4, n3) {
              t4.node(e4).order = n3;
            }), function(t5, e4, n3) {
              var r3, i2 = {};
              n3.forEach(function(n4) {
                for (var o3, a2, u2 = t5.parent(n4); u2; ) {
                  if ((o3 = t5.parent(u2)) ? (a2 = i2[o3], i2[o3] = u2) : (a2 = r3, r3 = u2), a2 && a2 !== u2)
                    return void e4.setEdge(a2, u2);
                  u2 = o3;
                }
              });
            }(t4, r2, o2.vs);
          });
        }, Qe = function(t3, e3) {
          e3 == null || e3.forEach(function(e4) {
            e4.forEach(function(e5, n2) {
              t3.node(e5).order = n2;
            });
          });
        };
        var tn = Gt.Graph, en = function(t3, e3) {
          var n2;
          if (t3.node(e3).dummy)
            return (n2 = t3.predecessors(e3)) === null || n2 === void 0 ? void 0 : n2.find(function(e4) {
              return t3.node(e4).dummy;
            });
        }, nn = function(t3, e3, n2) {
          var r2 = e3, i = n2;
          if (r2 > i) {
            var o2 = r2;
            r2 = i, i = o2;
          }
          var a2 = t3[r2];
          a2 || (t3[r2] = a2 = {}), a2[i] = true;
        }, rn = function(t3, e3, n2) {
          var r2 = e3, i = n2;
          return r2 > i && (r2 = i, i = e3), t3[r2] && t3[r2].hasOwnProperty(i);
        }, on = function(t3, e3, n2, r2) {
          var i = new tn(), o2 = t3.graph(), a2 = an(o2.nodesep, o2.edgesep, r2);
          return e3.forEach(function(e4) {
            var r3;
            e4.forEach(function(e5) {
              var o3 = n2[e5];
              if (i.setNode(o3), r3) {
                var u2 = n2[r3], s2 = i.edge(u2, o3);
                i.setEdge(u2, o3, Math.max(a2(t3, e5, r3), s2 || 0));
              }
              r3 = e5;
            });
          }), i;
        };
        var an = function(t3, e3, n2) {
          return function(r2, i, o2) {
            var a2, u2 = r2.node(i), s2 = r2.node(o2), c2 = 0;
            if (c2 += u2.width / 2, u2.hasOwnProperty("labelpos"))
              switch ((u2.labelpos || "").toLowerCase()) {
                case "l":
                  a2 = -u2.width / 2;
                  break;
                case "r":
                  a2 = u2.width / 2;
              }
            if (a2 && (c2 += n2 ? a2 : -a2), a2 = 0, c2 += (u2.dummy ? e3 : t3) / 2, c2 += (s2.dummy ? e3 : t3) / 2, c2 += s2.width / 2, s2.hasOwnProperty("labelpos"))
              switch ((s2.labelpos || "").toLowerCase()) {
                case "l":
                  a2 = s2.width / 2;
                  break;
                case "r":
                  a2 = -s2.width / 2;
              }
            return a2 && (c2 += n2 ? a2 : -a2), a2 = 0, c2;
          };
        }, un = function(t3, e3) {
          var n2;
          return ((n2 = t3.node(e3)) === null || n2 === void 0 ? void 0 : n2.width) || 0;
        };
        const sn = function(t3) {
          var e3;
          !function(t4) {
            var e4 = ee.buildLayerMatrix(t4), n3 = t4.graph().ranksep, r2 = 0;
            e4.forEach(function(e5) {
              var i = e5.map(function(e6) {
                return t4.node(e6).height;
              }), o2 = Math.max.apply(Math, i);
              e5.forEach(function(e6) {
                t4.node(e6).y = r2 + o2 / 2;
              }), r2 += o2 + n3;
            });
          }(t3 = ee.asNonCompoundGraph(t3));
          var n2 = function(t4) {
            var e4, n3 = ee.buildLayerMatrix(t4), r2 = Object.assign(function(t5, e5) {
              var n4 = {};
              return (e5 == null ? void 0 : e5.length) && e5.reduce(function(e6, r3) {
                var i2 = 0, o3 = 0, a2 = e6.length, u2 = r3[(r3 == null ? void 0 : r3.length) - 1];
                return r3.forEach(function(e7, s2) {
                  var c2 = en(t5, e7), f2 = c2 ? t5.node(c2).order : a2;
                  (c2 || e7 === u2) && (r3.slice(o3, s2 + 1).forEach(function(e8) {
                    var r4;
                    (r4 = t5.predecessors(e8)) === null || r4 === void 0 || r4.forEach(function(r5) {
                      var o4 = t5.node(r5), a3 = o4.order;
                      !(a3 < i2 || f2 < a3) || o4.dummy && t5.node(e8).dummy || nn(n4, r5, e8);
                    });
                  }), o3 = s2 + 1, i2 = f2);
                }), r3;
              }), n4;
            }(t4, n3), function(t5, e5) {
              var n4 = {}, r3 = function(e6, r4, i2, o3, a2) {
                for (var u2, s2 = [], c2 = r4; c2 < i2; c2++)
                  s2.push(c2);
                s2.forEach(function(r5) {
                  var i3;
                  u2 = e6[r5], t5.node(u2).dummy && ((i3 = t5.predecessors(u2)) === null || i3 === void 0 || i3.forEach(function(e7) {
                    var r6 = t5.node(e7);
                    r6.dummy && (r6.order < o3 || r6.order > a2) && nn(n4, e7, u2);
                  }));
                });
              };
              return (e5 == null ? void 0 : e5.length) && e5.reduce(function(e6, n5) {
                var i2, o3 = -1, a2 = 0;
                return n5.forEach(function(u2, s2) {
                  if (t5.node(u2).dummy === "border") {
                    var c2 = t5.predecessors(u2) || [];
                    c2.length && (i2 = t5.node(c2[0]).order, r3(n5, a2, s2, o3, i2), a2 = s2, o3 = i2);
                  }
                  r3(n5, a2, n5.length, i2, e6.length);
                }), n5;
              }), n4;
            }(t4, n3)), i = {};
            ["u", "d"].forEach(function(o3) {
              e4 = o3 === "u" ? n3 : Object.values(n3).reverse(), ["l", "r"].forEach(function(n4) {
                n4 === "r" && (e4 = e4.map(function(t5) {
                  return Object.values(t5).reverse();
                }));
                var a2 = (o3 === "u" ? t4.predecessors : t4.successors).bind(t4), u2 = function(t5, e5, n5, r3) {
                  var i2 = {}, o4 = {}, a3 = {};
                  return e5.forEach(function(t6) {
                    t6.forEach(function(t7, e6) {
                      i2[t7] = t7, o4[t7] = t7, a3[t7] = e6;
                    });
                  }), e5.forEach(function(t6) {
                    var e6 = -1;
                    t6.forEach(function(t7) {
                      var u3 = r3(t7);
                      if (u3.length)
                        for (var s3 = ((u3 = u3.sort(function(t8, e7) {
                          return a3[t8] - a3[e7];
                        })).length - 1) / 2, c2 = Math.floor(s3), f2 = Math.ceil(s3); c2 <= f2; ++c2) {
                          var l2 = u3[c2];
                          o4[t7] === t7 && e6 < a3[l2] && !rn(n5, t7, l2) && (o4[l2] = t7, o4[t7] = i2[t7] = i2[l2], e6 = a3[l2]);
                        }
                    });
                  }), { root: i2, align: o4 };
                }(0, e4, r2, a2), s2 = function(t5, e5, n5, r3, i2) {
                  var o4 = {}, a3 = on(t5, e5, n5, i2), u3 = i2 ? "borderLeft" : "borderRight", s3 = function(t6, e6) {
                    for (var n6 = a3.nodes(), r4 = n6.pop(), i3 = {}; r4; )
                      i3[r4] ? t6(r4) : (i3[r4] = true, n6.push(r4), n6 = n6.concat(e6(r4))), r4 = n6.pop();
                  };
                  return s3(function(t6) {
                    o4[t6] = (a3.inEdges(t6) || []).reduce(function(t7, e6) {
                      return Math.max(t7, (o4[e6.v] || 0) + a3.edge(e6));
                    }, 0);
                  }, a3.predecessors.bind(a3)), s3(function(e6) {
                    var n6 = (a3.outEdges(e6) || []).reduce(function(t6, e7) {
                      return Math.min(t6, (o4[e7.w] || 0) - a3.edge(e7));
                    }, Number.POSITIVE_INFINITY), r4 = t5.node(e6);
                    n6 !== Number.POSITIVE_INFINITY && r4.borderType !== u3 && (o4[e6] = Math.max(o4[e6], n6));
                  }, a3.successors.bind(a3)), Object.values(r3).forEach(function(t6) {
                    o4[t6] = o4[n5[t6]];
                  }), o4;
                }(t4, e4, u2.root, u2.align, n4 === "r");
                n4 === "r" && Object.keys(s2).forEach(function(t5) {
                  return s2[t5] = -s2[t5];
                }), i[o3 + n4] = s2;
              });
            });
            var o2 = function(t5, e5) {
              return ee.minBy(Object.values(e5), function(e6) {
                var n4 = Number.NEGATIVE_INFINITY, r3 = Number.POSITIVE_INFINITY;
                return Object.keys(e6).forEach(function(i2) {
                  var o3 = e6[i2], a2 = un(t5, i2) / 2;
                  n4 = Math.max(o3 + a2, n4), r3 = Math.min(o3 - a2, r3);
                }), n4 - r3;
              });
            }(t4, i);
            return o2 && function(t5, e5) {
              var n4 = Object.values(e5), r3 = Math.min.apply(Math, n4), i2 = Math.max.apply(Math, n4);
              ["u", "d"].forEach(function(n5) {
                ["l", "r"].forEach(function(o3) {
                  var a2, u2 = n5 + o3, s2 = t5[u2];
                  if (s2 !== e5) {
                    var c2 = Object.values(s2);
                    (a2 = o3 === "l" ? r3 - Math.min.apply(Math, c2) : i2 - Math.max.apply(Math, c2)) && (t5[u2] = {}, Object.keys(s2).forEach(function(e6) {
                      t5[u2][e6] = s2[e6] + a2;
                    }));
                  }
                });
              });
            }(i, o2), function(t5, e5) {
              var n4 = {};
              return Object.keys(t5.ul).forEach(function(r3) {
                if (e5)
                  n4[r3] = t5[e5.toLowerCase()][r3];
                else {
                  var i2 = Object.values(t5).map(function(t6) {
                    return t6[r3];
                  }).sort(function(t6, e6) {
                    return t6 - e6;
                  });
                  n4[r3] = (i2[1] + i2[2]) / 2;
                }
              }), n4;
            }(i, t4.graph().align);
          }(t3);
          (e3 = Object.keys(n2)) === null || e3 === void 0 || e3.forEach(function(e4) {
            t3.node(e4).x = n2[e4];
          });
        };
        var cn = Gt.Graph, fn = function(t3, e3, n2) {
          e3("    removeSelfEdges", function() {
            In(t3);
          }), e3("    acyclic", function() {
            !function(t4) {
              (t4.graph().acyclicer === "greedy" ? Vt(t4, function(t5) {
                return function(e4) {
                  return t5.edge(e4).weight;
                };
              }(t4)) : function(t5) {
                var e4 = [], n3 = {}, r2 = {};
                return t5.nodes().forEach(function i(o2) {
                  var a2;
                  r2.hasOwnProperty(o2) || (r2[o2] = true, n3[o2] = true, (a2 = t5.outEdges(o2)) === null || a2 === void 0 || a2.forEach(function(t6) {
                    n3.hasOwnProperty(t6.w) ? e4.push(t6) : i(t6.w);
                  }), delete n3[o2]);
                }), e4;
              }(t4)).forEach(function(e4) {
                var n3 = t4.edge(e4);
                t4.removeEdge(e4), n3.forwardName = e4.name, n3.reversed = true, t4.setEdge(e4.w, e4.v, n3, "rev-" + Math.random());
              });
            }(t3);
          }), e3("    nestingGraph.run", function() {
            Oe(t3);
          }), e3("    rank", function() {
            De(ee.asNonCompoundGraph(t3));
          }), e3("    injectEdgeLabelProxies", function() {
            bn(t3);
          }), e3("    removeEmptyRanks", function() {
            Zt(t3);
          }), e3("    nestingGraph.cleanup", function() {
            !function(t4) {
              var e4 = t4.graph();
              e4.nestingRoot && t4.removeNode(e4.nestingRoot), delete e4.nestingRoot, t4.edges().forEach(function(e5) {
                t4.edge(e5).nestingEdge && t4.removeEdge(e5);
              });
            }(t3);
          }), e3("    normalizeRanks", function() {
            Kt(t3);
          }), e3("    assignRankMinMax", function() {
            _n(t3);
          }), e3("    removeEdgeLabelProxies", function() {
            xn(t3);
          }), e3("    normalize.run", function() {
            ne(t3);
          }), e3("    parentDummyChains", function() {
            Ne(t3);
          }), e3("    addBorderSegments", function() {
            Pe(t3);
          }), n2 && n2.keepNodeOrder && e3("    initDataOrder", function() {
            !function(t4, e4) {
              for (var n3 = t4.nodes().filter(function(e5) {
                var n4;
                return !((n4 = t4.children(e5)) === null || n4 === void 0 ? void 0 : n4.length);
              }).map(function(e5) {
                return t4.node(e5).rank;
              }), r2 = Math.max.apply(Math, n3), i = [], o2 = 0; o2 < r2 + 1; o2++)
                i.push([]);
              e4.forEach(function(e5) {
                var n4 = t4.node(e5);
                n4 && !n4.dummy && (n4.fixorder = i[n4.rank].length, i[n4.rank].push(e5));
              });
            }(t3, n2.nodeOrder);
          }), e3("    order", function() {
            !function(t4) {
              for (var e4 = ee.maxRank(t4), n3 = [], r2 = [], i = 1; i < e4 + 1; i++)
                n3.push(i);
              for (i = e4 - 1; i > -1; i--)
                r2.push(i);
              var o2 = $e(t4, n3, "inEdges"), a2 = $e(t4, r2, "outEdges"), u2 = ze(t4);
              Qe(t4, u2);
              for (var s2, c2 = Number.POSITIVE_INFINITY, f2 = (i = 0, 0); f2 < 4; ++i, ++f2)
                Je(i % 2 ? o2 : a2, i % 4 >= 2), u2 = ee.buildLayerMatrix(t4), (l2 = We(t4, u2)) < c2 && (f2 = 0, s2 = h(u2), c2 = l2);
              for (u2 = ze(t4), Qe(t4, u2), i = 0, f2 = 0; f2 < 4; ++i, ++f2) {
                var l2;
                Je(i % 2 ? o2 : a2, i % 4 >= 2, true), u2 = ee.buildLayerMatrix(t4), (l2 = We(t4, u2)) < c2 && (f2 = 0, s2 = h(u2), c2 = l2);
              }
              Qe(t4, s2);
            }(t3);
          }), e3("    insertSelfEdges", function() {
            Cn(t3);
          }), e3("    adjustCoordinateSystem", function() {
            !function(t4) {
              var e4, n3 = (e4 = t4.graph().rankdir) === null || e4 === void 0 ? void 0 : e4.toLowerCase();
              n3 !== "lr" && n3 !== "rl" || Ge(t4);
            }(t3);
          }), e3("    position", function() {
            sn(t3);
          }), e3("    positionSelfEdges", function() {
            Dn(t3);
          }), e3("    removeBorderNodes", function() {
            Tn(t3);
          }), e3("    normalize.undo", function() {
            !function(t4) {
              var e4;
              (e4 = t4.graph().dummyChains) === null || e4 === void 0 || e4.forEach(function(e5) {
                var n3, r2, i = t4.node(e5), o2 = i.edgeLabel;
                i.edgeObj && t4.setEdge(i.edgeObj, o2);
                for (var a2 = e5; i.dummy; )
                  r2 = (n3 = t4.successors(a2)) === null || n3 === void 0 ? void 0 : n3[0], t4.removeNode(a2), o2.points.push({ x: i.x, y: i.y }), i.dummy === "edge-label" && (o2.x = i.x, o2.y = i.y, o2.width = i.width, o2.height = i.height), a2 = r2, i = t4.node(a2);
              });
            }(t3);
          }), e3("    fixupEdgeLabelCoords", function() {
            Sn(t3);
          }), e3("    undoCoordinateSystem", function() {
            Be(t3);
          }), e3("    translateGraph", function() {
            wn(t3);
          }), e3("    assignNodeIntersects", function() {
            En(t3);
          }), e3("    reversePoints", function() {
            An(t3);
          }), e3("    acyclic.undo", function() {
            !function(t4) {
              t4.edges().forEach(function(e4) {
                var n3 = t4.edge(e4);
                if (n3.reversed) {
                  t4.removeEdge(e4);
                  var r2 = n3.forwardName;
                  delete n3.reversed, delete n3.forwardName, t4.setEdge(e4.w, e4.v, n3, r2);
                }
              });
            }(t3);
          });
        }, ln = ["nodesep", "edgesep", "ranksep", "marginx", "marginy"], hn = { ranksep: 50, edgesep: 20, nodesep: 50, rankdir: "tb" }, dn = ["acyclicer", "ranker", "rankdir", "align"], pn = ["width", "height", "layer", "fixorder"], vn = { width: 0, height: 0 }, gn = ["minlen", "weight", "width", "height", "labeloffset"], yn = { minlen: 1, weight: 1, width: 0, height: 0, labeloffset: 10, labelpos: "r" }, mn = ["labelpos"], bn = function(t3) {
          t3.edges().forEach(function(e3) {
            var n2 = t3.edge(e3);
            if (n2.width && n2.height) {
              var r2 = t3.node(e3.v), i = { e: e3, rank: (t3.node(e3.w).rank - r2.rank) / 2 + r2.rank };
              ee.addDummyNode(t3, "edge-proxy", i, "_ep");
            }
          });
        }, _n = function(t3) {
          var e3 = 0;
          t3.nodes().forEach(function(n2) {
            var r2 = t3.node(n2);
            r2.borderTop && (r2.minRank = t3.node(r2.borderTop).rank, r2.maxRank = t3.node(r2.borderBottom).rank, e3 = Math.max(e3, r2.maxRank || -1 / 0));
          }), t3.graph().maxRank = e3;
        }, xn = function(t3) {
          t3.nodes().forEach(function(e3) {
            var n2 = t3.node(e3);
            n2.dummy === "edge-proxy" && (t3.edge(n2.e).labelRank = n2.rank, t3.removeNode(e3));
          });
        }, wn = function(t3) {
          var e3 = Number.POSITIVE_INFINITY, n2 = 0, r2 = Number.POSITIVE_INFINITY, i = 0, o2 = t3.graph(), a2 = o2.marginx || 0, u2 = o2.marginy || 0, s2 = function(t4) {
            var o3 = t4.x, a3 = t4.y, u3 = t4.width, s3 = t4.height;
            e3 = Math.min(e3, o3 - u3 / 2), n2 = Math.max(n2, o3 + u3 / 2), r2 = Math.min(r2, a3 - s3 / 2), i = Math.max(i, a3 + s3 / 2);
          };
          t3.nodes().forEach(function(e4) {
            s2(t3.node(e4));
          }), t3.edges().forEach(function(e4) {
            var n3 = t3.edge(e4);
            n3.hasOwnProperty("x") && s2(n3);
          }), e3 -= a2, r2 -= u2, t3.nodes().forEach(function(n3) {
            var i2 = t3.node(n3);
            i2.x -= e3, i2.y -= r2;
          }), t3.edges().forEach(function(n3) {
            var i2, o3 = t3.edge(n3);
            (i2 = o3.points) === null || i2 === void 0 || i2.forEach(function(t4) {
              t4.x -= e3, t4.y -= r2;
            }), o3.hasOwnProperty("x") && (o3.x -= e3), o3.hasOwnProperty("y") && (o3.y -= r2);
          }), o2.width = n2 - e3 + a2, o2.height = i - r2 + u2;
        }, En = function(t3) {
          t3.edges().forEach(function(e3) {
            var n2, r2, i = t3.edge(e3), o2 = t3.node(e3.v), a2 = t3.node(e3.w);
            i.points ? (n2 = i.points[0], r2 = i.points[i.points.length - 1]) : (i.points = [], n2 = a2, r2 = o2), i.points.unshift(ee.intersectRect(o2, n2)), i.points.push(ee.intersectRect(a2, r2));
          });
        }, Sn = function(t3) {
          t3.edges().forEach(function(e3) {
            var n2 = t3.edge(e3);
            if (n2.hasOwnProperty("x"))
              switch (n2.labelpos !== "l" && n2.labelpos !== "r" || (n2.width -= n2.labeloffset), n2.labelpos) {
                case "l":
                  n2.x -= n2.width / 2 + n2.labeloffset;
                  break;
                case "r":
                  n2.x += n2.width / 2 + n2.labeloffset;
              }
          });
        }, An = function(t3) {
          t3.edges().forEach(function(e3) {
            var n2 = t3.edge(e3);
            n2.reversed && n2.points.reverse();
          });
        }, Tn = function(t3) {
          t3.nodes().forEach(function(e3) {
            var n2, r2, i;
            if ((n2 = t3.children(e3)) === null || n2 === void 0 ? void 0 : n2.length) {
              var o2 = t3.node(e3), a2 = t3.node(o2.borderTop), u2 = t3.node(o2.borderBottom), s2 = t3.node(o2.borderLeft[((r2 = o2.borderLeft) === null || r2 === void 0 ? void 0 : r2.length) - 1]), c2 = t3.node(o2.borderRight[((i = o2.borderRight) === null || i === void 0 ? void 0 : i.length) - 1]);
              o2.width = Math.abs(c2.x - s2.x), o2.height = Math.abs(u2.y - a2.y), o2.x = s2.x + o2.width / 2, o2.y = a2.y + o2.height / 2;
            }
          }), t3.nodes().forEach(function(e3) {
            t3.node(e3).dummy === "border" && t3.removeNode(e3);
          });
        }, In = function(t3) {
          t3.edges().forEach(function(e3) {
            if (e3.v === e3.w) {
              var n2 = t3.node(e3.v);
              n2.selfEdges || (n2.selfEdges = []), n2.selfEdges.push({ e: e3, label: t3.edge(e3) }), t3.removeEdge(e3);
            }
          });
        }, Cn = function(t3) {
          ee.buildLayerMatrix(t3).forEach(function(e3) {
            var n2 = 0;
            e3.forEach(function(e4, r2) {
              var i, o2 = t3.node(e4);
              o2.order = r2 + n2, (i = o2.selfEdges) === null || i === void 0 || i.forEach(function(e5) {
                ee.addDummyNode(t3, "selfedge", { width: e5.label.width, height: e5.label.height, rank: o2.rank, order: r2 + ++n2, e: e5.e, label: e5.label }, "_se");
              }), delete o2.selfEdges;
            });
          });
        }, Dn = function(t3) {
          t3.nodes().forEach(function(e3) {
            var n2 = t3.node(e3);
            if (n2.dummy === "selfedge") {
              var r2 = t3.node(n2.e.v), i = r2.x + r2.width / 2, o2 = r2.y, a2 = n2.x - i, u2 = r2.height / 2;
              t3.setEdge(n2.e, n2.label), t3.removeNode(e3), n2.label.points = [{ x: i + 2 * a2 / 3, y: o2 - u2 }, { x: i + 5 * a2 / 6, y: o2 - u2 }, { y: o2, x: i + a2 }, { x: i + 5 * a2 / 6, y: o2 + u2 }, { x: i + 2 * a2 / 3, y: o2 + u2 }], n2.label.x = n2.x, n2.label.y = n2.y;
            }
          });
        }, Nn = function(t3, e3) {
          var n2 = {};
          return e3.forEach(function(e4) {
            t3[e4] !== void 0 && (n2[e4] = +t3[e4]);
          }), n2;
        }, kn = function(t3) {
          var e3 = {};
          return Object.keys(t3).forEach(function(n2) {
            var r2 = t3[n2];
            e3[n2.toLowerCase()] = r2;
          }), e3;
        };
        const Rn = { graphlib: Gt, layout: function(t3, e3) {
          var n2 = e3 && e3.debugTiming ? ee.time : ee.notime;
          n2("layout", function() {
            e3 && !e3.keepNodeOrder && e3.prevGraph && n2("  inheritOrder", function() {
              var n3, r3, i;
              n3 = t3, r3 = e3.prevGraph, i = r3._nodes || {}, n3.nodes().forEach(function(t4) {
                var e4 = n3.node(t4);
                i[t4] !== void 0 ? (e4.fixorder = i[t4]._order, delete i[t4]._order) : delete e4.fixorder;
              });
            });
            var r2 = n2("  buildLayoutGraph", function() {
              return function(t4) {
                var e4 = new cn({ multigraph: true, compound: true }), n3 = kn(t4.graph()), r3 = {};
                return dn.forEach(function(t5) {
                  n3[t5] !== void 0 && (r3[t5] = n3[t5]);
                }), e4.setGraph(Object.assign({}, hn, Nn(n3, ln), r3)), t4.nodes().forEach(function(n4) {
                  var r4 = kn(t4.node(n4)), i = Nn(r4, pn);
                  Object.keys(vn).forEach(function(t5) {
                    i[t5] === void 0 && (i[t5] = vn[t5]);
                  }), e4.setNode(n4, i), e4.setParent(n4, t4.parent(n4));
                }), t4.edges().forEach(function(n4) {
                  var r4 = kn(t4.edge(n4)), i = {};
                  mn.forEach(function(t5) {
                    r4[t5] !== void 0 && (i[t5] = r4[t5]);
                  }), e4.setEdge(n4, Object.assign({}, yn, Nn(r4, gn), i));
                }), e4;
              }(t3);
            });
            e3 && e3.edgeLabelSpace === false || n2("  makeSpaceForEdgeLabels", function() {
              !function(t4) {
                var e4 = t4.graph();
                e4.ranksep || (e4.ranksep = 0), e4.ranksep /= 2, t4.nodes().forEach(function(e5) {
                  var n3 = t4.node(e5);
                  isNaN(n3.layer) || (n3.layer ? n3.layer *= 2 : n3.layer = 0);
                }), t4.edges().forEach(function(n3) {
                  var r3, i = t4.edge(n3);
                  i.minlen *= 2, ((r3 = i.labelpos) === null || r3 === void 0 ? void 0 : r3.toLowerCase()) !== "c" && (e4.rankdir === "TB" || e4.rankdir === "BT" ? i.width += i.labeloffset : i.height += i.labeloffset);
                });
              }(r2);
            });
            try {
              n2("  runLayout", function() {
                fn(r2, n2, e3);
              });
            } catch (t4) {
              if (t4.message === "Not possible to find intersection inside of the rectangle")
                return void console.error("The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:\n", t4);
              throw t4;
            }
            n2("  updateInputGraph", function() {
              !function(t4, e4) {
                t4.nodes().forEach(function(n3) {
                  var r3, i = t4.node(n3), o2 = e4.node(n3);
                  i && (i.x = o2.x, i.y = o2.y, i._order = o2.order, i._rank = o2.rank, ((r3 = e4.children(n3)) === null || r3 === void 0 ? void 0 : r3.length) && (i.width = o2.width, i.height = o2.height));
                }), t4.edges().forEach(function(n3) {
                  var r3 = t4.edge(n3), i = e4.edge(n3);
                  r3.points = i.points, i.hasOwnProperty("x") && (r3.x = i.x, r3.y = i.y);
                }), t4.graph().width = e4.graph().width, t4.graph().height = e4.graph().height;
              }(t3, r2);
            });
          });
        }, util: { time: Jt, notime: Qt } };
        var On = function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4)
                Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if (typeof n2 != "function" && n2 !== null)
              throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function r2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = n2 === null ? Object.create(n2) : (r2.prototype = n2.prototype, new r2());
          };
        }(), Mn = function(t3) {
          function e3(e4) {
            var n2 = t3.call(this) || this;
            return n2.rankdir = "TB", n2.nodesep = 50, n2.ranksep = 50, n2.controlPoints = false, n2.sortByCombo = false, n2.edgeLabelSpace = true, n2.nodes = [], n2.edges = [], n2.onLayoutEnd = function() {
            }, n2.layoutNode = function(t4) {
              var e5 = n2.nodes.find(function(e6) {
                return e6.id === t4;
              });
              return !e5 || e5.layout !== false;
            }, n2.updateCfg(e4), n2;
          }
          return On(e3, t3), e3.prototype.getDefaultCfg = function() {
            return { rankdir: "TB", align: void 0, nodeSize: void 0, nodesepFunc: void 0, ranksepFunc: void 0, nodesep: 50, ranksep: 50, controlPoints: false };
          }, e3.prototype.execute = function() {
            var t4 = this, e4 = this, n2 = e4.nodes, r2 = e4.nodeSize, i = e4.rankdir, u2 = e4.combos, s2 = e4.begin;
            if (n2) {
              var c2, f2 = e4.edges || [], h2 = new Rn.graphlib.Graph({ multigraph: true, compound: true });
              c2 = r2 ? o(r2) ? function() {
                return r2;
              } : function() {
                return [r2, r2];
              } : function(t5) {
                return t5.size ? o(t5.size) ? t5.size : l(t5.size) ? [t5.size.width || 40, t5.size.height || 40] : [t5.size, t5.size] : [40, 40];
              };
              var p2 = Pn(e4.nodesepFunc, e4.nodesep, 50), v2 = Pn(e4.ranksepFunc, e4.ranksep, 50);
              i !== "LR" && i !== "RL" || (p2 = Pn(e4.ranksepFunc, e4.ranksep, 50), v2 = Pn(e4.nodesepFunc, e4.nodesep, 50)), h2.setDefaultEdgeLabel(function() {
                return {};
              }), h2.setGraph(e4);
              var g2 = {};
              n2.filter(function(t5) {
                return t5.layout !== false;
              }).forEach(function(e5) {
                var n3 = c2(e5), r3 = v2(e5), i2 = p2(e5), o2 = n3[0] + 2 * i2, u3 = n3[1] + 2 * r3, s3 = e5.layer;
                a(s3) ? h2.setNode(e5.id, { width: o2, height: u3, layer: s3 }) : h2.setNode(e5.id, { width: o2, height: u3 }), t4.sortByCombo && e5.comboId && (g2[e5.comboId] || (g2[e5.comboId] = true, h2.setNode(e5.comboId, {})), h2.setParent(e5.id, e5.comboId));
              }), this.sortByCombo && u2 && u2.forEach(function(t5) {
                t5.parentId && (g2[t5.parentId] || (g2[t5.parentId] = true, h2.setNode(t5.parentId, {})), h2.setParent(t5.id, t5.parentId));
              }), f2.forEach(function(e5) {
                var n3 = d(e5, "source"), r3 = d(e5, "target");
                t4.layoutNode(n3) && t4.layoutNode(r3) && h2.setEdge(n3, r3, { weight: e5.weight || 1 });
              });
              var y2 = void 0;
              e4.preset && (y2 = new Rn.graphlib.Graph({ multigraph: true, compound: true }), e4.preset.nodes.forEach(function(t5) {
                y2 == null || y2.setNode(t5.id, t5);
              })), Rn.layout(h2, { prevGraph: y2, edgeLabelSpace: e4.edgeLabelSpace, keepNodeOrder: Boolean(!!e4.nodeOrder), nodeOrder: e4.nodeOrder });
              var m2 = [0, 0];
              if (s2) {
                var b2 = 1 / 0, _2 = 1 / 0;
                h2.nodes().forEach(function(t5) {
                  var e5 = h2.node(t5);
                  b2 > e5.x && (b2 = e5.x), _2 > e5.y && (_2 = e5.y);
                }), h2.edges().forEach(function(t5) {
                  h2.edge(t5).points.forEach(function(t6) {
                    b2 > t6.x && (b2 = t6.x), _2 > t6.y && (_2 = t6.y);
                  });
                }), m2[0] = s2[0] - b2, m2[1] = s2[1] - _2;
              }
              return h2.nodes().forEach(function(t5) {
                var e5 = h2.node(t5), r3 = n2.findIndex(function(e6) {
                  return e6.id === t5;
                });
                n2[r3] && (n2[r3].x = e5.x + m2[0], n2[r3].y = e5.y + m2[1], n2[r3]._order = e5._order);
              }), h2.edges().forEach(function(t5) {
                var n3 = h2.edge(t5), r3 = f2.findIndex(function(e5) {
                  var n4 = d(e5, "source"), r4 = d(e5, "target");
                  return n4 === t5.v && r4 === t5.w;
                });
                e4.edgeLabelSpace && e4.controlPoints && f2[r3].type !== "loop" && (f2[r3].controlPoints = n3.points.slice(1, n3.points.length - 1), f2[r3].controlPoints.forEach(function(t6) {
                  t6.x += m2[0], t6.y += m2[1];
                }));
              }), e4.onLayoutEnd && e4.onLayoutEnd(), { nodes: n2, edges: f2 };
            }
          }, e3.prototype.getType = function() {
            return "dagre";
          }, e3;
        }(t2);
        function Pn(t3, e3, n2) {
          return t3 || (a(e3) ? function() {
            return e3;
          } : function() {
            return n2;
          });
        }
        const Gn = Object.prototype.toString;
        function Ln(t3) {
          return Gn.call(t3).endsWith("Array]");
        }
        const Un = function(t3) {
          var e3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
          if (!Ln(t3))
            throw new TypeError("input must be an array");
          if (t3.length === 0)
            throw new TypeError("input must not be empty");
          var n2 = e3.fromIndex, r2 = n2 === void 0 ? 0 : n2, i = e3.toIndex, o2 = i === void 0 ? t3.length : i;
          if (r2 < 0 || r2 >= t3.length || !Number.isInteger(r2))
            throw new Error("fromIndex must be a positive integer smaller than length");
          if (o2 <= r2 || o2 > t3.length || !Number.isInteger(o2))
            throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");
          for (var a2 = t3[r2], u2 = r2 + 1; u2 < o2; u2++)
            t3[u2] > a2 && (a2 = t3[u2]);
          return a2;
        }, Fn = function(t3) {
          var e3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
          if (!Ln(t3))
            throw new TypeError("input must be an array");
          if (t3.length === 0)
            throw new TypeError("input must not be empty");
          var n2 = e3.fromIndex, r2 = n2 === void 0 ? 0 : n2, i = e3.toIndex, o2 = i === void 0 ? t3.length : i;
          if (r2 < 0 || r2 >= t3.length || !Number.isInteger(r2))
            throw new Error("fromIndex must be a positive integer smaller than length");
          if (o2 <= r2 || o2 > t3.length || !Number.isInteger(o2))
            throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");
          for (var a2 = t3[r2], u2 = r2 + 1; u2 < o2; u2++)
            t3[u2] < a2 && (a2 = t3[u2]);
          return a2;
        };
        function Bn(t3) {
          var e3, n2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
          if (!Ln(t3))
            throw new TypeError("input must be an array");
          if (t3.length === 0)
            throw new TypeError("input must not be empty");
          if (n2.output !== void 0) {
            if (!Ln(n2.output))
              throw new TypeError("output option must be an array if specified");
            e3 = n2.output;
          } else
            e3 = new Array(t3.length);
          var r2 = Fn(t3), i = Un(t3);
          if (r2 === i)
            throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");
          var o2 = n2.min, a2 = o2 === void 0 ? n2.autoMinMax ? r2 : 0 : o2, u2 = n2.max, s2 = u2 === void 0 ? n2.autoMinMax ? i : 1 : u2;
          if (a2 >= s2)
            throw new RangeError("min option must be smaller than max option");
          for (var c2 = (s2 - a2) / (i - r2), f2 = 0; f2 < t3.length; f2++)
            e3[f2] = (t3[f2] - r2) * c2 + a2;
          return e3;
        }
        const zn = " ".repeat(2), jn = " ".repeat(4);
        function Wn(t3, e3 = {}) {
          const { maxRows: n2 = 15, maxColumns: r2 = 10, maxNumSize: i = 8 } = e3;
          return `${t3.constructor.name} {
${zn}[
${jn}${function(t4, e4, n3, r3) {
            const { rows: i2, columns: o2 } = t4, a2 = Math.min(i2, e4), u2 = Math.min(o2, n3), s2 = [];
            for (let e5 = 0; e5 < a2; e5++) {
              let n4 = [];
              for (let i3 = 0; i3 < u2; i3++)
                n4.push(Vn(t4.get(e5, i3), r3));
              s2.push(`${n4.join(" ")}`);
            }
            return u2 !== o2 && (s2[s2.length - 1] += ` ... ${o2 - n3} more columns`), a2 !== i2 && s2.push(`... ${i2 - e4} more rows`), s2.join(`
${jn}`);
          }(t3, n2, r2, i)}
${zn}]
${zn}rows: ${t3.rows}
${zn}columns: ${t3.columns}
}`;
        }
        function Vn(t3, e3) {
          const n2 = String(t3);
          if (n2.length <= e3)
            return n2.padEnd(e3, " ");
          const r2 = t3.toPrecision(e3 - 2);
          if (r2.length <= e3)
            return r2;
          const i = t3.toExponential(e3 - 2), o2 = i.indexOf("e"), a2 = i.slice(o2);
          return i.slice(0, e3 - a2.length) + a2;
        }
        function Xn(t3, e3, n2) {
          let r2 = n2 ? t3.rows : t3.rows - 1;
          if (e3 < 0 || e3 > r2)
            throw new RangeError("Row index out of range");
        }
        function Hn(t3, e3, n2) {
          let r2 = n2 ? t3.columns : t3.columns - 1;
          if (e3 < 0 || e3 > r2)
            throw new RangeError("Column index out of range");
        }
        function qn(t3, e3) {
          if (e3.to1DArray && (e3 = e3.to1DArray()), e3.length !== t3.columns)
            throw new RangeError("vector size must be the same as the number of columns");
          return e3;
        }
        function Yn(t3, e3) {
          if (e3.to1DArray && (e3 = e3.to1DArray()), e3.length !== t3.rows)
            throw new RangeError("vector size must be the same as the number of rows");
          return e3;
        }
        function Kn(t3, e3) {
          if (typeof e3 != "object")
            throw new TypeError("unexpected type for row indices");
          if (e3.some((e4) => e4 < 0 || e4 >= t3.rows))
            throw new RangeError("row indices are out of range");
          return Array.isArray(e3) || (e3 = Array.from(e3)), e3;
        }
        function Zn(t3, e3) {
          if (typeof e3 != "object")
            throw new TypeError("unexpected type for column indices");
          if (e3.some((e4) => e4 < 0 || e4 >= t3.columns))
            throw new RangeError("column indices are out of range");
          return Array.isArray(e3) || (e3 = Array.from(e3)), e3;
        }
        function $n(t3, e3, n2, r2, i) {
          if (arguments.length !== 5)
            throw new RangeError("expected 4 arguments");
          if (Qn("startRow", e3), Qn("endRow", n2), Qn("startColumn", r2), Qn("endColumn", i), e3 > n2 || r2 > i || e3 < 0 || e3 >= t3.rows || n2 < 0 || n2 >= t3.rows || r2 < 0 || r2 >= t3.columns || i < 0 || i >= t3.columns)
            throw new RangeError("Submatrix indices are out of range");
        }
        function Jn(t3, e3 = 0) {
          let n2 = [];
          for (let r2 = 0; r2 < t3; r2++)
            n2.push(e3);
          return n2;
        }
        function Qn(t3, e3) {
          if (typeof e3 != "number")
            throw new TypeError(`${t3} must be a number`);
        }
        function tr(t3) {
          if (t3.isEmpty())
            throw new Error("Empty matrix has no elements to index");
        }
        class er {
          static from1DArray(t3, e3, n2) {
            if (t3 * e3 !== n2.length)
              throw new RangeError("data length does not match given dimensions");
            let r2 = new rr(t3, e3);
            for (let i = 0; i < t3; i++)
              for (let t4 = 0; t4 < e3; t4++)
                r2.set(i, t4, n2[i * e3 + t4]);
            return r2;
          }
          static rowVector(t3) {
            let e3 = new rr(1, t3.length);
            for (let n2 = 0; n2 < t3.length; n2++)
              e3.set(0, n2, t3[n2]);
            return e3;
          }
          static columnVector(t3) {
            let e3 = new rr(t3.length, 1);
            for (let n2 = 0; n2 < t3.length; n2++)
              e3.set(n2, 0, t3[n2]);
            return e3;
          }
          static zeros(t3, e3) {
            return new rr(t3, e3);
          }
          static ones(t3, e3) {
            return new rr(t3, e3).fill(1);
          }
          static rand(t3, e3, n2 = {}) {
            if (typeof n2 != "object")
              throw new TypeError("options must be an object");
            const { random: r2 = Math.random } = n2;
            let i = new rr(t3, e3);
            for (let n3 = 0; n3 < t3; n3++)
              for (let t4 = 0; t4 < e3; t4++)
                i.set(n3, t4, r2());
            return i;
          }
          static randInt(t3, e3, n2 = {}) {
            if (typeof n2 != "object")
              throw new TypeError("options must be an object");
            const { min: r2 = 0, max: i = 1e3, random: o2 = Math.random } = n2;
            if (!Number.isInteger(r2))
              throw new TypeError("min must be an integer");
            if (!Number.isInteger(i))
              throw new TypeError("max must be an integer");
            if (r2 >= i)
              throw new RangeError("min must be smaller than max");
            let a2 = i - r2, u2 = new rr(t3, e3);
            for (let n3 = 0; n3 < t3; n3++)
              for (let t4 = 0; t4 < e3; t4++) {
                let e4 = r2 + Math.round(o2() * a2);
                u2.set(n3, t4, e4);
              }
            return u2;
          }
          static eye(t3, e3, n2) {
            e3 === void 0 && (e3 = t3), n2 === void 0 && (n2 = 1);
            let r2 = Math.min(t3, e3), i = this.zeros(t3, e3);
            for (let t4 = 0; t4 < r2; t4++)
              i.set(t4, t4, n2);
            return i;
          }
          static diag(t3, e3, n2) {
            let r2 = t3.length;
            e3 === void 0 && (e3 = r2), n2 === void 0 && (n2 = e3);
            let i = Math.min(r2, e3, n2), o2 = this.zeros(e3, n2);
            for (let e4 = 0; e4 < i; e4++)
              o2.set(e4, e4, t3[e4]);
            return o2;
          }
          static min(t3, e3) {
            t3 = this.checkMatrix(t3), e3 = this.checkMatrix(e3);
            let n2 = t3.rows, r2 = t3.columns, i = new rr(n2, r2);
            for (let o2 = 0; o2 < n2; o2++)
              for (let n3 = 0; n3 < r2; n3++)
                i.set(o2, n3, Math.min(t3.get(o2, n3), e3.get(o2, n3)));
            return i;
          }
          static max(t3, e3) {
            t3 = this.checkMatrix(t3), e3 = this.checkMatrix(e3);
            let n2 = t3.rows, r2 = t3.columns, i = new this(n2, r2);
            for (let o2 = 0; o2 < n2; o2++)
              for (let n3 = 0; n3 < r2; n3++)
                i.set(o2, n3, Math.max(t3.get(o2, n3), e3.get(o2, n3)));
            return i;
          }
          static checkMatrix(t3) {
            return er.isMatrix(t3) ? t3 : new rr(t3);
          }
          static isMatrix(t3) {
            return t3 != null && t3.klass === "Matrix";
          }
          get size() {
            return this.rows * this.columns;
          }
          apply(t3) {
            if (typeof t3 != "function")
              throw new TypeError("callback must be a function");
            for (let e3 = 0; e3 < this.rows; e3++)
              for (let n2 = 0; n2 < this.columns; n2++)
                t3.call(this, e3, n2);
            return this;
          }
          to1DArray() {
            let t3 = [];
            for (let e3 = 0; e3 < this.rows; e3++)
              for (let n2 = 0; n2 < this.columns; n2++)
                t3.push(this.get(e3, n2));
            return t3;
          }
          to2DArray() {
            let t3 = [];
            for (let e3 = 0; e3 < this.rows; e3++) {
              t3.push([]);
              for (let n2 = 0; n2 < this.columns; n2++)
                t3[e3].push(this.get(e3, n2));
            }
            return t3;
          }
          toJSON() {
            return this.to2DArray();
          }
          isRowVector() {
            return this.rows === 1;
          }
          isColumnVector() {
            return this.columns === 1;
          }
          isVector() {
            return this.rows === 1 || this.columns === 1;
          }
          isSquare() {
            return this.rows === this.columns;
          }
          isEmpty() {
            return this.rows === 0 || this.columns === 0;
          }
          isSymmetric() {
            if (this.isSquare()) {
              for (let t3 = 0; t3 < this.rows; t3++)
                for (let e3 = 0; e3 <= t3; e3++)
                  if (this.get(t3, e3) !== this.get(e3, t3))
                    return false;
              return true;
            }
            return false;
          }
          isEchelonForm() {
            let t3 = 0, e3 = 0, n2 = -1, r2 = true, i = false;
            for (; t3 < this.rows && r2; ) {
              for (e3 = 0, i = false; e3 < this.columns && i === false; )
                this.get(t3, e3) === 0 ? e3++ : this.get(t3, e3) === 1 && e3 > n2 ? (i = true, n2 = e3) : (r2 = false, i = true);
              t3++;
            }
            return r2;
          }
          isReducedEchelonForm() {
            let t3 = 0, e3 = 0, n2 = -1, r2 = true, i = false;
            for (; t3 < this.rows && r2; ) {
              for (e3 = 0, i = false; e3 < this.columns && i === false; )
                this.get(t3, e3) === 0 ? e3++ : this.get(t3, e3) === 1 && e3 > n2 ? (i = true, n2 = e3) : (r2 = false, i = true);
              for (let n3 = e3 + 1; n3 < this.rows; n3++)
                this.get(t3, n3) !== 0 && (r2 = false);
              t3++;
            }
            return r2;
          }
          echelonForm() {
            let t3 = this.clone(), e3 = 0, n2 = 0;
            for (; e3 < t3.rows && n2 < t3.columns; ) {
              let r2 = e3;
              for (let i = e3; i < t3.rows; i++)
                t3.get(i, n2) > t3.get(r2, n2) && (r2 = i);
              if (t3.get(r2, n2) === 0)
                n2++;
              else {
                t3.swapRows(e3, r2);
                let i = t3.get(e3, n2);
                for (let r3 = n2; r3 < t3.columns; r3++)
                  t3.set(e3, r3, t3.get(e3, r3) / i);
                for (let r3 = e3 + 1; r3 < t3.rows; r3++) {
                  let i2 = t3.get(r3, n2) / t3.get(e3, n2);
                  t3.set(r3, n2, 0);
                  for (let o2 = n2 + 1; o2 < t3.columns; o2++)
                    t3.set(r3, o2, t3.get(r3, o2) - t3.get(e3, o2) * i2);
                }
                e3++, n2++;
              }
            }
            return t3;
          }
          reducedEchelonForm() {
            let t3 = this.echelonForm(), e3 = t3.columns, n2 = t3.rows, r2 = n2 - 1;
            for (; r2 >= 0; )
              if (t3.maxRow(r2) === 0)
                r2--;
              else {
                let i = 0, o2 = false;
                for (; i < n2 && o2 === false; )
                  t3.get(r2, i) === 1 ? o2 = true : i++;
                for (let n3 = 0; n3 < r2; n3++) {
                  let o3 = t3.get(n3, i);
                  for (let a2 = i; a2 < e3; a2++) {
                    let e4 = t3.get(n3, a2) - o3 * t3.get(r2, a2);
                    t3.set(n3, a2, e4);
                  }
                }
                r2--;
              }
            return t3;
          }
          set() {
            throw new Error("set method is unimplemented");
          }
          get() {
            throw new Error("get method is unimplemented");
          }
          repeat(t3 = {}) {
            if (typeof t3 != "object")
              throw new TypeError("options must be an object");
            const { rows: e3 = 1, columns: n2 = 1 } = t3;
            if (!Number.isInteger(e3) || e3 <= 0)
              throw new TypeError("rows must be a positive integer");
            if (!Number.isInteger(n2) || n2 <= 0)
              throw new TypeError("columns must be a positive integer");
            let r2 = new rr(this.rows * e3, this.columns * n2);
            for (let t4 = 0; t4 < e3; t4++)
              for (let e4 = 0; e4 < n2; e4++)
                r2.setSubMatrix(this, this.rows * t4, this.columns * e4);
            return r2;
          }
          fill(t3) {
            for (let e3 = 0; e3 < this.rows; e3++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e3, n2, t3);
            return this;
          }
          neg() {
            return this.mulS(-1);
          }
          getRow(t3) {
            Xn(this, t3);
            let e3 = [];
            for (let n2 = 0; n2 < this.columns; n2++)
              e3.push(this.get(t3, n2));
            return e3;
          }
          getRowVector(t3) {
            return rr.rowVector(this.getRow(t3));
          }
          setRow(t3, e3) {
            Xn(this, t3), e3 = qn(this, e3);
            for (let n2 = 0; n2 < this.columns; n2++)
              this.set(t3, n2, e3[n2]);
            return this;
          }
          swapRows(t3, e3) {
            Xn(this, t3), Xn(this, e3);
            for (let n2 = 0; n2 < this.columns; n2++) {
              let r2 = this.get(t3, n2);
              this.set(t3, n2, this.get(e3, n2)), this.set(e3, n2, r2);
            }
            return this;
          }
          getColumn(t3) {
            Hn(this, t3);
            let e3 = [];
            for (let n2 = 0; n2 < this.rows; n2++)
              e3.push(this.get(n2, t3));
            return e3;
          }
          getColumnVector(t3) {
            return rr.columnVector(this.getColumn(t3));
          }
          setColumn(t3, e3) {
            Hn(this, t3), e3 = Yn(this, e3);
            for (let n2 = 0; n2 < this.rows; n2++)
              this.set(n2, t3, e3[n2]);
            return this;
          }
          swapColumns(t3, e3) {
            Hn(this, t3), Hn(this, e3);
            for (let n2 = 0; n2 < this.rows; n2++) {
              let r2 = this.get(n2, t3);
              this.set(n2, t3, this.get(n2, e3)), this.set(n2, e3, r2);
            }
            return this;
          }
          addRowVector(t3) {
            t3 = qn(this, t3);
            for (let e3 = 0; e3 < this.rows; e3++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e3, n2, this.get(e3, n2) + t3[n2]);
            return this;
          }
          subRowVector(t3) {
            t3 = qn(this, t3);
            for (let e3 = 0; e3 < this.rows; e3++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e3, n2, this.get(e3, n2) - t3[n2]);
            return this;
          }
          mulRowVector(t3) {
            t3 = qn(this, t3);
            for (let e3 = 0; e3 < this.rows; e3++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e3, n2, this.get(e3, n2) * t3[n2]);
            return this;
          }
          divRowVector(t3) {
            t3 = qn(this, t3);
            for (let e3 = 0; e3 < this.rows; e3++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e3, n2, this.get(e3, n2) / t3[n2]);
            return this;
          }
          addColumnVector(t3) {
            t3 = Yn(this, t3);
            for (let e3 = 0; e3 < this.rows; e3++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e3, n2, this.get(e3, n2) + t3[e3]);
            return this;
          }
          subColumnVector(t3) {
            t3 = Yn(this, t3);
            for (let e3 = 0; e3 < this.rows; e3++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e3, n2, this.get(e3, n2) - t3[e3]);
            return this;
          }
          mulColumnVector(t3) {
            t3 = Yn(this, t3);
            for (let e3 = 0; e3 < this.rows; e3++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e3, n2, this.get(e3, n2) * t3[e3]);
            return this;
          }
          divColumnVector(t3) {
            t3 = Yn(this, t3);
            for (let e3 = 0; e3 < this.rows; e3++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e3, n2, this.get(e3, n2) / t3[e3]);
            return this;
          }
          mulRow(t3, e3) {
            Xn(this, t3);
            for (let n2 = 0; n2 < this.columns; n2++)
              this.set(t3, n2, this.get(t3, n2) * e3);
            return this;
          }
          mulColumn(t3, e3) {
            Hn(this, t3);
            for (let n2 = 0; n2 < this.rows; n2++)
              this.set(n2, t3, this.get(n2, t3) * e3);
            return this;
          }
          max() {
            if (this.isEmpty())
              return NaN;
            let t3 = this.get(0, 0);
            for (let e3 = 0; e3 < this.rows; e3++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.get(e3, n2) > t3 && (t3 = this.get(e3, n2));
            return t3;
          }
          maxIndex() {
            tr(this);
            let t3 = this.get(0, 0), e3 = [0, 0];
            for (let n2 = 0; n2 < this.rows; n2++)
              for (let r2 = 0; r2 < this.columns; r2++)
                this.get(n2, r2) > t3 && (t3 = this.get(n2, r2), e3[0] = n2, e3[1] = r2);
            return e3;
          }
          min() {
            if (this.isEmpty())
              return NaN;
            let t3 = this.get(0, 0);
            for (let e3 = 0; e3 < this.rows; e3++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.get(e3, n2) < t3 && (t3 = this.get(e3, n2));
            return t3;
          }
          minIndex() {
            tr(this);
            let t3 = this.get(0, 0), e3 = [0, 0];
            for (let n2 = 0; n2 < this.rows; n2++)
              for (let r2 = 0; r2 < this.columns; r2++)
                this.get(n2, r2) < t3 && (t3 = this.get(n2, r2), e3[0] = n2, e3[1] = r2);
            return e3;
          }
          maxRow(t3) {
            if (Xn(this, t3), this.isEmpty())
              return NaN;
            let e3 = this.get(t3, 0);
            for (let n2 = 1; n2 < this.columns; n2++)
              this.get(t3, n2) > e3 && (e3 = this.get(t3, n2));
            return e3;
          }
          maxRowIndex(t3) {
            Xn(this, t3), tr(this);
            let e3 = this.get(t3, 0), n2 = [t3, 0];
            for (let r2 = 1; r2 < this.columns; r2++)
              this.get(t3, r2) > e3 && (e3 = this.get(t3, r2), n2[1] = r2);
            return n2;
          }
          minRow(t3) {
            if (Xn(this, t3), this.isEmpty())
              return NaN;
            let e3 = this.get(t3, 0);
            for (let n2 = 1; n2 < this.columns; n2++)
              this.get(t3, n2) < e3 && (e3 = this.get(t3, n2));
            return e3;
          }
          minRowIndex(t3) {
            Xn(this, t3), tr(this);
            let e3 = this.get(t3, 0), n2 = [t3, 0];
            for (let r2 = 1; r2 < this.columns; r2++)
              this.get(t3, r2) < e3 && (e3 = this.get(t3, r2), n2[1] = r2);
            return n2;
          }
          maxColumn(t3) {
            if (Hn(this, t3), this.isEmpty())
              return NaN;
            let e3 = this.get(0, t3);
            for (let n2 = 1; n2 < this.rows; n2++)
              this.get(n2, t3) > e3 && (e3 = this.get(n2, t3));
            return e3;
          }
          maxColumnIndex(t3) {
            Hn(this, t3), tr(this);
            let e3 = this.get(0, t3), n2 = [0, t3];
            for (let r2 = 1; r2 < this.rows; r2++)
              this.get(r2, t3) > e3 && (e3 = this.get(r2, t3), n2[0] = r2);
            return n2;
          }
          minColumn(t3) {
            if (Hn(this, t3), this.isEmpty())
              return NaN;
            let e3 = this.get(0, t3);
            for (let n2 = 1; n2 < this.rows; n2++)
              this.get(n2, t3) < e3 && (e3 = this.get(n2, t3));
            return e3;
          }
          minColumnIndex(t3) {
            Hn(this, t3), tr(this);
            let e3 = this.get(0, t3), n2 = [0, t3];
            for (let r2 = 1; r2 < this.rows; r2++)
              this.get(r2, t3) < e3 && (e3 = this.get(r2, t3), n2[0] = r2);
            return n2;
          }
          diag() {
            let t3 = Math.min(this.rows, this.columns), e3 = [];
            for (let n2 = 0; n2 < t3; n2++)
              e3.push(this.get(n2, n2));
            return e3;
          }
          norm(t3 = "frobenius") {
            let e3 = 0;
            if (t3 === "max")
              return this.max();
            if (t3 === "frobenius") {
              for (let t4 = 0; t4 < this.rows; t4++)
                for (let n2 = 0; n2 < this.columns; n2++)
                  e3 += this.get(t4, n2) * this.get(t4, n2);
              return Math.sqrt(e3);
            }
            throw new RangeError(`unknown norm type: ${t3}`);
          }
          cumulativeSum() {
            let t3 = 0;
            for (let e3 = 0; e3 < this.rows; e3++)
              for (let n2 = 0; n2 < this.columns; n2++)
                t3 += this.get(e3, n2), this.set(e3, n2, t3);
            return this;
          }
          dot(t3) {
            er.isMatrix(t3) && (t3 = t3.to1DArray());
            let e3 = this.to1DArray();
            if (e3.length !== t3.length)
              throw new RangeError("vectors do not have the same size");
            let n2 = 0;
            for (let r2 = 0; r2 < e3.length; r2++)
              n2 += e3[r2] * t3[r2];
            return n2;
          }
          mmul(t3) {
            t3 = rr.checkMatrix(t3);
            let e3 = this.rows, n2 = this.columns, r2 = t3.columns, i = new rr(e3, r2), o2 = new Float64Array(n2);
            for (let a2 = 0; a2 < r2; a2++) {
              for (let e4 = 0; e4 < n2; e4++)
                o2[e4] = t3.get(e4, a2);
              for (let t4 = 0; t4 < e3; t4++) {
                let e4 = 0;
                for (let r3 = 0; r3 < n2; r3++)
                  e4 += this.get(t4, r3) * o2[r3];
                i.set(t4, a2, e4);
              }
            }
            return i;
          }
          strassen2x2(t3) {
            t3 = rr.checkMatrix(t3);
            let e3 = new rr(2, 2);
            const n2 = this.get(0, 0), r2 = t3.get(0, 0), i = this.get(0, 1), o2 = t3.get(0, 1), a2 = this.get(1, 0), u2 = t3.get(1, 0), s2 = this.get(1, 1), c2 = t3.get(1, 1), f2 = (n2 + s2) * (r2 + c2), l2 = (a2 + s2) * r2, h2 = n2 * (o2 - c2), d2 = s2 * (u2 - r2), p2 = (n2 + i) * c2, v2 = f2 + d2 - p2 + (i - s2) * (u2 + c2), g2 = h2 + p2, y2 = l2 + d2, m2 = f2 - l2 + h2 + (a2 - n2) * (r2 + o2);
            return e3.set(0, 0, v2), e3.set(0, 1, g2), e3.set(1, 0, y2), e3.set(1, 1, m2), e3;
          }
          strassen3x3(t3) {
            t3 = rr.checkMatrix(t3);
            let e3 = new rr(3, 3);
            const n2 = this.get(0, 0), r2 = this.get(0, 1), i = this.get(0, 2), o2 = this.get(1, 0), a2 = this.get(1, 1), u2 = this.get(1, 2), s2 = this.get(2, 0), c2 = this.get(2, 1), f2 = this.get(2, 2), l2 = t3.get(0, 0), h2 = t3.get(0, 1), d2 = t3.get(0, 2), p2 = t3.get(1, 0), v2 = t3.get(1, 1), g2 = t3.get(1, 2), y2 = t3.get(2, 0), m2 = t3.get(2, 1), b2 = t3.get(2, 2), _2 = (n2 - o2) * (-h2 + v2), x2 = (-n2 + o2 + a2) * (l2 - h2 + v2), w2 = (o2 + a2) * (-l2 + h2), E2 = n2 * l2, S2 = (-n2 + s2 + c2) * (l2 - d2 + g2), A2 = (-n2 + s2) * (d2 - g2), T2 = (s2 + c2) * (-l2 + d2), I2 = (-i + c2 + f2) * (v2 + y2 - m2), C2 = (i - f2) * (v2 - m2), D2 = i * y2, N2 = (c2 + f2) * (-y2 + m2), k2 = (-i + a2 + u2) * (g2 + y2 - b2), R2 = (i - u2) * (g2 - b2), O2 = (a2 + u2) * (-y2 + b2), M2 = E2 + D2 + r2 * p2, P2 = (n2 + r2 + i - o2 - a2 - c2 - f2) * v2 + x2 + w2 + E2 + I2 + D2 + N2, G2 = E2 + S2 + T2 + (n2 + r2 + i - a2 - u2 - s2 - c2) * g2 + D2 + k2 + O2, L2 = _2 + a2 * (-l2 + h2 + p2 - v2 - g2 - y2 + b2) + x2 + E2 + D2 + k2 + R2, U2 = _2 + x2 + w2 + E2 + u2 * m2, F2 = D2 + k2 + R2 + O2 + o2 * d2, B2 = E2 + S2 + A2 + c2 * (-l2 + d2 + p2 - v2 - g2 - y2 + m2) + I2 + C2 + D2, z2 = I2 + C2 + D2 + N2 + s2 * h2, j2 = E2 + S2 + A2 + T2 + f2 * b2;
            return e3.set(0, 0, M2), e3.set(0, 1, P2), e3.set(0, 2, G2), e3.set(1, 0, L2), e3.set(1, 1, U2), e3.set(1, 2, F2), e3.set(2, 0, B2), e3.set(2, 1, z2), e3.set(2, 2, j2), e3;
          }
          mmulStrassen(t3) {
            t3 = rr.checkMatrix(t3);
            let e3 = this.clone(), n2 = e3.rows, r2 = e3.columns, i = t3.rows, o2 = t3.columns;
            function a2(t4, e4, n3) {
              let r3 = t4.rows, i2 = t4.columns;
              if (r3 === e4 && i2 === n3)
                return t4;
              {
                let r4 = er.zeros(e4, n3);
                return r4 = r4.setSubMatrix(t4, 0, 0), r4;
              }
            }
            r2 !== i && console.warn(`Multiplying ${n2} x ${r2} and ${i} x ${o2} matrix: dimensions do not match.`);
            let u2 = Math.max(n2, i), s2 = Math.max(r2, o2);
            return e3 = a2(e3, u2, s2), function t4(e4, n3, r3, i2) {
              if (r3 <= 512 || i2 <= 512)
                return e4.mmul(n3);
              r3 % 2 == 1 && i2 % 2 == 1 ? (e4 = a2(e4, r3 + 1, i2 + 1), n3 = a2(n3, r3 + 1, i2 + 1)) : r3 % 2 == 1 ? (e4 = a2(e4, r3 + 1, i2), n3 = a2(n3, r3 + 1, i2)) : i2 % 2 == 1 && (e4 = a2(e4, r3, i2 + 1), n3 = a2(n3, r3, i2 + 1));
              let o3 = parseInt(e4.rows / 2, 10), u3 = parseInt(e4.columns / 2, 10), s3 = e4.subMatrix(0, o3 - 1, 0, u3 - 1), c2 = n3.subMatrix(0, o3 - 1, 0, u3 - 1), f2 = e4.subMatrix(0, o3 - 1, u3, e4.columns - 1), l2 = n3.subMatrix(0, o3 - 1, u3, n3.columns - 1), h2 = e4.subMatrix(o3, e4.rows - 1, 0, u3 - 1), d2 = n3.subMatrix(o3, n3.rows - 1, 0, u3 - 1), p2 = e4.subMatrix(o3, e4.rows - 1, u3, e4.columns - 1), v2 = n3.subMatrix(o3, n3.rows - 1, u3, n3.columns - 1), g2 = t4(er.add(s3, p2), er.add(c2, v2), o3, u3), y2 = t4(er.add(h2, p2), c2, o3, u3), m2 = t4(s3, er.sub(l2, v2), o3, u3), b2 = t4(p2, er.sub(d2, c2), o3, u3), _2 = t4(er.add(s3, f2), v2, o3, u3), x2 = t4(er.sub(h2, s3), er.add(c2, l2), o3, u3), w2 = t4(er.sub(f2, p2), er.add(d2, v2), o3, u3), E2 = er.add(g2, b2);
              E2.sub(_2), E2.add(w2);
              let S2 = er.add(m2, _2), A2 = er.add(y2, b2), T2 = er.sub(g2, y2);
              T2.add(m2), T2.add(x2);
              let I2 = er.zeros(2 * E2.rows, 2 * E2.columns);
              return I2 = I2.setSubMatrix(E2, 0, 0), I2 = I2.setSubMatrix(S2, E2.rows, 0), I2 = I2.setSubMatrix(A2, 0, E2.columns), I2 = I2.setSubMatrix(T2, E2.rows, E2.columns), I2.subMatrix(0, r3 - 1, 0, i2 - 1);
            }(e3, t3 = a2(t3, u2, s2), u2, s2);
          }
          scaleRows(t3 = {}) {
            if (typeof t3 != "object")
              throw new TypeError("options must be an object");
            const { min: e3 = 0, max: n2 = 1 } = t3;
            if (!Number.isFinite(e3))
              throw new TypeError("min must be a number");
            if (!Number.isFinite(n2))
              throw new TypeError("max must be a number");
            if (e3 >= n2)
              throw new RangeError("min must be smaller than max");
            let r2 = new rr(this.rows, this.columns);
            for (let t4 = 0; t4 < this.rows; t4++) {
              const i = this.getRow(t4);
              i.length > 0 && Bn(i, { min: e3, max: n2, output: i }), r2.setRow(t4, i);
            }
            return r2;
          }
          scaleColumns(t3 = {}) {
            if (typeof t3 != "object")
              throw new TypeError("options must be an object");
            const { min: e3 = 0, max: n2 = 1 } = t3;
            if (!Number.isFinite(e3))
              throw new TypeError("min must be a number");
            if (!Number.isFinite(n2))
              throw new TypeError("max must be a number");
            if (e3 >= n2)
              throw new RangeError("min must be smaller than max");
            let r2 = new rr(this.rows, this.columns);
            for (let t4 = 0; t4 < this.columns; t4++) {
              const i = this.getColumn(t4);
              i.length && Bn(i, { min: e3, max: n2, output: i }), r2.setColumn(t4, i);
            }
            return r2;
          }
          flipRows() {
            const t3 = Math.ceil(this.columns / 2);
            for (let e3 = 0; e3 < this.rows; e3++)
              for (let n2 = 0; n2 < t3; n2++) {
                let t4 = this.get(e3, n2), r2 = this.get(e3, this.columns - 1 - n2);
                this.set(e3, n2, r2), this.set(e3, this.columns - 1 - n2, t4);
              }
            return this;
          }
          flipColumns() {
            const t3 = Math.ceil(this.rows / 2);
            for (let e3 = 0; e3 < this.columns; e3++)
              for (let n2 = 0; n2 < t3; n2++) {
                let t4 = this.get(n2, e3), r2 = this.get(this.rows - 1 - n2, e3);
                this.set(n2, e3, r2), this.set(this.rows - 1 - n2, e3, t4);
              }
            return this;
          }
          kroneckerProduct(t3) {
            t3 = rr.checkMatrix(t3);
            let e3 = this.rows, n2 = this.columns, r2 = t3.rows, i = t3.columns, o2 = new rr(e3 * r2, n2 * i);
            for (let a2 = 0; a2 < e3; a2++)
              for (let e4 = 0; e4 < n2; e4++)
                for (let n3 = 0; n3 < r2; n3++)
                  for (let u2 = 0; u2 < i; u2++)
                    o2.set(r2 * a2 + n3, i * e4 + u2, this.get(a2, e4) * t3.get(n3, u2));
            return o2;
          }
          kroneckerSum(t3) {
            if (t3 = rr.checkMatrix(t3), !this.isSquare() || !t3.isSquare())
              throw new Error("Kronecker Sum needs two Square Matrices");
            let e3 = this.rows, n2 = t3.rows, r2 = this.kroneckerProduct(rr.eye(n2, n2)), i = rr.eye(e3, e3).kroneckerProduct(t3);
            return r2.add(i);
          }
          transpose() {
            let t3 = new rr(this.columns, this.rows);
            for (let e3 = 0; e3 < this.rows; e3++)
              for (let n2 = 0; n2 < this.columns; n2++)
                t3.set(n2, e3, this.get(e3, n2));
            return t3;
          }
          sortRows(t3 = nr) {
            for (let e3 = 0; e3 < this.rows; e3++)
              this.setRow(e3, this.getRow(e3).sort(t3));
            return this;
          }
          sortColumns(t3 = nr) {
            for (let e3 = 0; e3 < this.columns; e3++)
              this.setColumn(e3, this.getColumn(e3).sort(t3));
            return this;
          }
          subMatrix(t3, e3, n2, r2) {
            $n(this, t3, e3, n2, r2);
            let i = new rr(e3 - t3 + 1, r2 - n2 + 1);
            for (let o2 = t3; o2 <= e3; o2++)
              for (let e4 = n2; e4 <= r2; e4++)
                i.set(o2 - t3, e4 - n2, this.get(o2, e4));
            return i;
          }
          subMatrixRow(t3, e3, n2) {
            if (e3 === void 0 && (e3 = 0), n2 === void 0 && (n2 = this.columns - 1), e3 > n2 || e3 < 0 || e3 >= this.columns || n2 < 0 || n2 >= this.columns)
              throw new RangeError("Argument out of range");
            let r2 = new rr(t3.length, n2 - e3 + 1);
            for (let i = 0; i < t3.length; i++)
              for (let o2 = e3; o2 <= n2; o2++) {
                if (t3[i] < 0 || t3[i] >= this.rows)
                  throw new RangeError(`Row index out of range: ${t3[i]}`);
                r2.set(i, o2 - e3, this.get(t3[i], o2));
              }
            return r2;
          }
          subMatrixColumn(t3, e3, n2) {
            if (e3 === void 0 && (e3 = 0), n2 === void 0 && (n2 = this.rows - 1), e3 > n2 || e3 < 0 || e3 >= this.rows || n2 < 0 || n2 >= this.rows)
              throw new RangeError("Argument out of range");
            let r2 = new rr(n2 - e3 + 1, t3.length);
            for (let i = 0; i < t3.length; i++)
              for (let o2 = e3; o2 <= n2; o2++) {
                if (t3[i] < 0 || t3[i] >= this.columns)
                  throw new RangeError(`Column index out of range: ${t3[i]}`);
                r2.set(o2 - e3, i, this.get(o2, t3[i]));
              }
            return r2;
          }
          setSubMatrix(t3, e3, n2) {
            if ((t3 = rr.checkMatrix(t3)).isEmpty())
              return this;
            $n(this, e3, e3 + t3.rows - 1, n2, n2 + t3.columns - 1);
            for (let r2 = 0; r2 < t3.rows; r2++)
              for (let i = 0; i < t3.columns; i++)
                this.set(e3 + r2, n2 + i, t3.get(r2, i));
            return this;
          }
          selection(t3, e3) {
            let n2 = function(t4, e4, n3) {
              return { row: Kn(t4, e4), column: Zn(t4, n3) };
            }(this, t3, e3), r2 = new rr(t3.length, e3.length);
            for (let t4 = 0; t4 < n2.row.length; t4++) {
              let e4 = n2.row[t4];
              for (let i = 0; i < n2.column.length; i++) {
                let o2 = n2.column[i];
                r2.set(t4, i, this.get(e4, o2));
              }
            }
            return r2;
          }
          trace() {
            let t3 = Math.min(this.rows, this.columns), e3 = 0;
            for (let n2 = 0; n2 < t3; n2++)
              e3 += this.get(n2, n2);
            return e3;
          }
          clone() {
            let t3 = new rr(this.rows, this.columns);
            for (let e3 = 0; e3 < this.rows; e3++)
              for (let n2 = 0; n2 < this.columns; n2++)
                t3.set(e3, n2, this.get(e3, n2));
            return t3;
          }
          sum(t3) {
            switch (t3) {
              case "row":
                return function(t4) {
                  let e3 = Jn(t4.rows);
                  for (let n2 = 0; n2 < t4.rows; ++n2)
                    for (let r2 = 0; r2 < t4.columns; ++r2)
                      e3[n2] += t4.get(n2, r2);
                  return e3;
                }(this);
              case "column":
                return function(t4) {
                  let e3 = Jn(t4.columns);
                  for (let n2 = 0; n2 < t4.rows; ++n2)
                    for (let r2 = 0; r2 < t4.columns; ++r2)
                      e3[r2] += t4.get(n2, r2);
                  return e3;
                }(this);
              case void 0:
                return function(t4) {
                  let e3 = 0;
                  for (let n2 = 0; n2 < t4.rows; n2++)
                    for (let r2 = 0; r2 < t4.columns; r2++)
                      e3 += t4.get(n2, r2);
                  return e3;
                }(this);
              default:
                throw new Error(`invalid option: ${t3}`);
            }
          }
          product(t3) {
            switch (t3) {
              case "row":
                return function(t4) {
                  let e3 = Jn(t4.rows, 1);
                  for (let n2 = 0; n2 < t4.rows; ++n2)
                    for (let r2 = 0; r2 < t4.columns; ++r2)
                      e3[n2] *= t4.get(n2, r2);
                  return e3;
                }(this);
              case "column":
                return function(t4) {
                  let e3 = Jn(t4.columns, 1);
                  for (let n2 = 0; n2 < t4.rows; ++n2)
                    for (let r2 = 0; r2 < t4.columns; ++r2)
                      e3[r2] *= t4.get(n2, r2);
                  return e3;
                }(this);
              case void 0:
                return function(t4) {
                  let e3 = 1;
                  for (let n2 = 0; n2 < t4.rows; n2++)
                    for (let r2 = 0; r2 < t4.columns; r2++)
                      e3 *= t4.get(n2, r2);
                  return e3;
                }(this);
              default:
                throw new Error(`invalid option: ${t3}`);
            }
          }
          mean(t3) {
            const e3 = this.sum(t3);
            switch (t3) {
              case "row":
                for (let t4 = 0; t4 < this.rows; t4++)
                  e3[t4] /= this.columns;
                return e3;
              case "column":
                for (let t4 = 0; t4 < this.columns; t4++)
                  e3[t4] /= this.rows;
                return e3;
              case void 0:
                return e3 / this.size;
              default:
                throw new Error(`invalid option: ${t3}`);
            }
          }
          variance(t3, e3 = {}) {
            if (typeof t3 == "object" && (e3 = t3, t3 = void 0), typeof e3 != "object")
              throw new TypeError("options must be an object");
            const { unbiased: n2 = true, mean: r2 = this.mean(t3) } = e3;
            if (typeof n2 != "boolean")
              throw new TypeError("unbiased must be a boolean");
            switch (t3) {
              case "row":
                if (!Array.isArray(r2))
                  throw new TypeError("mean must be an array");
                return function(t4, e4, n3) {
                  const r3 = t4.rows, i = t4.columns, o2 = [];
                  for (let a2 = 0; a2 < r3; a2++) {
                    let r4 = 0, u2 = 0, s2 = 0;
                    for (let e5 = 0; e5 < i; e5++)
                      s2 = t4.get(a2, e5) - n3[a2], r4 += s2, u2 += s2 * s2;
                    e4 ? o2.push((u2 - r4 * r4 / i) / (i - 1)) : o2.push((u2 - r4 * r4 / i) / i);
                  }
                  return o2;
                }(this, n2, r2);
              case "column":
                if (!Array.isArray(r2))
                  throw new TypeError("mean must be an array");
                return function(t4, e4, n3) {
                  const r3 = t4.rows, i = t4.columns, o2 = [];
                  for (let a2 = 0; a2 < i; a2++) {
                    let i2 = 0, u2 = 0, s2 = 0;
                    for (let e5 = 0; e5 < r3; e5++)
                      s2 = t4.get(e5, a2) - n3[a2], i2 += s2, u2 += s2 * s2;
                    e4 ? o2.push((u2 - i2 * i2 / r3) / (r3 - 1)) : o2.push((u2 - i2 * i2 / r3) / r3);
                  }
                  return o2;
                }(this, n2, r2);
              case void 0:
                if (typeof r2 != "number")
                  throw new TypeError("mean must be a number");
                return function(t4, e4, n3) {
                  const r3 = t4.rows, i = t4.columns, o2 = r3 * i;
                  let a2 = 0, u2 = 0, s2 = 0;
                  for (let e5 = 0; e5 < r3; e5++)
                    for (let r4 = 0; r4 < i; r4++)
                      s2 = t4.get(e5, r4) - n3, a2 += s2, u2 += s2 * s2;
                  return e4 ? (u2 - a2 * a2 / o2) / (o2 - 1) : (u2 - a2 * a2 / o2) / o2;
                }(this, n2, r2);
              default:
                throw new Error(`invalid option: ${t3}`);
            }
          }
          standardDeviation(t3, e3) {
            typeof t3 == "object" && (e3 = t3, t3 = void 0);
            const n2 = this.variance(t3, e3);
            if (t3 === void 0)
              return Math.sqrt(n2);
            for (let t4 = 0; t4 < n2.length; t4++)
              n2[t4] = Math.sqrt(n2[t4]);
            return n2;
          }
          center(t3, e3 = {}) {
            if (typeof t3 == "object" && (e3 = t3, t3 = void 0), typeof e3 != "object")
              throw new TypeError("options must be an object");
            const { center: n2 = this.mean(t3) } = e3;
            switch (t3) {
              case "row":
                if (!Array.isArray(n2))
                  throw new TypeError("center must be an array");
                return function(t4, e4) {
                  for (let n3 = 0; n3 < t4.rows; n3++)
                    for (let r2 = 0; r2 < t4.columns; r2++)
                      t4.set(n3, r2, t4.get(n3, r2) - e4[n3]);
                }(this, n2), this;
              case "column":
                if (!Array.isArray(n2))
                  throw new TypeError("center must be an array");
                return function(t4, e4) {
                  for (let n3 = 0; n3 < t4.rows; n3++)
                    for (let r2 = 0; r2 < t4.columns; r2++)
                      t4.set(n3, r2, t4.get(n3, r2) - e4[r2]);
                }(this, n2), this;
              case void 0:
                if (typeof n2 != "number")
                  throw new TypeError("center must be a number");
                return function(t4, e4) {
                  for (let n3 = 0; n3 < t4.rows; n3++)
                    for (let r2 = 0; r2 < t4.columns; r2++)
                      t4.set(n3, r2, t4.get(n3, r2) - e4);
                }(this, n2), this;
              default:
                throw new Error(`invalid option: ${t3}`);
            }
          }
          scale(t3, e3 = {}) {
            if (typeof t3 == "object" && (e3 = t3, t3 = void 0), typeof e3 != "object")
              throw new TypeError("options must be an object");
            let n2 = e3.scale;
            switch (t3) {
              case "row":
                if (n2 === void 0)
                  n2 = function(t4) {
                    const e4 = [];
                    for (let n3 = 0; n3 < t4.rows; n3++) {
                      let r2 = 0;
                      for (let e5 = 0; e5 < t4.columns; e5++)
                        r2 += Math.pow(t4.get(n3, e5), 2) / (t4.columns - 1);
                      e4.push(Math.sqrt(r2));
                    }
                    return e4;
                  }(this);
                else if (!Array.isArray(n2))
                  throw new TypeError("scale must be an array");
                return function(t4, e4) {
                  for (let n3 = 0; n3 < t4.rows; n3++)
                    for (let r2 = 0; r2 < t4.columns; r2++)
                      t4.set(n3, r2, t4.get(n3, r2) / e4[n3]);
                }(this, n2), this;
              case "column":
                if (n2 === void 0)
                  n2 = function(t4) {
                    const e4 = [];
                    for (let n3 = 0; n3 < t4.columns; n3++) {
                      let r2 = 0;
                      for (let e5 = 0; e5 < t4.rows; e5++)
                        r2 += Math.pow(t4.get(e5, n3), 2) / (t4.rows - 1);
                      e4.push(Math.sqrt(r2));
                    }
                    return e4;
                  }(this);
                else if (!Array.isArray(n2))
                  throw new TypeError("scale must be an array");
                return function(t4, e4) {
                  for (let n3 = 0; n3 < t4.rows; n3++)
                    for (let r2 = 0; r2 < t4.columns; r2++)
                      t4.set(n3, r2, t4.get(n3, r2) / e4[r2]);
                }(this, n2), this;
              case void 0:
                if (n2 === void 0)
                  n2 = function(t4) {
                    const e4 = t4.size - 1;
                    let n3 = 0;
                    for (let r2 = 0; r2 < t4.columns; r2++)
                      for (let i = 0; i < t4.rows; i++)
                        n3 += Math.pow(t4.get(i, r2), 2) / e4;
                    return Math.sqrt(n3);
                  }(this);
                else if (typeof n2 != "number")
                  throw new TypeError("scale must be a number");
                return function(t4, e4) {
                  for (let n3 = 0; n3 < t4.rows; n3++)
                    for (let r2 = 0; r2 < t4.columns; r2++)
                      t4.set(n3, r2, t4.get(n3, r2) / e4);
                }(this, n2), this;
              default:
                throw new Error(`invalid option: ${t3}`);
            }
          }
          toString(t3) {
            return Wn(this, t3);
          }
        }
        function nr(t3, e3) {
          return t3 - e3;
        }
        er.prototype.klass = "Matrix", typeof Symbol != "undefined" && (er.prototype[Symbol.for("nodejs.util.inspect.custom")] = function() {
          return Wn(this);
        }), er.random = er.rand, er.randomInt = er.randInt, er.diagonal = er.diag, er.prototype.diagonal = er.prototype.diag, er.identity = er.eye, er.prototype.negate = er.prototype.neg, er.prototype.tensorProduct = er.prototype.kroneckerProduct;
        class rr extends er {
          constructor(t3, e3) {
            if (super(), rr.isMatrix(t3))
              return t3.clone();
            if (Number.isInteger(t3) && t3 >= 0) {
              if (this.data = [], !(Number.isInteger(e3) && e3 >= 0))
                throw new TypeError("nColumns must be a positive integer");
              for (let n2 = 0; n2 < t3; n2++)
                this.data.push(new Float64Array(e3));
            } else {
              if (!Array.isArray(t3))
                throw new TypeError("First argument must be a positive number or an array");
              {
                const n2 = t3;
                if (typeof (e3 = (t3 = n2.length) ? n2[0].length : 0) != "number")
                  throw new TypeError("Data must be a 2D array with at least one element");
                this.data = [];
                for (let r2 = 0; r2 < t3; r2++) {
                  if (n2[r2].length !== e3)
                    throw new RangeError("Inconsistent array dimensions");
                  this.data.push(Float64Array.from(n2[r2]));
                }
              }
            }
            this.rows = t3, this.columns = e3;
          }
          set(t3, e3, n2) {
            return this.data[t3][e3] = n2, this;
          }
          get(t3, e3) {
            return this.data[t3][e3];
          }
          removeRow(t3) {
            return Xn(this, t3), this.data.splice(t3, 1), this.rows -= 1, this;
          }
          addRow(t3, e3) {
            return e3 === void 0 && (e3 = t3, t3 = this.rows), Xn(this, t3, true), e3 = Float64Array.from(qn(this, e3)), this.data.splice(t3, 0, e3), this.rows += 1, this;
          }
          removeColumn(t3) {
            Hn(this, t3);
            for (let e3 = 0; e3 < this.rows; e3++) {
              const n2 = new Float64Array(this.columns - 1);
              for (let r2 = 0; r2 < t3; r2++)
                n2[r2] = this.data[e3][r2];
              for (let r2 = t3 + 1; r2 < this.columns; r2++)
                n2[r2 - 1] = this.data[e3][r2];
              this.data[e3] = n2;
            }
            return this.columns -= 1, this;
          }
          addColumn(t3, e3) {
            e3 === void 0 && (e3 = t3, t3 = this.columns), Hn(this, t3, true), e3 = Yn(this, e3);
            for (let n2 = 0; n2 < this.rows; n2++) {
              const r2 = new Float64Array(this.columns + 1);
              let i = 0;
              for (; i < t3; i++)
                r2[i] = this.data[n2][i];
              for (r2[i++] = e3[n2]; i < this.columns + 1; i++)
                r2[i] = this.data[n2][i - 1];
              this.data[n2] = r2;
            }
            return this.columns += 1, this;
          }
        }
        !function(t3, e3) {
          t3.prototype.add = function(t4) {
            return typeof t4 == "number" ? this.addS(t4) : this.addM(t4);
          }, t3.prototype.addS = function(t4) {
            for (let e4 = 0; e4 < this.rows; e4++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e4, n2, this.get(e4, n2) + t4);
            return this;
          }, t3.prototype.addM = function(t4) {
            if (t4 = e3.checkMatrix(t4), this.rows !== t4.rows || this.columns !== t4.columns)
              throw new RangeError("Matrices dimensions must be equal");
            for (let e4 = 0; e4 < this.rows; e4++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e4, n2, this.get(e4, n2) + t4.get(e4, n2));
            return this;
          }, t3.add = function(t4, n2) {
            return new e3(t4).add(n2);
          }, t3.prototype.sub = function(t4) {
            return typeof t4 == "number" ? this.subS(t4) : this.subM(t4);
          }, t3.prototype.subS = function(t4) {
            for (let e4 = 0; e4 < this.rows; e4++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e4, n2, this.get(e4, n2) - t4);
            return this;
          }, t3.prototype.subM = function(t4) {
            if (t4 = e3.checkMatrix(t4), this.rows !== t4.rows || this.columns !== t4.columns)
              throw new RangeError("Matrices dimensions must be equal");
            for (let e4 = 0; e4 < this.rows; e4++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e4, n2, this.get(e4, n2) - t4.get(e4, n2));
            return this;
          }, t3.sub = function(t4, n2) {
            return new e3(t4).sub(n2);
          }, t3.prototype.subtract = t3.prototype.sub, t3.prototype.subtractS = t3.prototype.subS, t3.prototype.subtractM = t3.prototype.subM, t3.subtract = t3.sub, t3.prototype.mul = function(t4) {
            return typeof t4 == "number" ? this.mulS(t4) : this.mulM(t4);
          }, t3.prototype.mulS = function(t4) {
            for (let e4 = 0; e4 < this.rows; e4++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e4, n2, this.get(e4, n2) * t4);
            return this;
          }, t3.prototype.mulM = function(t4) {
            if (t4 = e3.checkMatrix(t4), this.rows !== t4.rows || this.columns !== t4.columns)
              throw new RangeError("Matrices dimensions must be equal");
            for (let e4 = 0; e4 < this.rows; e4++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e4, n2, this.get(e4, n2) * t4.get(e4, n2));
            return this;
          }, t3.mul = function(t4, n2) {
            return new e3(t4).mul(n2);
          }, t3.prototype.multiply = t3.prototype.mul, t3.prototype.multiplyS = t3.prototype.mulS, t3.prototype.multiplyM = t3.prototype.mulM, t3.multiply = t3.mul, t3.prototype.div = function(t4) {
            return typeof t4 == "number" ? this.divS(t4) : this.divM(t4);
          }, t3.prototype.divS = function(t4) {
            for (let e4 = 0; e4 < this.rows; e4++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e4, n2, this.get(e4, n2) / t4);
            return this;
          }, t3.prototype.divM = function(t4) {
            if (t4 = e3.checkMatrix(t4), this.rows !== t4.rows || this.columns !== t4.columns)
              throw new RangeError("Matrices dimensions must be equal");
            for (let e4 = 0; e4 < this.rows; e4++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e4, n2, this.get(e4, n2) / t4.get(e4, n2));
            return this;
          }, t3.div = function(t4, n2) {
            return new e3(t4).div(n2);
          }, t3.prototype.divide = t3.prototype.div, t3.prototype.divideS = t3.prototype.divS, t3.prototype.divideM = t3.prototype.divM, t3.divide = t3.div, t3.prototype.mod = function(t4) {
            return typeof t4 == "number" ? this.modS(t4) : this.modM(t4);
          }, t3.prototype.modS = function(t4) {
            for (let e4 = 0; e4 < this.rows; e4++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e4, n2, this.get(e4, n2) % t4);
            return this;
          }, t3.prototype.modM = function(t4) {
            if (t4 = e3.checkMatrix(t4), this.rows !== t4.rows || this.columns !== t4.columns)
              throw new RangeError("Matrices dimensions must be equal");
            for (let e4 = 0; e4 < this.rows; e4++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e4, n2, this.get(e4, n2) % t4.get(e4, n2));
            return this;
          }, t3.mod = function(t4, n2) {
            return new e3(t4).mod(n2);
          }, t3.prototype.modulus = t3.prototype.mod, t3.prototype.modulusS = t3.prototype.modS, t3.prototype.modulusM = t3.prototype.modM, t3.modulus = t3.mod, t3.prototype.and = function(t4) {
            return typeof t4 == "number" ? this.andS(t4) : this.andM(t4);
          }, t3.prototype.andS = function(t4) {
            for (let e4 = 0; e4 < this.rows; e4++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e4, n2, this.get(e4, n2) & t4);
            return this;
          }, t3.prototype.andM = function(t4) {
            if (t4 = e3.checkMatrix(t4), this.rows !== t4.rows || this.columns !== t4.columns)
              throw new RangeError("Matrices dimensions must be equal");
            for (let e4 = 0; e4 < this.rows; e4++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e4, n2, this.get(e4, n2) & t4.get(e4, n2));
            return this;
          }, t3.and = function(t4, n2) {
            return new e3(t4).and(n2);
          }, t3.prototype.or = function(t4) {
            return typeof t4 == "number" ? this.orS(t4) : this.orM(t4);
          }, t3.prototype.orS = function(t4) {
            for (let e4 = 0; e4 < this.rows; e4++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e4, n2, this.get(e4, n2) | t4);
            return this;
          }, t3.prototype.orM = function(t4) {
            if (t4 = e3.checkMatrix(t4), this.rows !== t4.rows || this.columns !== t4.columns)
              throw new RangeError("Matrices dimensions must be equal");
            for (let e4 = 0; e4 < this.rows; e4++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e4, n2, this.get(e4, n2) | t4.get(e4, n2));
            return this;
          }, t3.or = function(t4, n2) {
            return new e3(t4).or(n2);
          }, t3.prototype.xor = function(t4) {
            return typeof t4 == "number" ? this.xorS(t4) : this.xorM(t4);
          }, t3.prototype.xorS = function(t4) {
            for (let e4 = 0; e4 < this.rows; e4++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e4, n2, this.get(e4, n2) ^ t4);
            return this;
          }, t3.prototype.xorM = function(t4) {
            if (t4 = e3.checkMatrix(t4), this.rows !== t4.rows || this.columns !== t4.columns)
              throw new RangeError("Matrices dimensions must be equal");
            for (let e4 = 0; e4 < this.rows; e4++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e4, n2, this.get(e4, n2) ^ t4.get(e4, n2));
            return this;
          }, t3.xor = function(t4, n2) {
            return new e3(t4).xor(n2);
          }, t3.prototype.leftShift = function(t4) {
            return typeof t4 == "number" ? this.leftShiftS(t4) : this.leftShiftM(t4);
          }, t3.prototype.leftShiftS = function(t4) {
            for (let e4 = 0; e4 < this.rows; e4++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e4, n2, this.get(e4, n2) << t4);
            return this;
          }, t3.prototype.leftShiftM = function(t4) {
            if (t4 = e3.checkMatrix(t4), this.rows !== t4.rows || this.columns !== t4.columns)
              throw new RangeError("Matrices dimensions must be equal");
            for (let e4 = 0; e4 < this.rows; e4++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e4, n2, this.get(e4, n2) << t4.get(e4, n2));
            return this;
          }, t3.leftShift = function(t4, n2) {
            return new e3(t4).leftShift(n2);
          }, t3.prototype.signPropagatingRightShift = function(t4) {
            return typeof t4 == "number" ? this.signPropagatingRightShiftS(t4) : this.signPropagatingRightShiftM(t4);
          }, t3.prototype.signPropagatingRightShiftS = function(t4) {
            for (let e4 = 0; e4 < this.rows; e4++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e4, n2, this.get(e4, n2) >> t4);
            return this;
          }, t3.prototype.signPropagatingRightShiftM = function(t4) {
            if (t4 = e3.checkMatrix(t4), this.rows !== t4.rows || this.columns !== t4.columns)
              throw new RangeError("Matrices dimensions must be equal");
            for (let e4 = 0; e4 < this.rows; e4++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e4, n2, this.get(e4, n2) >> t4.get(e4, n2));
            return this;
          }, t3.signPropagatingRightShift = function(t4, n2) {
            return new e3(t4).signPropagatingRightShift(n2);
          }, t3.prototype.rightShift = function(t4) {
            return typeof t4 == "number" ? this.rightShiftS(t4) : this.rightShiftM(t4);
          }, t3.prototype.rightShiftS = function(t4) {
            for (let e4 = 0; e4 < this.rows; e4++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e4, n2, this.get(e4, n2) >>> t4);
            return this;
          }, t3.prototype.rightShiftM = function(t4) {
            if (t4 = e3.checkMatrix(t4), this.rows !== t4.rows || this.columns !== t4.columns)
              throw new RangeError("Matrices dimensions must be equal");
            for (let e4 = 0; e4 < this.rows; e4++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e4, n2, this.get(e4, n2) >>> t4.get(e4, n2));
            return this;
          }, t3.rightShift = function(t4, n2) {
            return new e3(t4).rightShift(n2);
          }, t3.prototype.zeroFillRightShift = t3.prototype.rightShift, t3.prototype.zeroFillRightShiftS = t3.prototype.rightShiftS, t3.prototype.zeroFillRightShiftM = t3.prototype.rightShiftM, t3.zeroFillRightShift = t3.rightShift, t3.prototype.not = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, ~this.get(t4, e4));
            return this;
          }, t3.not = function(t4) {
            return new e3(t4).not();
          }, t3.prototype.abs = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, Math.abs(this.get(t4, e4)));
            return this;
          }, t3.abs = function(t4) {
            return new e3(t4).abs();
          }, t3.prototype.acos = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, Math.acos(this.get(t4, e4)));
            return this;
          }, t3.acos = function(t4) {
            return new e3(t4).acos();
          }, t3.prototype.acosh = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, Math.acosh(this.get(t4, e4)));
            return this;
          }, t3.acosh = function(t4) {
            return new e3(t4).acosh();
          }, t3.prototype.asin = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, Math.asin(this.get(t4, e4)));
            return this;
          }, t3.asin = function(t4) {
            return new e3(t4).asin();
          }, t3.prototype.asinh = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, Math.asinh(this.get(t4, e4)));
            return this;
          }, t3.asinh = function(t4) {
            return new e3(t4).asinh();
          }, t3.prototype.atan = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, Math.atan(this.get(t4, e4)));
            return this;
          }, t3.atan = function(t4) {
            return new e3(t4).atan();
          }, t3.prototype.atanh = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, Math.atanh(this.get(t4, e4)));
            return this;
          }, t3.atanh = function(t4) {
            return new e3(t4).atanh();
          }, t3.prototype.cbrt = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, Math.cbrt(this.get(t4, e4)));
            return this;
          }, t3.cbrt = function(t4) {
            return new e3(t4).cbrt();
          }, t3.prototype.ceil = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, Math.ceil(this.get(t4, e4)));
            return this;
          }, t3.ceil = function(t4) {
            return new e3(t4).ceil();
          }, t3.prototype.clz32 = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, Math.clz32(this.get(t4, e4)));
            return this;
          }, t3.clz32 = function(t4) {
            return new e3(t4).clz32();
          }, t3.prototype.cos = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, Math.cos(this.get(t4, e4)));
            return this;
          }, t3.cos = function(t4) {
            return new e3(t4).cos();
          }, t3.prototype.cosh = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, Math.cosh(this.get(t4, e4)));
            return this;
          }, t3.cosh = function(t4) {
            return new e3(t4).cosh();
          }, t3.prototype.exp = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, Math.exp(this.get(t4, e4)));
            return this;
          }, t3.exp = function(t4) {
            return new e3(t4).exp();
          }, t3.prototype.expm1 = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, Math.expm1(this.get(t4, e4)));
            return this;
          }, t3.expm1 = function(t4) {
            return new e3(t4).expm1();
          }, t3.prototype.floor = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, Math.floor(this.get(t4, e4)));
            return this;
          }, t3.floor = function(t4) {
            return new e3(t4).floor();
          }, t3.prototype.fround = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, Math.fround(this.get(t4, e4)));
            return this;
          }, t3.fround = function(t4) {
            return new e3(t4).fround();
          }, t3.prototype.log = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, Math.log(this.get(t4, e4)));
            return this;
          }, t3.log = function(t4) {
            return new e3(t4).log();
          }, t3.prototype.log1p = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, Math.log1p(this.get(t4, e4)));
            return this;
          }, t3.log1p = function(t4) {
            return new e3(t4).log1p();
          }, t3.prototype.log10 = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, Math.log10(this.get(t4, e4)));
            return this;
          }, t3.log10 = function(t4) {
            return new e3(t4).log10();
          }, t3.prototype.log2 = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, Math.log2(this.get(t4, e4)));
            return this;
          }, t3.log2 = function(t4) {
            return new e3(t4).log2();
          }, t3.prototype.round = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, Math.round(this.get(t4, e4)));
            return this;
          }, t3.round = function(t4) {
            return new e3(t4).round();
          }, t3.prototype.sign = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, Math.sign(this.get(t4, e4)));
            return this;
          }, t3.sign = function(t4) {
            return new e3(t4).sign();
          }, t3.prototype.sin = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, Math.sin(this.get(t4, e4)));
            return this;
          }, t3.sin = function(t4) {
            return new e3(t4).sin();
          }, t3.prototype.sinh = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, Math.sinh(this.get(t4, e4)));
            return this;
          }, t3.sinh = function(t4) {
            return new e3(t4).sinh();
          }, t3.prototype.sqrt = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, Math.sqrt(this.get(t4, e4)));
            return this;
          }, t3.sqrt = function(t4) {
            return new e3(t4).sqrt();
          }, t3.prototype.tan = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, Math.tan(this.get(t4, e4)));
            return this;
          }, t3.tan = function(t4) {
            return new e3(t4).tan();
          }, t3.prototype.tanh = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, Math.tanh(this.get(t4, e4)));
            return this;
          }, t3.tanh = function(t4) {
            return new e3(t4).tanh();
          }, t3.prototype.trunc = function() {
            for (let t4 = 0; t4 < this.rows; t4++)
              for (let e4 = 0; e4 < this.columns; e4++)
                this.set(t4, e4, Math.trunc(this.get(t4, e4)));
            return this;
          }, t3.trunc = function(t4) {
            return new e3(t4).trunc();
          }, t3.pow = function(t4, n2) {
            return new e3(t4).pow(n2);
          }, t3.prototype.pow = function(t4) {
            return typeof t4 == "number" ? this.powS(t4) : this.powM(t4);
          }, t3.prototype.powS = function(t4) {
            for (let e4 = 0; e4 < this.rows; e4++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e4, n2, Math.pow(this.get(e4, n2), t4));
            return this;
          }, t3.prototype.powM = function(t4) {
            if (t4 = e3.checkMatrix(t4), this.rows !== t4.rows || this.columns !== t4.columns)
              throw new RangeError("Matrices dimensions must be equal");
            for (let e4 = 0; e4 < this.rows; e4++)
              for (let n2 = 0; n2 < this.columns; n2++)
                this.set(e4, n2, Math.pow(this.get(e4, n2), t4.get(e4, n2)));
            return this;
          };
        }(er, rr);
        class ir extends er {
          constructor(t3) {
            super(), this.data = t3, this.rows = t3.length, this.columns = t3[0].length;
          }
          set(t3, e3, n2) {
            return this.data[t3][e3] = n2, this;
          }
          get(t3, e3) {
            return this.data[t3][e3];
          }
        }
        function or(t3, e3) {
          let n2 = 0;
          return Math.abs(t3) > Math.abs(e3) ? (n2 = e3 / t3, Math.abs(t3) * Math.sqrt(1 + n2 * n2)) : e3 !== 0 ? (n2 = t3 / e3, Math.abs(e3) * Math.sqrt(1 + n2 * n2)) : 0;
        }
        class ar {
          constructor(t3, e3 = {}) {
            if ((t3 = ir.checkMatrix(t3)).isEmpty())
              throw new Error("Matrix must be non-empty");
            let n2 = t3.rows, r2 = t3.columns;
            const { computeLeftSingularVectors: i = true, computeRightSingularVectors: o2 = true, autoTranspose: a2 = false } = e3;
            let u2, s2 = Boolean(i), c2 = Boolean(o2), f2 = false;
            if (n2 < r2)
              if (a2) {
                u2 = t3.transpose(), n2 = u2.rows, r2 = u2.columns, f2 = true;
                let e4 = s2;
                s2 = c2, c2 = e4;
              } else
                u2 = t3.clone(), console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");
            else
              u2 = t3.clone();
            let l2 = Math.min(n2, r2), h2 = Math.min(n2 + 1, r2), d2 = new Float64Array(h2), p2 = new rr(n2, l2), v2 = new rr(r2, r2), g2 = new Float64Array(r2), y2 = new Float64Array(n2), m2 = new Float64Array(h2);
            for (let t4 = 0; t4 < h2; t4++)
              m2[t4] = t4;
            let b2 = Math.min(n2 - 1, r2), _2 = Math.max(0, Math.min(r2 - 2, n2)), x2 = Math.max(b2, _2);
            for (let t4 = 0; t4 < x2; t4++) {
              if (t4 < b2) {
                d2[t4] = 0;
                for (let e4 = t4; e4 < n2; e4++)
                  d2[t4] = or(d2[t4], u2.get(e4, t4));
                if (d2[t4] !== 0) {
                  u2.get(t4, t4) < 0 && (d2[t4] = -d2[t4]);
                  for (let e4 = t4; e4 < n2; e4++)
                    u2.set(e4, t4, u2.get(e4, t4) / d2[t4]);
                  u2.set(t4, t4, u2.get(t4, t4) + 1);
                }
                d2[t4] = -d2[t4];
              }
              for (let e4 = t4 + 1; e4 < r2; e4++) {
                if (t4 < b2 && d2[t4] !== 0) {
                  let r3 = 0;
                  for (let i2 = t4; i2 < n2; i2++)
                    r3 += u2.get(i2, t4) * u2.get(i2, e4);
                  r3 = -r3 / u2.get(t4, t4);
                  for (let i2 = t4; i2 < n2; i2++)
                    u2.set(i2, e4, u2.get(i2, e4) + r3 * u2.get(i2, t4));
                }
                g2[e4] = u2.get(t4, e4);
              }
              if (s2 && t4 < b2)
                for (let e4 = t4; e4 < n2; e4++)
                  p2.set(e4, t4, u2.get(e4, t4));
              if (t4 < _2) {
                g2[t4] = 0;
                for (let e4 = t4 + 1; e4 < r2; e4++)
                  g2[t4] = or(g2[t4], g2[e4]);
                if (g2[t4] !== 0) {
                  g2[t4 + 1] < 0 && (g2[t4] = 0 - g2[t4]);
                  for (let e4 = t4 + 1; e4 < r2; e4++)
                    g2[e4] /= g2[t4];
                  g2[t4 + 1] += 1;
                }
                if (g2[t4] = -g2[t4], t4 + 1 < n2 && g2[t4] !== 0) {
                  for (let e4 = t4 + 1; e4 < n2; e4++)
                    y2[e4] = 0;
                  for (let e4 = t4 + 1; e4 < n2; e4++)
                    for (let n3 = t4 + 1; n3 < r2; n3++)
                      y2[e4] += g2[n3] * u2.get(e4, n3);
                  for (let e4 = t4 + 1; e4 < r2; e4++) {
                    let r3 = -g2[e4] / g2[t4 + 1];
                    for (let i2 = t4 + 1; i2 < n2; i2++)
                      u2.set(i2, e4, u2.get(i2, e4) + r3 * y2[i2]);
                  }
                }
                if (c2)
                  for (let e4 = t4 + 1; e4 < r2; e4++)
                    v2.set(e4, t4, g2[e4]);
              }
            }
            let w2 = Math.min(r2, n2 + 1);
            if (b2 < r2 && (d2[b2] = u2.get(b2, b2)), n2 < w2 && (d2[w2 - 1] = 0), _2 + 1 < w2 && (g2[_2] = u2.get(_2, w2 - 1)), g2[w2 - 1] = 0, s2) {
              for (let t4 = b2; t4 < l2; t4++) {
                for (let e4 = 0; e4 < n2; e4++)
                  p2.set(e4, t4, 0);
                p2.set(t4, t4, 1);
              }
              for (let t4 = b2 - 1; t4 >= 0; t4--)
                if (d2[t4] !== 0) {
                  for (let e4 = t4 + 1; e4 < l2; e4++) {
                    let r3 = 0;
                    for (let i2 = t4; i2 < n2; i2++)
                      r3 += p2.get(i2, t4) * p2.get(i2, e4);
                    r3 = -r3 / p2.get(t4, t4);
                    for (let i2 = t4; i2 < n2; i2++)
                      p2.set(i2, e4, p2.get(i2, e4) + r3 * p2.get(i2, t4));
                  }
                  for (let e4 = t4; e4 < n2; e4++)
                    p2.set(e4, t4, -p2.get(e4, t4));
                  p2.set(t4, t4, 1 + p2.get(t4, t4));
                  for (let e4 = 0; e4 < t4 - 1; e4++)
                    p2.set(e4, t4, 0);
                } else {
                  for (let e4 = 0; e4 < n2; e4++)
                    p2.set(e4, t4, 0);
                  p2.set(t4, t4, 1);
                }
            }
            if (c2)
              for (let t4 = r2 - 1; t4 >= 0; t4--) {
                if (t4 < _2 && g2[t4] !== 0)
                  for (let e4 = t4 + 1; e4 < r2; e4++) {
                    let n3 = 0;
                    for (let i2 = t4 + 1; i2 < r2; i2++)
                      n3 += v2.get(i2, t4) * v2.get(i2, e4);
                    n3 = -n3 / v2.get(t4 + 1, t4);
                    for (let i2 = t4 + 1; i2 < r2; i2++)
                      v2.set(i2, e4, v2.get(i2, e4) + n3 * v2.get(i2, t4));
                  }
                for (let e4 = 0; e4 < r2; e4++)
                  v2.set(e4, t4, 0);
                v2.set(t4, t4, 1);
              }
            let E2 = w2 - 1, A2 = Number.EPSILON;
            for (; w2 > 0; ) {
              let t4, e4;
              for (t4 = w2 - 2; t4 >= -1 && t4 !== -1; t4--) {
                const e5 = Number.MIN_VALUE + A2 * Math.abs(d2[t4] + Math.abs(d2[t4 + 1]));
                if (Math.abs(g2[t4]) <= e5 || Number.isNaN(g2[t4])) {
                  g2[t4] = 0;
                  break;
                }
              }
              if (t4 === w2 - 2)
                e4 = 4;
              else {
                let n3;
                for (n3 = w2 - 1; n3 >= t4 && n3 !== t4; n3--) {
                  let e5 = (n3 !== w2 ? Math.abs(g2[n3]) : 0) + (n3 !== t4 + 1 ? Math.abs(g2[n3 - 1]) : 0);
                  if (Math.abs(d2[n3]) <= A2 * e5) {
                    d2[n3] = 0;
                    break;
                  }
                }
                n3 === t4 ? e4 = 3 : n3 === w2 - 1 ? e4 = 1 : (e4 = 2, t4 = n3);
              }
              switch (t4++, e4) {
                case 1: {
                  let e5 = g2[w2 - 2];
                  g2[w2 - 2] = 0;
                  for (let n3 = w2 - 2; n3 >= t4; n3--) {
                    let i2 = or(d2[n3], e5), o3 = d2[n3] / i2, a3 = e5 / i2;
                    if (d2[n3] = i2, n3 !== t4 && (e5 = -a3 * g2[n3 - 1], g2[n3 - 1] = o3 * g2[n3 - 1]), c2)
                      for (let t5 = 0; t5 < r2; t5++)
                        i2 = o3 * v2.get(t5, n3) + a3 * v2.get(t5, w2 - 1), v2.set(t5, w2 - 1, -a3 * v2.get(t5, n3) + o3 * v2.get(t5, w2 - 1)), v2.set(t5, n3, i2);
                  }
                  break;
                }
                case 2: {
                  let e5 = g2[t4 - 1];
                  g2[t4 - 1] = 0;
                  for (let r3 = t4; r3 < w2; r3++) {
                    let i2 = or(d2[r3], e5), o3 = d2[r3] / i2, a3 = e5 / i2;
                    if (d2[r3] = i2, e5 = -a3 * g2[r3], g2[r3] = o3 * g2[r3], s2)
                      for (let e6 = 0; e6 < n2; e6++)
                        i2 = o3 * p2.get(e6, r3) + a3 * p2.get(e6, t4 - 1), p2.set(e6, t4 - 1, -a3 * p2.get(e6, r3) + o3 * p2.get(e6, t4 - 1)), p2.set(e6, r3, i2);
                  }
                  break;
                }
                case 3: {
                  const e5 = Math.max(Math.abs(d2[w2 - 1]), Math.abs(d2[w2 - 2]), Math.abs(g2[w2 - 2]), Math.abs(d2[t4]), Math.abs(g2[t4])), i2 = d2[w2 - 1] / e5, o3 = d2[w2 - 2] / e5, a3 = g2[w2 - 2] / e5, u3 = d2[t4] / e5, f3 = g2[t4] / e5, l3 = ((o3 + i2) * (o3 - i2) + a3 * a3) / 2, h3 = i2 * a3 * (i2 * a3);
                  let y3 = 0;
                  l3 === 0 && h3 === 0 || (y3 = l3 < 0 ? 0 - Math.sqrt(l3 * l3 + h3) : Math.sqrt(l3 * l3 + h3), y3 = h3 / (l3 + y3));
                  let m3 = (u3 + i2) * (u3 - i2) + y3, b3 = u3 * f3;
                  for (let e6 = t4; e6 < w2 - 1; e6++) {
                    let i3 = or(m3, b3);
                    i3 === 0 && (i3 = Number.MIN_VALUE);
                    let o4 = m3 / i3, a4 = b3 / i3;
                    if (e6 !== t4 && (g2[e6 - 1] = i3), m3 = o4 * d2[e6] + a4 * g2[e6], g2[e6] = o4 * g2[e6] - a4 * d2[e6], b3 = a4 * d2[e6 + 1], d2[e6 + 1] = o4 * d2[e6 + 1], c2)
                      for (let t5 = 0; t5 < r2; t5++)
                        i3 = o4 * v2.get(t5, e6) + a4 * v2.get(t5, e6 + 1), v2.set(t5, e6 + 1, -a4 * v2.get(t5, e6) + o4 * v2.get(t5, e6 + 1)), v2.set(t5, e6, i3);
                    if (i3 = or(m3, b3), i3 === 0 && (i3 = Number.MIN_VALUE), o4 = m3 / i3, a4 = b3 / i3, d2[e6] = i3, m3 = o4 * g2[e6] + a4 * d2[e6 + 1], d2[e6 + 1] = -a4 * g2[e6] + o4 * d2[e6 + 1], b3 = a4 * g2[e6 + 1], g2[e6 + 1] = o4 * g2[e6 + 1], s2 && e6 < n2 - 1)
                      for (let t5 = 0; t5 < n2; t5++)
                        i3 = o4 * p2.get(t5, e6) + a4 * p2.get(t5, e6 + 1), p2.set(t5, e6 + 1, -a4 * p2.get(t5, e6) + o4 * p2.get(t5, e6 + 1)), p2.set(t5, e6, i3);
                  }
                  g2[w2 - 2] = m3;
                  break;
                }
                case 4:
                  if (d2[t4] <= 0 && (d2[t4] = d2[t4] < 0 ? -d2[t4] : 0, c2))
                    for (let e5 = 0; e5 <= E2; e5++)
                      v2.set(e5, t4, -v2.get(e5, t4));
                  for (; t4 < E2 && !(d2[t4] >= d2[t4 + 1]); ) {
                    let e5 = d2[t4];
                    if (d2[t4] = d2[t4 + 1], d2[t4 + 1] = e5, c2 && t4 < r2 - 1)
                      for (let n3 = 0; n3 < r2; n3++)
                        e5 = v2.get(n3, t4 + 1), v2.set(n3, t4 + 1, v2.get(n3, t4)), v2.set(n3, t4, e5);
                    if (s2 && t4 < n2 - 1)
                      for (let r3 = 0; r3 < n2; r3++)
                        e5 = p2.get(r3, t4 + 1), p2.set(r3, t4 + 1, p2.get(r3, t4)), p2.set(r3, t4, e5);
                    t4++;
                  }
                  w2--;
              }
            }
            if (f2) {
              let t4 = v2;
              v2 = p2, p2 = t4;
            }
            this.m = n2, this.n = r2, this.s = d2, this.U = p2, this.V = v2;
          }
          solve(t3) {
            let e3 = t3, n2 = this.threshold, r2 = this.s.length, i = rr.zeros(r2, r2);
            for (let t4 = 0; t4 < r2; t4++)
              Math.abs(this.s[t4]) <= n2 ? i.set(t4, t4, 0) : i.set(t4, t4, 1 / this.s[t4]);
            let o2 = this.U, a2 = this.rightSingularVectors, u2 = a2.mmul(i), s2 = a2.rows, c2 = o2.rows, f2 = rr.zeros(s2, c2);
            for (let t4 = 0; t4 < s2; t4++)
              for (let e4 = 0; e4 < c2; e4++) {
                let n3 = 0;
                for (let i2 = 0; i2 < r2; i2++)
                  n3 += u2.get(t4, i2) * o2.get(e4, i2);
                f2.set(t4, e4, n3);
              }
            return f2.mmul(e3);
          }
          solveForDiagonal(t3) {
            return this.solve(rr.diag(t3));
          }
          inverse() {
            let t3 = this.V, e3 = this.threshold, n2 = t3.rows, r2 = t3.columns, i = new rr(n2, this.s.length);
            for (let o3 = 0; o3 < n2; o3++)
              for (let n3 = 0; n3 < r2; n3++)
                Math.abs(this.s[n3]) > e3 && i.set(o3, n3, t3.get(o3, n3) / this.s[n3]);
            let o2 = this.U, a2 = o2.rows, u2 = o2.columns, s2 = new rr(n2, a2);
            for (let t4 = 0; t4 < n2; t4++)
              for (let e4 = 0; e4 < a2; e4++) {
                let n3 = 0;
                for (let r3 = 0; r3 < u2; r3++)
                  n3 += i.get(t4, r3) * o2.get(e4, r3);
                s2.set(t4, e4, n3);
              }
            return s2;
          }
          get condition() {
            return this.s[0] / this.s[Math.min(this.m, this.n) - 1];
          }
          get norm2() {
            return this.s[0];
          }
          get rank() {
            let t3 = Math.max(this.m, this.n) * this.s[0] * Number.EPSILON, e3 = 0, n2 = this.s;
            for (let r2 = 0, i = n2.length; r2 < i; r2++)
              n2[r2] > t3 && e3++;
            return e3;
          }
          get diagonal() {
            return Array.from(this.s);
          }
          get threshold() {
            return Number.EPSILON / 2 * Math.max(this.m, this.n) * this.s[0];
          }
          get leftSingularVectors() {
            return this.U;
          }
          get rightSingularVectors() {
            return this.V;
          }
          get diagonalMatrix() {
            return rr.diag(this.s);
          }
        }
        const ur = function() {
          function t3(t4) {
            this.distances = t4.distances, this.dimension = t4.dimension || 2, this.linkDistance = t4.linkDistance;
          }
          return t3.prototype.layout = function() {
            var t4 = this, e3 = t4.dimension, n2 = t4.distances, r2 = t4.linkDistance;
            try {
              var i = rr.mul(rr.pow(n2, 2), -0.5), o2 = i.mean("row"), a2 = i.mean("column"), u2 = i.mean();
              i.add(u2).subRowVector(o2).subColumnVector(a2);
              var s2 = new ar(i), c2 = rr.sqrt(s2.diagonalMatrix).diagonal();
              return s2.leftSingularVectors.toJSON().map(function(t5) {
                return rr.mul([t5], [c2]).toJSON()[0].splice(0, e3);
              });
            } catch (t5) {
              for (var f2 = [], l2 = 0; l2 < n2.length; l2++) {
                var h2 = Math.random() * r2, d2 = Math.random() * r2;
                f2.push([h2, d2]);
              }
              return f2;
            }
          }, t3;
        }(), sr = function() {
          function t3(t4) {
            this.disp = [], this.positions = t4.positions, this.adjMatrix = t4.adjMatrix, this.focusID = t4.focusID, this.radii = t4.radii, this.iterations = t4.iterations || 10, this.height = t4.height || 10, this.width = t4.width || 10, this.speed = t4.speed || 100, this.gravity = t4.gravity || 10, this.nodeSizeFunc = t4.nodeSizeFunc, this.k = t4.k || 5, this.strictRadial = t4.strictRadial, this.nodes = t4.nodes;
          }
          return t3.prototype.layout = function() {
            var t4 = this, e3 = t4.positions, n2 = [], r2 = t4.iterations, i = t4.width / 10;
            t4.maxDisplace = i, t4.disp = n2;
            for (var o2 = 0; o2 < r2; o2++)
              e3.forEach(function(t5, e4) {
                n2[e4] = { x: 0, y: 0 };
              }), t4.getRepulsion(), t4.updatePositions();
            return e3;
          }, t3.prototype.getRepulsion = function() {
            var t4 = this, e3 = t4.positions, n2 = t4.nodes, r2 = t4.disp, i = t4.k, o2 = t4.radii || [];
            e3.forEach(function(a2, u2) {
              r2[u2] = { x: 0, y: 0 }, e3.forEach(function(e4, s2) {
                if (u2 !== s2 && o2[u2] === o2[s2]) {
                  var c2 = a2[0] - e4[0], f2 = a2[1] - e4[1], l2 = Math.sqrt(c2 * c2 + f2 * f2);
                  if (l2 === 0) {
                    l2 = 1;
                    var h2 = u2 > s2 ? 1 : -1;
                    c2 = 0.01 * h2, f2 = 0.01 * h2;
                  }
                  if (l2 < t4.nodeSizeFunc(n2[u2]) / 2 + t4.nodeSizeFunc(n2[s2]) / 2) {
                    var d2 = i * i / l2;
                    r2[u2].x += c2 / l2 * d2, r2[u2].y += f2 / l2 * d2;
                  }
                }
              });
            });
          }, t3.prototype.updatePositions = function() {
            var t4 = this, e3 = t4.positions, n2 = t4.disp, r2 = t4.speed, i = t4.strictRadial, o2 = t4.focusID, a2 = t4.maxDisplace || t4.width / 10;
            i && n2.forEach(function(t5, n3) {
              var r3 = e3[n3][0] - e3[o2][0], i2 = e3[n3][1] - e3[o2][1], a3 = Math.sqrt(r3 * r3 + i2 * i2), u3 = i2 / a3, s2 = -r3 / a3, c2 = Math.sqrt(t5.x * t5.x + t5.y * t5.y), f2 = Math.acos((u3 * t5.x + s2 * t5.y) / c2);
              f2 > Math.PI / 2 && (f2 -= Math.PI / 2, u3 *= -1, s2 *= -1);
              var l2 = Math.cos(f2) * c2;
              t5.x = u3 * l2, t5.y = s2 * l2;
            });
            var u2 = t4.radii;
            e3.forEach(function(t5, s2) {
              if (s2 !== o2) {
                var c2 = Math.sqrt(n2[s2].x * n2[s2].x + n2[s2].y * n2[s2].y);
                if (c2 > 0 && s2 !== o2) {
                  var f2 = Math.min(a2 * (r2 / 800), c2);
                  if (t5[0] += n2[s2].x / c2 * f2, t5[1] += n2[s2].y / c2 * f2, i) {
                    var l2 = t5[0] - e3[o2][0], h2 = t5[1] - e3[o2][1], d2 = Math.sqrt(l2 * l2 + h2 * h2);
                    l2 = l2 / d2 * u2[s2], h2 = h2 / d2 * u2[s2], t5[0] = e3[o2][0] + l2, t5[1] = e3[o2][1] + h2;
                  }
                }
              }
            });
          }, t3;
        }();
        var cr = function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4)
                Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if (typeof n2 != "function" && n2 !== null)
              throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function r2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = n2 === null ? Object.create(n2) : (r2.prototype = n2.prototype, new r2());
          };
        }();
        function fr(t3, e3) {
          return Math.sqrt((t3[0] - e3[0]) * (t3[0] - e3[0]) + (t3[1] - e3[1]) * (t3[1] - e3[1]));
        }
        var lr = function(t3) {
          function n2(e3) {
            var n3 = t3.call(this) || this;
            return n3.maxIteration = 1e3, n3.focusNode = null, n3.unitRadius = null, n3.linkDistance = 50, n3.preventOverlap = false, n3.strictRadial = true, n3.maxPreventOverlapIteration = 200, n3.sortStrength = 10, n3.nodes = [], n3.edges = [], n3.updateCfg(e3), n3;
          }
          return cr(n2, t3), n2.prototype.getDefaultCfg = function() {
            return { maxIteration: 1e3, focusNode: null, unitRadius: null, linkDistance: 50, preventOverlap: false, nodeSize: void 0, nodeSpacing: void 0, strictRadial: true, maxPreventOverlapIteration: 200, sortBy: void 0, sortStrength: 10 };
          }, n2.prototype.execute = function() {
            var t4 = this, n3 = t4.nodes, r2 = t4.edges || [];
            if (n3 && n3.length !== 0) {
              t4.width || typeof window == "undefined" || (t4.width = window.innerWidth), t4.height || typeof window == "undefined" || (t4.height = window.innerHeight), t4.center || (t4.center = [t4.width / 2, t4.height / 2]);
              var i = t4.center;
              if (n3.length === 1)
                return n3[0].x = i[0], n3[0].y = i[1], void (t4.onLayoutEnd && t4.onLayoutEnd());
              var s2 = t4.linkDistance, c2 = null;
              if (e2(t4.focusNode)) {
                for (var f2 = false, h2 = 0; h2 < n3.length; h2++)
                  n3[h2].id === t4.focusNode && (c2 = n3[h2], t4.focusNode = c2, f2 = true, h2 = n3.length);
                f2 || (c2 = null);
              } else
                c2 = t4.focusNode;
              c2 || (c2 = n3[0], t4.focusNode = c2);
              var d2 = function(t5, e3) {
                var n4 = -1;
                return t5.forEach(function(t6, r3) {
                  t6.id === e3 && (n4 = r3);
                }), n4;
              }(n3, c2.id);
              t4.focusIndex = d2;
              var p2 = g({ nodes: n3, edges: r2 }, false), y2 = v(p2), m2 = t4.maxToFocus(y2, d2);
              t4.handleInfinity(y2, d2, m2 + 1), t4.distances = y2;
              var _2 = y2[d2], x2 = t4.width || 500, w2 = t4.height || 500, E2 = x2 - i[0] > i[0] ? i[0] : x2 - i[0], S2 = w2 - i[1] > i[1] ? i[1] : w2 - i[1];
              E2 === 0 && (E2 = x2 / 2), S2 === 0 && (S2 = w2 / 2);
              var A2 = S2 > E2 ? E2 : S2, T2 = Math.max.apply(Math, _2), I2 = [];
              _2.forEach(function(e3, n4) {
                t4.unitRadius || (t4.unitRadius = A2 / T2), I2[n4] = e3 * t4.unitRadius;
              }), t4.radii = I2;
              var C2 = t4.eIdealDisMatrix();
              t4.eIdealDistances = C2;
              var D2 = function(t5) {
                for (var e3 = t5.length, n4 = t5[0].length, r3 = [], i2 = 0; i2 < e3; i2++) {
                  for (var o2 = [], a2 = 0; a2 < n4; a2++)
                    t5[i2][a2] !== 0 ? o2.push(1 / (t5[i2][a2] * t5[i2][a2])) : o2.push(0);
                  r3.push(o2);
                }
                return r3;
              }(C2);
              t4.weights = D2;
              var N2 = new ur({ linkDistance: s2, distances: C2 }).layout();
              N2.forEach(function(t5) {
                u(t5[0]) && (t5[0] = Math.random() * s2), u(t5[1]) && (t5[1] = Math.random() * s2);
              }), t4.positions = N2, N2.forEach(function(t5, e3) {
                n3[e3].x = t5[0] + i[0], n3[e3].y = t5[1] + i[1];
              }), N2.forEach(function(t5) {
                t5[0] -= N2[d2][0], t5[1] -= N2[d2][1];
              }), t4.run();
              var k2, R2 = t4.preventOverlap, O2 = t4.nodeSize, M2 = t4.strictRadial;
              if (R2) {
                var P2, G2 = t4.nodeSpacing;
                P2 = a(G2) ? function() {
                  return G2;
                } : b(G2) ? G2 : function() {
                  return 0;
                }, k2 = O2 ? o(O2) ? function(t5) {
                  return (O2[0] > O2[1] ? O2[0] : O2[1]) + P2(t5);
                } : function(t5) {
                  return O2 + P2(t5);
                } : function(t5) {
                  return t5.size ? o(t5.size) ? (t5.size[0] > t5.size[1] ? t5.size[0] : t5.size[1]) + P2(t5) : l(t5.size) ? (t5.size.width > t5.size.height ? t5.size.width : t5.size.height) + P2(t5) : t5.size + P2(t5) : 10 + P2(t5);
                };
                var L2 = { nodes: n3, nodeSizeFunc: k2, adjMatrix: p2, positions: N2, radii: I2, height: w2, width: x2, strictRadial: M2, focusID: d2, iterations: t4.maxPreventOverlapIteration || 200, k: N2.length / 4.5 }, U2 = new sr(L2);
                N2 = U2.layout();
              }
              return N2.forEach(function(t5, e3) {
                n3[e3].x = t5[0] + i[0], n3[e3].y = t5[1] + i[1];
              }), t4.onLayoutEnd && t4.onLayoutEnd(), { nodes: n3, edges: r2 };
            }
            t4.onLayoutEnd && t4.onLayoutEnd();
          }, n2.prototype.run = function() {
            for (var t4 = this, e3 = t4.maxIteration, n3 = t4.positions || [], r2 = t4.weights || [], i = t4.eIdealDistances || [], o2 = t4.radii || [], a2 = 0; a2 <= e3; a2++) {
              var u2 = a2 / e3;
              t4.oneIteration(u2, n3, o2, i, r2);
            }
          }, n2.prototype.oneIteration = function(t4, e3, n3, r2, i) {
            var o2 = 1 - t4, a2 = this.focusIndex;
            e3.forEach(function(u2, s2) {
              var c2 = fr(u2, [0, 0]), f2 = c2 === 0 ? 0 : 1 / c2;
              if (s2 !== a2) {
                var l2 = 0, h2 = 0, d2 = 0;
                e3.forEach(function(t5, e4) {
                  if (s2 !== e4) {
                    var n4 = fr(u2, t5), o3 = n4 === 0 ? 0 : 1 / n4, a3 = r2[e4][s2];
                    d2 += i[s2][e4], l2 += i[s2][e4] * (t5[0] + a3 * (u2[0] - t5[0]) * o3), h2 += i[s2][e4] * (t5[1] + a3 * (u2[1] - t5[1]) * o3);
                  }
                });
                var p2 = n3[s2] === 0 ? 0 : 1 / n3[s2];
                d2 *= o2, d2 += t4 * p2 * p2, l2 *= o2, l2 += t4 * p2 * u2[0] * f2, u2[0] = l2 / d2, h2 *= o2, h2 += t4 * p2 * u2[1] * f2, u2[1] = h2 / d2;
              }
            });
          }, n2.prototype.eIdealDisMatrix = function() {
            var t4 = this, n3 = t4.nodes;
            if (!n3)
              return [];
            var r2 = t4.distances, i = t4.linkDistance, o2 = t4.radii || [], a2 = t4.unitRadius || 50, u2 = [];
            return r2 && r2.forEach(function(r3, s2) {
              var c2 = [];
              r3.forEach(function(r4, u3) {
                if (s2 === u3)
                  c2.push(0);
                else if (o2[s2] === o2[u3])
                  if (t4.sortBy === "data")
                    c2.push(r4 * (Math.abs(s2 - u3) * t4.sortStrength) / (o2[s2] / a2));
                  else if (t4.sortBy) {
                    var f2 = n3[s2][t4.sortBy] || 0, l2 = n3[u3][t4.sortBy] || 0;
                    e2(f2) && (f2 = f2.charCodeAt(0)), e2(l2) && (l2 = l2.charCodeAt(0)), c2.push(r4 * (Math.abs(f2 - l2) * t4.sortStrength) / (o2[s2] / a2));
                  } else
                    c2.push(r4 * i / (o2[s2] / a2));
                else {
                  var h2 = (i + a2) / 2;
                  c2.push(r4 * h2);
                }
              }), u2.push(c2);
            }), u2;
          }, n2.prototype.handleInfinity = function(t4, e3, n3) {
            for (var r2 = t4.length, i = 0; i < r2; i++)
              if (t4[e3][i] === 1 / 0) {
                t4[e3][i] = n3, t4[i][e3] = n3;
                for (var o2 = 0; o2 < r2; o2++)
                  t4[i][o2] !== 1 / 0 && t4[e3][o2] === 1 / 0 && (t4[e3][o2] = n3 + t4[i][o2], t4[o2][e3] = n3 + t4[i][o2]);
              }
            for (i = 0; i < r2; i++)
              if (i !== e3) {
                for (o2 = 0; o2 < r2; o2++)
                  if (t4[i][o2] === 1 / 0) {
                    var a2 = Math.abs(t4[e3][i] - t4[e3][o2]);
                    a2 = a2 === 0 ? 1 : a2, t4[i][o2] = a2;
                  }
              }
          }, n2.prototype.maxToFocus = function(t4, e3) {
            for (var n3 = 0, r2 = 0; r2 < t4[e3].length; r2++)
              t4[e3][r2] !== 1 / 0 && (n3 = t4[e3][r2] > n3 ? t4[e3][r2] : n3);
            return n3;
          }, n2.prototype.getType = function() {
            return "radial";
          }, n2;
        }(t2), hr = function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4)
                Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if (typeof n2 != "function" && n2 !== null)
              throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function r2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = n2 === null ? Object.create(n2) : (r2.prototype = n2.prototype, new r2());
          };
        }(), dr = function(t3) {
          function n2(e3) {
            var n3 = t3.call(this) || this;
            return n3.nodeSize = 30, n3.minNodeSpacing = 10, n3.preventOverlap = false, n3.equidistant = false, n3.startAngle = 1.5 * Math.PI, n3.clockwise = true, n3.sortBy = "degree", n3.nodes = [], n3.edges = [], n3.width = 300, n3.height = 300, n3.onLayoutEnd = function() {
            }, n3.updateCfg(e3), n3;
          }
          return hr(n2, t3), n2.prototype.getDefaultCfg = function() {
            return { nodeSize: 30, minNodeSpacing: 10, preventOverlap: false, sweep: void 0, equidistant: false, startAngle: 1.5 * Math.PI, clockwise: true, maxLevelDiff: void 0, sortBy: "degree" };
          }, n2.prototype.execute = function() {
            var t4 = this, n3 = t4.nodes, r2 = t4.edges, i = n3.length;
            if (i !== 0) {
              t4.width || typeof window == "undefined" || (t4.width = window.innerWidth), t4.height || typeof window == "undefined" || (t4.height = window.innerHeight), t4.center || (t4.center = [t4.width / 2, t4.height / 2]);
              var u2 = t4.center;
              if (i === 1)
                return n3[0].x = u2[0], n3[0].y = u2[1], void (t4.onLayoutEnd && t4.onLayoutEnd());
              var s2, c2 = [];
              s2 = o(t4.nodeSize) ? Math.max(t4.nodeSize[0], t4.nodeSize[1]) : t4.nodeSize, n3.forEach(function(t5) {
                c2.push(t5);
                var e3 = s2;
                o(t5.size) ? e3 = Math.max(t5.size[0], t5.size[1]) : a(t5.size) ? e3 = t5.size : l(t5.size) && (e3 = Math.max(t5.size.width, t5.size.height)), s2 = Math.max(s2, e3);
              }), t4.clockwise = t4.counterclockwise !== void 0 ? !t4.counterclockwise : t4.clockwise;
              var f2 = {}, h2 = {};
              if (c2.forEach(function(t5, e3) {
                f2[t5.id] = t5, h2[t5.id] = e3;
              }), !(t4.sortBy !== "degree" && e2(t4.sortBy) && c2[0][t4.sortBy] !== void 0 || (t4.sortBy = "degree", a(n3[0].degree)))) {
                var d2 = p(n3.length, h2, r2);
                c2.forEach(function(t5, e3) {
                  t5.degree = d2[e3];
                });
              }
              c2.sort(function(e3, n4) {
                return n4[t4.sortBy] - e3[t4.sortBy];
              }), t4.maxValueNode = c2[0], t4.maxLevelDiff = t4.maxLevelDiff || t4.maxValueNode[t4.sortBy] / 4;
              var v2 = [[]], g2 = v2[0];
              c2.forEach(function(e3) {
                if (g2.length > 0) {
                  var n4 = Math.abs(g2[0][t4.sortBy] - e3[t4.sortBy]);
                  t4.maxLevelDiff && n4 >= t4.maxLevelDiff && (g2 = [], v2.push(g2));
                }
                g2.push(e3);
              });
              var y2 = s2 + t4.minNodeSpacing;
              if (!t4.preventOverlap) {
                var m2 = v2.length > 0 && v2[0].length > 1, b2 = (Math.min(t4.width, t4.height) / 2 - y2) / (v2.length + (m2 ? 1 : 0));
                y2 = Math.min(y2, b2);
              }
              var _2 = 0;
              if (v2.forEach(function(e3) {
                var n4 = t4.sweep;
                n4 === void 0 && (n4 = 2 * Math.PI - 2 * Math.PI / e3.length);
                var r3 = e3.dTheta = n4 / Math.max(1, e3.length - 1);
                if (e3.length > 1 && t4.preventOverlap) {
                  var i2 = Math.cos(r3) - Math.cos(0), o2 = Math.sin(r3) - Math.sin(0), a2 = Math.sqrt(y2 * y2 / (i2 * i2 + o2 * o2));
                  _2 = Math.max(a2, _2);
                }
                e3.r = _2, _2 += y2;
              }), t4.equidistant) {
                for (var x2 = 0, w2 = 0, E2 = 0; E2 < v2.length; E2++) {
                  var S2 = v2[E2].r - w2;
                  x2 = Math.max(x2, S2);
                }
                w2 = 0, v2.forEach(function(t5, e3) {
                  e3 === 0 && (w2 = t5.r), t5.r = w2, w2 += x2;
                });
              }
              return v2.forEach(function(e3) {
                var n4 = e3.dTheta, r3 = e3.r;
                e3.forEach(function(e4, i2) {
                  var o2 = t4.startAngle + (t4.clockwise ? 1 : -1) * n4 * i2;
                  e4.x = u2[0] + r3 * Math.cos(o2), e4.y = u2[1] + r3 * Math.sin(o2);
                });
              }), t4.onLayoutEnd && t4.onLayoutEnd(), { nodes: n3, edges: r2 };
            }
            t4.onLayoutEnd && t4.onLayoutEnd();
          }, n2.prototype.getType = function() {
            return "concentric";
          }, n2;
        }(t2), pr = function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4)
                Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if (typeof n2 != "function" && n2 !== null)
              throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function r2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = n2 === null ? Object.create(n2) : (r2.prototype = n2.prototype, new r2());
          };
        }(), vr = function(t3) {
          function e3(e4) {
            var n2 = t3.call(this) || this;
            return n2.center = [0, 0], n2.linkDistance = 50, n2.nodes = [], n2.edges = [], n2.onLayoutEnd = function() {
            }, n2.updateCfg(e4), n2;
          }
          return pr(e3, t3), e3.prototype.getDefaultCfg = function() {
            return { center: [0, 0], linkDistance: 50 };
          }, e3.prototype.execute = function() {
            var t4 = this, e4 = t4.nodes, n2 = t4.edges, r2 = n2 === void 0 ? [] : n2, i = t4.center;
            if (e4 && e4.length !== 0) {
              if (e4.length === 1)
                return e4[0].x = i[0], e4[0].y = i[1], void (t4.onLayoutEnd && t4.onLayoutEnd());
              var o2 = t4.linkDistance, a2 = g({ nodes: e4, edges: r2 }, false), u2 = v(a2);
              t4.handleInfinity(u2);
              var s2, c2, f2 = (s2 = o2, c2 = [], u2.forEach(function(t5) {
                var e5 = [];
                t5.forEach(function(t6) {
                  e5.push(t6 * s2);
                }), c2.push(e5);
              }), c2);
              t4.scaledDistances = f2;
              var l2 = t4.runMDS();
              return t4.positions = l2, l2.forEach(function(t5, n3) {
                e4[n3].x = t5[0] + i[0], e4[n3].y = t5[1] + i[1];
              }), t4.onLayoutEnd && t4.onLayoutEnd(), { nodes: e4, edges: r2 };
            }
            t4.onLayoutEnd && t4.onLayoutEnd();
          }, e3.prototype.runMDS = function() {
            var t4 = this.scaledDistances, e4 = rr.mul(rr.pow(t4, 2), -0.5), n2 = e4.mean("row"), r2 = e4.mean("column"), i = e4.mean();
            e4.add(i).subRowVector(n2).subColumnVector(r2);
            var o2 = new ar(e4), a2 = rr.sqrt(o2.diagonalMatrix).diagonal();
            return o2.leftSingularVectors.toJSON().map(function(t5) {
              return rr.mul([t5], [a2]).toJSON()[0].splice(0, 2);
            });
          }, e3.prototype.handleInfinity = function(t4) {
            var e4 = -999999;
            t4.forEach(function(t5) {
              t5.forEach(function(t6) {
                t6 !== 1 / 0 && e4 < t6 && (e4 = t6);
              });
            }), t4.forEach(function(n2, r2) {
              n2.forEach(function(n3, i) {
                n3 === 1 / 0 && (t4[r2][i] = e4);
              });
            });
          }, e3.prototype.getType = function() {
            return "mds";
          }, e3;
        }(t2), gr = function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4)
                Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if (typeof n2 != "function" && n2 !== null)
              throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function r2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = n2 === null ? Object.create(n2) : (r2.prototype = n2.prototype, new r2());
          };
        }(), yr = function(t3) {
          function e3(e4) {
            var n2 = t3.call(this) || this;
            return n2.maxIteration = 1e3, n2.workerEnabled = false, n2.gravity = 10, n2.speed = 5, n2.clustering = false, n2.clusterGravity = 10, n2.nodes = [], n2.edges = [], n2.width = 300, n2.height = 300, n2.nodeMap = {}, n2.nodeIdxMap = {}, n2.onLayoutEnd = function() {
            }, n2.tick = function() {
            }, n2.updateCfg(e4), n2;
          }
          return gr(e3, t3), e3.prototype.getDefaultCfg = function() {
            return { maxIteration: 1e3, gravity: 10, speed: 1, clustering: false, clusterGravity: 10 };
          }, e3.prototype.execute = function() {
            var t4, e4, n2 = this, r2 = this, i = r2.nodes;
            if (r2.timeInterval !== void 0 && typeof window != "undefined" && window.clearInterval(r2.timeInterval), i && i.length !== 0) {
              r2.width || typeof window == "undefined" || (r2.width = window.innerWidth), r2.height || typeof window == "undefined" || (r2.height = window.innerHeight), r2.center || (r2.center = [r2.width / 2, r2.height / 2]);
              var o2 = r2.center;
              if (i.length === 1)
                return i[0].x = o2[0], i[0].y = o2[1], void ((e4 = r2.onLayoutEnd) === null || e4 === void 0 || e4.call(r2));
              var u2 = {}, s2 = {};
              return i.forEach(function(t5, e5) {
                a(t5.x) || (t5.x = Math.random() * n2.width), a(t5.y) || (t5.y = Math.random() * n2.height), u2[t5.id] = t5, s2[t5.id] = e5;
              }), r2.nodeMap = u2, r2.nodeIdxMap = s2, r2.run();
            }
            (t4 = r2.onLayoutEnd) === null || t4 === void 0 || t4.call(r2);
          }, e3.prototype.run = function() {
            var t4, e4 = this, n2 = e4.nodes;
            if (n2) {
              var r2 = e4.edges, i = e4.maxIteration, o2 = e4.workerEnabled, a2 = e4.clustering, u2 = {};
              if (a2 && n2.forEach(function(t5) {
                u2[t5.cluster] === void 0 && (u2[t5.cluster] = { name: t5.cluster, cx: 0, cy: 0, count: 0 });
              }), o2) {
                for (var s2 = 0; s2 < i; s2++)
                  e4.runOneStep(u2);
                (t4 = e4.onLayoutEnd) === null || t4 === void 0 || t4.call(e4);
              } else {
                if (typeof window == "undefined")
                  return;
                var c2 = 0;
                this.timeInterval = window.setInterval(function() {
                  var t5;
                  e4.runOneStep(u2), ++c2 >= i && ((t5 = e4.onLayoutEnd) === null || t5 === void 0 || t5.call(e4), window.clearInterval(e4.timeInterval));
                }, 0);
              }
              return { nodes: n2, edges: r2 };
            }
          }, e3.prototype.runOneStep = function(t4) {
            var e4, n2 = this, r2 = n2.nodes;
            if (r2) {
              var i = n2.edges, o2 = n2.center, u2 = n2.gravity, s2 = n2.speed, c2 = n2.clustering, f2 = n2.height * n2.width, l2 = Math.sqrt(f2) / 10, h2 = f2 / (r2.length + 1), d2 = Math.sqrt(h2), p2 = [];
              if (r2.forEach(function(t5, e5) {
                p2[e5] = { x: 0, y: 0 };
              }), n2.applyCalculate(r2, i, p2, d2, h2), c2) {
                for (var v2 in t4)
                  t4[v2].cx = 0, t4[v2].cy = 0, t4[v2].count = 0;
                for (var v2 in r2.forEach(function(e5) {
                  var n3 = t4[e5.cluster];
                  a(e5.x) && (n3.cx += e5.x), a(e5.y) && (n3.cy += e5.y), n3.count++;
                }), t4)
                  t4[v2].cx /= t4[v2].count, t4[v2].cy /= t4[v2].count;
                var g2 = n2.clusterGravity || u2;
                r2.forEach(function(e5, n3) {
                  if (a(e5.x) && a(e5.y)) {
                    var r3 = t4[e5.cluster], i2 = Math.sqrt((e5.x - r3.cx) * (e5.x - r3.cx) + (e5.y - r3.cy) * (e5.y - r3.cy)), o3 = d2 * g2;
                    p2[n3].x -= o3 * (e5.x - r3.cx) / i2, p2[n3].y -= o3 * (e5.y - r3.cy) / i2;
                  }
                });
              }
              r2.forEach(function(t5, e5) {
                if (a(t5.x) && a(t5.y)) {
                  var n3 = 0.01 * d2 * u2;
                  p2[e5].x -= n3 * (t5.x - o2[0]), p2[e5].y -= n3 * (t5.y - o2[1]);
                }
              }), r2.forEach(function(t5, e5) {
                if (a(t5.fx) && a(t5.fy))
                  return t5.x = t5.fx, void (t5.y = t5.fy);
                if (a(t5.x) && a(t5.y)) {
                  var n3 = Math.sqrt(p2[e5].x * p2[e5].x + p2[e5].y * p2[e5].y);
                  if (n3 > 0) {
                    var r3 = Math.min(l2 * (s2 / 800), n3);
                    t5.x += p2[e5].x / n3 * r3, t5.y += p2[e5].y / n3 * r3;
                  }
                }
              }), (e4 = n2.tick) === null || e4 === void 0 || e4.call(n2);
            }
          }, e3.prototype.applyCalculate = function(t4, e4, n2, r2, i) {
            this.calRepulsive(t4, n2, i), e4 && this.calAttractive(e4, n2, r2);
          }, e3.prototype.calRepulsive = function(t4, e4, n2) {
            t4.forEach(function(r2, i) {
              e4[i] = { x: 0, y: 0 }, t4.forEach(function(t5, o2) {
                if (i !== o2 && a(r2.x) && a(t5.x) && a(r2.y) && a(t5.y)) {
                  var u2 = r2.x - t5.x, s2 = r2.y - t5.y, c2 = u2 * u2 + s2 * s2;
                  if (c2 === 0) {
                    c2 = 1;
                    var f2 = i > o2 ? 1 : -1;
                    u2 = 0.01 * f2, s2 = 0.01 * f2;
                  }
                  var l2 = n2 / c2;
                  e4[i].x += u2 * l2, e4[i].y += s2 * l2;
                }
              });
            });
          }, e3.prototype.calAttractive = function(t4, e4, n2) {
            var r2 = this;
            t4.forEach(function(t5) {
              var i = d(t5, "source"), o2 = d(t5, "target");
              if (i && o2) {
                var u2 = r2.nodeIdxMap[i], s2 = r2.nodeIdxMap[o2];
                if (u2 !== s2) {
                  var c2 = r2.nodeMap[i], f2 = r2.nodeMap[o2];
                  if (a(f2.x) && a(c2.x) && a(f2.y) && a(c2.y)) {
                    var l2 = f2.x - c2.x, h2 = f2.y - c2.y, p2 = Math.sqrt(l2 * l2 + h2 * h2), v2 = p2 * p2 / n2;
                    e4[s2].x -= l2 / p2 * v2, e4[s2].y -= h2 / p2 * v2, e4[u2].x += l2 / p2 * v2, e4[u2].y += h2 / p2 * v2;
                  }
                }
              }
            });
          }, e3.prototype.stop = function() {
            this.timeInterval && typeof window != "undefined" && window.clearInterval(this.timeInterval);
          }, e3.prototype.destroy = function() {
            var t4 = this;
            t4.stop(), t4.tick = null, t4.nodes = null, t4.edges = null, t4.destroyed = true;
          }, e3.prototype.getType = function() {
            return "fruchterman";
          }, e3;
        }(t2);
        function mr(t3, e3, n2, r2) {
          n2 && Object.defineProperty(t3, e3, { enumerable: n2.enumerable, configurable: n2.configurable, writable: n2.writable, value: n2.initializer ? n2.initializer.call(r2) : void 0 });
        }
        function br(t3, e3) {
          if (!(t3 instanceof e3))
            throw new TypeError("Cannot call a class as a function");
        }
        function _r(t3, e3) {
          for (var n2 = 0; n2 < e3.length; n2++) {
            var r2 = e3[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(t3, r2.key, r2);
          }
        }
        function xr(t3, e3, n2) {
          return e3 && _r(t3.prototype, e3), n2 && _r(t3, n2), t3;
        }
        function wr(t3, e3, n2, r2, i) {
          var o2 = {};
          return Object.keys(r2).forEach(function(t4) {
            o2[t4] = r2[t4];
          }), o2.enumerable = !!o2.enumerable, o2.configurable = !!o2.configurable, ("value" in o2 || o2.initializer) && (o2.writable = true), o2 = n2.slice().reverse().reduce(function(n3, r3) {
            return r3(t3, e3, n3) || n3;
          }, o2), i && o2.initializer !== void 0 && (o2.value = o2.initializer ? o2.initializer.call(i) : void 0, o2.initializer = void 0), o2.initializer === void 0 && (Object.defineProperty(t3, e3, o2), o2 = null), o2;
        }
        n(8892);
        var Er = n(122), Sr = n.n(Er);
        function Ar(t3, e3, n2, r2, i, o2, a2) {
          try {
            var u2 = t3[o2](a2), s2 = u2.value;
          } catch (t4) {
            return void n2(t4);
          }
          u2.done ? e3(s2) : Promise.resolve(s2).then(r2, i);
        }
        function Tr(t3) {
          return function() {
            var e3 = this, n2 = arguments;
            return new Promise(function(r2, i) {
              var o2 = t3.apply(e3, n2);
              function a2(t4) {
                Ar(o2, r2, i, a2, u2, "next", t4);
              }
              function u2(t4) {
                Ar(o2, r2, i, a2, u2, "throw", t4);
              }
              a2(void 0);
            });
          };
        }
        var Ir = 1;
        function Cr() {
          return Ir++;
        }
        var Dr = function t3(e3) {
          br(this, t3);
        }, Nr = function() {
          function t3(e4) {
            br(this, t3), this.clazz = void 0, this.components = [], this.entities = [], this.lookup = {}, this.clazz = e4;
          }
          var e3;
          return xr(t3, [{ key: "clear", value: function() {
            this.components = [], this.entities = [], this.lookup = {};
          } }, { key: "contains", value: function(t4) {
            return this.lookup[t4] > -1;
          } }, { key: "create", value: function(t4, e4) {
            this.lookup[t4] = this.components.length;
            var n2 = new this.clazz(e4 || {});
            return this.components.push(n2), this.entities.push(t4), n2;
          } }, { key: "remove", value: function(t4) {
            var e4 = this.lookup[t4];
            e4 > -1 && e4 < this.components.length - 1 && (this.components[e4] = this.components[this.components.length - 1], this.entities[e4] = this.entities[this.entities.length - 1], this.lookup[this.entities[e4]] = e4), this.components.pop(), this.entities.pop(), delete this.lookup[t4];
          } }, { key: "removeKeepSorted", value: function(t4) {
            var e4 = this.lookup[t4];
            if (e4 > -1) {
              var n2 = this.entities[e4];
              if (e4 < this.components.length - 1) {
                for (var r2 = e4 + 1; r2 < this.components.length; ++r2)
                  this.components[r2 - 1] = this.components[r2];
                for (var i = e4 + 1; i < this.entities.length; ++i)
                  this.entities[i - 1] = this.entities[i], this.lookup[this.entities[i - 1]] = i - 1;
              }
              this.components.pop(), this.entities.pop(), delete this.lookup[n2];
            }
          } }, { key: "moveItem", value: function(t4, e4) {
            if (t4 !== e4) {
              for (var n2 = this.components[t4], r2 = this.entities[t4], i = t4 < e4 ? 1 : -1, o2 = t4; o2 !== e4; o2 += i) {
                var a2 = o2 + i;
                this.components[o2] = this.components[a2], this.entities[o2] = this.entities[a2], this.lookup[this.entities[o2]] = o2;
              }
              this.components[e4] = n2, this.entities[e4] = r2, this.lookup[r2] = e4;
            }
          } }, { key: "getEntity", value: function(t4) {
            return this.entities[t4];
          } }, { key: "getComponent", value: function(t4) {
            return this.components[t4];
          } }, { key: "getComponentByEntity", value: function(t4) {
            var e4 = this.lookup[t4];
            return e4 > -1 ? this.components[e4] : null;
          } }, { key: "getCount", value: function() {
            return this.components.length;
          } }, { key: "getEntityByComponentIndex", value: function(t4) {
            for (var e4 = 0, n2 = Object.keys(this.lookup); e4 < n2.length; e4++) {
              var r2 = n2[e4], i = Number(r2);
              if (this.lookup[i] === t4)
                return i;
            }
            return -1;
          } }, { key: "find", value: function(t4) {
            for (var e4 = 0; e4 < this.getCount(); e4++) {
              var n2 = this.getComponent(e4);
              if (t4(n2, e4))
                return n2;
            }
            return null;
          } }, { key: "findIndex", value: function(t4) {
            for (var e4 = 0; e4 < this.getCount(); e4++)
              if (t4(this.getComponent(e4), e4))
                return e4;
            return -1;
          } }, { key: "forEach", value: function(t4) {
            for (var e4 = 0, n2 = Object.keys(this.lookup); e4 < n2.length; e4++) {
              var r2 = n2[e4], i = Number(r2), o2 = this.lookup[i];
              t4(i, this.getComponent(o2));
            }
          } }, { key: "forEachAsync", value: (e3 = Tr(Sr().mark(function t4(e4) {
            var n2, r2, i, o2, a2;
            return Sr().wrap(function(t5) {
              for (; ; )
                switch (t5.prev = t5.next) {
                  case 0:
                    n2 = 0, r2 = Object.keys(this.lookup);
                  case 1:
                    if (!(n2 < r2.length)) {
                      t5.next = 10;
                      break;
                    }
                    return i = r2[n2], o2 = Number(i), a2 = this.lookup[o2], t5.next = 7, e4(o2, this.getComponent(a2));
                  case 7:
                    n2++, t5.next = 1;
                    break;
                  case 10:
                  case "end":
                    return t5.stop();
                }
            }, t4, this);
          })), function(t4) {
            return e3.apply(this, arguments);
          }) }, { key: "map", value: function(t4) {
            for (var e4 = [], n2 = 0, r2 = Object.keys(this.lookup); n2 < r2.length; n2++) {
              var i = r2[n2], o2 = Number(i), a2 = this.lookup[o2];
              e4.push(t4(o2, this.getComponent(a2)));
            }
            return e4;
          } }]), t3;
        }();
        function kr(t3, e3) {
          (e3 == null || e3 > t3.length) && (e3 = t3.length);
          for (var n2 = 0, r2 = new Array(e3); n2 < e3; n2++)
            r2[n2] = t3[n2];
          return r2;
        }
        function Rr(t3, e3) {
          if (t3) {
            if (typeof t3 == "string")
              return kr(t3, e3);
            var n2 = Object.prototype.toString.call(t3).slice(8, -1);
            return n2 === "Object" && t3.constructor && (n2 = t3.constructor.name), n2 === "Map" || n2 === "Set" ? Array.from(t3) : n2 === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2) ? kr(t3, e3) : void 0;
          }
        }
        function Or(t3, e3) {
          return function(t4) {
            if (Array.isArray(t4))
              return t4;
          }(t3) || function(t4, e4) {
            var n2 = t4 == null ? null : typeof Symbol != "undefined" && t4[Symbol.iterator] || t4["@@iterator"];
            if (n2 != null) {
              var r2, i, o2 = [], a2 = true, u2 = false;
              try {
                for (n2 = n2.call(t4); !(a2 = (r2 = n2.next()).done) && (o2.push(r2.value), !e4 || o2.length !== e4); a2 = true)
                  ;
              } catch (t5) {
                u2 = true, i = t5;
              } finally {
                try {
                  a2 || n2.return == null || n2.return();
                } finally {
                  if (u2)
                    throw i;
                }
              }
              return o2;
            }
          }(t3, e3) || Rr(t3, e3) || function() {
            throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }();
        }
        var Mr = n(9311), Pr = { HierarchyComponentManager: Symbol("HierarchyComponentManager"), TransformComponentManager: Symbol("TransformComponentManager"), NameComponentManager: Symbol("NameComponentManager"), SceneGraphSystem: Symbol("SceneGraphSystem"), FrameGraphSystem: Symbol("FrameGraphSystem"), ResourcePool: Symbol("ResourcePool"), ResourceHandleComponentManager: Symbol("ResourceHandleComponentManager"), PassNodeComponentManager: Symbol("PassNodeComponentManager"), RendererSystem: Symbol("RendererSystem"), RenderPass: Symbol("RenderPass"), RenderPassFactory: Symbol("Factory<IRenderPass>"), Renderable: Symbol("Factory<IRenderPass>"), MeshSystem: Symbol("MeshSystem"), MeshComponentManager: Symbol("MeshComponentManager"), CullableComponentManager: Symbol("CullableComponentManager"), Geometry: Symbol("Geometry"), GeometrySystem: Symbol("GeometrySystem"), GeometryComponentManager: Symbol("GeometryComponentManager"), Material: Symbol("Material"), MaterialSystem: Symbol("MaterialSystem"), MaterialComponentManager: Symbol("MaterialComponentManager"), ForwardRenderPath: Symbol("ForwardRenderPath"), ComputeSystem: Symbol("ComputeSystem"), ComputeComponentManager: Symbol("ComputeComponentManager"), ComputeStrategy: Symbol("ComputeStrategy"), Systems: Symbol("Systems"), World: Symbol("World"), RenderEngine: Symbol("RenderEngine"), WebGPUEngine: Symbol("WebGPUEngine"), WebGLEngine: Symbol("WebGLEngine"), ShaderModuleService: Symbol("ShaderModuleService"), ConfigService: Symbol("ConfigService"), InteractorService: Symbol("InteractorService"), IEventEmitter: Symbol("IEventEmitter"), Light: Symbol("Light") }, Gr = function t3() {
          br(this, t3), this.index = void 0;
        }, Lr = function t3() {
          br(this, t3), this.name = void 0, this.data = void 0, this.execute = void 0, this.tearDown = void 0;
        }, Ur = function() {
          function t3() {
            br(this, t3), this.name = void 0, this.refCount = 0, this.hasSideEffect = false, this.devirtualize = [], this.destroy = [], this.reads = [], this.writes = [];
          }
          return xr(t3, [{ key: "read", value: function(t4) {
            return this.reads.find(function(e3) {
              return e3.index === t4.index;
            }) || this.reads.push(t4), t4;
          } }, { key: "sample", value: function(t4) {
            return this.read(t4), t4;
          } }, { key: "write", value: function(t4, e3) {
            if (this.writes.find(function(t5) {
              return t5.index === e3.index;
            }))
              return e3;
            var n2 = t4.getResourceNode(e3);
            n2.resource.version++, n2.resource.imported && (this.hasSideEffect = true);
            var r2 = t4.createResourceNode(n2.resource);
            return t4.getResourceNode(r2).writer = this, this.writes.push(r2), r2;
          } }]), t3;
        }();
        function Fr(t3, e3) {
          return Fr = Object.setPrototypeOf || function(t4, e4) {
            return t4.__proto__ = e4, t4;
          }, Fr(t3, e3);
        }
        function Br(t3, e3) {
          if (typeof e3 != "function" && e3 !== null)
            throw new TypeError("Super expression must either be null or a function");
          t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), e3 && Fr(t3, e3);
        }
        function zr(t3) {
          return zr = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(t4) {
            return typeof t4;
          } : function(t4) {
            return t4 && typeof Symbol == "function" && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
          }, zr(t3);
        }
        function jr(t3) {
          if (t3 === void 0)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
          return t3;
        }
        function Wr(t3, e3) {
          if (e3 && (zr(e3) === "object" || typeof e3 == "function"))
            return e3;
          if (e3 !== void 0)
            throw new TypeError("Derived constructors may only return object or undefined");
          return jr(t3);
        }
        function Vr(t3) {
          return Vr = Object.setPrototypeOf ? Object.getPrototypeOf : function(t4) {
            return t4.__proto__ || Object.getPrototypeOf(t4);
          }, Vr(t3);
        }
        var Xr, Hr, qr, Yr, Kr, Zr, $r = function(t3) {
          Br(i, function t4() {
            br(this, t4), this.first = void 0, this.last = void 0;
          });
          var e3, n2, r2 = (e3 = i, n2 = function() {
            if (typeof Reflect == "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy == "function")
              return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }(), function() {
            var t4, r3 = Vr(e3);
            if (n2) {
              var i2 = Vr(this).constructor;
              t4 = Reflect.construct(r3, arguments, i2);
            } else
              t4 = r3.apply(this, arguments);
            return Wr(this, t4);
          });
          function i() {
            var t4;
            br(this, i);
            for (var e4 = arguments.length, n3 = new Array(e4), o2 = 0; o2 < e4; o2++)
              n3[o2] = arguments[o2];
            return (t4 = r2.call.apply(r2, [this].concat(n3))).version = 0, t4.refs = 0, t4.name = void 0, t4.imported = void 0, t4.priority = void 0, t4.discardStart = true, t4.discardEnd = false, t4.descriptor = void 0, t4.resource = void 0, t4;
          }
          return xr(i, [{ key: "preExecuteDestroy", value: function() {
            this.discardEnd = true;
          } }, { key: "postExecuteDestroy", value: function() {
            this.imported;
          } }, { key: "postExecuteDevirtualize", value: function() {
            this.discardStart = false;
          } }, { key: "preExecuteDevirtualize", value: function() {
            this.imported;
          } }]), i;
        }(), Jr = function t3() {
          br(this, t3), this.resource = void 0, this.writer = void 0, this.readerCount = 0, this.version = void 0;
        };
        function Qr(t3, e3) {
          var n2;
          if (typeof Symbol == "undefined" || t3[Symbol.iterator] == null) {
            if (Array.isArray(t3) || (n2 = function(t4, e4) {
              if (t4) {
                if (typeof t4 == "string")
                  return ti(t4, e4);
                var n3 = Object.prototype.toString.call(t4).slice(8, -1);
                return n3 === "Object" && t4.constructor && (n3 = t4.constructor.name), n3 === "Map" || n3 === "Set" ? Array.from(t4) : n3 === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n3) ? ti(t4, e4) : void 0;
              }
            }(t3)) || e3 && t3 && typeof t3.length == "number") {
              n2 && (t3 = n2);
              var r2 = 0, i = function() {
              };
              return { s: i, n: function() {
                return r2 >= t3.length ? { done: true } : { done: false, value: t3[r2++] };
              }, e: function(t4) {
                throw t4;
              }, f: i };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var o2, a2 = true, u2 = false;
          return { s: function() {
            n2 = t3[Symbol.iterator]();
          }, n: function() {
            var t4 = n2.next();
            return a2 = t4.done, t4;
          }, e: function(t4) {
            u2 = true, o2 = t4;
          }, f: function() {
            try {
              a2 || n2.return == null || n2.return();
            } finally {
              if (u2)
                throw o2;
            }
          } };
        }
        function ti(t3, e3) {
          (e3 == null || e3 > t3.length) && (e3 = t3.length);
          for (var n2 = 0, r2 = new Array(e3); n2 < e3; n2++)
            r2[n2] = t3[n2];
          return r2;
        }
        var ei = (Xr = (0, Mr.b2)(), Hr = (0, Mr.f3)(Pr.RenderEngine), Xr((Zr = function() {
          function t3() {
            br(this, t3), this.passNodes = [], this.resourceNodes = [], this.frameGraphPasses = [], mr(this, "engine", Kr, this);
          }
          var e3, n2;
          return xr(t3, [{ key: "execute", value: (n2 = Tr(Sr().mark(function t4(e4) {
            return Sr().wrap(function(t5) {
              for (; ; )
                switch (t5.prev = t5.next) {
                  case 0:
                    return this.compile(), t5.next = 3, this.executePassNodes(e4);
                  case 3:
                  case "end":
                    return t5.stop();
                }
            }, t4, this);
          })), function(t4) {
            return n2.apply(this, arguments);
          }) }, { key: "tearDown", value: function() {
            this.frameGraphPasses.forEach(function(t4) {
              t4.tearDown && t4.tearDown();
            }), this.reset();
          } }, { key: "addPass", value: function(t4, e4, n3, r2) {
            var i = new Lr();
            i.execute = n3, r2 && (i.tearDown = r2), i.name = t4;
            var o2 = new Ur();
            return o2.name = t4, this.passNodes.push(o2), this.frameGraphPasses.push(i), e4(this, o2, i), i;
          } }, { key: "getPass", value: function(t4) {
            return this.frameGraphPasses.find(function(e4) {
              return e4.name === t4;
            });
          } }, { key: "compile", value: function() {
            var t4, e4 = this, n3 = Qr(this.passNodes);
            try {
              for (n3.s(); !(t4 = n3.n()).done; ) {
                var r2 = t4.value;
                r2.refCount = r2.writes.length + (r2.hasSideEffect ? 1 : 0), r2.reads.forEach(function(t5) {
                  e4.resourceNodes[t5.index].readerCount++;
                });
              }
            } catch (t5) {
              n3.e(t5);
            } finally {
              n3.f();
            }
            var i, o2 = [], a2 = Qr(this.resourceNodes);
            try {
              for (a2.s(); !(i = a2.n()).done; ) {
                var u2 = i.value;
                u2.readerCount === 0 && o2.push(u2);
              }
            } catch (t5) {
              a2.e(t5);
            } finally {
              a2.f();
            }
            for (; o2.length; ) {
              var s2 = o2.pop(), c2 = s2 && s2.writer;
              if (c2 && --c2.refCount == 0) {
                var f2, l2 = Qr(c2.reads);
                try {
                  for (l2.s(); !(f2 = l2.n()).done; ) {
                    var h2 = f2.value, d2 = this.resourceNodes[h2.index];
                    --d2.readerCount == 0 && o2.push(d2);
                  }
                } catch (t5) {
                  l2.e(t5);
                } finally {
                  l2.f();
                }
              }
            }
            this.resourceNodes.forEach(function(t5) {
              t5.resource.refs += t5.readerCount;
            });
            var p2, v2 = Qr(this.passNodes);
            try {
              for (v2.s(); !(p2 = v2.n()).done; ) {
                var g2 = p2.value;
                if (g2.refCount) {
                  var y2, m2 = Qr(g2.reads);
                  try {
                    for (m2.s(); !(y2 = m2.n()).done; ) {
                      var b2 = y2.value, _2 = this.resourceNodes[b2.index].resource;
                      _2.first = _2.first ? _2.first : g2, _2.last = g2;
                    }
                  } catch (t5) {
                    m2.e(t5);
                  } finally {
                    m2.f();
                  }
                  var x2, w2 = Qr(g2.writes);
                  try {
                    for (w2.s(); !(x2 = w2.n()).done; ) {
                      var E2 = x2.value, S2 = this.resourceNodes[E2.index].resource;
                      S2.first = S2.first ? S2.first : g2, S2.last = g2;
                    }
                  } catch (t5) {
                    w2.e(t5);
                  } finally {
                    w2.f();
                  }
                }
              }
            } catch (t5) {
              v2.e(t5);
            } finally {
              v2.f();
            }
            for (var A2 = 0; A2 < 2; A2++) {
              var T2, I2 = Qr(this.resourceNodes);
              try {
                for (I2.s(); !(T2 = I2.n()).done; ) {
                  var C2 = T2.value.resource;
                  if (C2.priority === A2 && C2.refs) {
                    var D2 = C2.first, N2 = C2.last;
                    D2 && N2 && (D2.devirtualize.push(C2), N2.destroy.push(C2));
                  }
                }
              } catch (t5) {
                I2.e(t5);
              } finally {
                I2.f();
              }
            }
          } }, { key: "executePassNodes", value: (e3 = Tr(Sr().mark(function t4(e4) {
            var n3, r2, i, o2, a2, u2, s2, c2, f2, l2, h2, d2, p2;
            return Sr().wrap(function(t5) {
              for (; ; )
                switch (t5.prev = t5.next) {
                  case 0:
                    n3 = Qr(this.passNodes.entries()), t5.prev = 1, n3.s();
                  case 3:
                    if ((r2 = n3.n()).done) {
                      t5.next = 18;
                      break;
                    }
                    if (i = Or(r2.value, 2), o2 = i[0], !(a2 = i[1]).refCount) {
                      t5.next = 16;
                      break;
                    }
                    u2 = Qr(a2.devirtualize);
                    try {
                      for (u2.s(); !(s2 = u2.n()).done; )
                        s2.value.preExecuteDevirtualize(this.engine);
                    } catch (t6) {
                      u2.e(t6);
                    } finally {
                      u2.f();
                    }
                    c2 = Qr(a2.destroy);
                    try {
                      for (c2.s(); !(f2 = c2.n()).done; )
                        f2.value.preExecuteDestroy(this.engine);
                    } catch (t6) {
                      c2.e(t6);
                    } finally {
                      c2.f();
                    }
                    return t5.next = 12, this.frameGraphPasses[o2].execute(this, this.frameGraphPasses[o2], e4);
                  case 12:
                    l2 = Qr(a2.devirtualize);
                    try {
                      for (l2.s(); !(h2 = l2.n()).done; )
                        h2.value.postExecuteDevirtualize(this.engine);
                    } catch (t6) {
                      l2.e(t6);
                    } finally {
                      l2.f();
                    }
                    d2 = Qr(a2.destroy);
                    try {
                      for (d2.s(); !(p2 = d2.n()).done; )
                        p2.value.postExecuteDestroy(this.engine);
                    } catch (t6) {
                      d2.e(t6);
                    } finally {
                      d2.f();
                    }
                  case 16:
                    t5.next = 3;
                    break;
                  case 18:
                    t5.next = 23;
                    break;
                  case 20:
                    t5.prev = 20, t5.t0 = t5.catch(1), n3.e(t5.t0);
                  case 23:
                    return t5.prev = 23, n3.f(), t5.finish(23);
                  case 26:
                    this.reset();
                  case 27:
                  case "end":
                    return t5.stop();
                }
            }, t4, this, [[1, 20, 23, 26]]);
          })), function(t4) {
            return e3.apply(this, arguments);
          }) }, { key: "reset", value: function() {
            this.passNodes = [], this.resourceNodes = [], this.frameGraphPasses = [];
          } }, { key: "getResourceNode", value: function(t4) {
            return this.resourceNodes[t4.index];
          } }, { key: "createResourceNode", value: function(t4) {
            var e4 = new Jr();
            e4.resource = t4, e4.version = t4.version, this.resourceNodes.push(e4);
            var n3 = new Gr();
            return n3.index = this.resourceNodes.length - 1, n3;
          } }, { key: "createTexture", value: function(t4, e4, n3) {
            var r2 = new $r();
            return r2.name = e4, r2.descriptor = n3, this.createResourceNode(r2);
          } }, { key: "createRenderTarget", value: function(t4, e4, n3) {
            var r2 = new $r();
            return r2.name = e4, r2.descriptor = n3, this.createResourceNode(r2);
          } }, { key: "present", value: function(t4) {
            this.addPass("Present", function(e4, n3) {
              n3.read(t4), n3.hasSideEffect = true;
            }, Tr(Sr().mark(function t5() {
              return Sr().wrap(function(t6) {
                for (; ; )
                  switch (t6.prev = t6.next) {
                    case 0:
                    case "end":
                      return t6.stop();
                  }
              }, t5);
            })));
          } }]), t3;
        }(), Kr = wr((Yr = Zr).prototype, "engine", [Hr], { configurable: true, enumerable: true, writable: true, initializer: null }), qr = Yr)) || qr);
        function ni(t3, e3, n2) {
          return e3 in t3 ? Object.defineProperty(t3, e3, { value: n2, enumerable: true, configurable: true, writable: true }) : t3[e3] = n2, t3;
        }
        var ri = 1e-6, ii = typeof Float32Array != "undefined" ? Float32Array : Array;
        function oi() {
          var t3 = new ii(4);
          return ii != Float32Array && (t3[0] = 0, t3[1] = 0, t3[2] = 0, t3[3] = 0), t3;
        }
        function ai(t3, e3, n2, r2) {
          var i = new ii(4);
          return i[0] = t3, i[1] = e3, i[2] = n2, i[3] = r2, i;
        }
        function ui(t3, e3, n2) {
          var r2 = e3[0], i = e3[1], o2 = e3[2], a2 = e3[3];
          return t3[0] = n2[0] * r2 + n2[4] * i + n2[8] * o2 + n2[12] * a2, t3[1] = n2[1] * r2 + n2[5] * i + n2[9] * o2 + n2[13] * a2, t3[2] = n2[2] * r2 + n2[6] * i + n2[10] * o2 + n2[14] * a2, t3[3] = n2[3] * r2 + n2[7] * i + n2[11] * o2 + n2[15] * a2, t3;
        }
        function si() {
          var t3 = new ii(9);
          return ii != Float32Array && (t3[1] = 0, t3[2] = 0, t3[3] = 0, t3[5] = 0, t3[6] = 0, t3[7] = 0), t3[0] = 1, t3[4] = 1, t3[8] = 1, t3;
        }
        function ci() {
          var t3 = new ii(3);
          return ii != Float32Array && (t3[0] = 0, t3[1] = 0, t3[2] = 0), t3;
        }
        function fi(t3) {
          var e3 = new ii(3);
          return e3[0] = t3[0], e3[1] = t3[1], e3[2] = t3[2], e3;
        }
        function li(t3) {
          var e3 = t3[0], n2 = t3[1], r2 = t3[2];
          return Math.hypot(e3, n2, r2);
        }
        function hi(t3, e3, n2) {
          var r2 = new ii(3);
          return r2[0] = t3, r2[1] = e3, r2[2] = n2, r2;
        }
        function di(t3, e3) {
          return t3[0] = e3[0], t3[1] = e3[1], t3[2] = e3[2], t3;
        }
        function pi(t3, e3, n2, r2) {
          return t3[0] = e3, t3[1] = n2, t3[2] = r2, t3;
        }
        function vi(t3, e3, n2) {
          return t3[0] = e3[0] + n2[0], t3[1] = e3[1] + n2[1], t3[2] = e3[2] + n2[2], t3;
        }
        function gi(t3, e3, n2) {
          return t3[0] = e3[0] - n2[0], t3[1] = e3[1] - n2[1], t3[2] = e3[2] - n2[2], t3;
        }
        function yi(t3, e3, n2) {
          return t3[0] = e3[0] * n2, t3[1] = e3[1] * n2, t3[2] = e3[2] * n2, t3;
        }
        function mi(t3, e3) {
          var n2 = e3[0], r2 = e3[1], i = e3[2], o2 = n2 * n2 + r2 * r2 + i * i;
          return o2 > 0 && (o2 = 1 / Math.sqrt(o2)), t3[0] = e3[0] * o2, t3[1] = e3[1] * o2, t3[2] = e3[2] * o2, t3;
        }
        function bi(t3, e3) {
          return t3[0] * e3[0] + t3[1] * e3[1] + t3[2] * e3[2];
        }
        function _i(t3, e3, n2, r2) {
          var i = e3[0], o2 = e3[1], a2 = e3[2];
          return t3[0] = i + r2 * (n2[0] - i), t3[1] = o2 + r2 * (n2[1] - o2), t3[2] = a2 + r2 * (n2[2] - a2), t3;
        }
        function xi(t3, e3, n2) {
          var r2 = e3[0], i = e3[1], o2 = e3[2], a2 = n2[3] * r2 + n2[7] * i + n2[11] * o2 + n2[15];
          return a2 = a2 || 1, t3[0] = (n2[0] * r2 + n2[4] * i + n2[8] * o2 + n2[12]) / a2, t3[1] = (n2[1] * r2 + n2[5] * i + n2[9] * o2 + n2[13]) / a2, t3[2] = (n2[2] * r2 + n2[6] * i + n2[10] * o2 + n2[14]) / a2, t3;
        }
        function wi(t3, e3, n2) {
          var r2 = e3[0], i = e3[1], o2 = e3[2];
          return t3[0] = r2 * n2[0] + i * n2[3] + o2 * n2[6], t3[1] = r2 * n2[1] + i * n2[4] + o2 * n2[7], t3[2] = r2 * n2[2] + i * n2[5] + o2 * n2[8], t3;
        }
        Math.hypot || (Math.hypot = function() {
          for (var t3 = 0, e3 = arguments.length; e3--; )
            t3 += arguments[e3] * arguments[e3];
          return Math.sqrt(t3);
        }), oi();
        var Ei = gi, Si = function(t3, e3) {
          var n2 = e3[0] - t3[0], r2 = e3[1] - t3[1], i = e3[2] - t3[2];
          return Math.hypot(n2, r2, i);
        }, Ai = li, Ti = (ci(), 9007199254740991), Ii = {};
        Ii["[object Float32Array]"] = Ii["[object Float64Array]"] = Ii["[object Int8Array]"] = Ii["[object Int16Array]"] = Ii["[object Int32Array]"] = Ii["[object Uint8Array]"] = Ii["[object Uint8ClampedArray]"] = Ii["[object Uint16Array]"] = Ii["[object Uint32Array]"] = true, Ii["[object Arguments]"] = Ii["[object Array]"] = Ii["[object ArrayBuffer]"] = Ii["[object Boolean]"] = Ii["[object DataView]"] = Ii["[object Date]"] = Ii["[object Error]"] = Ii["[object Function]"] = Ii["[object Map]"] = Ii["[object Number]"] = Ii["[object Object]"] = Ii["[object RegExp]"] = Ii["[object Set]"] = Ii["[object String]"] = Ii["[object WeakMap]"] = false;
        var Ci = Object.prototype.toString, Di = function(t3) {
          return function(t4) {
            return !!t4 && zr(t4) === "object";
          }(t3) && function(t4) {
            return typeof t4 == "number" && t4 > -1 && t4 % 1 == 0 && t4 <= Ti;
          }(t3.length) && !!Ii[Ci.call(t3)];
        };
        function Ni(t3, e3) {
          var n2 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r2 = Object.getOwnPropertySymbols(t3);
            e3 && (r2 = r2.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n2.push.apply(n2, r2);
          }
          return n2;
        }
        function ki(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n2 = arguments[e3] != null ? arguments[e3] : {};
            e3 % 2 ? Ni(Object(n2), true).forEach(function(e4) {
              ni(t3, e4, n2[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n2)) : Ni(Object(n2)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n2, e4));
            });
          }
          return t3;
        }
        var Ri, Oi, Mi, Pi, Gi, Li, Ui, Fi, Bi, zi = function(t3) {
          Br(i, t3);
          var e3, n2, r2 = (e3 = i, n2 = function() {
            if (typeof Reflect == "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy == "function")
              return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }(), function() {
            var t4, r3 = Vr(e3);
            if (n2) {
              var i2 = Vr(this).constructor;
              t4 = Reflect.construct(r3, arguments, i2);
            } else
              t4 = r3.apply(this, arguments);
            return Wr(this, t4);
          });
          function i(t4) {
            var e4;
            return br(this, i), (e4 = r2.call(this, t4)).dirty = true, e4.attributes = [], e4.indices = void 0, e4.indicesBuffer = void 0, e4.vertexCount = 0, e4.maxInstancedCount = void 0, e4.aabb = void 0, e4.entity = void 0, Object.assign(jr(e4), t4), e4;
          }
          return xr(i, [{ key: "setAttribute", value: function(t4, e4, n3, r3) {
            var i2 = this.attributes.find(function(e5) {
              return e5.name === t4;
            });
            return i2 ? (i2.data = e4, i2.dirty = true) : this.attributes.push(ki(ki({ dirty: true, name: t4, data: e4 }, n3), {}, { bufferGetter: r3 })), this.dirty = true, this;
          } }, { key: "setIndex", value: function(t4) {
            return this.indices = new Uint32Array(t4.buffer ? t4.buffer : t4), this.dirty = true, this;
          } }, { key: "applyMatrix", value: function(t4) {
            var e4, n3, r3, i2, o2, a2, u2, s2, c2, f2, l2, h2, d2, p2, v2, g2, y2, m2, b2, _2, x2, w2, E2, S2, A2, T2, I2, C2, D2, N2, k2, R2 = this.attributes.find(function(t5) {
              return t5.name === "position";
            }), O2 = this.attributes.find(function(t5) {
              return t5.name === "normal";
            });
            if (R2 && (R2.dirty = true, R2.data && R2.data.length))
              for (var M2 = 0; M2 < R2.data.length; M2 += 3) {
                var P2 = ai(R2.data[M2], R2.data[M2 + 1], R2.data[M2 + 2], 1);
                ui(P2, P2, t4), Di(R2.data) ? R2.data.set([P2[0], P2[1], P2[2]], M2) : (R2.data[M2] = P2[0], R2.data[M2 + 1] = P2[1], R2.data[M2 + 2] = P2[2]);
              }
            if (O2) {
              var G2 = (e4 = si(), r3 = (n3 = t4)[0], i2 = n3[1], o2 = n3[2], a2 = n3[3], u2 = n3[4], s2 = n3[5], c2 = n3[6], f2 = n3[7], l2 = n3[8], h2 = n3[9], d2 = n3[10], p2 = n3[11], v2 = n3[12], g2 = n3[13], y2 = n3[14], m2 = n3[15], (k2 = (b2 = r3 * s2 - i2 * u2) * (N2 = d2 * m2 - p2 * y2) - (_2 = r3 * c2 - o2 * u2) * (D2 = h2 * m2 - p2 * g2) + (x2 = r3 * f2 - a2 * u2) * (C2 = h2 * y2 - d2 * g2) + (w2 = i2 * c2 - o2 * s2) * (I2 = l2 * m2 - p2 * v2) - (E2 = i2 * f2 - a2 * s2) * (T2 = l2 * y2 - d2 * v2) + (S2 = o2 * f2 - a2 * c2) * (A2 = l2 * g2 - h2 * v2)) ? (k2 = 1 / k2, e4[0] = (s2 * N2 - c2 * D2 + f2 * C2) * k2, e4[1] = (c2 * I2 - u2 * N2 - f2 * T2) * k2, e4[2] = (u2 * D2 - s2 * I2 + f2 * A2) * k2, e4[3] = (o2 * D2 - i2 * N2 - a2 * C2) * k2, e4[4] = (r3 * N2 - o2 * I2 + a2 * T2) * k2, e4[5] = (i2 * I2 - r3 * D2 - a2 * A2) * k2, e4[6] = (g2 * S2 - y2 * E2 + m2 * w2) * k2, e4[7] = (y2 * x2 - v2 * S2 - m2 * _2) * k2, e4[8] = (v2 * E2 - g2 * x2 + m2 * b2) * k2, e4) : null);
              if (O2.data && O2.data.length)
                for (var L2 = 0; L2 < O2.data.length; L2 += 3) {
                  var U2 = hi(O2.data[L2], O2.data[L2 + 1], O2.data[L2 + 2]);
                  wi(U2, U2, G2), mi(U2, U2), Di(O2.data) ? O2.data.set([U2[0], U2[1], U2[2]], L2) : (O2.data[L2] = U2[0], O2.data[L2 + 1] = U2[1], O2.data[L2 + 2] = U2[2]);
                }
            }
          } }]), i;
        }(Dr);
        !function(t3) {
          t3[t3.DEPTH_BUFFER_BIT = 256] = "DEPTH_BUFFER_BIT", t3[t3.STENCIL_BUFFER_BIT = 1024] = "STENCIL_BUFFER_BIT", t3[t3.COLOR_BUFFER_BIT = 16384] = "COLOR_BUFFER_BIT", t3[t3.POINTS = 0] = "POINTS", t3[t3.LINES = 1] = "LINES", t3[t3.LINE_LOOP = 2] = "LINE_LOOP", t3[t3.LINE_STRIP = 3] = "LINE_STRIP", t3[t3.TRIANGLES = 4] = "TRIANGLES", t3[t3.TRIANGLE_STRIP = 5] = "TRIANGLE_STRIP", t3[t3.TRIANGLE_FAN = 6] = "TRIANGLE_FAN", t3[t3.ZERO = 0] = "ZERO", t3[t3.ONE = 1] = "ONE", t3[t3.SRC_COLOR = 768] = "SRC_COLOR", t3[t3.ONE_MINUS_SRC_COLOR = 769] = "ONE_MINUS_SRC_COLOR", t3[t3.SRC_ALPHA = 770] = "SRC_ALPHA", t3[t3.ONE_MINUS_SRC_ALPHA = 771] = "ONE_MINUS_SRC_ALPHA", t3[t3.DST_ALPHA = 772] = "DST_ALPHA", t3[t3.ONE_MINUS_DST_ALPHA = 773] = "ONE_MINUS_DST_ALPHA", t3[t3.DST_COLOR = 774] = "DST_COLOR", t3[t3.ONE_MINUS_DST_COLOR = 775] = "ONE_MINUS_DST_COLOR", t3[t3.SRC_ALPHA_SATURATE = 776] = "SRC_ALPHA_SATURATE", t3[t3.FUNC_ADD = 32774] = "FUNC_ADD", t3[t3.BLEND_EQUATION = 32777] = "BLEND_EQUATION", t3[t3.BLEND_EQUATION_RGB = 32777] = "BLEND_EQUATION_RGB", t3[t3.BLEND_EQUATION_ALPHA = 34877] = "BLEND_EQUATION_ALPHA", t3[t3.FUNC_SUBTRACT = 32778] = "FUNC_SUBTRACT", t3[t3.FUNC_REVERSE_SUBTRACT = 32779] = "FUNC_REVERSE_SUBTRACT", t3[t3.MAX_EXT = 32776] = "MAX_EXT", t3[t3.MIN_EXT = 32775] = "MIN_EXT", t3[t3.BLEND_DST_RGB = 32968] = "BLEND_DST_RGB", t3[t3.BLEND_SRC_RGB = 32969] = "BLEND_SRC_RGB", t3[t3.BLEND_DST_ALPHA = 32970] = "BLEND_DST_ALPHA", t3[t3.BLEND_SRC_ALPHA = 32971] = "BLEND_SRC_ALPHA", t3[t3.CONSTANT_COLOR = 32769] = "CONSTANT_COLOR", t3[t3.ONE_MINUS_CONSTANT_COLOR = 32770] = "ONE_MINUS_CONSTANT_COLOR", t3[t3.CONSTANT_ALPHA = 32771] = "CONSTANT_ALPHA", t3[t3.ONE_MINUS_CONSTANT_ALPHA = 32772] = "ONE_MINUS_CONSTANT_ALPHA", t3[t3.BLEND_COLOR = 32773] = "BLEND_COLOR", t3[t3.ARRAY_BUFFER = 34962] = "ARRAY_BUFFER", t3[t3.ELEMENT_ARRAY_BUFFER = 34963] = "ELEMENT_ARRAY_BUFFER", t3[t3.ARRAY_BUFFER_BINDING = 34964] = "ARRAY_BUFFER_BINDING", t3[t3.ELEMENT_ARRAY_BUFFER_BINDING = 34965] = "ELEMENT_ARRAY_BUFFER_BINDING", t3[t3.STREAM_DRAW = 35040] = "STREAM_DRAW", t3[t3.STATIC_DRAW = 35044] = "STATIC_DRAW", t3[t3.DYNAMIC_DRAW = 35048] = "DYNAMIC_DRAW", t3[t3.BUFFER_SIZE = 34660] = "BUFFER_SIZE", t3[t3.BUFFER_USAGE = 34661] = "BUFFER_USAGE", t3[t3.CURRENT_VERTEX_ATTRIB = 34342] = "CURRENT_VERTEX_ATTRIB", t3[t3.FRONT = 1028] = "FRONT", t3[t3.BACK = 1029] = "BACK", t3[t3.FRONT_AND_BACK = 1032] = "FRONT_AND_BACK", t3[t3.CULL_FACE = 2884] = "CULL_FACE", t3[t3.BLEND = 3042] = "BLEND", t3[t3.DITHER = 3024] = "DITHER", t3[t3.STENCIL_TEST = 2960] = "STENCIL_TEST", t3[t3.DEPTH_TEST = 2929] = "DEPTH_TEST", t3[t3.SCISSOR_TEST = 3089] = "SCISSOR_TEST", t3[t3.POLYGON_OFFSET_FILL = 32823] = "POLYGON_OFFSET_FILL", t3[t3.SAMPLE_ALPHA_TO_COVERAGE = 32926] = "SAMPLE_ALPHA_TO_COVERAGE", t3[t3.SAMPLE_COVERAGE = 32928] = "SAMPLE_COVERAGE", t3[t3.NO_ERROR = 0] = "NO_ERROR", t3[t3.INVALID_ENUM = 1280] = "INVALID_ENUM", t3[t3.INVALID_VALUE = 1281] = "INVALID_VALUE", t3[t3.INVALID_OPERATION = 1282] = "INVALID_OPERATION", t3[t3.OUT_OF_MEMORY = 1285] = "OUT_OF_MEMORY", t3[t3.CW = 2304] = "CW", t3[t3.CCW = 2305] = "CCW", t3[t3.LINE_WIDTH = 2849] = "LINE_WIDTH", t3[t3.ALIASED_POINT_SIZE_RANGE = 33901] = "ALIASED_POINT_SIZE_RANGE", t3[t3.ALIASED_LINE_WIDTH_RANGE = 33902] = "ALIASED_LINE_WIDTH_RANGE", t3[t3.CULL_FACE_MODE = 2885] = "CULL_FACE_MODE", t3[t3.FRONT_FACE = 2886] = "FRONT_FACE", t3[t3.DEPTH_RANGE = 2928] = "DEPTH_RANGE", t3[t3.DEPTH_WRITEMASK = 2930] = "DEPTH_WRITEMASK", t3[t3.DEPTH_CLEAR_VALUE = 2931] = "DEPTH_CLEAR_VALUE", t3[t3.DEPTH_FUNC = 2932] = "DEPTH_FUNC", t3[t3.STENCIL_CLEAR_VALUE = 2961] = "STENCIL_CLEAR_VALUE", t3[t3.STENCIL_FUNC = 2962] = "STENCIL_FUNC", t3[t3.STENCIL_FAIL = 2964] = "STENCIL_FAIL", t3[t3.STENCIL_PASS_DEPTH_FAIL = 2965] = "STENCIL_PASS_DEPTH_FAIL", t3[t3.STENCIL_PASS_DEPTH_PASS = 2966] = "STENCIL_PASS_DEPTH_PASS", t3[t3.STENCIL_REF = 2967] = "STENCIL_REF", t3[t3.STENCIL_VALUE_MASK = 2963] = "STENCIL_VALUE_MASK", t3[t3.STENCIL_WRITEMASK = 2968] = "STENCIL_WRITEMASK", t3[t3.STENCIL_BACK_FUNC = 34816] = "STENCIL_BACK_FUNC", t3[t3.STENCIL_BACK_FAIL = 34817] = "STENCIL_BACK_FAIL", t3[t3.STENCIL_BACK_PASS_DEPTH_FAIL = 34818] = "STENCIL_BACK_PASS_DEPTH_FAIL", t3[t3.STENCIL_BACK_PASS_DEPTH_PASS = 34819] = "STENCIL_BACK_PASS_DEPTH_PASS", t3[t3.STENCIL_BACK_REF = 36003] = "STENCIL_BACK_REF", t3[t3.STENCIL_BACK_VALUE_MASK = 36004] = "STENCIL_BACK_VALUE_MASK", t3[t3.STENCIL_BACK_WRITEMASK = 36005] = "STENCIL_BACK_WRITEMASK", t3[t3.VIEWPORT = 2978] = "VIEWPORT", t3[t3.SCISSOR_BOX = 3088] = "SCISSOR_BOX", t3[t3.COLOR_CLEAR_VALUE = 3106] = "COLOR_CLEAR_VALUE", t3[t3.COLOR_WRITEMASK = 3107] = "COLOR_WRITEMASK", t3[t3.UNPACK_ALIGNMENT = 3317] = "UNPACK_ALIGNMENT", t3[t3.PACK_ALIGNMENT = 3333] = "PACK_ALIGNMENT", t3[t3.MAX_TEXTURE_SIZE = 3379] = "MAX_TEXTURE_SIZE", t3[t3.MAX_VIEWPORT_DIMS = 3386] = "MAX_VIEWPORT_DIMS", t3[t3.SUBPIXEL_BITS = 3408] = "SUBPIXEL_BITS", t3[t3.RED_BITS = 3410] = "RED_BITS", t3[t3.GREEN_BITS = 3411] = "GREEN_BITS", t3[t3.BLUE_BITS = 3412] = "BLUE_BITS", t3[t3.ALPHA_BITS = 3413] = "ALPHA_BITS", t3[t3.DEPTH_BITS = 3414] = "DEPTH_BITS", t3[t3.STENCIL_BITS = 3415] = "STENCIL_BITS", t3[t3.POLYGON_OFFSET_UNITS = 10752] = "POLYGON_OFFSET_UNITS", t3[t3.POLYGON_OFFSET_FACTOR = 32824] = "POLYGON_OFFSET_FACTOR", t3[t3.TEXTURE_BINDING_2D = 32873] = "TEXTURE_BINDING_2D", t3[t3.SAMPLE_BUFFERS = 32936] = "SAMPLE_BUFFERS", t3[t3.SAMPLES = 32937] = "SAMPLES", t3[t3.SAMPLE_COVERAGE_VALUE = 32938] = "SAMPLE_COVERAGE_VALUE", t3[t3.SAMPLE_COVERAGE_INVERT = 32939] = "SAMPLE_COVERAGE_INVERT", t3[t3.COMPRESSED_TEXTURE_FORMATS = 34467] = "COMPRESSED_TEXTURE_FORMATS", t3[t3.DONT_CARE = 4352] = "DONT_CARE", t3[t3.FASTEST = 4353] = "FASTEST", t3[t3.NICEST = 4354] = "NICEST", t3[t3.GENERATE_MIPMAP_HINT = 33170] = "GENERATE_MIPMAP_HINT", t3[t3.BYTE = 5120] = "BYTE", t3[t3.UNSIGNED_BYTE = 5121] = "UNSIGNED_BYTE", t3[t3.SHORT = 5122] = "SHORT", t3[t3.UNSIGNED_SHORT = 5123] = "UNSIGNED_SHORT", t3[t3.INT = 5124] = "INT", t3[t3.UNSIGNED_INT = 5125] = "UNSIGNED_INT", t3[t3.FLOAT = 5126] = "FLOAT", t3[t3.DEPTH_COMPONENT = 6402] = "DEPTH_COMPONENT", t3[t3.ALPHA = 6406] = "ALPHA", t3[t3.RGB = 6407] = "RGB", t3[t3.RGBA = 6408] = "RGBA", t3[t3.LUMINANCE = 6409] = "LUMINANCE", t3[t3.LUMINANCE_ALPHA = 6410] = "LUMINANCE_ALPHA", t3[t3.UNSIGNED_SHORT_4_4_4_4 = 32819] = "UNSIGNED_SHORT_4_4_4_4", t3[t3.UNSIGNED_SHORT_5_5_5_1 = 32820] = "UNSIGNED_SHORT_5_5_5_1", t3[t3.UNSIGNED_SHORT_5_6_5 = 33635] = "UNSIGNED_SHORT_5_6_5", t3[t3.FRAGMENT_SHADER = 35632] = "FRAGMENT_SHADER", t3[t3.VERTEX_SHADER = 35633] = "VERTEX_SHADER", t3[t3.MAX_VERTEX_ATTRIBS = 34921] = "MAX_VERTEX_ATTRIBS", t3[t3.MAX_VERTEX_UNIFORM_VECTORS = 36347] = "MAX_VERTEX_UNIFORM_VECTORS", t3[t3.MAX_VARYING_VECTORS = 36348] = "MAX_VARYING_VECTORS", t3[t3.MAX_COMBINED_TEXTURE_IMAGE_UNITS = 35661] = "MAX_COMBINED_TEXTURE_IMAGE_UNITS", t3[t3.MAX_VERTEX_TEXTURE_IMAGE_UNITS = 35660] = "MAX_VERTEX_TEXTURE_IMAGE_UNITS", t3[t3.MAX_TEXTURE_IMAGE_UNITS = 34930] = "MAX_TEXTURE_IMAGE_UNITS", t3[t3.MAX_FRAGMENT_UNIFORM_VECTORS = 36349] = "MAX_FRAGMENT_UNIFORM_VECTORS", t3[t3.SHADER_TYPE = 35663] = "SHADER_TYPE", t3[t3.DELETE_STATUS = 35712] = "DELETE_STATUS", t3[t3.LINK_STATUS = 35714] = "LINK_STATUS", t3[t3.VALIDATE_STATUS = 35715] = "VALIDATE_STATUS", t3[t3.ATTACHED_SHADERS = 35717] = "ATTACHED_SHADERS", t3[t3.ACTIVE_UNIFORMS = 35718] = "ACTIVE_UNIFORMS", t3[t3.ACTIVE_ATTRIBUTES = 35721] = "ACTIVE_ATTRIBUTES", t3[t3.SHADING_LANGUAGE_VERSION = 35724] = "SHADING_LANGUAGE_VERSION", t3[t3.CURRENT_PROGRAM = 35725] = "CURRENT_PROGRAM", t3[t3.NEVER = 512] = "NEVER", t3[t3.LESS = 513] = "LESS", t3[t3.EQUAL = 514] = "EQUAL", t3[t3.LEQUAL = 515] = "LEQUAL", t3[t3.GREATER = 516] = "GREATER", t3[t3.NOTEQUAL = 517] = "NOTEQUAL", t3[t3.GEQUAL = 518] = "GEQUAL", t3[t3.ALWAYS = 519] = "ALWAYS", t3[t3.KEEP = 7680] = "KEEP", t3[t3.REPLACE = 7681] = "REPLACE", t3[t3.INCR = 7682] = "INCR", t3[t3.DECR = 7683] = "DECR", t3[t3.INVERT = 5386] = "INVERT", t3[t3.INCR_WRAP = 34055] = "INCR_WRAP", t3[t3.DECR_WRAP = 34056] = "DECR_WRAP", t3[t3.VENDOR = 7936] = "VENDOR", t3[t3.RENDERER = 7937] = "RENDERER", t3[t3.VERSION = 7938] = "VERSION", t3[t3.NEAREST = 9728] = "NEAREST", t3[t3.LINEAR = 9729] = "LINEAR", t3[t3.NEAREST_MIPMAP_NEAREST = 9984] = "NEAREST_MIPMAP_NEAREST", t3[t3.LINEAR_MIPMAP_NEAREST = 9985] = "LINEAR_MIPMAP_NEAREST", t3[t3.NEAREST_MIPMAP_LINEAR = 9986] = "NEAREST_MIPMAP_LINEAR", t3[t3.LINEAR_MIPMAP_LINEAR = 9987] = "LINEAR_MIPMAP_LINEAR", t3[t3.TEXTURE_MAG_FILTER = 10240] = "TEXTURE_MAG_FILTER", t3[t3.TEXTURE_MIN_FILTER = 10241] = "TEXTURE_MIN_FILTER", t3[t3.TEXTURE_WRAP_S = 10242] = "TEXTURE_WRAP_S", t3[t3.TEXTURE_WRAP_T = 10243] = "TEXTURE_WRAP_T", t3[t3.TEXTURE_2D = 3553] = "TEXTURE_2D", t3[t3.TEXTURE = 5890] = "TEXTURE", t3[t3.TEXTURE_CUBE_MAP = 34067] = "TEXTURE_CUBE_MAP", t3[t3.TEXTURE_BINDING_CUBE_MAP = 34068] = "TEXTURE_BINDING_CUBE_MAP", t3[t3.TEXTURE_CUBE_MAP_POSITIVE_X = 34069] = "TEXTURE_CUBE_MAP_POSITIVE_X", t3[t3.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070] = "TEXTURE_CUBE_MAP_NEGATIVE_X", t3[t3.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071] = "TEXTURE_CUBE_MAP_POSITIVE_Y", t3[t3.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072] = "TEXTURE_CUBE_MAP_NEGATIVE_Y", t3[t3.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073] = "TEXTURE_CUBE_MAP_POSITIVE_Z", t3[t3.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074] = "TEXTURE_CUBE_MAP_NEGATIVE_Z", t3[t3.MAX_CUBE_MAP_TEXTURE_SIZE = 34076] = "MAX_CUBE_MAP_TEXTURE_SIZE", t3[t3.TEXTURE0 = 33984] = "TEXTURE0", t3[t3.TEXTURE1 = 33985] = "TEXTURE1", t3[t3.TEXTURE2 = 33986] = "TEXTURE2", t3[t3.TEXTURE3 = 33987] = "TEXTURE3", t3[t3.TEXTURE4 = 33988] = "TEXTURE4", t3[t3.TEXTURE5 = 33989] = "TEXTURE5", t3[t3.TEXTURE6 = 33990] = "TEXTURE6", t3[t3.TEXTURE7 = 33991] = "TEXTURE7", t3[t3.TEXTURE8 = 33992] = "TEXTURE8", t3[t3.TEXTURE9 = 33993] = "TEXTURE9", t3[t3.TEXTURE10 = 33994] = "TEXTURE10", t3[t3.TEXTURE11 = 33995] = "TEXTURE11", t3[t3.TEXTURE12 = 33996] = "TEXTURE12", t3[t3.TEXTURE13 = 33997] = "TEXTURE13", t3[t3.TEXTURE14 = 33998] = "TEXTURE14", t3[t3.TEXTURE15 = 33999] = "TEXTURE15", t3[t3.TEXTURE16 = 34e3] = "TEXTURE16", t3[t3.TEXTURE17 = 34001] = "TEXTURE17", t3[t3.TEXTURE18 = 34002] = "TEXTURE18", t3[t3.TEXTURE19 = 34003] = "TEXTURE19", t3[t3.TEXTURE20 = 34004] = "TEXTURE20", t3[t3.TEXTURE21 = 34005] = "TEXTURE21", t3[t3.TEXTURE22 = 34006] = "TEXTURE22", t3[t3.TEXTURE23 = 34007] = "TEXTURE23", t3[t3.TEXTURE24 = 34008] = "TEXTURE24", t3[t3.TEXTURE25 = 34009] = "TEXTURE25", t3[t3.TEXTURE26 = 34010] = "TEXTURE26", t3[t3.TEXTURE27 = 34011] = "TEXTURE27", t3[t3.TEXTURE28 = 34012] = "TEXTURE28", t3[t3.TEXTURE29 = 34013] = "TEXTURE29", t3[t3.TEXTURE30 = 34014] = "TEXTURE30", t3[t3.TEXTURE31 = 34015] = "TEXTURE31", t3[t3.ACTIVE_TEXTURE = 34016] = "ACTIVE_TEXTURE", t3[t3.REPEAT = 10497] = "REPEAT", t3[t3.CLAMP_TO_EDGE = 33071] = "CLAMP_TO_EDGE", t3[t3.MIRRORED_REPEAT = 33648] = "MIRRORED_REPEAT", t3[t3.FLOAT_VEC2 = 35664] = "FLOAT_VEC2", t3[t3.FLOAT_VEC3 = 35665] = "FLOAT_VEC3", t3[t3.FLOAT_VEC4 = 35666] = "FLOAT_VEC4", t3[t3.INT_VEC2 = 35667] = "INT_VEC2", t3[t3.INT_VEC3 = 35668] = "INT_VEC3", t3[t3.INT_VEC4 = 35669] = "INT_VEC4", t3[t3.BOOL = 35670] = "BOOL", t3[t3.BOOL_VEC2 = 35671] = "BOOL_VEC2", t3[t3.BOOL_VEC3 = 35672] = "BOOL_VEC3", t3[t3.BOOL_VEC4 = 35673] = "BOOL_VEC4", t3[t3.FLOAT_MAT2 = 35674] = "FLOAT_MAT2", t3[t3.FLOAT_MAT3 = 35675] = "FLOAT_MAT3", t3[t3.FLOAT_MAT4 = 35676] = "FLOAT_MAT4", t3[t3.SAMPLER_2D = 35678] = "SAMPLER_2D", t3[t3.SAMPLER_CUBE = 35680] = "SAMPLER_CUBE", t3[t3.VERTEX_ATTRIB_ARRAY_ENABLED = 34338] = "VERTEX_ATTRIB_ARRAY_ENABLED", t3[t3.VERTEX_ATTRIB_ARRAY_SIZE = 34339] = "VERTEX_ATTRIB_ARRAY_SIZE", t3[t3.VERTEX_ATTRIB_ARRAY_STRIDE = 34340] = "VERTEX_ATTRIB_ARRAY_STRIDE", t3[t3.VERTEX_ATTRIB_ARRAY_TYPE = 34341] = "VERTEX_ATTRIB_ARRAY_TYPE", t3[t3.VERTEX_ATTRIB_ARRAY_NORMALIZED = 34922] = "VERTEX_ATTRIB_ARRAY_NORMALIZED", t3[t3.VERTEX_ATTRIB_ARRAY_POINTER = 34373] = "VERTEX_ATTRIB_ARRAY_POINTER", t3[t3.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING = 34975] = "VERTEX_ATTRIB_ARRAY_BUFFER_BINDING", t3[t3.COMPILE_STATUS = 35713] = "COMPILE_STATUS", t3[t3.LOW_FLOAT = 36336] = "LOW_FLOAT", t3[t3.MEDIUM_FLOAT = 36337] = "MEDIUM_FLOAT", t3[t3.HIGH_FLOAT = 36338] = "HIGH_FLOAT", t3[t3.LOW_INT = 36339] = "LOW_INT", t3[t3.MEDIUM_INT = 36340] = "MEDIUM_INT", t3[t3.HIGH_INT = 36341] = "HIGH_INT", t3[t3.FRAMEBUFFER = 36160] = "FRAMEBUFFER", t3[t3.RENDERBUFFER = 36161] = "RENDERBUFFER", t3[t3.RGBA4 = 32854] = "RGBA4", t3[t3.RGB5_A1 = 32855] = "RGB5_A1", t3[t3.RGB565 = 36194] = "RGB565", t3[t3.DEPTH_COMPONENT16 = 33189] = "DEPTH_COMPONENT16", t3[t3.STENCIL_INDEX = 6401] = "STENCIL_INDEX", t3[t3.STENCIL_INDEX8 = 36168] = "STENCIL_INDEX8", t3[t3.DEPTH_STENCIL = 34041] = "DEPTH_STENCIL", t3[t3.RENDERBUFFER_WIDTH = 36162] = "RENDERBUFFER_WIDTH", t3[t3.RENDERBUFFER_HEIGHT = 36163] = "RENDERBUFFER_HEIGHT", t3[t3.RENDERBUFFER_INTERNAL_FORMAT = 36164] = "RENDERBUFFER_INTERNAL_FORMAT", t3[t3.RENDERBUFFER_RED_SIZE = 36176] = "RENDERBUFFER_RED_SIZE", t3[t3.RENDERBUFFER_GREEN_SIZE = 36177] = "RENDERBUFFER_GREEN_SIZE", t3[t3.RENDERBUFFER_BLUE_SIZE = 36178] = "RENDERBUFFER_BLUE_SIZE", t3[t3.RENDERBUFFER_ALPHA_SIZE = 36179] = "RENDERBUFFER_ALPHA_SIZE", t3[t3.RENDERBUFFER_DEPTH_SIZE = 36180] = "RENDERBUFFER_DEPTH_SIZE", t3[t3.RENDERBUFFER_STENCIL_SIZE = 36181] = "RENDERBUFFER_STENCIL_SIZE", t3[t3.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE = 36048] = "FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE", t3[t3.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME = 36049] = "FRAMEBUFFER_ATTACHMENT_OBJECT_NAME", t3[t3.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL = 36050] = "FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL", t3[t3.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE = 36051] = "FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE", t3[t3.COLOR_ATTACHMENT0 = 36064] = "COLOR_ATTACHMENT0", t3[t3.DEPTH_ATTACHMENT = 36096] = "DEPTH_ATTACHMENT", t3[t3.STENCIL_ATTACHMENT = 36128] = "STENCIL_ATTACHMENT", t3[t3.DEPTH_STENCIL_ATTACHMENT = 33306] = "DEPTH_STENCIL_ATTACHMENT", t3[t3.NONE = 0] = "NONE", t3[t3.FRAMEBUFFER_COMPLETE = 36053] = "FRAMEBUFFER_COMPLETE", t3[t3.FRAMEBUFFER_INCOMPLETE_ATTACHMENT = 36054] = "FRAMEBUFFER_INCOMPLETE_ATTACHMENT", t3[t3.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT = 36055] = "FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT", t3[t3.FRAMEBUFFER_INCOMPLETE_DIMENSIONS = 36057] = "FRAMEBUFFER_INCOMPLETE_DIMENSIONS", t3[t3.FRAMEBUFFER_UNSUPPORTED = 36061] = "FRAMEBUFFER_UNSUPPORTED", t3[t3.FRAMEBUFFER_BINDING = 36006] = "FRAMEBUFFER_BINDING", t3[t3.RENDERBUFFER_BINDING = 36007] = "RENDERBUFFER_BINDING", t3[t3.MAX_RENDERBUFFER_SIZE = 34024] = "MAX_RENDERBUFFER_SIZE", t3[t3.INVALID_FRAMEBUFFER_OPERATION = 1286] = "INVALID_FRAMEBUFFER_OPERATION", t3[t3.UNPACK_FLIP_Y_WEBGL = 37440] = "UNPACK_FLIP_Y_WEBGL", t3[t3.UNPACK_PREMULTIPLY_ALPHA_WEBGL = 37441] = "UNPACK_PREMULTIPLY_ALPHA_WEBGL", t3[t3.CONTEXT_LOST_WEBGL = 37442] = "CONTEXT_LOST_WEBGL", t3[t3.UNPACK_COLORSPACE_CONVERSION_WEBGL = 37443] = "UNPACK_COLORSPACE_CONVERSION_WEBGL", t3[t3.BROWSER_DEFAULT_WEBGL = 37444] = "BROWSER_DEFAULT_WEBGL", t3[t3.COPY_SRC = 1] = "COPY_SRC", t3[t3.COPY_DST = 2] = "COPY_DST", t3[t3.SAMPLED = 4] = "SAMPLED", t3[t3.STORAGE = 8] = "STORAGE", t3[t3.RENDER_ATTACHMENT = 16] = "RENDER_ATTACHMENT";
        }(Ri || (Ri = {}));
        var ji = (Oi = (0, Mr.b2)(), Mi = (0, Mr.f3)(Pr.GeometryComponentManager), Pi = (0, Mr.f3)(Pr.RenderEngine), Oi((Bi = function() {
          function t3() {
            br(this, t3), mr(this, "geometry", Ui, this), mr(this, "engine", Fi, this);
          }
          var e3;
          return xr(t3, [{ key: "execute", value: (e3 = Tr(Sr().mark(function t4() {
            var e4 = this;
            return Sr().wrap(function(t5) {
              for (; ; )
                switch (t5.prev = t5.next) {
                  case 0:
                    this.geometry.forEach(function(t6, n2) {
                      n2.dirty && (n2.attributes.forEach(function(t7) {
                        var n3;
                        t7.dirty && t7.data && (t7.buffer ? (n3 = t7.buffer) === null || n3 === void 0 || n3.subData({ data: t7.data, offset: 0 }) : t7.buffer = e4.engine.createBuffer({ data: t7.data, type: Ri.FLOAT }), t7.dirty = false);
                      }), n2.indices && (n2.indicesBuffer ? n2.indicesBuffer.subData({ data: n2.indices, offset: 0 }) : n2.indicesBuffer = e4.engine.createElements({ data: n2.indices, count: n2.indices.length, type: Ri.UNSIGNED_INT, usage: Ri.STATIC_DRAW })), n2.dirty = false);
                    });
                  case 1:
                  case "end":
                    return t5.stop();
                }
            }, t4, this);
          })), function() {
            return e3.apply(this, arguments);
          }) }, { key: "tearDown", value: function() {
            this.geometry.forEach(function(t4, e4) {
              e4.indicesBuffer && e4.indicesBuffer.destroy(), e4.attributes.forEach(function(t5) {
                t5.buffer && t5.buffer.destroy();
              });
            }), this.geometry.clear();
          } }, { key: "createBufferGeometry", value: function() {
            var t4 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : { vertexCount: 3 }, e4 = t4.vertexCount, n2 = Cr();
            return this.geometry.create(n2, { vertexCount: e4 });
          } }, { key: "createInstancedBufferGeometry", value: function(t4) {
            var e4 = t4.maxInstancedCount, n2 = t4.vertexCount, r2 = Cr();
            return this.geometry.create(r2, { maxInstancedCount: e4, vertexCount: n2 });
          } }]), t3;
        }(), Ui = wr((Li = Bi).prototype, "geometry", [Mi], { configurable: true, enumerable: true, writable: true, initializer: null }), Fi = wr(Li.prototype, "engine", [Pi], { configurable: true, enumerable: true, writable: true, initializer: null }), Gi = Li)) || Gi);
        function Wi(t3, e3) {
          var n2 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r2 = Object.getOwnPropertySymbols(t3);
            e3 && (r2 = r2.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n2.push.apply(n2, r2);
          }
          return n2;
        }
        function Vi(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n2 = arguments[e3] != null ? arguments[e3] : {};
            e3 % 2 ? Wi(Object(n2), true).forEach(function(e4) {
              ni(t3, e4, n2[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n2)) : Wi(Object(n2)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n2, e4));
            });
          }
          return t3;
        }
        var Xi, Hi, qi, Yi, Ki, Zi, $i, Ji, Qi, to, eo = function(t3) {
          Br(i, t3);
          var e3, n2, r2 = (e3 = i, n2 = function() {
            if (typeof Reflect == "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy == "function")
              return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }(), function() {
            var t4, r3 = Vr(e3);
            if (n2) {
              var i2 = Vr(this).constructor;
              t4 = Reflect.construct(r3, arguments, i2);
            } else
              t4 = r3.apply(this, arguments);
            return Wr(this, t4);
          });
          function i(t4) {
            var e4;
            return br(this, i), (e4 = r2.call(this, t4)).vertexShaderGLSL = void 0, e4.fragmentShaderGLSL = void 0, e4.defines = {}, e4.dirty = true, e4.uniforms = [], e4.cull = { enable: true, face: Ri.BACK }, e4.depth = { enable: true }, e4.blend = void 0, e4.entity = void 0, e4.type = void 0, Object.assign(jr(e4), t4), e4;
          }
          return xr(i, [{ key: "setDefines", value: function(t4) {
            return this.defines = Vi(Vi({}, this.defines), t4), this;
          } }, { key: "setCull", value: function(t4) {
            return this.cull = t4, this;
          } }, { key: "setDepth", value: function(t4) {
            return this.depth = t4, this;
          } }, { key: "setBlend", value: function(t4) {
            return this.blend = t4, this;
          } }, { key: "setUniform", value: function(t4, e4) {
            var n3 = this;
            if (typeof t4 != "string")
              return Object.keys(t4).forEach(function(e5) {
                return n3.setUniform(e5, t4[e5]);
              }), this;
            var r3 = this.uniforms.find(function(e5) {
              return e5.name === t4;
            });
            return r3 ? (r3.dirty = true, r3.data = e4) : this.uniforms.push({ name: t4, dirty: true, data: e4 }), this.dirty = true, this;
          } }]), i;
        }(Dr);
        function no(t3, e3) {
          var n2 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r2 = Object.getOwnPropertySymbols(t3);
            e3 && (r2 = r2.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n2.push.apply(n2, r2);
          }
          return n2;
        }
        function ro(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n2 = arguments[e3] != null ? arguments[e3] : {};
            e3 % 2 ? no(Object(n2), true).forEach(function(e4) {
              ni(t3, e4, n2[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n2)) : no(Object(n2)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n2, e4));
            });
          }
          return t3;
        }
        var io, oo = (Xi = (0, Mr.b2)(), Hi = (0, Mr.f3)(Pr.MaterialComponentManager), qi = (0, Mr.f3)(Pr.RenderEngine), Yi = (0, Mr.f3)(Pr.ShaderModuleService), Xi((to = function() {
          function t3() {
            br(this, t3), mr(this, "material", $i, this), mr(this, "engine", Ji, this), mr(this, "shaderModule", Qi, this);
          }
          var e3;
          return xr(t3, [{ key: "execute", value: (e3 = Tr(Sr().mark(function t4() {
            return Sr().wrap(function(t5) {
              for (; ; )
                switch (t5.prev = t5.next) {
                  case 0:
                  case "end":
                    return t5.stop();
                }
            }, t4);
          })), function() {
            return e3.apply(this, arguments);
          }) }, { key: "tearDown", value: function() {
            this.material.clear();
          } }, { key: "createShaderMaterial", value: function(t4) {
            var e4 = Cr(), n2 = t4.vertexShader, r2 = t4.fragmentShader, i = [];
            if (!this.engine.supportWebGPU) {
              var o2 = "material-".concat(e4);
              this.shaderModule.registerModule(o2, { vs: t4.vertexShader, fs: t4.fragmentShader });
              var a2 = this.shaderModule.getModule(o2);
              n2 = a2.vs, r2 = a2.fs, a2.uniforms && (i = Object.keys(a2.uniforms).map(function(t5) {
                return { dirty: true, name: t5, data: a2.uniforms[t5] };
              }));
            }
            return this.material.create(e4, ro(ro({ vertexShaderGLSL: n2, fragmentShaderGLSL: r2 }, t4), {}, { uniforms: i }));
          } }]), t3;
        }(), $i = wr((Zi = to).prototype, "material", [Hi], { configurable: true, enumerable: true, writable: true, initializer: null }), Ji = wr(Zi.prototype, "engine", [qi], { configurable: true, enumerable: true, writable: true, initializer: null }), Qi = wr(Zi.prototype, "shaderModule", [Yi], { configurable: true, enumerable: true, writable: true, initializer: null }), Ki = Zi)) || Ki);
        !function(t3) {
          t3[t3.Standard = 0] = "Standard";
        }(io || (io = {}));
        var ao = function(t3) {
          Br(i, t3);
          var e3, n2, r2 = (e3 = i, n2 = function() {
            if (typeof Reflect == "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy == "function")
              return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }(), function() {
            var t4, r3 = Vr(e3);
            if (n2) {
              var i2 = Vr(this).constructor;
              t4 = Reflect.construct(r3, arguments, i2);
            } else
              t4 = r3.apply(this, arguments);
            return Wr(this, t4);
          });
          function i(t4) {
            var e4;
            return br(this, i), (e4 = r2.call(this, t4)).strategy = io.Standard, e4.visibilityPlaneMask = 0, e4.visible = false, Object.assign(jr(e4), t4), e4;
          }
          return i;
        }(Dr), uo = function() {
          function t3(e3, n2) {
            br(this, t3), this.center = void 0, this.halfExtents = void 0, this.min = ci(), this.max = ci(), this.update(e3, n2);
          }
          return xr(t3, [{ key: "update", value: function(t4, e3) {
            this.center = t4 || ci(), this.halfExtents = e3 || hi(0.5, 0.5, 0.5), this.min = Ei(this.min, this.center, this.halfExtents), this.max = vi(this.max, this.center, this.halfExtents);
          } }, { key: "setMinMax", value: function(t4, e3) {
            vi(this.center, e3, t4), yi(this.center, this.center, 0.5), Ei(this.halfExtents, e3, t4), yi(this.halfExtents, this.halfExtents, 0.5), di(this.min, t4), di(this.max, e3);
          } }, { key: "getMin", value: function() {
            return this.min;
          } }, { key: "getMax", value: function() {
            return this.max;
          } }, { key: "add", value: function(t4) {
            var e3 = this.center, n2 = e3[0], r2 = e3[1], i = e3[2], o2 = this.halfExtents, a2 = o2[0], u2 = o2[1], s2 = o2[2], c2 = n2 - a2, f2 = n2 + a2, l2 = r2 - u2, h2 = r2 + u2, d2 = i - s2, p2 = i + s2, v2 = t4.center, g2 = v2[0], y2 = v2[1], m2 = v2[2], b2 = t4.halfExtents, _2 = b2[0], x2 = b2[1], w2 = b2[2], E2 = g2 - _2, S2 = g2 + _2, A2 = y2 - x2, T2 = y2 + x2, I2 = m2 - w2, C2 = m2 + w2;
            E2 < c2 && (c2 = E2), S2 > f2 && (f2 = S2), A2 < l2 && (l2 = A2), T2 > h2 && (h2 = T2), I2 < d2 && (d2 = I2), C2 > p2 && (p2 = C2), e3[0] = 0.5 * (c2 + f2), e3[1] = 0.5 * (l2 + h2), e3[2] = 0.5 * (d2 + p2), o2[0] = 0.5 * (f2 - c2), o2[1] = 0.5 * (h2 - l2), o2[2] = 0.5 * (p2 - d2), this.min[0] = c2, this.min[1] = l2, this.min[2] = d2, this.max[0] = f2, this.max[1] = h2, this.max[2] = p2;
          } }, { key: "intersects", value: function(t4) {
            var e3 = this.getMax(), n2 = this.getMin(), r2 = t4.getMax(), i = t4.getMin();
            return n2[0] <= r2[0] && e3[0] >= i[0] && n2[1] <= r2[1] && e3[1] >= i[1] && n2[2] <= r2[2] && e3[2] >= i[2];
          } }, { key: "containsPoint", value: function(t4) {
            var e3 = this.getMin(), n2 = this.getMax();
            return !(t4[0] < e3[0] || t4[0] > n2[0] || t4[1] < e3[1] || t4[1] > n2[1] || t4[2] < e3[2] || t4[2] > n2[2]);
          } }, { key: "getNegativeFarPoint", value: function(t4) {
            return t4.pnVertexFlag === 273 ? di(ci(), this.min) : t4.pnVertexFlag === 272 ? hi(this.min[0], this.min[1], this.max[2]) : t4.pnVertexFlag === 257 ? hi(this.min[0], this.max[1], this.min[2]) : t4.pnVertexFlag === 256 ? hi(this.min[0], this.max[1], this.max[2]) : t4.pnVertexFlag === 17 ? hi(this.max[0], this.min[1], this.min[2]) : t4.pnVertexFlag === 16 ? hi(this.max[0], this.min[1], this.max[2]) : t4.pnVertexFlag === 1 ? hi(this.max[0], this.max[1], this.min[2]) : hi(this.max[0], this.max[1], this.max[2]);
          } }, { key: "getPositiveFarPoint", value: function(t4) {
            return t4.pnVertexFlag === 273 ? di(ci(), this.max) : t4.pnVertexFlag === 272 ? hi(this.max[0], this.max[1], this.min[2]) : t4.pnVertexFlag === 257 ? hi(this.max[0], this.min[1], this.max[2]) : t4.pnVertexFlag === 256 ? hi(this.max[0], this.min[1], this.min[2]) : t4.pnVertexFlag === 17 ? hi(this.min[0], this.max[1], this.max[2]) : t4.pnVertexFlag === 16 ? hi(this.min[0], this.max[1], this.min[2]) : t4.pnVertexFlag === 1 ? hi(this.min[0], this.min[1], this.max[2]) : hi(this.min[0], this.min[1], this.min[2]);
          } }]), t3;
        }();
        var so, co = function(t3) {
          Br(i, t3);
          var e3, n2, r2 = (e3 = i, n2 = function() {
            if (typeof Reflect == "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy == "function")
              return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }(), function() {
            var t4, r3 = Vr(e3);
            if (n2) {
              var i2 = Vr(this).constructor;
              t4 = Reflect.construct(r3, arguments, i2);
            } else
              t4 = r3.apply(this, arguments);
            return Wr(this, t4);
          });
          function i(t4) {
            var e4;
            return br(this, i), (e4 = r2.call(this, t4)).material = void 0, e4.geometry = void 0, e4.aabb = new uo(), e4.aabbDirty = true, e4.model = void 0, e4.visible = true, e4.children = [], Object.assign(jr(e4), t4), e4;
          }
          return i;
        }(Dr), fo = function() {
          function t3(e3, n2) {
            br(this, t3), this.distance = void 0, this.normal = void 0, this.pnVertexFlag = void 0, this.distance = e3 || 0, this.normal = n2 || hi(0, 1, 0), this.updatePNVertexFlag();
          }
          return xr(t3, [{ key: "updatePNVertexFlag", value: function() {
            this.pnVertexFlag = (Number(this.normal[0] >= 0) << 8) + (Number(this.normal[1] >= 0) << 4) + Number(this.normal[2] >= 0);
          } }, { key: "distanceToPoint", value: function(t4) {
            return bi(t4, this.normal) - this.distance;
          } }, { key: "normalize", value: function() {
            var t4 = 1 / Ai(this.normal);
            yi(this.normal, this.normal, t4), this.distance *= t4;
          } }, { key: "intersectsLine", value: function(t4, e3, n2) {
            var r2 = this.distanceToPoint(t4), i = r2 / (r2 - this.distanceToPoint(e3)), o2 = i >= 0 && i <= 1;
            return o2 && n2 && _i(n2, t4, e3, i), o2;
          } }]), t3;
        }();
        !function(t3) {
          t3[t3.OUTSIDE = 4294967295] = "OUTSIDE", t3[t3.INSIDE = 0] = "INSIDE", t3[t3.INDETERMINATE = 2147483647] = "INDETERMINATE";
        }(so || (so = {}));
        var lo, ho, po, vo, go, yo, mo, bo, _o, xo, wo, Eo, So, Ao, To = function() {
          function t3(e3) {
            if (br(this, t3), this.planes = [], e3)
              this.planes = e3;
            else
              for (var n2 = 0; n2 < 6; n2++)
                this.planes.push(new fo());
          }
          return xr(t3, [{ key: "extractFromVPMatrix", value: function(t4) {
            var e3 = Or(t4, 16), n2 = e3[0], r2 = e3[1], i = e3[2], o2 = e3[3], a2 = e3[4], u2 = e3[5], s2 = e3[6], c2 = e3[7], f2 = e3[8], l2 = e3[9], h2 = e3[10], d2 = e3[11], p2 = e3[12], v2 = e3[13], g2 = e3[14], y2 = e3[15];
            pi(this.planes[0].normal, o2 - n2, c2 - a2, d2 - f2), this.planes[0].distance = -(y2 - p2), pi(this.planes[1].normal, o2 + n2, c2 + a2, d2 + f2), this.planes[1].distance = -(y2 + p2), pi(this.planes[2].normal, o2 + r2, c2 + u2, d2 + l2), this.planes[2].distance = -(y2 + v2), pi(this.planes[3].normal, o2 - r2, c2 - u2, d2 - l2), this.planes[3].distance = -(y2 - v2), pi(this.planes[4].normal, o2 - i, c2 - s2, d2 - h2), this.planes[4].distance = -(y2 - g2), pi(this.planes[5].normal, o2 + i, c2 + s2, d2 + h2), this.planes[5].distance = -(y2 + g2), this.planes.forEach(function(t5) {
              t5.normalize(), t5.updatePNVertexFlag();
            });
          } }]), t3;
        }();
        function Io(t3, e3) {
          var n2;
          if (typeof Symbol == "undefined" || t3[Symbol.iterator] == null) {
            if (Array.isArray(t3) || (n2 = function(t4, e4) {
              if (t4) {
                if (typeof t4 == "string")
                  return Co(t4, e4);
                var n3 = Object.prototype.toString.call(t4).slice(8, -1);
                return n3 === "Object" && t4.constructor && (n3 = t4.constructor.name), n3 === "Map" || n3 === "Set" ? Array.from(t4) : n3 === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n3) ? Co(t4, e4) : void 0;
              }
            }(t3)) || e3 && t3 && typeof t3.length == "number") {
              n2 && (t3 = n2);
              var r2 = 0, i = function() {
              };
              return { s: i, n: function() {
                return r2 >= t3.length ? { done: true } : { done: false, value: t3[r2++] };
              }, e: function(t4) {
                throw t4;
              }, f: i };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var o2, a2 = true, u2 = false;
          return { s: function() {
            n2 = t3[Symbol.iterator]();
          }, n: function() {
            var t4 = n2.next();
            return a2 = t4.done, t4;
          }, e: function(t4) {
            u2 = true, o2 = t4;
          }, f: function() {
            try {
              a2 || n2.return == null || n2.return();
            } finally {
              if (u2)
                throw o2;
            }
          } };
        }
        function Co(t3, e3) {
          (e3 == null || e3 > t3.length) && (e3 = t3.length);
          for (var n2 = 0, r2 = new Array(e3); n2 < e3; n2++)
            r2[n2] = t3[n2];
          return r2;
        }
        var Do = (lo = (0, Mr.b2)(), ho = (0, Mr.f3)(Pr.MeshComponentManager), po = (0, Mr.f3)(Pr.CullableComponentManager), vo = (0, Mr.f3)(Pr.GeometryComponentManager), go = (0, Mr.f3)(Pr.HierarchyComponentManager), yo = (0, Mr.f3)(Pr.TransformComponentManager), lo((Ao = function() {
          function t3() {
            br(this, t3), mr(this, "mesh", _o, this), mr(this, "cullable", xo, this), mr(this, "geometry", wo, this), mr(this, "hierarchy", Eo, this), mr(this, "transform", So, this), this.planes = void 0;
          }
          var e3;
          return xr(t3, [{ key: "setFrustumPlanes", value: function(t4) {
            this.planes = t4;
          } }, { key: "execute", value: (e3 = Tr(Sr().mark(function t4(e4) {
            var n2, r2, i, o2, a2, u2, s2, c2, f2, l2, h2, d2, p2, v2, g2, y2, m2, b2, _2, x2, w2;
            return Sr().wrap(function(t5) {
              for (; ; )
                switch (t5.prev = t5.next) {
                  case 0:
                    n2 = Io(e4);
                    try {
                      for (n2.s(); !(r2 = n2.n()).done; ) {
                        i = r2.value, o2 = i.getScene(), a2 = i.getCamera(), u2 = Io(o2.getEntities());
                        try {
                          for (u2.s(); !(s2 = u2.n()).done; )
                            c2 = s2.value, (f2 = this.mesh.getComponentByEntity(c2)) && (l2 = this.hierarchy.getComponentByEntity(c2), h2 = this.cullable.getComponentByEntity(c2), d2 = f2.geometry, p2 = this.transform.getComponentByEntity(c2), d2 && d2.aabb && p2 && f2.aabbDirty && (v2 = p2.worldTransform, g2 = d2.aabb, y2 = g2.center, m2 = g2.halfExtents, b2 = xi(ci(), y2, v2), E2 = v2, (S2 = si())[0] = E2[0], S2[1] = E2[1], S2[2] = E2[2], S2[3] = E2[4], S2[4] = E2[5], S2[5] = E2[6], S2[6] = E2[8], S2[7] = E2[9], S2[8] = E2[10], _2 = S2, x2 = wi(ci(), m2, _2), f2.aabb.update(b2, x2), f2.aabbDirty = false), h2 && d2 && (w2 = this.cullable.getComponentByEntity((l2 == null ? void 0 : l2.parentID) || -1), h2.visibilityPlaneMask = this.computeVisibilityWithPlaneMask(f2.aabb, (w2 == null ? void 0 : w2.visibilityPlaneMask) || so.INDETERMINATE, this.planes || a2.getFrustum().planes), h2.visible = h2.visibilityPlaneMask !== so.OUTSIDE));
                        } catch (t6) {
                          u2.e(t6);
                        } finally {
                          u2.f();
                        }
                      }
                    } catch (t6) {
                      n2.e(t6);
                    } finally {
                      n2.f();
                    }
                  case 2:
                  case "end":
                    return t5.stop();
                }
              var E2, S2;
            }, t4, this);
          })), function(t4) {
            return e3.apply(this, arguments);
          }) }, { key: "tearDown", value: function() {
            this.cullable.clear(), this.mesh.clear();
          } }, { key: "computeVisibilityWithPlaneMask", value: function(t4, e4, n2) {
            if (e4 === so.OUTSIDE || e4 === so.INSIDE)
              return e4;
            for (var r2 = so.INSIDE, i = 0, o2 = n2.length; i < o2; ++i) {
              var a2 = i < 31 ? 1 << i : 0;
              if (!(i < 31 && (e4 & a2) == 0)) {
                var u2 = n2[i], s2 = u2.normal, c2 = u2.distance;
                if (bi(s2, t4.getNegativeFarPoint(n2[i])) + c2 > 0)
                  return so.OUTSIDE;
                bi(s2, t4.getPositiveFarPoint(n2[i])) + c2 > 0 && (r2 |= a2);
              }
            }
            return r2;
          } }]), t3;
        }(), _o = wr((bo = Ao).prototype, "mesh", [ho], { configurable: true, enumerable: true, writable: true, initializer: null }), xo = wr(bo.prototype, "cullable", [po], { configurable: true, enumerable: true, writable: true, initializer: null }), wo = wr(bo.prototype, "geometry", [vo], { configurable: true, enumerable: true, writable: true, initializer: null }), Eo = wr(bo.prototype, "hierarchy", [go], { configurable: true, enumerable: true, writable: true, initializer: null }), So = wr(bo.prototype, "transform", [yo], { configurable: true, enumerable: true, writable: true, initializer: null }), mo = bo)) || mo);
        function No() {
          var t3 = new ii(16);
          return ii != Float32Array && (t3[1] = 0, t3[2] = 0, t3[3] = 0, t3[4] = 0, t3[6] = 0, t3[7] = 0, t3[8] = 0, t3[9] = 0, t3[11] = 0, t3[12] = 0, t3[13] = 0, t3[14] = 0), t3[0] = 1, t3[5] = 1, t3[10] = 1, t3[15] = 1, t3;
        }
        function ko(t3, e3) {
          return t3[0] = e3[0], t3[1] = e3[1], t3[2] = e3[2], t3[3] = e3[3], t3[4] = e3[4], t3[5] = e3[5], t3[6] = e3[6], t3[7] = e3[7], t3[8] = e3[8], t3[9] = e3[9], t3[10] = e3[10], t3[11] = e3[11], t3[12] = e3[12], t3[13] = e3[13], t3[14] = e3[14], t3[15] = e3[15], t3;
        }
        function Ro(t3) {
          return t3[0] = 1, t3[1] = 0, t3[2] = 0, t3[3] = 0, t3[4] = 0, t3[5] = 1, t3[6] = 0, t3[7] = 0, t3[8] = 0, t3[9] = 0, t3[10] = 1, t3[11] = 0, t3[12] = 0, t3[13] = 0, t3[14] = 0, t3[15] = 1, t3;
        }
        function Oo(t3, e3) {
          var n2 = e3[0], r2 = e3[1], i = e3[2], o2 = e3[3], a2 = e3[4], u2 = e3[5], s2 = e3[6], c2 = e3[7], f2 = e3[8], l2 = e3[9], h2 = e3[10], d2 = e3[11], p2 = e3[12], v2 = e3[13], g2 = e3[14], y2 = e3[15], m2 = n2 * u2 - r2 * a2, b2 = n2 * s2 - i * a2, _2 = n2 * c2 - o2 * a2, x2 = r2 * s2 - i * u2, w2 = r2 * c2 - o2 * u2, E2 = i * c2 - o2 * s2, S2 = f2 * v2 - l2 * p2, A2 = f2 * g2 - h2 * p2, T2 = f2 * y2 - d2 * p2, I2 = l2 * g2 - h2 * v2, C2 = l2 * y2 - d2 * v2, D2 = h2 * y2 - d2 * g2, N2 = m2 * D2 - b2 * C2 + _2 * I2 + x2 * T2 - w2 * A2 + E2 * S2;
          return N2 ? (N2 = 1 / N2, t3[0] = (u2 * D2 - s2 * C2 + c2 * I2) * N2, t3[1] = (i * C2 - r2 * D2 - o2 * I2) * N2, t3[2] = (v2 * E2 - g2 * w2 + y2 * x2) * N2, t3[3] = (h2 * w2 - l2 * E2 - d2 * x2) * N2, t3[4] = (s2 * T2 - a2 * D2 - c2 * A2) * N2, t3[5] = (n2 * D2 - i * T2 + o2 * A2) * N2, t3[6] = (g2 * _2 - p2 * E2 - y2 * b2) * N2, t3[7] = (f2 * E2 - h2 * _2 + d2 * b2) * N2, t3[8] = (a2 * C2 - u2 * T2 + c2 * S2) * N2, t3[9] = (r2 * T2 - n2 * C2 - o2 * S2) * N2, t3[10] = (p2 * w2 - v2 * _2 + y2 * m2) * N2, t3[11] = (l2 * _2 - f2 * w2 - d2 * m2) * N2, t3[12] = (u2 * A2 - a2 * I2 - s2 * S2) * N2, t3[13] = (n2 * I2 - r2 * A2 + i * S2) * N2, t3[14] = (v2 * b2 - p2 * x2 - g2 * m2) * N2, t3[15] = (f2 * x2 - l2 * b2 + h2 * m2) * N2, t3) : null;
        }
        function Mo(t3, e3, n2) {
          var r2 = e3[0], i = e3[1], o2 = e3[2], a2 = e3[3], u2 = e3[4], s2 = e3[5], c2 = e3[6], f2 = e3[7], l2 = e3[8], h2 = e3[9], d2 = e3[10], p2 = e3[11], v2 = e3[12], g2 = e3[13], y2 = e3[14], m2 = e3[15], b2 = n2[0], _2 = n2[1], x2 = n2[2], w2 = n2[3];
          return t3[0] = b2 * r2 + _2 * u2 + x2 * l2 + w2 * v2, t3[1] = b2 * i + _2 * s2 + x2 * h2 + w2 * g2, t3[2] = b2 * o2 + _2 * c2 + x2 * d2 + w2 * y2, t3[3] = b2 * a2 + _2 * f2 + x2 * p2 + w2 * m2, b2 = n2[4], _2 = n2[5], x2 = n2[6], w2 = n2[7], t3[4] = b2 * r2 + _2 * u2 + x2 * l2 + w2 * v2, t3[5] = b2 * i + _2 * s2 + x2 * h2 + w2 * g2, t3[6] = b2 * o2 + _2 * c2 + x2 * d2 + w2 * y2, t3[7] = b2 * a2 + _2 * f2 + x2 * p2 + w2 * m2, b2 = n2[8], _2 = n2[9], x2 = n2[10], w2 = n2[11], t3[8] = b2 * r2 + _2 * u2 + x2 * l2 + w2 * v2, t3[9] = b2 * i + _2 * s2 + x2 * h2 + w2 * g2, t3[10] = b2 * o2 + _2 * c2 + x2 * d2 + w2 * y2, t3[11] = b2 * a2 + _2 * f2 + x2 * p2 + w2 * m2, b2 = n2[12], _2 = n2[13], x2 = n2[14], w2 = n2[15], t3[12] = b2 * r2 + _2 * u2 + x2 * l2 + w2 * v2, t3[13] = b2 * i + _2 * s2 + x2 * h2 + w2 * g2, t3[14] = b2 * o2 + _2 * c2 + x2 * d2 + w2 * y2, t3[15] = b2 * a2 + _2 * f2 + x2 * p2 + w2 * m2, t3;
        }
        function Po(t3, e3, n2) {
          var r2, i, o2, a2, u2, s2, c2, f2, l2, h2, d2, p2, v2 = n2[0], g2 = n2[1], y2 = n2[2];
          return e3 === t3 ? (t3[12] = e3[0] * v2 + e3[4] * g2 + e3[8] * y2 + e3[12], t3[13] = e3[1] * v2 + e3[5] * g2 + e3[9] * y2 + e3[13], t3[14] = e3[2] * v2 + e3[6] * g2 + e3[10] * y2 + e3[14], t3[15] = e3[3] * v2 + e3[7] * g2 + e3[11] * y2 + e3[15]) : (r2 = e3[0], i = e3[1], o2 = e3[2], a2 = e3[3], u2 = e3[4], s2 = e3[5], c2 = e3[6], f2 = e3[7], l2 = e3[8], h2 = e3[9], d2 = e3[10], p2 = e3[11], t3[0] = r2, t3[1] = i, t3[2] = o2, t3[3] = a2, t3[4] = u2, t3[5] = s2, t3[6] = c2, t3[7] = f2, t3[8] = l2, t3[9] = h2, t3[10] = d2, t3[11] = p2, t3[12] = r2 * v2 + u2 * g2 + l2 * y2 + e3[12], t3[13] = i * v2 + s2 * g2 + h2 * y2 + e3[13], t3[14] = o2 * v2 + c2 * g2 + d2 * y2 + e3[14], t3[15] = a2 * v2 + f2 * g2 + p2 * y2 + e3[15]), t3;
        }
        function Go(t3, e3) {
          return t3[0] = e3[12], t3[1] = e3[13], t3[2] = e3[14], t3;
        }
        function Lo(t3, e3) {
          var n2 = e3[0], r2 = e3[1], i = e3[2], o2 = e3[4], a2 = e3[5], u2 = e3[6], s2 = e3[8], c2 = e3[9], f2 = e3[10];
          return t3[0] = Math.hypot(n2, r2, i), t3[1] = Math.hypot(o2, a2, u2), t3[2] = Math.hypot(s2, c2, f2), t3;
        }
        function Uo(t3, e3) {
          var n2 = new ii(3);
          Lo(n2, e3);
          var r2 = 1 / n2[0], i = 1 / n2[1], o2 = 1 / n2[2], a2 = e3[0] * r2, u2 = e3[1] * i, s2 = e3[2] * o2, c2 = e3[4] * r2, f2 = e3[5] * i, l2 = e3[6] * o2, h2 = e3[8] * r2, d2 = e3[9] * i, p2 = e3[10] * o2, v2 = a2 + f2 + p2, g2 = 0;
          return v2 > 0 ? (g2 = 2 * Math.sqrt(v2 + 1), t3[3] = 0.25 * g2, t3[0] = (l2 - d2) / g2, t3[1] = (h2 - s2) / g2, t3[2] = (u2 - c2) / g2) : a2 > f2 && a2 > p2 ? (g2 = 2 * Math.sqrt(1 + a2 - f2 - p2), t3[3] = (l2 - d2) / g2, t3[0] = 0.25 * g2, t3[1] = (u2 + c2) / g2, t3[2] = (h2 + s2) / g2) : f2 > p2 ? (g2 = 2 * Math.sqrt(1 + f2 - a2 - p2), t3[3] = (h2 - s2) / g2, t3[0] = (u2 + c2) / g2, t3[1] = 0.25 * g2, t3[2] = (l2 + d2) / g2) : (g2 = 2 * Math.sqrt(1 + p2 - a2 - f2), t3[3] = (u2 - c2) / g2, t3[0] = (h2 + s2) / g2, t3[1] = (l2 + d2) / g2, t3[2] = 0.25 * g2), t3;
        }
        function Fo(t3, e3) {
          var n2 = e3[0], r2 = e3[1], i = e3[2], o2 = e3[3], a2 = n2 + n2, u2 = r2 + r2, s2 = i + i, c2 = n2 * a2, f2 = r2 * a2, l2 = r2 * u2, h2 = i * a2, d2 = i * u2, p2 = i * s2, v2 = o2 * a2, g2 = o2 * u2, y2 = o2 * s2;
          return t3[0] = 1 - l2 - p2, t3[1] = f2 + y2, t3[2] = h2 - g2, t3[3] = 0, t3[4] = f2 - y2, t3[5] = 1 - c2 - p2, t3[6] = d2 + v2, t3[7] = 0, t3[8] = h2 + g2, t3[9] = d2 - v2, t3[10] = 1 - c2 - l2, t3[11] = 0, t3[12] = 0, t3[13] = 0, t3[14] = 0, t3[15] = 1, t3;
        }
        var Bo, zo, jo, Wo, Vo, Xo, Ho, qo, Yo, Ko, Zo, $o, Jo, Qo, ta, ea, na, ra, ia, oa, aa, ua, sa, ca;
        function fa(t3, e3) {
          var n2;
          if (typeof Symbol == "undefined" || t3[Symbol.iterator] == null) {
            if (Array.isArray(t3) || (n2 = function(t4, e4) {
              if (t4) {
                if (typeof t4 == "string")
                  return la(t4, e4);
                var n3 = Object.prototype.toString.call(t4).slice(8, -1);
                return n3 === "Object" && t4.constructor && (n3 = t4.constructor.name), n3 === "Map" || n3 === "Set" ? Array.from(t4) : n3 === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n3) ? la(t4, e4) : void 0;
              }
            }(t3)) || e3 && t3 && typeof t3.length == "number") {
              n2 && (t3 = n2);
              var r2 = 0, i = function() {
              };
              return { s: i, n: function() {
                return r2 >= t3.length ? { done: true } : { done: false, value: t3[r2++] };
              }, e: function(t4) {
                throw t4;
              }, f: i };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var o2, a2 = true, u2 = false;
          return { s: function() {
            n2 = t3[Symbol.iterator]();
          }, n: function() {
            var t4 = n2.next();
            return a2 = t4.done, t4;
          }, e: function(t4) {
            u2 = true, o2 = t4;
          }, f: function() {
            try {
              a2 || n2.return == null || n2.return();
            } finally {
              if (u2)
                throw o2;
            }
          } };
        }
        function la(t3, e3) {
          (e3 == null || e3 > t3.length) && (e3 = t3.length);
          for (var n2 = 0, r2 = new Array(e3); n2 < e3; n2++)
            r2[n2] = t3[n2];
          return r2;
        }
        var ha, da, pa, va, ga, ya, ma, ba, _a, xa, wa, Ea, Sa, Aa = (Bo = (0, Mr.b2)(), zo = (0, Mr.f3)(Pr.MeshComponentManager), jo = (0, Mr.f3)(Pr.GeometryComponentManager), Wo = (0, Mr.f3)(Pr.MaterialComponentManager), Vo = (0, Mr.f3)(Pr.CullableComponentManager), Xo = (0, Mr.f3)(Pr.TransformComponentManager), Ho = (0, Mr.f3)(Pr.HierarchyComponentManager), qo = (0, Mr.f3)(Pr.Systems), Yo = (0, Mr.t6)(Pr.FrameGraphSystem), Ko = (0, Mr.f3)(Pr.RenderEngine), Zo = (0, Mr.f3)(Pr.ResourcePool), Bo((ca = sa = function() {
          function t3() {
            var e4 = this;
            br(this, t3), mr(this, "mesh", Qo, this), mr(this, "geometry", ta, this), mr(this, "material", ea, this), mr(this, "cullable", na, this), mr(this, "transform", ra, this), mr(this, "hierarchy", ia, this), mr(this, "frameGraphSystem", oa, this), mr(this, "engine", aa, this), mr(this, "resourcePool", ua, this), this.modelCache = {}, this.setup = function(t4, e5, n3) {
              var r2 = t4.createRenderTarget(e5, "color buffer", { width: 1, height: 1, usage: Ri.RENDER_ATTACHMENT | Ri.SAMPLED | Ri.COPY_SRC });
              n3.data = { output: e5.write(t4, r2) };
            }, this.execute = function() {
              var t4 = Tr(Sr().mark(function t5(n3, r2, i) {
                var o2, a2, u2, s2, c2, f2;
                return Sr().wrap(function(t6) {
                  for (; ; )
                    switch (t6.prev = t6.next) {
                      case 0:
                        o2 = n3.getResourceNode(r2.data.output), a2 = e4.resourcePool.getOrCreateResource(o2.resource), u2 = fa(i), t6.prev = 3, u2.s();
                      case 5:
                        if ((s2 = u2.n()).done) {
                          t6.next = 11;
                          break;
                        }
                        return c2 = s2.value, t6.next = 9, e4.initView(c2);
                      case 9:
                        t6.next = 5;
                        break;
                      case 11:
                        t6.next = 16;
                        break;
                      case 13:
                        t6.prev = 13, t6.t0 = t6.catch(3), u2.e(t6.t0);
                      case 16:
                        return t6.prev = 16, u2.f(), t6.finish(16);
                      case 19:
                        f2 = e4.engine.getCanvas(), a2.resize({ width: f2.width, height: f2.height }), e4.engine.setScissor({ enable: false }), e4.engine.clear({ framebuffer: a2, color: i[0].getClearColor(), depth: 1 }), e4.engine.useFramebuffer(a2, function() {
                          var t7, n4 = fa(i);
                          try {
                            for (n4.s(); !(t7 = n4.n()).done; ) {
                              var r3 = t7.value;
                              e4.renderView(r3);
                            }
                          } catch (t8) {
                            n4.e(t8);
                          } finally {
                            n4.f();
                          }
                        });
                      case 24:
                      case "end":
                        return t6.stop();
                    }
                }, t5, null, [[3, 13, 16, 19]]);
              }));
              return function(e5, n3, r2) {
                return t4.apply(this, arguments);
              };
            }();
          }
          var e3, n2;
          return xr(t3, [{ key: "renderView", value: function(t4) {
            var e4 = t4.getScene(), n3 = t4.getCamera(), r2 = n3.getViewTransform(), i = Mo(No(), n3.getPerspective(), r2);
            n3.getFrustum().extractFromVPMatrix(i);
            var o2 = t4.getViewport(), a2 = o2.x, u2 = o2.y, s2 = o2.width, c2 = o2.height;
            this.engine.viewport({ x: a2, y: u2, width: s2, height: c2 });
            var f2, l2 = fa(e4.getEntities());
            try {
              for (l2.s(); !(f2 = l2.n()).done; ) {
                var h2 = f2.value;
                this.renderMesh(h2, { camera: n3, view: t4, viewMatrix: r2 });
              }
            } catch (t5) {
              l2.e(t5);
            } finally {
              l2.f();
            }
          } }, { key: "renderMesh", value: function(t4, e4) {
            var n3 = e4.camera, r2 = e4.view, i = e4.viewMatrix, o2 = this.mesh.getComponentByEntity(t4);
            if (o2 && o2.visible) {
              var a2 = o2.material, u2 = o2.geometry;
              if (u2 && !u2.dirty && a2) {
                var s2 = this.transform.getComponentByEntity(t4), c2 = Mo(No(), i, s2.worldTransform), f2 = r2.getViewport(), l2 = f2.width, h2 = f2.height;
                a2.setUniform({ projectionMatrix: n3.getPerspective(), modelViewMatrix: c2, modelMatrix: s2.worldTransform, viewMatrix: i, cameraPosition: n3.getPosition(), u_viewport: [l2, h2] }), o2.model && (o2.model.draw({ uniforms: a2.uniforms.reduce(function(t5, e5) {
                  return t5[e5.name] = e5.data, t5;
                }, {}) }), a2.uniforms.forEach(function(t5) {
                  t5.dirty = false;
                }), a2.dirty = false);
              }
            }
          } }, { key: "initMesh", value: (n2 = Tr(Sr().mark(function t4(e4, n3) {
            var r2, i, o2, a2, u2, s2, c2, f2;
            return Sr().wrap(function(t5) {
              for (; ; )
                switch (t5.prev = t5.next) {
                  case 0:
                    if (r2 = this.mesh.getComponentByEntity(e4)) {
                      t5.next = 3;
                      break;
                    }
                    return t5.abrupt("return");
                  case 3:
                    if (i = r2.material, (o2 = r2.geometry) && !o2.dirty && i) {
                      t5.next = 7;
                      break;
                    }
                    return t5.abrupt("return");
                  case 7:
                    if (r2.model) {
                      t5.next = 24;
                      break;
                    }
                    if (a2 = "m-".concat(i.entity, "-g-").concat(o2.entity), !this.modelCache[a2]) {
                      t5.next = 12;
                      break;
                    }
                    return r2.model = this.modelCache[a2], t5.abrupt("return");
                  case 12:
                    return i.setUniform({ projectionMatrix: 1, modelViewMatrix: 1, modelMatrix: 1, viewMatrix: 1, cameraPosition: 1, u_viewport: 1 }), u2 = this.engine, s2 = u2.createModel, c2 = u2.createAttribute, f2 = { vs: i.vertexShaderGLSL, fs: i.fragmentShaderGLSL, defines: i.defines, attributes: o2.attributes.reduce(function(t6, e5) {
                      return e5.data && e5.buffer && (t6[e5.name] = c2({ buffer: e5.buffer, attributes: e5.attributes, arrayStride: e5.arrayStride, stepMode: e5.stepMode, divisor: e5.stepMode === "vertex" ? 0 : 1 })), t6;
                    }, {}), uniforms: i.uniforms.reduce(function(t6, e5) {
                      return t6[e5.name] = e5.data, t6;
                    }, {}), scissor: { enable: true, box: function() {
                      return n3.getViewport();
                    } } }, i.cull && (f2.cull = i.cull), i.depth && (f2.depth = i.depth), i.blend && (f2.blend = i.blend), o2.indicesBuffer && (f2.elements = o2.indicesBuffer), o2.maxInstancedCount && (f2.instances = o2.maxInstancedCount, f2.count = o2.vertexCount || 3), t5.next = 22, s2(f2);
                  case 22:
                    r2.model = t5.sent, this.modelCache[a2] = r2.model;
                  case 24:
                  case "end":
                    return t5.stop();
                }
            }, t4, this);
          })), function(t4, e4) {
            return n2.apply(this, arguments);
          }) }, { key: "initView", value: (e3 = Tr(Sr().mark(function t4(e4) {
            var n3, r2, i, o2;
            return Sr().wrap(function(t5) {
              for (; ; )
                switch (t5.prev = t5.next) {
                  case 0:
                    n3 = e4.getScene(), r2 = fa(n3.getEntities()), t5.prev = 2, r2.s();
                  case 4:
                    if ((i = r2.n()).done) {
                      t5.next = 10;
                      break;
                    }
                    return o2 = i.value, t5.next = 8, this.initMesh(o2, e4);
                  case 8:
                    t5.next = 4;
                    break;
                  case 10:
                    t5.next = 15;
                    break;
                  case 12:
                    t5.prev = 12, t5.t0 = t5.catch(2), r2.e(t5.t0);
                  case 15:
                    return t5.prev = 15, r2.f(), t5.finish(15);
                  case 18:
                  case "end":
                    return t5.stop();
                }
            }, t4, this, [[2, 12, 15, 18]]);
          })), function(t4) {
            return e3.apply(this, arguments);
          }) }]), t3;
        }(), sa.IDENTIFIER = "Render Pass", Qo = wr((Jo = ca).prototype, "mesh", [zo], { configurable: true, enumerable: true, writable: true, initializer: null }), ta = wr(Jo.prototype, "geometry", [jo], { configurable: true, enumerable: true, writable: true, initializer: null }), ea = wr(Jo.prototype, "material", [Wo], { configurable: true, enumerable: true, writable: true, initializer: null }), na = wr(Jo.prototype, "cullable", [Vo], { configurable: true, enumerable: true, writable: true, initializer: null }), ra = wr(Jo.prototype, "transform", [Xo], { configurable: true, enumerable: true, writable: true, initializer: null }), ia = wr(Jo.prototype, "hierarchy", [Ho], { configurable: true, enumerable: true, writable: true, initializer: null }), oa = wr(Jo.prototype, "frameGraphSystem", [qo, Yo], { configurable: true, enumerable: true, writable: true, initializer: null }), aa = wr(Jo.prototype, "engine", [Ko], { configurable: true, enumerable: true, writable: true, initializer: null }), ua = wr(Jo.prototype, "resourcePool", [Zo], { configurable: true, enumerable: true, writable: true, initializer: null }), $o = Jo)) || $o);
        function Ta(t3, e3) {
          var n2;
          if (typeof Symbol == "undefined" || t3[Symbol.iterator] == null) {
            if (Array.isArray(t3) || (n2 = function(t4, e4) {
              if (t4) {
                if (typeof t4 == "string")
                  return Ia(t4, e4);
                var n3 = Object.prototype.toString.call(t4).slice(8, -1);
                return n3 === "Object" && t4.constructor && (n3 = t4.constructor.name), n3 === "Map" || n3 === "Set" ? Array.from(t4) : n3 === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n3) ? Ia(t4, e4) : void 0;
              }
            }(t3)) || e3 && t3 && typeof t3.length == "number") {
              n2 && (t3 = n2);
              var r2 = 0, i = function() {
              };
              return { s: i, n: function() {
                return r2 >= t3.length ? { done: true } : { done: false, value: t3[r2++] };
              }, e: function(t4) {
                throw t4;
              }, f: i };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var o2, a2 = true, u2 = false;
          return { s: function() {
            n2 = t3[Symbol.iterator]();
          }, n: function() {
            var t4 = n2.next();
            return a2 = t4.done, t4;
          }, e: function(t4) {
            u2 = true, o2 = t4;
          }, f: function() {
            try {
              a2 || n2.return == null || n2.return();
            } finally {
              if (u2)
                throw o2;
            }
          } };
        }
        function Ia(t3, e3) {
          (e3 == null || e3 > t3.length) && (e3 = t3.length);
          for (var n2 = 0, r2 = new Array(e3); n2 < e3; n2++)
            r2[n2] = t3[n2];
          return r2;
        }
        var Ca, Da, Na, ka, Ra, Oa, Ma, Pa, Ga, La, Ua, Fa, Ba, za, ja, Wa, Va, Xa, Ha, qa, Ya, Ka, Za = (ha = (0, Mr.b2)(), da = (0, Mr.f3)(Pr.RenderEngine), pa = (0, Mr.f3)(Pr.ResourcePool), va = (0, Mr.f3)(Pr.RenderPassFactory), ga = (0, Mr.f3)(Pr.MeshComponentManager), ha((Sa = Ea = function() {
          function t3() {
            var e3 = this;
            br(this, t3), mr(this, "engine", ba, this), mr(this, "resourcePool", _a, this), mr(this, "renderPassFactory", xa, this), mr(this, "mesh", wa, this), this.pickingFBO = void 0, this.views = void 0, this.highlightEnabled = true, this.highlightColor = [255, 0, 0, 255], this.alreadyInRendering = false, this.setup = function(t4, e4, n2) {
              var r2 = t4.createRenderTarget(e4, "picking fbo", { width: 1, height: 1 });
              n2.data = { output: e4.write(t4, r2) }, e4.hasSideEffect = true;
            }, this.execute = function() {
              var t4 = Tr(Sr().mark(function t5(n2, r2, i) {
                var o2, a2, u2;
                return Sr().wrap(function(t6) {
                  for (; ; )
                    switch (t6.prev = t6.next) {
                      case 0:
                        if (e3.views = i, !e3.alreadyInRendering) {
                          t6.next = 3;
                          break;
                        }
                        return t6.abrupt("return");
                      case 3:
                        o2 = Ta(i);
                        try {
                          for (u2 = function() {
                            var t7 = a2.value, i2 = t7.getViewport(), o3 = i2.width, u3 = i2.height;
                            e3.alreadyInRendering = true;
                            var s2 = n2.getResourceNode(r2.data.output);
                            e3.pickingFBO = e3.resourcePool.getOrCreateResource(s2.resource), e3.pickingFBO.resize({ width: o3, height: u3 }), e3.engine.useFramebuffer(e3.pickingFBO, function() {
                              e3.engine.clear({ framebuffer: e3.pickingFBO, color: [0, 0, 0, 0], stencil: 0, depth: 1 });
                              var n3, r3 = e3.renderPassFactory(Aa.IDENTIFIER), i3 = [], o4 = Ta(t7.getScene().getEntities());
                              try {
                                for (o4.s(); !(n3 = o4.n()).done; ) {
                                  var a3 = n3.value, u4 = e3.mesh.getComponentByEntity(a3);
                                  u4.material.setUniform("u_PickingStage", 1), i3.push(u4);
                                }
                              } catch (t8) {
                                o4.e(t8);
                              } finally {
                                o4.f();
                              }
                              r3.renderView(t7), i3.forEach(function(t8) {
                                t8.material.setUniform("u_PickingStage", 2);
                              }), e3.alreadyInRendering = false;
                            });
                          }, o2.s(); !(a2 = o2.n()).done; )
                            u2();
                        } catch (t7) {
                          o2.e(t7);
                        } finally {
                          o2.f();
                        }
                      case 5:
                      case "end":
                        return t6.stop();
                    }
                }, t5);
              }));
              return function(e4, n2, r2) {
                return t4.apply(this, arguments);
              };
            }(), this.pick = function(t4, n2) {
              var r2, i, o2 = t4.x, a2 = t4.y, u2 = e3.engine, s2 = u2.readPixels, c2 = u2.useFramebuffer, f2 = n2.getViewport(), l2 = f2.width, h2 = f2.height, d2 = o2 * window.devicePixelRatio, p2 = a2 * window.devicePixelRatio;
              if (!(d2 > l2 || d2 < 0 || p2 > h2 || p2 < 0))
                return c2(e3.pickingFBO, function() {
                  var t5;
                  (r2 = s2({ x: Math.round(d2), y: Math.round(h2 - (a2 + 1) * window.devicePixelRatio), width: 1, height: 1, data: new Uint8Array(4), framebuffer: e3.pickingFBO }))[0] === 0 && r2[1] === 0 && r2[2] === 0 || (t5 = Or(r2, 3), i = t5[0] + 256 * t5[1] + 65536 * t5[2] - 1, e3.highlightEnabled && e3.highlightPickedFeature(r2, n2));
                }), i;
            };
          }
          return xr(t3, [{ key: "enableHighlight", value: function(t4) {
            this.highlightEnabled = t4;
          } }, { key: "setHighlightColor", value: function(t4) {
            this.highlightColor = t4;
          } }, { key: "highlightPickedFeature", value: function(t4, e3) {
            if (t4) {
              var n2, r2 = Ta(e3.getScene().getEntities());
              try {
                for (r2.s(); !(n2 = r2.n()).done; ) {
                  var i = n2.value, o2 = this.mesh.getComponentByEntity(i).material;
                  o2.setUniform("u_PickingStage", 2), o2.setUniform("u_PickingColor", [t4[0], t4[1], t4[2]]), o2.setUniform("u_HighlightColor", this.highlightColor);
                }
              } catch (t5) {
                r2.e(t5);
              } finally {
                r2.f();
              }
            }
          } }]), t3;
        }(), Ea.IDENTIFIER = "PixelPicking Pass", ba = wr((ma = Sa).prototype, "engine", [da], { configurable: true, enumerable: true, writable: true, initializer: null }), _a = wr(ma.prototype, "resourcePool", [pa], { configurable: true, enumerable: true, writable: true, initializer: null }), xa = wr(ma.prototype, "renderPassFactory", [va], { configurable: true, enumerable: true, writable: true, initializer: null }), wa = wr(ma.prototype, "mesh", [ga], { configurable: true, enumerable: true, writable: true, initializer: null }), ya = ma)) || ya), $a = (Ca = (0, Mr.b2)(), Da = (0, Mr.f3)(Pr.RenderEngine), Na = (0, Mr.f3)(Pr.ResourcePool), Ca((Ga = Pa = function t3() {
          var e3 = this;
          br(this, t3), mr(this, "engine", Oa, this), mr(this, "resourcePool", Ma, this), this.model = void 0, this.setup = function(t4, e4, n2) {
            var r2 = t4.getPass(Aa.IDENTIFIER);
            if (r2) {
              var i = t4.createRenderTarget(e4, "render to screen", { width: 1, height: 1 });
              n2.data = { input: e4.read(r2.data.output), output: e4.write(t4, i) };
            }
          }, this.execute = function() {
            var t4 = Tr(Sr().mark(function t5(n2, r2) {
              var i, o2, a2, u2, s2, c2, f2;
              return Sr().wrap(function(t6) {
                for (; ; )
                  switch (t6.prev = t6.next) {
                    case 0:
                      if (i = e3.engine, o2 = i.createModel, a2 = i.createAttribute, u2 = i.createBuffer, e3.model) {
                        t6.next = 6;
                        break;
                      }
                      return t6.next = 4, o2({ vs: e3.engine.supportWebGPU ? "layout(location = 0) in vec2 a_Position;\nlayout(location = 0) out vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}" : "attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}", fs: e3.engine.supportWebGPU ? "layout(set = 0, binding = 0) uniform sampler u_TextureSampler;\nlayout(set = 0, binding = 1) uniform texture2D u_Texture;\n\nlayout(location = 0) in vec2 v_UV;\nlayout(location = 0) out vec4 outColor;\n\nvoid main() {\n  outColor = texture(sampler2D(u_Texture, u_TextureSampler), v_UV);\n}" : "varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n}", attributes: { a_Position: a2({ buffer: u2({ data: [-4, -4, 4, -4, 0, 4], type: Ri.FLOAT }), size: 2, arrayStride: 8, stepMode: "vertex", attributes: [{ shaderLocation: 0, offset: 0, format: "float2" }] }) }, uniforms: { u_Texture: null }, depth: { enable: false }, count: 3, blend: { enable: true } });
                    case 4:
                      s2 = t6.sent, e3.model = s2;
                    case 6:
                      c2 = n2.getResourceNode(r2.data.input), f2 = e3.resourcePool.getOrCreateResource(c2.resource), e3.engine.useFramebuffer(null, function() {
                        e3.engine.clear({ framebuffer: null, color: [0, 0, 0, 0], depth: 1, stencil: 0 }), e3.model.draw({ uniforms: { u_Texture: f2 } });
                      });
                    case 9:
                    case "end":
                      return t6.stop();
                  }
              }, t5);
            }));
            return function(e4, n2) {
              return t4.apply(this, arguments);
            };
          }(), this.tearDown = function() {
            e3.model = void 0;
          };
        }, Pa.IDENTIFIER = "Copy Pass", Oa = wr((Ra = Ga).prototype, "engine", [Da], { configurable: true, enumerable: true, writable: true, initializer: null }), Ma = wr(Ra.prototype, "resourcePool", [Na], { configurable: true, enumerable: true, writable: true, initializer: null }), ka = Ra)) || ka), Ja = (La = (0, Mr.b2)(), Ua = (0, Mr.f3)(Pr.Systems), Fa = (0, Mr.t6)(Pr.FrameGraphSystem), Ba = (0, Mr.f3)(Pr.RenderPassFactory), za = (0, Mr.f3)(Pr.ConfigService), ja = (0, Mr.f3)(Pr.ResourcePool), La((Ka = function() {
          function t3() {
            br(this, t3), mr(this, "frameGraphSystem", Xa, this), mr(this, "renderPassFactory", Ha, this), mr(this, "configService", qa, this), mr(this, "resourcePool", Ya, this);
          }
          var e3;
          return xr(t3, [{ key: "execute", value: (e3 = Tr(Sr().mark(function t4(e4) {
            var n2, r2, i, o2, a2, u2, s2, c2;
            return Sr().wrap(function(t5) {
              for (; ; )
                switch (t5.prev = t5.next) {
                  case 0:
                    n2 = this.renderPassFactory(Aa.IDENTIFIER), r2 = n2.setup, i = n2.execute, this.frameGraphSystem.addPass(Aa.IDENTIFIER, r2, i), o2 = this.renderPassFactory($a.IDENTIFIER), a2 = o2.setup, u2 = o2.execute, s2 = o2.tearDown, c2 = this.frameGraphSystem.addPass($a.IDENTIFIER, a2, u2, s2), this.frameGraphSystem.present(c2.data.output);
                  case 5:
                  case "end":
                    return t5.stop();
                }
            }, t4, this);
          })), function(t4) {
            return e3.apply(this, arguments);
          }) }, { key: "tearDown", value: function() {
            this.resourcePool.clean();
          } }, { key: "pick", value: function(t4, e4) {
            return this.renderPassFactory(Za.IDENTIFIER).pick(t4, e4);
          } }]), t3;
        }(), Xa = wr((Va = Ka).prototype, "frameGraphSystem", [Ua, Fa], { configurable: true, enumerable: true, writable: true, initializer: null }), Ha = wr(Va.prototype, "renderPassFactory", [Ba], { configurable: true, enumerable: true, writable: true, initializer: null }), qa = wr(Va.prototype, "configService", [za], { configurable: true, enumerable: true, writable: true, initializer: null }), Ya = wr(Va.prototype, "resourcePool", [ja], { configurable: true, enumerable: true, writable: true, initializer: null }), Wa = Va)) || Wa);
        var Qa, tu, eu, nu, ru, iu, ou, au, uu, su, cu = function(t3) {
          Br(i, t3);
          var e3, n2, r2 = (e3 = i, n2 = function() {
            if (typeof Reflect == "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy == "function")
              return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }(), function() {
            var t4, r3 = Vr(e3);
            if (n2) {
              var i2 = Vr(this).constructor;
              t4 = Reflect.construct(r3, arguments, i2);
            } else
              t4 = r3.apply(this, arguments);
            return Wr(this, t4);
          });
          function i(t4) {
            var e4;
            return br(this, i), (e4 = r2.call(this, t4)).parentID = void 0, Object.assign(jr(e4), t4), e4;
          }
          return i;
        }(Dr), fu = (Qa = (0, Mr.b2)(), tu = (0, Mr.f3)(Pr.HierarchyComponentManager), eu = (0, Mr.f3)(Pr.TransformComponentManager), nu = (0, Mr.f3)(Pr.MeshComponentManager), Qa((su = function() {
          function t3() {
            br(this, t3), mr(this, "hierarchy", ou, this), mr(this, "transform", au, this), mr(this, "mesh", uu, this);
          }
          var e3;
          return xr(t3, [{ key: "execute", value: (e3 = Tr(Sr().mark(function t4() {
            return Sr().wrap(function(t5) {
              for (; ; )
                switch (t5.prev = t5.next) {
                  case 0:
                    this.runTransformUpdateSystem(), this.runHierarchyUpdateSystem();
                  case 2:
                  case "end":
                    return t5.stop();
                }
            }, t4, this);
          })), function() {
            return e3.apply(this, arguments);
          }) }, { key: "tearDown", value: function() {
            this.hierarchy.clear(), this.transform.clear();
          } }, { key: "getHierarchyComponentManager", value: function() {
            return this.hierarchy;
          } }, { key: "getTransformComponentManager", value: function() {
            return this.transform;
          } }, { key: "runTransformUpdateSystem", value: function() {
            var t4 = this;
            this.transform.forEach(function(e4, n2) {
              (n2.isDirty() || n2.isLocalDirty()) && (t4.setMeshAABBDirty(t4.mesh.getComponentByEntity(e4)), n2.updateTransform());
            });
          } }, { key: "runHierarchyUpdateSystem", value: function() {
            var t4 = this;
            this.hierarchy.forEach(function(e4, n2) {
              var r2 = t4.transform.getComponentByEntity(e4), i = t4.transform.getComponentByEntity(n2.parentID);
              r2 !== null && i !== null && r2.updateTransformWithParent(i);
            });
          } }, { key: "attach", value: function(t4, e4, n2) {
            this.hierarchy.contains(t4) && this.detach(t4), this.hierarchy.create(t4, { parentID: e4 });
            var r2 = this.mesh.getComponentByEntity(e4);
            if (this.setMeshAABBDirty(r2), r2 && r2.children.indexOf(t4) === -1 && r2.children.push(t4), this.hierarchy.getCount() > 1) {
              for (var i = this.hierarchy.getCount() - 1; i > 0; --i)
                for (var o2 = this.hierarchy.getEntity(i), a2 = 0; a2 < i; ++a2)
                  if (this.hierarchy.getComponent(a2).parentID === o2) {
                    this.hierarchy.moveItem(i, a2), ++i;
                    break;
                  }
            }
            this.hierarchy.getComponentByEntity(t4);
            var u2 = this.transform.getComponentByEntity(e4);
            u2 === null && (u2 = this.transform.create(e4));
            var s2 = this.transform.getComponentByEntity(t4);
            s2 === null && (s2 = this.transform.create(t4), u2 = this.transform.getComponentByEntity(e4)), s2.parent = u2, !n2 && u2 && (s2.matrixTransform(Oo(No(), u2.worldTransform)), s2.updateTransform()), u2 && s2.updateTransformWithParent(u2);
          } }, { key: "detach", value: function(t4) {
            var e4 = this.hierarchy.getComponentByEntity(t4);
            if (e4 !== null) {
              var n2 = this.transform.getComponentByEntity(t4);
              n2 !== null && (n2.parent = null, n2.applyTransform()), this.hierarchy.removeKeepSorted(t4);
              var r2 = this.mesh.getComponentByEntity(e4.parentID);
              if (r2) {
                var i = r2.children.indexOf(t4);
                r2.children.splice(i, 1);
              }
              this.setMeshAABBDirty(r2);
            }
          } }, { key: "detachChildren", value: function(t4) {
            var e4 = this.mesh.getComponentByEntity(t4);
            e4 && (e4.children = []);
            for (var n2 = 0; n2 < this.hierarchy.getCount(); ) {
              var r2;
              if (((r2 = this.hierarchy.getComponent(n2)) === null || r2 === void 0 ? void 0 : r2.parentID) === t4) {
                var i = this.hierarchy.getEntity(n2);
                this.detach(i);
              } else
                ++n2;
            }
          } }, { key: "setMeshAABBDirty", value: function(t4) {
            t4 && (t4.aabbDirty = true);
          } }]), t3;
        }(), ou = wr((iu = su).prototype, "hierarchy", [tu], { configurable: true, enumerable: true, writable: true, initializer: null }), au = wr(iu.prototype, "transform", [eu], { configurable: true, enumerable: true, writable: true, initializer: null }), uu = wr(iu.prototype, "mesh", [nu], { configurable: true, enumerable: true, writable: true, initializer: null }), ru = iu)) || ru);
        function lu() {
          var t3 = new ii(4);
          return ii != Float32Array && (t3[0] = 0, t3[1] = 0, t3[2] = 0), t3[3] = 1, t3;
        }
        function hu(t3, e3, n2) {
          n2 *= 0.5;
          var r2 = Math.sin(n2);
          return t3[0] = r2 * e3[0], t3[1] = r2 * e3[1], t3[2] = r2 * e3[2], t3[3] = Math.cos(n2), t3;
        }
        function du(t3, e3, n2) {
          var r2 = e3[0], i = e3[1], o2 = e3[2], a2 = e3[3], u2 = n2[0], s2 = n2[1], c2 = n2[2], f2 = n2[3];
          return t3[0] = r2 * f2 + a2 * u2 + i * c2 - o2 * s2, t3[1] = i * f2 + a2 * s2 + o2 * u2 - r2 * c2, t3[2] = o2 * f2 + a2 * c2 + r2 * s2 - i * u2, t3[3] = a2 * f2 - r2 * u2 - i * s2 - o2 * c2, t3;
        }
        function pu(t3, e3) {
          var n2 = e3[0], r2 = e3[1], i = e3[2], o2 = e3[3], a2 = n2 * n2 + r2 * r2 + i * i + o2 * o2, u2 = a2 ? 1 / a2 : 0;
          return t3[0] = -n2 * u2, t3[1] = -r2 * u2, t3[2] = -i * u2, t3[3] = o2 * u2, t3;
        }
        function vu(t3, e3, n2, r2) {
          var i = 0.5 * Math.PI / 180;
          e3 *= i, n2 *= i, r2 *= i;
          var o2 = Math.sin(e3), a2 = Math.cos(e3), u2 = Math.sin(n2), s2 = Math.cos(n2), c2 = Math.sin(r2), f2 = Math.cos(r2);
          return t3[0] = o2 * s2 * f2 - a2 * u2 * c2, t3[1] = a2 * u2 * f2 + o2 * s2 * c2, t3[2] = a2 * s2 * c2 - o2 * u2 * f2, t3[3] = a2 * s2 * f2 + o2 * u2 * c2, t3;
        }
        var gu = ai, yu = function(t3, e3) {
          return t3[0] = e3[0], t3[1] = e3[1], t3[2] = e3[2], t3[3] = e3[3], t3;
        }, mu = du, bu = function(t3, e3) {
          var n2 = e3[0], r2 = e3[1], i = e3[2], o2 = e3[3], a2 = n2 * n2 + r2 * r2 + i * i + o2 * o2;
          return a2 > 0 && (a2 = 1 / Math.sqrt(a2)), t3[0] = n2 * a2, t3[1] = r2 * a2, t3[2] = i * a2, t3[3] = o2 * a2, t3;
        };
        ci(), hi(1, 0, 0), hi(0, 1, 0), lu(), lu(), si();
        var _u = function(t3) {
          Br(i, t3);
          var e3, n2, r2 = (e3 = i, n2 = function() {
            if (typeof Reflect == "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy == "function")
              return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }(), function() {
            var t4, r3 = Vr(e3);
            if (n2) {
              var i2 = Vr(this).constructor;
              t4 = Reflect.construct(r3, arguments, i2);
            } else
              t4 = r3.apply(this, arguments);
            return Wr(this, t4);
          });
          function i(t4) {
            var e4, n3, o2, a2, u2, s2, c2, f2, l2, h2, d2, p2, v2, g2, y2;
            return br(this, i), (e4 = r2.call(this, t4)).dirtyFlag = void 0, e4.localDirtyFlag = void 0, e4.parent = null, e4.localPosition = hi(0, 0, 0), e4.localRotation = gu(0, 0, 0, 1), e4.localScale = hi(1, 1, 1), e4.localTransform = No(), e4.position = hi(0, 0, 0), e4.rotation = gu(0, 0, 0, 1), e4.scaling = hi(1, 1, 1), e4.worldTransform = No(), e4.matrixTransform = (n3 = No(), function(t5) {
              Mo(n3, e4.getLocalTransform(), t5), Lo(e4.localScale, n3), Go(e4.localPosition, n3), Uo(e4.localRotation, n3);
            }), e4.rotateRollPitchYaw = (o2 = lu(), a2 = lu(), u2 = lu(), function(t5, n4, r3) {
              e4.setDirty(), vu(o2, t5, 0, 0), vu(a2, 0, n4, 0), vu(u2, 0, 0, r3), du(e4.localRotation, o2, e4.localRotation), du(e4.localRotation, e4.localRotation, a2), du(e4.localRotation, u2, e4.localRotation), bu(e4.localRotation, e4.localRotation);
            }), e4.lerp = (s2 = ci(), c2 = lu(), f2 = ci(), l2 = ci(), h2 = lu(), d2 = ci(), function(t5, n4, r3) {
              e4.setDirty(), Lo(s2, t5.worldTransform), Go(f2, t5.worldTransform), Uo(c2, t5.worldTransform), Lo(l2, n4.worldTransform), Go(d2, n4.worldTransform), Uo(h2, n4.worldTransform), _i(e4.localScale, s2, l2, r3), function(t6, e5, n5, r4) {
                var i2, o3, a3, u3, s3, c3 = e5[0], f3 = e5[1], l3 = e5[2], h3 = e5[3], d3 = n5[0], p3 = n5[1], v3 = n5[2], g3 = n5[3];
                (o3 = c3 * d3 + f3 * p3 + l3 * v3 + h3 * g3) < 0 && (o3 = -o3, d3 = -d3, p3 = -p3, v3 = -v3, g3 = -g3), 1 - o3 > ri ? (i2 = Math.acos(o3), a3 = Math.sin(i2), u3 = Math.sin((1 - r4) * i2) / a3, s3 = Math.sin(r4 * i2) / a3) : (u3 = 1 - r4, s3 = r4), t6[0] = u3 * c3 + s3 * d3, t6[1] = u3 * f3 + s3 * p3, t6[2] = u3 * l3 + s3 * v3, t6[3] = u3 * h3 + s3 * g3;
              }(e4.localRotation, c2, h2, r3), _i(e4.localPosition, f2, d2, r3);
            }), e4.translate = (p2 = ci(), function(t5) {
              return vi(p2, e4.getPosition(), t5), e4.setPosition(p2), e4.setDirty(true), jr(e4);
            }), e4.translateLocal = function(t5) {
              return n4 = t5, r3 = t5, i2 = e4.localRotation, o3 = i2[0], a3 = i2[1], u3 = i2[2], s3 = i2[3], c3 = r3[0], f3 = r3[1], l3 = r3[2], v3 = a3 * (p3 = o3 * f3 - a3 * c3) - u3 * (d3 = u3 * c3 - o3 * l3), g3 = u3 * (h3 = a3 * l3 - u3 * f3) - o3 * p3, y3 = o3 * d3 - a3 * h3, h3 *= m2 = 2 * s3, d3 *= m2, p3 *= m2, v3 *= 2, g3 *= 2, y3 *= 2, n4[0] = c3 + h3 + v3, n4[1] = f3 + d3 + g3, n4[2] = l3 + p3 + y3, vi(e4.localPosition, e4.localPosition, t5), e4.setLocalDirty(true), jr(e4);
              var n4, r3, i2, o3, a3, u3, s3, c3, f3, l3, h3, d3, p3, v3, g3, y3, m2;
            }, e4.setPosition = (v2 = No(), function(t5) {
              return e4.position = t5, e4.setLocalDirty(true), e4.parent === null ? di(e4.localPosition, t5) : (ko(v2, e4.parent.worldTransform), Oo(v2, v2), xi(e4.localPosition, t5, v2)), jr(e4);
            }), e4.rotate = (g2 = lu(), function(t5) {
              if (e4.parent === null)
                du(e4.localRotation, e4.localRotation, t5), bu(e4.localRotation, e4.localRotation);
              else {
                var n4 = e4.getRotation(), r3 = e4.parent.getRotation();
                yu(g2, r3), pu(g2, g2), du(g2, g2, t5), du(e4.localRotation, t5, n4), bu(e4.localRotation, e4.localRotation);
              }
              return e4.setLocalDirty(), jr(e4);
            }), e4.rotateLocal = function(t5) {
              return du(e4.localRotation, e4.localRotation, t5), bu(e4.localRotation, e4.localRotation), e4.setLocalDirty(true), jr(e4);
            }, e4.setRotation = (y2 = lu(), function(t5) {
              return e4.parent === null ? yu(e4.localRotation, t5) : (yu(y2, e4.parent.getRotation()), pu(y2, y2), yu(e4.localRotation, y2), mu(e4.localRotation, e4.localRotation, t5)), e4.setLocalDirty(true), jr(e4);
            }), e4;
          }
          return xr(i, [{ key: "setLocalPosition", value: function(t4) {
            di(this.localPosition, t4), this.setLocalDirty(true);
          } }, { key: "setLocalScale", value: function(t4) {
            di(this.localScale, t4), this.setLocalDirty(true);
          } }, { key: "setLocalRotation", value: function(t4) {
            return yu(this.localRotation, t4), this.setLocalDirty(true), this;
          } }, { key: "isDirty", value: function() {
            return this.dirtyFlag;
          } }, { key: "setDirty", value: function() {
            var t4 = !(arguments.length > 0 && arguments[0] !== void 0) || arguments[0];
            t4 ? this.dirtyFlag |= i.DIRTY : this.dirtyFlag &= ~i.DIRTY;
          } }, { key: "isLocalDirty", value: function() {
            return this.localDirtyFlag;
          } }, { key: "setLocalDirty", value: function() {
            var t4 = !(arguments.length > 0 && arguments[0] !== void 0) || arguments[0];
            t4 ? (this.localDirtyFlag |= i.DIRTY, this.setDirty(true)) : this.localDirtyFlag &= ~i.DIRTY;
          } }, { key: "updateTransform", value: function() {
            this.isLocalDirty() && this.getLocalTransform(), this.isDirty() && this.parent === null && (ko(this.worldTransform, this.getLocalTransform()), this.setDirty(false));
          } }, { key: "updateTransformWithParent", value: function(t4) {
            Mo(this.worldTransform, t4.worldTransform, this.getLocalTransform());
          } }, { key: "applyTransform", value: function() {
            this.setDirty(), Lo(this.localScale, this.worldTransform), Go(this.localPosition, this.worldTransform), Uo(this.localRotation, this.worldTransform);
          } }, { key: "clearTransform", value: function() {
            this.setDirty(), this.localPosition = hi(0, 0, 0), this.localRotation = gu(0, 0, 0, 1), this.localScale = hi(1, 1, 1);
          } }, { key: "scaleLocal", value: function(t4) {
            return this.setLocalDirty(), e4 = this.localScale, n3 = this.localScale, r3 = t4, e4[0] = n3[0] * r3[0], e4[1] = n3[1] * r3[1], e4[2] = n3[2] * r3[2], this;
            var e4, n3, r3;
          } }, { key: "getLocalPosition", value: function() {
            return this.localPosition;
          } }, { key: "getLocalRotation", value: function() {
            return this.localRotation;
          } }, { key: "getLocalScale", value: function() {
            return this.localScale;
          } }, { key: "getLocalTransform", value: function() {
            return this.localDirtyFlag && (t4 = this.localTransform, e4 = this.localRotation, n3 = this.localPosition, r3 = this.localScale, i2 = e4[0], o2 = e4[1], a2 = e4[2], u2 = e4[3], l2 = i2 * (s2 = i2 + i2), h2 = i2 * (c2 = o2 + o2), d2 = i2 * (f2 = a2 + a2), p2 = o2 * c2, v2 = o2 * f2, g2 = a2 * f2, y2 = u2 * s2, m2 = u2 * c2, b2 = u2 * f2, _2 = r3[0], x2 = r3[1], w2 = r3[2], t4[0] = (1 - (p2 + g2)) * _2, t4[1] = (h2 + b2) * _2, t4[2] = (d2 - m2) * _2, t4[3] = 0, t4[4] = (h2 - b2) * x2, t4[5] = (1 - (l2 + g2)) * x2, t4[6] = (v2 + y2) * x2, t4[7] = 0, t4[8] = (d2 + m2) * w2, t4[9] = (v2 - y2) * w2, t4[10] = (1 - (l2 + p2)) * w2, t4[11] = 0, t4[12] = n3[0], t4[13] = n3[1], t4[14] = n3[2], t4[15] = 1, this.setLocalDirty(false)), this.localTransform;
            var t4, e4, n3, r3, i2, o2, a2, u2, s2, c2, f2, l2, h2, d2, p2, v2, g2, y2, m2, b2, _2, x2, w2;
          } }, { key: "getWorldTransform", value: function() {
            return this.isLocalDirty() || this.isDirty() ? (this.parent && this.parent.getWorldTransform(), this.updateTransform(), this.worldTransform) : this.worldTransform;
          } }, { key: "getPosition", value: function() {
            return Go(this.position, this.worldTransform), this.position;
          } }, { key: "getRotation", value: function() {
            return Uo(this.rotation, this.worldTransform), this.rotation;
          } }, { key: "getScale", value: function() {
            return Lo(this.scaling, this.worldTransform), this.scaling;
          } }]), i;
        }(Dr);
        _u.DIRTY = 1;
        var xu, wu, Eu, Su, Au, Tu, Iu = n(1922), Cu = (xu = (0, Mr.b2)(), wu = (0, Mr.f3)(Pr.RenderEngine), xu((Tu = function() {
          function t3() {
            br(this, t3), mr(this, "engine", Au, this), this.resourcePool = {};
          }
          return xr(t3, [{ key: "getOrCreateResource", value: function(t4) {
            if (!this.resourcePool[t4.name]) {
              var e3 = t4.descriptor, n2 = e3.width, r2 = e3.height, i = e3.usage;
              this.resourcePool[t4.name] = this.engine.createFramebuffer({ color: this.engine.createTexture2D({ width: n2, height: r2, wrapS: Ri.CLAMP_TO_EDGE, wrapT: Ri.CLAMP_TO_EDGE, usage: i }) });
            }
            return this.resourcePool[t4.name];
          } }, { key: "clean", value: function() {
            this.resourcePool = {};
          } }]), t3;
        }(), Au = wr((Su = Tu).prototype, "engine", [wu], { configurable: true, enumerable: true, writable: true, initializer: null }), Eu = Su)) || Eu);
        var Du, Nu, ku, Ru, Ou = function(t3) {
          Br(i, t3);
          var e3, n2, r2 = (e3 = i, n2 = function() {
            if (typeof Reflect == "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy == "function")
              return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }(), function() {
            var t4, r3 = Vr(e3);
            if (n2) {
              var i2 = Vr(this).constructor;
              t4 = Reflect.construct(r3, arguments, i2);
            } else
              t4 = r3.apply(this, arguments);
            return Wr(this, t4);
          });
          function i(t4) {
            var e4;
            return br(this, i), (e4 = r2.call(this, t4)).name = void 0, e4.name = t4.name || "", e4;
          }
          return i;
        }(Dr), Mu = (0, Mr.b2)()((Nu = function() {
          function t3() {
            br(this, t3), this.config = void 0;
          }
          return xr(t3, [{ key: "get", value: function() {
            return this.config;
          } }, { key: "set", value: function(t4) {
            this.config = t4;
          } }]), t3;
        }(), Du = Nu)) || Du;
        !function(t3) {
          t3.PANSTART = "PANSTART", t3.PANEND = "PANEND", t3.PANMOVE = "PANMOVE", t3.PINCH = "PINCH", t3.KEYDOWN = "KEYDOWN", t3.KEYUP = "KEYUP", t3.HOVER = "HOVER";
        }(Ru || (Ru = {}));
        var Pu, Gu, Lu = (0, Mr.b2)()(ku = function() {
          function t3() {
            br(this, t3);
          }
          return xr(t3, [{ key: "listen", value: function(t4) {
          } }, { key: "on", value: function(t4, e3) {
          } }, { key: "connect", value: function() {
          } }, { key: "disconnect", value: function() {
          } }, { key: "destroy", value: function() {
          } }]), t3;
        }()) || ku, Uu = /uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;
        function Fu(t3) {
          var e3 = {};
          return { content: t3 = t3.replace(Uu, function(t4, n2, r2) {
            var i = r2.split(":"), o2 = i[0].trim(), a2 = "";
            switch (i.length > 1 && (a2 = i[1].trim()), n2) {
              case "bool":
                a2 = a2 === "true";
                break;
              case "float":
              case "int":
                a2 = Number(a2);
                break;
              case "vec2":
              case "vec3":
              case "vec4":
              case "ivec2":
              case "ivec3":
              case "ivec4":
              case "mat2":
              case "mat3":
              case "mat4":
                a2 = a2 ? a2.replace("[", "").replace("]", "").split(",").reduce(function(t5, e4) {
                  return t5.push(Number(e4.trim())), t5;
                }, []) : new Array(function(t5) {
                  var e4 = 0;
                  switch (t5) {
                    case "vec2":
                    case "ivec2":
                      e4 = 2;
                      break;
                    case "vec3":
                    case "ivec3":
                      e4 = 3;
                      break;
                    case "vec4":
                    case "ivec4":
                    case "mat2":
                      e4 = 4;
                      break;
                    case "mat3":
                      e4 = 9;
                      break;
                    case "mat4":
                      e4 = 16;
                  }
                  return e4;
                }(n2)).fill(0);
            }
            return e3[o2] = a2, "uniform ".concat(n2, " ").concat(o2, ";\n");
          }), uniforms: e3 };
        }
        function Bu(t3, e3) {
          var n2 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r2 = Object.getOwnPropertySymbols(t3);
            e3 && (r2 = r2.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n2.push.apply(n2, r2);
          }
          return n2;
        }
        function zu(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n2 = arguments[e3] != null ? arguments[e3] : {};
            e3 % 2 ? Bu(Object(n2), true).forEach(function(e4) {
              ni(t3, e4, n2[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n2)) : Bu(Object(n2)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n2, e4));
            });
          }
          return t3;
        }
        var ju = /precision\s+(high|low|medium)p\s+float/, Wu = /#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g, Vu = (0, Mr.b2)()((Gu = function() {
          function t3() {
            br(this, t3), this.moduleCache = {}, this.rawContentCache = {};
          }
          return xr(t3, [{ key: "registerBuiltinModules", value: function() {
            this.destroy(), this.registerModule("picking", { vs: "attribute vec3 a_PickingColor;\nvarying vec4 v_PickingResult;\n\nuniform vec3 u_PickingColor : [0, 0, 0];\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\nuniform float u_PickingThreshold : 1.0;\nuniform float u_PickingBuffer: 0.0;\n\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&\n    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&\n    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;\n}\n\nvoid setPickingColor(vec3 pickingColor) {\n  // compares only in highlight stage\n  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));\n\n  // Stores the picking color so that the fragment shader can render it during picking\n  v_PickingResult.rgb = pickingColor * COLOR_SCALE;\n}\n\nfloat setPickingSize(float x) {\n   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;\n}", fs: "varying vec4 v_PickingResult;\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\n\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\n/*\n * Returns highlight color if this item is selected.\n */\nvec4 filterHighlightColor(vec4 color) {\n  bool selected = bool(v_PickingResult.a);\n\n  if (selected) {\n    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;\n\n    float highLightAlpha = highLightColor.a;\n    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));\n\n    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);\n    return vec4(resultRGB, color.a);\n  } else {\n    return color;\n  }\n}\n\n/*\n * Returns picking color if picking enabled else unmodified argument.\n */\nvec4 filterPickingColor(vec4 color) {\n  vec3 pickingColor = v_PickingResult.rgb;\n  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {\n    discard;\n  }\n  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;\n}\n\n/*\n * Returns picking color if picking is enabled if not\n * highlight color if this item is selected, otherwise unmodified argument.\n */\nvec4 filterColor(vec4 color) {\n  return filterPickingColor(filterHighlightColor(color));\n}\n" }), this.registerModule("sdf2d", { vs: "", fs: "/**\n * 2D signed distance field functions\n * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm\n */\n\nfloat ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }\n\nfloat sdCircle(vec2 p, float r) {\n  return length(p) - r;\n}\n\nfloat sdEquilateralTriangle(vec2 p) {\n  float k = sqrt(3.0);\n  p.x = abs(p.x) - 1.0;\n  p.y = p.y + 1.0/k;\n  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;\n  p.x -= clamp( p.x, -2.0, 0.0 );\n  return -length(p)*sign(p.y);\n}\n\nfloat sdBox(vec2 p, vec2 b) {\n  vec2 d = abs(p)-b;\n  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);\n}\n\nfloat sdPentagon(vec2 p, float r) {\n  vec3 k = vec3(0.809016994,0.587785252,0.726542528);\n  p.x = abs(p.x);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagon(vec2 p, float r) {\n  vec3 k = vec3(-0.866025404,0.5,0.577350269);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdOctogon(vec2 p, float r) {\n  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );\n  p = abs(p);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagram(vec2 p, float r) {\n  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;\n  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdRhombus(vec2 p, vec2 b) {\n  vec2 q = abs(p);\n  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);\n  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );\n  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );\n}\n\nfloat sdVesica(vec2 p, float r, float d) {\n  p = abs(p);\n  float b = sqrt(r*r-d*d); // can delay this sqrt\n  return ((p.y-b)*d>p.x*b)\n          ? length(p-vec2(0.0,b))\n          : length(p-vec2(-d,0.0))-r;\n}" });
          } }, { key: "registerModule", value: function(t4, e3) {
            if (!this.rawContentCache[t4]) {
              var n2 = e3.vs, r2 = n2 === void 0 ? "" : n2, i = e3.fs, o2 = i === void 0 ? "" : i, a2 = e3.uniforms, u2 = Fu(r2), s2 = u2.content, c2 = u2.uniforms, f2 = Fu(o2), l2 = f2.content, h2 = f2.uniforms;
              this.rawContentCache[t4] = { fs: l2, uniforms: zu(zu(zu({}, c2), h2), a2), vs: s2 };
            }
          } }, { key: "destroy", value: function() {
            this.moduleCache = {}, this.rawContentCache = {};
          } }, { key: "getModule", value: function(t4) {
            var e3 = this;
            if (this.moduleCache[t4])
              return this.moduleCache[t4];
            var n2, r2 = this.rawContentCache[t4].vs || "", i = this.rawContentCache[t4].fs || "", o2 = this.processModule(r2, [], "vs"), a2 = o2.content, u2 = o2.includeList, s2 = this.processModule(i, [], "fs"), c2 = s2.content, f2 = s2.includeList, l2 = c2, h2 = (n2 = u2.concat(f2).concat(t4), n2.filter(function(t5, e4, n3) {
              return n3.indexOf(t5) === e4;
            })).reduce(function(t5, n3) {
              return zu(zu({}, t5), e3.rawContentCache[n3].uniforms);
            }, {});
            return ju.test(c2) || (l2 = "#ifdef GL_FRAGMENT_PRECISION_HIGH\n precision highp float;\n #else\n precision mediump float;\n#endif\n" + c2), this.moduleCache[t4] = { fs: l2.trim(), uniforms: h2, vs: a2.trim() }, this.moduleCache[t4];
          } }, { key: "processModule", value: function(t4, e3, n2) {
            var r2 = this;
            return { content: t4.replace(Wu, function(t5, i) {
              var o2 = i.split(" ")[0].replace(/"/g, "");
              if (e3.indexOf(o2) > -1)
                return "";
              var a2 = r2.rawContentCache[o2][n2];
              return e3.push(o2), r2.processModule(a2 || "", e3, n2).content;
            }), includeList: e3 };
          } }]), t3;
        }(), Pu = Gu)) || Pu, Xu = new Mr.W2();
        function Hu() {
          var t3 = new Mr.W2();
          return t3.parent = Xu, t3.bind(Pr.Systems).to(fu).inSingletonScope().whenTargetNamed(Pr.SceneGraphSystem), t3.bind(Pr.Systems).to(ei).inSingletonScope().whenTargetNamed(Pr.FrameGraphSystem), t3.bind(Pr.Systems).to(Do).inSingletonScope().whenTargetNamed(Pr.MeshSystem), t3.bind(Pr.Systems).to(ji).inSingletonScope().whenTargetNamed(Pr.GeometrySystem), t3.bind(Pr.Systems).to(oo).inSingletonScope().whenTargetNamed(Pr.MaterialSystem), t3.bind(Pr.Systems).to(Ja).inSingletonScope().whenTargetNamed(Pr.RendererSystem), t3.bind(Pr.ResourcePool).to(Cu).inSingletonScope(), t3.bind(Pr.ConfigService).to(Mu).inSingletonScope(), t3.bind(Pr.InteractorService).to(Lu).inSingletonScope(), t3.bind(Pr.RenderPass).to(Aa).inSingletonScope().whenTargetNamed(Aa.IDENTIFIER), t3.bind(Pr.RenderPass).to($a).inSingletonScope().whenTargetNamed($a.IDENTIFIER), t3.bind(Pr.RenderPass).to(Za).inSingletonScope().whenTargetNamed(Za.IDENTIFIER), t3.bind(Pr.RenderPassFactory).toFactory(function(t4) {
            return function(e3) {
              return t4.container.getNamed(Pr.RenderPass, e3);
            };
          }), t3;
        }
        function qu(t3) {
          for (var e3 = new uo(), n2 = hi(t3[0], t3[1], t3[2]), r2 = hi(t3[0], t3[1], t3[2]), i = 3; i < t3.length; ) {
            var o2 = t3[i++], a2 = t3[i++], u2 = t3[i++];
            o2 < n2[0] && (n2[0] = o2), a2 < n2[1] && (n2[1] = a2), u2 < n2[2] && (n2[2] = u2), o2 > r2[0] && (r2[0] = o2), a2 > r2[1] && (r2[1] = a2), u2 > r2[2] && (r2[2] = u2);
          }
          return e3.setMinMax(n2, r2), e3;
        }
        (0, Iu.Z)(Xu, false), Xu.bind(Pr.ShaderModuleService).to(Vu).inSingletonScope(), Xu.bind(Pr.NameComponentManager).toConstantValue(new Nr(Ou)), Xu.bind(Pr.HierarchyComponentManager).toConstantValue(new Nr(cu)), Xu.bind(Pr.TransformComponentManager).toConstantValue(new Nr(_u)), Xu.bind(Pr.MeshComponentManager).toConstantValue(new Nr(co)), Xu.bind(Pr.CullableComponentManager).toConstantValue(new Nr(ao)), Xu.bind(Pr.GeometryComponentManager).toConstantValue(new Nr(zi)), Xu.bind(Pr.MaterialComponentManager).toConstantValue(new Nr(eo));
        var Yu, Ku, Zu, $u, Ju, Qu = typeof navigator != "undefined" && /Version\/[\d\.]+.*Safari/.test(navigator.userAgent);
        function ts2(t3) {
          return typeof t3 == "number";
        }
        function es(t3) {
          return t3 === void 0 ? 0 : t3 > 360 || t3 < -360 ? t3 % 360 : t3;
        }
        function ns(t3, e3, n2) {
          return ts2(t3) ? hi(t3, e3, n2) : t3.length === 3 ? fi(t3) : hi(t3[0], t3[1], t3[2]);
        }
        ci(), ci(), ci(), ci(), ci(), ci(), n(2697), n(1894), n(1186), n(5275), n(2862), n(9633), function(t3) {
          t3.Normal = "normal", t3.PostProcessing = "post-processing";
        }(Yu || (Yu = {})), n(7222), n(5965), n(2391), n(3945), n(7294), n(9586), function(t3) {
          t3.Void = "Void", t3.Boolean = "Boolean", t3.Float = "Float", t3.Uint32 = "Uint32", t3.Int32 = "Int32", t3.Vector = "Vector", t3.Vector2Float = "vec2<f32>", t3.Vector3Float = "vec3<f32>", t3.Vector4Float = "vec4<f32>", t3.Vector2Boolean = "vec2<bool>", t3.Vector3Boolean = "vec3<bool>", t3.Vector4Boolean = "vec4<bool>", t3.Vector2Uint = "vec2<u32>", t3.Vector3Uint = "vec3<u32>", t3.Vector4Uint = "vec4<u32>", t3.Vector2Int = "vec2<i32>", t3.Vector3Int = "vec3<i32>", t3.Vector4Int = "vec4<i32>", t3.Matrix = "Matrix", t3.Matrix3x3Float = "mat3x3<f32>", t3.Matrix4x4Float = "mat4x4<i32>", t3.Struct = "Struct", t3.FloatArray = "Float[]", t3.Vector4FloatArray = "vec4<f32>[]";
        }(Ku || (Ku = {})), function(t3) {
          t3.Program = "Program", t3.Identifier = "Identifier", t3.VariableDeclaration = "VariableDeclaration", t3.BlockStatement = "BlockStatement", t3.ReturnStatement = "ReturnStatement", t3.FunctionDeclaration = "FunctionDeclaration", t3.VariableDeclarator = "VariableDeclarator", t3.AssignmentExpression = "AssignmentExpression", t3.LogicalExpression = "LogicalExpression", t3.BinaryExpression = "BinaryExpression", t3.ArrayExpression = "ArrayExpression", t3.UnaryExpression = "UnaryExpression", t3.UpdateExpression = "UpdateExpression", t3.FunctionExpression = "FunctionExpression", t3.MemberExpression = "MemberExpression", t3.ConditionalExpression = "ConditionalExpression", t3.ExpressionStatement = "ExpressionStatement", t3.CallExpression = "CallExpression", t3.NumThreadStatement = "NumThreadStatement", t3.StorageStatement = "StorageStatement", t3.DoWhileStatement = "DoWhileStatement", t3.WhileStatement = "WhileStatement", t3.ForStatement = "ForStatement", t3.BreakStatement = "BreakStatement", t3.ContinueStatement = "ContinueStatement", t3.IfStatement = "IfStatement", t3.ImportedFunctionStatement = "ImportedFunctionStatement";
        }(Zu || (Zu = {})), function(t3) {
          t3.Input = "Input", t3.Output = "Output", t3.Uniform = "Uniform", t3.Workgroup = "Workgroup", t3.UniformConstant = "UniformConstant", t3.Image = "Image", t3.StorageBuffer = "StorageBuffer", t3.Private = "Private", t3.Function = "Function";
        }($u || ($u = {})), function(t3) {
          t3.GLSL100 = "GLSL100", t3.GLSL450 = "GLSL450", t3.WGSL = "WGSL";
        }(Ju || (Ju = {}));
        var rs, is, os, as, us, ss, cs, fs2, ls, hs, ds = function() {
          function t3(e3, n2) {
            var r2, i;
            br(this, t3), this.name = void 0, this.matrix = void 0, this.right = void 0, this.up = void 0, this.forward = void 0, this.position = void 0, this.focalPoint = void 0, this.distanceVector = void 0, this.distance = void 0, this.dollyingStep = void 0, this.azimuth = 0, this.elevation = 0, this.roll = 0, this.relAzimuth = 0, this.relElevation = 0, this.relRoll = 0, this.name = e3, this.matrix = (r2 = n2.matrix, (i = new ii(16))[0] = r2[0], i[1] = r2[1], i[2] = r2[2], i[3] = r2[3], i[4] = r2[4], i[5] = r2[5], i[6] = r2[6], i[7] = r2[7], i[8] = r2[8], i[9] = r2[9], i[10] = r2[10], i[11] = r2[11], i[12] = r2[12], i[13] = r2[13], i[14] = r2[14], i[15] = r2[15], i), this.right = fi(n2.right), this.up = fi(n2.up), this.forward = fi(n2.forward), this.position = fi(n2.position), this.focalPoint = fi(n2.focalPoint), this.distanceVector = fi(n2.distanceVector), this.azimuth = n2.azimuth, this.elevation = n2.elevation, this.roll = n2.roll, this.relAzimuth = n2.relAzimuth, this.relElevation = n2.relElevation, this.relRoll = n2.relRoll, this.dollyingStep = n2.dollyingStep, this.distance = n2.distance;
          }
          return xr(t3, [{ key: "getPosition", value: function() {
            return this.position;
          } }, { key: "getFocalPoint", value: function() {
            return this.focalPoint;
          } }, { key: "getRoll", value: function() {
            return this.roll;
          } }, { key: "retrieve", value: function(t4) {
            t4.matrix = ko(t4.matrix, this.matrix), t4.right = di(t4.right, this.right), t4.up = di(t4.up, this.up), t4.forward = di(t4.forward, this.forward), t4.position = di(t4.position, this.position), t4.focalPoint = di(t4.focalPoint, this.focalPoint), t4.distanceVector = di(t4.distanceVector, this.distanceVector), t4.azimuth = this.azimuth, t4.elevation = this.elevation, t4.roll = this.roll, t4.relAzimuth = this.relAzimuth, t4.relElevation = this.relElevation, t4.relRoll = this.relRoll, t4.dollyingStep = this.dollyingStep, t4.distance = this.distance;
          } }]), t3;
        }();
        !function(t3) {
          t3.ORBITING = "ORBITING", t3.EXPLORING = "EXPLORING", t3.TRACKING = "TRACKING";
        }(fs2 || (fs2 = {})), function(t3) {
          t3.DEFAULT = "DEFAULT", t3.ROTATIONAL = "ROTATIONAL", t3.TRANSLATIONAL = "TRANSLATIONAL", t3.CINEMATIC = "CINEMATIC";
        }(ls || (ls = {})), function(t3) {
          t3.ORTHOGRAPHIC = "ORTHOGRAPHIC", t3.PERSPECTIVE = "PERSPECTIVE";
        }(hs || (hs = {}));
        var ps, vs, gs, ys, ms, bs, _s, xs = Math.PI / 180, ws2 = 180 / Math.PI, Es = (rs = (0, Mr.b2)(), is = (0, Mr.f3)(Pr.InteractorService), rs((cs = ss = function() {
          function t3() {
            br(this, t3), this.matrix = No(), this.right = hi(1, 0, 0), this.up = hi(0, 1, 0), this.forward = hi(0, 0, 1), this.position = hi(0, 0, 1), this.focalPoint = hi(0, 0, 0), this.distanceVector = hi(0, 0, 0), this.distance = 1, this.azimuth = 0, this.elevation = 0, this.roll = 0, this.relAzimuth = 0, this.relElevation = 0, this.relRoll = 0, this.dollyingStep = 0, this.maxDistance = 1 / 0, this.minDistance = -1 / 0, this.rotateWorld = false, mr(this, "interactor", us, this), this.fov = 30, this.near = 0.1, this.far = 1e4, this.aspect = 1, this.left = void 0, this.rright = void 0, this.top = void 0, this.bottom = void 0, this.zoom = 1, this.perspective = No(), this.view = void 0, this.following = void 0, this.type = fs2.EXPLORING, this.trackingMode = ls.DEFAULT, this.projectionMode = hs.PERSPECTIVE, this.frustum = new To(), this.landmarks = [], this.landmarkAnimationID = void 0;
          }
          return xr(t3, [{ key: "clone", value: function() {
            var e3 = new t3();
            return e3.setType(this.type, void 0), e3.interactor = this.interactor, e3;
          } }, { key: "getProjectionMode", value: function() {
            return this.projectionMode;
          } }, { key: "getPerspective", value: function() {
            return this.perspective;
          } }, { key: "getFrustum", value: function() {
            return this.frustum;
          } }, { key: "getPosition", value: function() {
            return this.position;
          } }, { key: "setType", value: function(t4, e3) {
            return this.type = t4, this.type === fs2.EXPLORING ? this.setWorldRotation(true) : this.setWorldRotation(false), this._getAngles(), this.type === fs2.TRACKING && e3 !== void 0 && this.setTrackingMode(e3), this;
          } }, { key: "setProjectionMode", value: function(t4) {
            return this.projectionMode = t4, this;
          } }, { key: "setTrackingMode", value: function(t4) {
            if (this.type !== fs2.TRACKING)
              throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");
            return this.trackingMode = t4, this;
          } }, { key: "setWorldRotation", value: function(t4) {
            this.rotateWorld = t4, this._getAngles();
          } }, { key: "getViewTransform", value: function() {
            return Oo(No(), this.matrix);
          } }, { key: "getWorldTransform", value: function() {
            return this.matrix;
          } }, { key: "setMatrix", value: function(t4) {
            return this.matrix = t4, this._update(), this;
          } }, { key: "setAspect", value: function(t4) {
            return this.setPerspective(this.near, this.far, this.fov, t4), this;
          } }, { key: "setViewOffset", value: function(t4, e3, n2, r2, i, o2) {
            return this.aspect = t4 / e3, this.view === void 0 && (this.view = { enabled: true, fullWidth: 1, fullHeight: 1, offsetX: 0, offsetY: 0, width: 1, height: 1 }), this.view.enabled = true, this.view.fullWidth = t4, this.view.fullHeight = e3, this.view.offsetX = n2, this.view.offsetY = r2, this.view.width = i, this.view.height = o2, this.projectionMode === hs.PERSPECTIVE ? this.setPerspective(this.near, this.far, this.fov, this.aspect) : this.setOrthographic(this.left, this.rright, this.top, this.bottom, this.near, this.far), this;
          } }, { key: "clearViewOffset", value: function() {
            return this.view !== void 0 && (this.view.enabled = false), this.projectionMode === hs.PERSPECTIVE ? this.setPerspective(this.near, this.far, this.fov, this.aspect) : this.setOrthographic(this.left, this.rright, this.top, this.bottom, this.near, this.far), this;
          } }, { key: "setPerspective", value: function(t4, e3, n2, r2) {
            return this.projectionMode = hs.PERSPECTIVE, this.fov = n2, this.near = t4, this.far = e3, this.aspect = r2, function(t5, e4, n3, r3, i) {
              var o2, a2 = 1 / Math.tan(e4 / 2);
              t5[0] = a2 / n3, t5[1] = 0, t5[2] = 0, t5[3] = 0, t5[4] = 0, t5[5] = a2, t5[6] = 0, t5[7] = 0, t5[8] = 0, t5[9] = 0, t5[11] = -1, t5[12] = 0, t5[13] = 0, t5[15] = 0, i != null && i !== 1 / 0 ? (o2 = 1 / (r3 - i), t5[10] = (i + r3) * o2, t5[14] = 2 * i * r3 * o2) : (t5[10] = -1, t5[14] = -2 * r3);
            }(this.perspective, this.fov * xs, this.aspect, this.near, this.far), this;
          } }, { key: "setOrthographic", value: function(t4, e3, n2, r2, i, o2) {
            this.projectionMode = hs.ORTHOGRAPHIC, this.rright = e3, this.left = t4, this.top = n2, this.bottom = r2, this.near = i, this.far = o2;
            var a2 = (this.rright - this.left) / (2 * this.zoom), u2 = (this.top - this.bottom) / (2 * this.zoom), s2 = (this.rright + this.left) / 2, c2 = (this.top + this.bottom) / 2, f2 = s2 - a2, l2 = s2 + a2, h2 = c2 + u2, d2 = c2 - u2;
            if (this.view !== void 0 && this.view.enabled) {
              var p2 = (this.rright - this.left) / this.view.fullWidth / this.zoom, v2 = (this.top - this.bottom) / this.view.fullHeight / this.zoom;
              l2 = (f2 += p2 * this.view.offsetX) + p2 * this.view.width, d2 = (h2 -= v2 * this.view.offsetY) - v2 * this.view.height;
            }
            return function(t5, e4, n3, r3, i2, o3, a3) {
              var u3 = 1 / (e4 - n3), s3 = 1 / (r3 - i2), c3 = 1 / (o3 - a3);
              t5[0] = -2 * u3, t5[1] = 0, t5[2] = 0, t5[3] = 0, t5[4] = 0, t5[5] = -2 * s3, t5[6] = 0, t5[7] = 0, t5[8] = 0, t5[9] = 0, t5[10] = 2 * c3, t5[11] = 0, t5[12] = (e4 + n3) * u3, t5[13] = (i2 + r3) * s3, t5[14] = (a3 + o3) * c3, t5[15] = 1;
            }(this.perspective, f2, l2, h2, d2, i, o2), this;
          } }, { key: "setPosition", value: function(t4, e3, n2) {
            return this._setPosition(t4, e3, n2), this.setFocalPoint(this.focalPoint), this;
          } }, { key: "setFocalPoint", value: function(t4, e3, n2) {
            var r2, i, o2, a2, u2, s2, c2, f2, l2, h2, d2, p2, v2, g2 = hi(0, 1, 0);
            if (this.focalPoint = ns(t4, e3, n2), this.trackingMode === ls.CINEMATIC) {
              var y2 = gi(ci(), this.focalPoint, this.position);
              t4 = y2[0], e3 = y2[1], n2 = y2[2];
              var m2 = li(y2), b2 = Math.asin(e3 / m2) * ws2, _2 = 90 + Math.atan2(n2, t4) * ws2, x2 = No();
              r2 = x2, i = x2, o2 = _2 * xs, a2 = Math.sin(o2), u2 = Math.cos(o2), s2 = i[0], c2 = i[1], f2 = i[2], l2 = i[3], h2 = i[8], d2 = i[9], p2 = i[10], v2 = i[11], i !== r2 && (r2[4] = i[4], r2[5] = i[5], r2[6] = i[6], r2[7] = i[7], r2[12] = i[12], r2[13] = i[13], r2[14] = i[14], r2[15] = i[15]), r2[0] = s2 * u2 - h2 * a2, r2[1] = c2 * u2 - d2 * a2, r2[2] = f2 * u2 - p2 * a2, r2[3] = l2 * u2 - v2 * a2, r2[8] = s2 * a2 + h2 * u2, r2[9] = c2 * a2 + d2 * u2, r2[10] = f2 * a2 + p2 * u2, r2[11] = l2 * a2 + v2 * u2, function(t5, e4, n3) {
                var r3 = Math.sin(n3), i2 = Math.cos(n3), o3 = e4[4], a3 = e4[5], u3 = e4[6], s3 = e4[7], c3 = e4[8], f3 = e4[9], l3 = e4[10], h3 = e4[11];
                e4 !== t5 && (t5[0] = e4[0], t5[1] = e4[1], t5[2] = e4[2], t5[3] = e4[3], t5[12] = e4[12], t5[13] = e4[13], t5[14] = e4[14], t5[15] = e4[15]), t5[4] = o3 * i2 + c3 * r3, t5[5] = a3 * i2 + f3 * r3, t5[6] = u3 * i2 + l3 * r3, t5[7] = s3 * i2 + h3 * r3, t5[8] = c3 * i2 - o3 * r3, t5[9] = f3 * i2 - a3 * r3, t5[10] = l3 * i2 - u3 * r3, t5[11] = h3 * i2 - s3 * r3;
              }(x2, x2, b2 * xs), g2 = xi(ci(), [0, 1, 0], x2);
            }
            return Oo(this.matrix, function(t5, e4, n3, r3) {
              var i2, o3, a3, u3, s3, c3, f3, l3, h3, d3, p3 = e4[0], v3 = e4[1], g3 = e4[2], y3 = r3[0], m3 = r3[1], b3 = r3[2], _3 = n3[0], x3 = n3[1], w2 = n3[2];
              return Math.abs(p3 - _3) < ri && Math.abs(v3 - x3) < ri && Math.abs(g3 - w2) < ri ? Ro(t5) : (f3 = p3 - _3, l3 = v3 - x3, h3 = g3 - w2, i2 = m3 * (h3 *= d3 = 1 / Math.hypot(f3, l3, h3)) - b3 * (l3 *= d3), o3 = b3 * (f3 *= d3) - y3 * h3, a3 = y3 * l3 - m3 * f3, (d3 = Math.hypot(i2, o3, a3)) ? (i2 *= d3 = 1 / d3, o3 *= d3, a3 *= d3) : (i2 = 0, o3 = 0, a3 = 0), u3 = l3 * a3 - h3 * o3, s3 = h3 * i2 - f3 * a3, c3 = f3 * o3 - l3 * i2, (d3 = Math.hypot(u3, s3, c3)) ? (u3 *= d3 = 1 / d3, s3 *= d3, c3 *= d3) : (u3 = 0, s3 = 0, c3 = 0), t5[0] = i2, t5[1] = u3, t5[2] = f3, t5[3] = 0, t5[4] = o3, t5[5] = s3, t5[6] = l3, t5[7] = 0, t5[8] = a3, t5[9] = c3, t5[10] = h3, t5[11] = 0, t5[12] = -(i2 * p3 + o3 * v3 + a3 * g3), t5[13] = -(u3 * p3 + s3 * v3 + c3 * g3), t5[14] = -(f3 * p3 + l3 * v3 + h3 * g3), t5[15] = 1, t5);
            }(No(), this.position, this.focalPoint, g2)), this._getAxes(), this._getDistance(), this._getAngles(), this;
          } }, { key: "setDistance", value: function(t4) {
            if (!(this.distance === t4 || t4 < 0)) {
              this.distance = t4, this.distance < 2e-4 && (this.distance = 2e-4), this.dollyingStep = this.distance / 100;
              var e3 = ci();
              t4 = this.distance;
              var n2 = this.forward, r2 = this.focalPoint;
              return e3[0] = t4 * n2[0] + r2[0], e3[1] = t4 * n2[1] + r2[1], e3[2] = t4 * n2[2] + r2[2], this._setPosition(e3), this;
            }
          } }, { key: "setMaxDistance", value: function(t4) {
            return this.maxDistance = t4, this;
          } }, { key: "setMinDistance", value: function(t4) {
            return this.minDistance = t4, this;
          } }, { key: "changeAzimuth", value: function(t4) {
            return this.setAzimuth(this.azimuth + t4), this;
          } }, { key: "changeElevation", value: function(t4) {
            return this.setElevation(this.elevation + t4), this;
          } }, { key: "changeRoll", value: function(t4) {
            return this.setRoll(this.roll + t4), this;
          } }, { key: "setAzimuth", value: function(t4) {
            return this.azimuth = es(t4), this.computeMatrix(), this._getAxes(), this.type === fs2.ORBITING || this.type === fs2.EXPLORING ? this._getPosition() : this.type === fs2.TRACKING && this._getFocalPoint(), this;
          } }, { key: "getAzimuth", value: function() {
            return this.azimuth;
          } }, { key: "setElevation", value: function(t4) {
            return this.elevation = es(t4), this.computeMatrix(), this._getAxes(), this.type === fs2.ORBITING || this.type === fs2.EXPLORING ? this._getPosition() : this.type === fs2.TRACKING && this._getFocalPoint(), this;
          } }, { key: "setRoll", value: function(t4) {
            return this.roll = es(t4), this.computeMatrix(), this._getAxes(), this.type === fs2.ORBITING || this.type === fs2.EXPLORING ? this._getPosition() : this.type === fs2.TRACKING && this._getFocalPoint(), this;
          } }, { key: "rotate", value: function(t4, e3, n2) {
            if (this.type === fs2.EXPLORING) {
              t4 = es(t4), e3 = es(e3), n2 = es(n2);
              var r2 = hu(lu(), [1, 0, 0], (this.rotateWorld ? 1 : -1) * e3 * xs), i = hu(lu(), [0, 1, 0], (this.rotateWorld ? 1 : -1) * t4 * xs), o2 = hu(lu(), [0, 0, 1], n2 * xs), a2 = du(lu(), i, r2);
              a2 = du(lu(), a2, o2);
              var u2 = Fo(No(), a2);
              Po(this.matrix, this.matrix, [0, 0, -this.distance]), Mo(this.matrix, this.matrix, u2), Po(this.matrix, this.matrix, [0, 0, this.distance]);
            } else {
              if (Math.abs(this.elevation + e3) > 90)
                return;
              this.relElevation = es(e3), this.relAzimuth = es(t4), this.relRoll = es(n2), this.elevation += this.relElevation, this.azimuth += this.relAzimuth, this.roll += this.relRoll, this.computeMatrix();
            }
            return this._getAxes(), this.type === fs2.ORBITING || this.type === fs2.EXPLORING ? this._getPosition() : this.type === fs2.TRACKING && this._getFocalPoint(), this._update(), this;
          } }, { key: "pan", value: function(t4, e3) {
            var n2 = ns(t4, e3, 0), r2 = fi(this.position);
            return vi(r2, r2, yi(ci(), this.right, n2[0])), vi(r2, r2, yi(ci(), this.up, n2[1])), this._setPosition(r2), this;
          } }, { key: "dolly", value: function(t4) {
            var e3 = this.forward, n2 = fi(this.position), r2 = this.dollyingStep, i = this.distance + t4 * this.dollyingStep;
            return r2 = Math.max(Math.min(i, this.maxDistance), this.minDistance) - this.distance, n2[0] += r2 * e3[0], n2[1] += r2 * e3[1], n2[2] += r2 * e3[2], this._setPosition(n2), this.type === fs2.ORBITING || this.type === fs2.EXPLORING ? this._getDistance() : this.type === fs2.TRACKING && vi(this.focalPoint, n2, this.distanceVector), this;
          } }, { key: "createLandmark", value: function(t4, e3) {
            var n2 = this.clone();
            n2.setPosition(e3.position), n2.setFocalPoint(e3.focalPoint), e3.roll !== void 0 && n2.setRoll(e3.roll);
            var r2 = new ds(t4, n2);
            return this.landmarks.push(r2), r2;
          } }, { key: "setLandmark", value: function(t4) {
            var e3 = new ds(t4, this);
            return this.landmarks.push(e3), this;
          } }, { key: "gotoLandmark", value: function(t4) {
            var e3 = this, n2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1e3, r2 = this.landmarks.find(function(e4) {
              return e4.name === t4;
            });
            if (r2) {
              if (n2 === 0)
                return void r2.retrieve(this);
              this.landmarkAnimationID !== void 0 && window.cancelAnimationFrame(this.landmarkAnimationID), this.interactor.disconnect();
              var i, o2 = r2.getPosition(), a2 = r2.getFocalPoint(), u2 = r2.getRoll(), s2 = function t5(r3) {
                i === void 0 && (i = r3);
                var s3, c2 = r3 - i, f2 = (1 - Math.cos(c2 / n2 * Math.PI)) / 2, l2 = ci(), h2 = ci();
                if (_i(l2, e3.focalPoint, a2, f2), _i(h2, e3.position, o2, f2), s3 = e3.roll * (1 - f2) + u2 * f2, e3.setFocalPoint(l2), e3.setPosition(h2), e3.setRoll(s3), e3.computeMatrix(), !(Si(l2, a2) + Si(h2, o2) > 0.01))
                  return e3.setFocalPoint(l2), e3.setPosition(h2), e3.setRoll(s3), e3.computeMatrix(), void e3.interactor.connect();
                c2 < n2 && (e3.landmarkAnimationID = window.requestAnimationFrame(t5));
              };
              window.requestAnimationFrame(s2);
            }
          } }, { key: "_update", value: function() {
            this._getAxes(), this._getPosition(), this._getDistance(), this._getAngles();
          } }, { key: "computeMatrix", value: function() {
            var t4, e3, n2 = hu(lu(), [0, 0, 1], this.roll * xs);
            Ro(this.matrix), t4 = hu(lu(), [1, 0, 0], (this.rotateWorld && this.type !== fs2.TRACKING || this.type === fs2.TRACKING ? 1 : -1) * this.elevation * xs), e3 = hu(lu(), [0, 1, 0], (this.rotateWorld && this.type !== fs2.TRACKING || this.type === fs2.TRACKING ? 1 : -1) * this.azimuth * xs);
            var r2 = du(lu(), e3, t4);
            r2 = du(lu(), r2, n2);
            var i = Fo(No(), r2);
            this.type === fs2.ORBITING || this.type === fs2.EXPLORING ? (Po(this.matrix, this.matrix, this.focalPoint), Mo(this.matrix, this.matrix, i), Po(this.matrix, this.matrix, [0, 0, this.distance])) : this.type === fs2.TRACKING && (Po(this.matrix, this.matrix, this.position), Mo(this.matrix, this.matrix, i));
          } }, { key: "_setPosition", value: function(t4, e3, n2) {
            this.position = ns(t4, e3, n2);
            var r2 = this.matrix;
            r2[12] = this.position[0], r2[13] = this.position[1], r2[14] = this.position[2], r2[15] = 1;
          } }, { key: "_getAxes", value: function() {
            di(this.right, ns(ui(oi(), [1, 0, 0, 0], this.matrix))), di(this.up, ns(ui(oi(), [0, 1, 0, 0], this.matrix))), di(this.forward, ns(ui(oi(), [0, 0, 1, 0], this.matrix))), mi(this.right, this.right), mi(this.up, this.up), mi(this.forward, this.forward);
          } }, { key: "_getAngles", value: function() {
            var t4 = this.distanceVector[0], e3 = this.distanceVector[1], n2 = this.distanceVector[2], r2 = li(this.distanceVector);
            if (r2 === 0)
              return this.elevation = 0, void (this.azimuth = 0);
            this.type === fs2.TRACKING || this.rotateWorld ? (this.elevation = Math.asin(e3 / r2) * ws2, this.azimuth = Math.atan2(-t4, -n2) * ws2) : (this.elevation = -Math.asin(e3 / r2) * ws2, this.azimuth = -Math.atan2(-t4, -n2) * ws2);
          } }, { key: "_getPosition", value: function() {
            di(this.position, ns(ui(oi(), [0, 0, 0, 1], this.matrix))), this._getDistance();
          } }, { key: "_getFocalPoint", value: function() {
            var t4, e3;
            wi(this.distanceVector, [0, 0, -this.distance], (t4 = si(), e3 = this.matrix, t4[0] = e3[0], t4[1] = e3[1], t4[2] = e3[2], t4[3] = e3[4], t4[4] = e3[5], t4[5] = e3[6], t4[6] = e3[8], t4[7] = e3[9], t4[8] = e3[10], t4)), vi(this.focalPoint, this.position, this.distanceVector), this._getDistance();
          } }, { key: "_getDistance", value: function() {
            this.distanceVector = gi(ci(), this.focalPoint, this.position), this.distance = li(this.distanceVector), this.dollyingStep = this.distance / 100;
          } }]), t3;
        }(), ss.ProjectionMode = { ORTHOGRAPHIC: "ORTHOGRAPHIC", PERSPECTIVE: "PERSPECTIVE" }, us = wr((as = cs).prototype, "interactor", [is], { configurable: true, enumerable: true, writable: true, initializer: null }), os = as)) || os), Ss = (ps = (0, Mr.b2)(), vs = (0, Mr.f3)(Pr.GeometryComponentManager), ps((_s = bs = function() {
          function t3() {
            br(this, t3), this.config = void 0, mr(this, "geometry", ms, this), this.entity = void 0, this.component = void 0;
          }
          return xr(t3, [{ key: "getEntity", value: function() {
            return this.entity;
          } }, { key: "getComponent", value: function() {
            return this.component;
          } }, { key: "setConfig", value: function(t4) {
            this.config = t4;
          } }, { key: "setEntity", value: function(t4) {
            this.entity = t4, this.component = this.geometry.create(t4), this.component.entity = t4, this.onEntityCreated();
          } }, { key: "onEntityCreated", value: function() {
          } }]), t3;
        }(), bs.BOX = "box", bs.SPHERE = "sphere", bs.PLANE = "plane", bs.MERGED = "merged", ms = wr((ys = _s).prototype, "geometry", [vs], { configurable: true, enumerable: true, writable: true, initializer: null }), gs = ys)) || gs), As = n(8344);
        function Ts() {
          if (typeof document != "undefined")
            return document.createElement("canvas");
          throw new Error("Cannot create a canvas in this context");
        }
        var Is = {}.toString;
        var Cs = {};
        Cs["[object Float32Array]"] = Cs["[object Float64Array]"] = Cs["[object Int8Array]"] = Cs["[object Int16Array]"] = Cs["[object Int32Array]"] = Cs["[object Uint8Array]"] = Cs["[object Uint8ClampedArray]"] = Cs["[object Uint16Array]"] = Cs["[object Uint32Array]"] = true, Cs["[object Arguments]"] = Cs["[object Array]"] = Cs["[object ArrayBuffer]"] = Cs["[object Boolean]"] = Cs["[object DataView]"] = Cs["[object Date]"] = Cs["[object Error]"] = Cs["[object Function]"] = Cs["[object Map]"] = Cs["[object Number]"] = Cs["[object Object]"] = Cs["[object RegExp]"] = Cs["[object Set]"] = Cs["[object String]"] = Cs["[object WeakMap]"] = false;
        var Ds, Ns, ks, Rs, Os, Ms, Ps, Gs, Ls = Object.prototype.toString, Us = function(t3) {
          return function(t4) {
            return !!t4 && zr(t4) === "object";
          }(t3) && function(t4) {
            return typeof t4 == "number" && t4 > -1 && t4 % 1 == 0 && t4 <= 9007199254740991;
          }(t3.length) && !!Cs[Ls.call(t3)];
        };
        function Fs(t3, e3) {
          var n2 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r2 = Object.getOwnPropertySymbols(t3);
            e3 && (r2 = r2.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n2.push.apply(n2, r2);
          }
          return n2;
        }
        function Bs(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n2 = arguments[e3] != null ? arguments[e3] : {};
            e3 % 2 ? Fs(Object(n2), true).forEach(function(e4) {
              ni(t3, e4, n2[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n2)) : Fs(Object(n2)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n2, e4));
            });
          }
          return t3;
        }
        var zs, js, Ws, Vs, Xs, Hs, qs, Ys, Ks, Zs, $s, Js, Qs, tc, ec, nc, rc, ic, oc, ac, uc, sc, cc, fc, lc, hc, dc, pc, vc, gc, yc, mc, bc, _c, xc, wc = (Ds = (0, Mr.b2)(), Ns = (0, Mr.f3)(Pr.RenderEngine), ks = (0, Mr.f3)(Pr.ConfigService), Ds((Gs = function() {
          function t3() {
            br(this, t3), mr(this, "engine", Ms, this), mr(this, "configService", Ps, this), this.entity = Cr(), this.model = void 0, this.dirty = true, this.compiledBundle = void 0, this.initPromise = void 0;
          }
          var e3, n2, r2;
          return xr(t3, [{ key: "init", value: function() {
            var t4 = this.configService.get(), e4 = t4.canvas, n3 = t4.engineOptions;
            this.initPromise = this.engine.init(Bs({ canvas: e4 || Ts(), swapChainFormat: As.EV.BGRA8Unorm, antialiasing: false }, n3));
          } }, { key: "setBundle", value: function(t4) {
            this.compiledBundle = JSON.parse(JSON.stringify(t4));
          } }, { key: "setDispatch", value: function(t4) {
            return this.compiledBundle.context && (this.compiledBundle.context.dispatch = t4), this;
          } }, { key: "setMaxIteration", value: function(t4) {
            return this.compiledBundle.context && (this.compiledBundle.context.maxIteration = t4), this;
          } }, { key: "setBinding", value: function(t4, e4) {
            var n3, r3 = this;
            if (typeof t4 == "string") {
              var i = ts2(e4) || Us(e4) || (n3 = e4, Array.isArray ? Array.isArray(n3) : function(t5, e5) {
                return Is.call(t5) === "[object " + e5 + "]";
              }(n3, "Array"));
              if (this.compiledBundle && this.compiledBundle.context) {
                var o2 = this.compiledBundle.context.defines.find(function(e5) {
                  return e5.name === t4;
                });
                if (o2)
                  return o2.value = e4, this;
                var a2 = this.compiledBundle.context.uniforms.find(function(e5) {
                  return e5.name === t4;
                });
                a2 && (i ? (a2.data = e4, a2.isReferer = false, a2.storageClass === $u.Uniform ? this.model && this.model.updateUniform(t4, e4) : this.model && this.model.updateBuffer(t4, e4)) : (a2.isReferer = true, a2.data = e4));
              }
            } else
              Object.keys(t4).forEach(function(e5) {
                r3.setBinding(e5, t4[e5]);
              });
            return this;
          } }, { key: "execute", value: (r2 = Tr(Sr().mark(function t4() {
            var e4, n3, r3 = this, i = arguments;
            return Sr().wrap(function(t5) {
              for (; ; )
                switch (t5.prev = t5.next) {
                  case 0:
                    if (e4 = i.length > 0 && i[0] !== void 0 ? i[0] : 1, !this.dirty) {
                      t5.next = 6;
                      break;
                    }
                    return this.compiledBundle.context && (e4 > 1 ? this.compiledBundle.context.maxIteration = e4 : this.compiledBundle.context.maxIteration++), t5.next = 5, this.compile();
                  case 5:
                    this.dirty = false;
                  case 6:
                    for (this.engine.beginFrame(), this.engine.clear({}), this.compiledBundle.context && this.compiledBundle.context.uniforms.filter(function(t6) {
                      return t6.isReferer;
                    }).forEach(function(t6) {
                      var e5 = t6.data, n4 = t6.name;
                      r3.model.confirmInput(e5.model, n4);
                    }), n3 = 0; n3 < e4; n3++)
                      this.model.run();
                    return this.engine.endFrame(), t5.abrupt("return", this);
                  case 12:
                  case "end":
                    return t5.stop();
                }
            }, t4, this);
          })), function() {
            return r2.apply(this, arguments);
          }) }, { key: "getOutput", value: (n2 = Tr(Sr().mark(function t4() {
            return Sr().wrap(function(t5) {
              for (; ; )
                switch (t5.prev = t5.next) {
                  case 0:
                    return t5.abrupt("return", this.model.readData());
                  case 1:
                  case "end":
                    return t5.stop();
                }
            }, t4, this);
          })), function() {
            return n2.apply(this, arguments);
          }) }, { key: "compile", value: (e3 = Tr(Sr().mark(function t4() {
            var e4, n3, r3;
            return Sr().wrap(function(t5) {
              for (; ; )
                switch (t5.prev = t5.next) {
                  case 0:
                    return t5.next = 2, this.initPromise;
                  case 2:
                    return e4 = Bs({}, this.compiledBundle.context), n3 = this.engine.supportWebGPU ? this.engine.useWGSL ? Ju.WGSL : Ju.GLSL450 : Ju.GLSL100, r3 = this.compiledBundle.shaders[n3], e4.defines.filter(function(t6) {
                      return t6.runtime;
                    }).forEach(function(t6) {
                      var e5 = "".concat("__DefineValuePlaceholder__").concat(t6.name);
                      r3 = r3.replace(e5, "".concat(t6.value));
                    }), e4.shader = r3, e4.uniforms.forEach(function(t6) {
                      if (!t6.data && t6.storageClass === $u.StorageBuffer) {
                        var n4 = 1;
                        t6.type === Ku.FloatArray ? n4 = 1 : t6.type === Ku.Vector4FloatArray && (n4 = 4), t6.data = new Float32Array(e4.output.length * n4).fill(0);
                      }
                    }), this.compiledBundle.context = e4, t5.next = 11, this.engine.createComputeModel(this.compiledBundle.context);
                  case 11:
                    this.model = t5.sent;
                  case 12:
                  case "end":
                    return t5.stop();
                }
            }, t4, this);
          })), function() {
            return e3.apply(this, arguments);
          }) }]), t3;
        }(), Ms = wr((Os = Gs).prototype, "engine", [Ns], { configurable: true, enumerable: true, writable: true, initializer: null }), Ps = wr(Os.prototype, "configService", [ks], { configurable: true, enumerable: true, writable: true, initializer: null }), Rs = Os)) || Rs), Ec = (zs = (0, Mr.b2)(), js = (0, Mr.f3)(Pr.MaterialComponentManager), zs((qs = Hs = function() {
          function t3() {
            br(this, t3), this.config = void 0, mr(this, "material", Xs, this), this.entity = void 0, this.component = void 0;
          }
          return xr(t3, [{ key: "getEntity", value: function() {
            return this.entity;
          } }, { key: "getComponent", value: function() {
            return this.component;
          } }, { key: "setConfig", value: function(t4) {
            this.config = t4;
          } }, { key: "setEntity", value: function(t4, e3) {
            this.entity = t4, this.component = this.material.create(t4), this.component.entity = t4, this.component.type = e3, this.onEntityCreated();
          } }, { key: "onEntityCreated", value: function() {
          } }]), t3;
        }(), Hs.BASIC = "basic", Xs = wr((Vs = qs).prototype, "material", [js], { configurable: true, enumerable: true, writable: true, initializer: null }), Ws = Vs)) || Ws), Sc = (Ys = (0, Mr.b2)(), Ks = (0, Mr.f3)(Pr.MeshComponentManager), Zs = (0, Mr.f3)(Pr.CullableComponentManager), $s = (0, Mr.f3)(Pr.TransformComponentManager), Js = (0, Mr.f3)(Pr.Systems), Qs = (0, Mr.t6)(Pr.SceneGraphSystem), Ys((uc = ac = function() {
          function t3() {
            br(this, t3), this.attributes = {}, this.config = void 0, mr(this, "mesh", nc, this), mr(this, "cullable", rc, this), mr(this, "transform", ic, this), mr(this, "sceneGraphSystem", oc, this), this.meshComponent = void 0, this.transformComponent = void 0, this.entity = void 0;
          }
          return xr(t3, [{ key: "getEntity", value: function() {
            return this.entity;
          } }, { key: "getTransformComponent", value: function() {
            return this.transformComponent;
          } }, { key: "getMeshComponent", value: function() {
            return this.meshComponent;
          } }, { key: "setConfig", value: function(t4) {
            this.config = t4;
          } }, { key: "setEntity", value: function(t4) {
            this.entity = t4, this.cullable.create(t4), this.meshComponent = this.mesh.create(t4), this.transformComponent = this.transform.create(t4), this.onEntityCreated();
          } }, { key: "setMaterial", value: function(t4) {
            return this.meshComponent.material = t4, this;
          } }, { key: "setGeometry", value: function(t4) {
            return this.meshComponent.geometry = t4, this;
          } }, { key: "setAttributes", value: function(t4) {
            var e3 = this;
            Object.keys(t4).forEach(function(n2) {
              t4[n2] !== void 0 && t4[n2] !== e3.attributes[n2] && (e3.onAttributeChanged({ name: n2, data: t4[n2] }), e3.attributes[n2] = t4[n2]);
            });
          } }, { key: "setVisible", value: function(t4) {
            var e3 = this;
            return this.meshComponent.visible = t4, this.meshComponent.children.forEach(function(n2) {
              var r2 = e3.mesh.getComponentByEntity(n2);
              r2 && (r2.visible = t4);
            }), this;
          } }, { key: "isVisible", value: function() {
            return this.meshComponent.visible;
          } }, { key: "attach", value: function(t4) {
            return this.sceneGraphSystem.attach(this.entity, t4.entity), this;
          } }, { key: "detach", value: function() {
            return this.sceneGraphSystem.detach(this.entity), this;
          } }, { key: "detachChildren", value: function() {
            return this.sceneGraphSystem.detachChildren(this.entity), this;
          } }, { key: "onEntityCreated", value: function() {
          } }, { key: "onAttributeChanged", value: function(t4) {
            var e3 = t4.name, n2 = t4.data;
            this.meshComponent && this.meshComponent.material && this.meshComponent.material.setUniform(this.convertAttributeName2UniformName(e3), n2);
          } }, { key: "convertAttributeName2UniformName", value: function(t4) {
            return t4;
          } }]), t3;
        }(), ac.POINT = "point", ac.LINE = "line", ac.GRID = "grid", nc = wr((ec = uc).prototype, "mesh", [Ks], { configurable: true, enumerable: true, writable: true, initializer: null }), rc = wr(ec.prototype, "cullable", [Zs], { configurable: true, enumerable: true, writable: true, initializer: null }), ic = wr(ec.prototype, "transform", [$s], { configurable: true, enumerable: true, writable: true, initializer: null }), oc = wr(ec.prototype, "sceneGraphSystem", [Js, Qs], { configurable: true, enumerable: true, writable: true, initializer: null }), tc = ec)) || tc), Ac = n(6377), Tc = n.n(Ac), Ic = function() {
          function t3(e3, n2) {
            br(this, t3), this.attribute = void 0, this.buffer = void 0;
            var r2 = n2.buffer, i = n2.offset, o2 = n2.stride, a2 = n2.normalized, u2 = n2.size, s2 = n2.divisor;
            this.buffer = r2, this.attribute = { buffer: r2.get(), offset: i || 0, stride: o2 || 0, normalized: a2 || false, divisor: s2 || 0 }, u2 && (this.attribute.size = u2);
          }
          return xr(t3, [{ key: "get", value: function() {
            return this.attribute;
          } }, { key: "updateBuffer", value: function(t4) {
            this.buffer.subData(t4);
          } }, { key: "destroy", value: function() {
            this.buffer.destroy();
          } }]), t3;
        }(), Cc = (ni(sc = {}, Ri.POINTS, "points"), ni(sc, Ri.LINES, "lines"), ni(sc, Ri.LINE_LOOP, "line loop"), ni(sc, Ri.LINE_STRIP, "line strip"), ni(sc, Ri.TRIANGLES, "triangles"), ni(sc, Ri.TRIANGLE_FAN, "triangle fan"), ni(sc, Ri.TRIANGLE_STRIP, "triangle strip"), sc), Dc = (ni(cc = {}, Ri.STATIC_DRAW, "static"), ni(cc, Ri.DYNAMIC_DRAW, "dynamic"), ni(cc, Ri.STREAM_DRAW, "stream"), cc), Nc = (ni(fc = {}, Ri.BYTE, "int8"), ni(fc, Ri.UNSIGNED_INT, "int16"), ni(fc, Ri.INT, "int32"), ni(fc, Ri.UNSIGNED_BYTE, "uint8"), ni(fc, Ri.UNSIGNED_SHORT, "uint16"), ni(fc, Ri.UNSIGNED_INT, "uint32"), ni(fc, Ri.FLOAT, "float"), fc), kc = (ni(lc = {}, Ri.ALPHA, "alpha"), ni(lc, Ri.LUMINANCE, "luminance"), ni(lc, Ri.LUMINANCE_ALPHA, "luminance alpha"), ni(lc, Ri.RGB, "rgb"), ni(lc, Ri.RGBA, "rgba"), ni(lc, Ri.RGBA4, "rgba4"), ni(lc, Ri.RGB5_A1, "rgb5 a1"), ni(lc, Ri.RGB565, "rgb565"), ni(lc, Ri.DEPTH_COMPONENT, "depth"), ni(lc, Ri.DEPTH_STENCIL, "depth stencil"), lc), Rc = (ni(hc = {}, Ri.DONT_CARE, "dont care"), ni(hc, Ri.NICEST, "nice"), ni(hc, Ri.FASTEST, "fast"), hc), Oc = (ni(dc = {}, Ri.NEAREST, "nearest"), ni(dc, Ri.LINEAR, "linear"), ni(dc, Ri.LINEAR_MIPMAP_LINEAR, "mipmap"), ni(dc, Ri.NEAREST_MIPMAP_LINEAR, "nearest mipmap linear"), ni(dc, Ri.LINEAR_MIPMAP_NEAREST, "linear mipmap nearest"), ni(dc, Ri.NEAREST_MIPMAP_NEAREST, "nearest mipmap nearest"), dc), Mc = (ni(pc = {}, Ri.REPEAT, "repeat"), ni(pc, Ri.CLAMP_TO_EDGE, "clamp"), ni(pc, Ri.MIRRORED_REPEAT, "mirror"), pc), Pc = (ni(vc = {}, Ri.NONE, "none"), ni(vc, Ri.BROWSER_DEFAULT_WEBGL, "browser"), vc), Gc = (ni(gc = {}, Ri.NEVER, "never"), ni(gc, Ri.ALWAYS, "always"), ni(gc, Ri.LESS, "less"), ni(gc, Ri.LEQUAL, "lequal"), ni(gc, Ri.GREATER, "greater"), ni(gc, Ri.GEQUAL, "gequal"), ni(gc, Ri.EQUAL, "equal"), ni(gc, Ri.NOTEQUAL, "notequal"), gc), Lc = (ni(yc = {}, Ri.FUNC_ADD, "add"), ni(yc, Ri.MIN_EXT, "min"), ni(yc, Ri.MAX_EXT, "max"), ni(yc, Ri.FUNC_SUBTRACT, "subtract"), ni(yc, Ri.FUNC_REVERSE_SUBTRACT, "reverse subtract"), yc), Uc = (ni(mc = {}, Ri.ZERO, "zero"), ni(mc, Ri.ONE, "one"), ni(mc, Ri.SRC_COLOR, "src color"), ni(mc, Ri.ONE_MINUS_SRC_COLOR, "one minus src color"), ni(mc, Ri.SRC_ALPHA, "src alpha"), ni(mc, Ri.ONE_MINUS_SRC_ALPHA, "one minus src alpha"), ni(mc, Ri.DST_COLOR, "dst color"), ni(mc, Ri.ONE_MINUS_DST_COLOR, "one minus dst color"), ni(mc, Ri.DST_ALPHA, "dst alpha"), ni(mc, Ri.ONE_MINUS_DST_ALPHA, "one minus dst alpha"), ni(mc, Ri.CONSTANT_COLOR, "constant color"), ni(mc, Ri.ONE_MINUS_CONSTANT_COLOR, "one minus constant color"), ni(mc, Ri.CONSTANT_ALPHA, "constant alpha"), ni(mc, Ri.ONE_MINUS_CONSTANT_ALPHA, "one minus constant alpha"), ni(mc, Ri.SRC_ALPHA_SATURATE, "src alpha saturate"), mc), Fc = (ni(bc = {}, Ri.NEVER, "never"), ni(bc, Ri.ALWAYS, "always"), ni(bc, Ri.LESS, "less"), ni(bc, Ri.LEQUAL, "lequal"), ni(bc, Ri.GREATER, "greater"), ni(bc, Ri.GEQUAL, "gequal"), ni(bc, Ri.EQUAL, "equal"), ni(bc, Ri.NOTEQUAL, "notequal"), bc), Bc = (ni(_c = {}, Ri.ZERO, "zero"), ni(_c, Ri.KEEP, "keep"), ni(_c, Ri.REPLACE, "replace"), ni(_c, Ri.INVERT, "invert"), ni(_c, Ri.INCR, "increment"), ni(_c, Ri.DECR, "decrement"), ni(_c, Ri.INCR_WRAP, "increment wrap"), ni(_c, Ri.DECR_WRAP, "decrement wrap"), _c), zc = (ni(xc = {}, Ri.FRONT, "front"), ni(xc, Ri.BACK, "back"), xc), jc = function() {
          function t3(e3, n2) {
            br(this, t3), this.buffer = void 0;
            var r2 = n2.data, i = n2.usage, o2 = n2.type;
            this.buffer = e3.buffer({ data: r2, usage: Dc[i || Ri.STATIC_DRAW], type: Nc[o2 || Ri.UNSIGNED_BYTE] });
          }
          return xr(t3, [{ key: "get", value: function() {
            return this.buffer;
          } }, { key: "destroy", value: function() {
          } }, { key: "subData", value: function(t4) {
            var e3 = t4.data, n2 = t4.offset;
            this.buffer.subdata(e3, n2);
          } }]), t3;
        }();
        function Wc(t3) {
          return function(t4) {
            if (Array.isArray(t4))
              return kr(t4);
          }(t3) || function(t4) {
            if (typeof Symbol != "undefined" && t4[Symbol.iterator] != null || t4["@@iterator"] != null)
              return Array.from(t4);
          }(t3) || Rr(t3) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }();
        }
        var Vc = {};
        Vc["[object Float32Array]"] = Vc["[object Float64Array]"] = Vc["[object Int8Array]"] = Vc["[object Int16Array]"] = Vc["[object Int32Array]"] = Vc["[object Uint8Array]"] = Vc["[object Uint8ClampedArray]"] = Vc["[object Uint16Array]"] = Vc["[object Uint32Array]"] = true, Vc["[object Arguments]"] = Vc["[object Array]"] = Vc["[object ArrayBuffer]"] = Vc["[object Boolean]"] = Vc["[object DataView]"] = Vc["[object Date]"] = Vc["[object Error]"] = Vc["[object Function]"] = Vc["[object Map]"] = Vc["[object Number]"] = Vc["[object Object]"] = Vc["[object RegExp]"] = Vc["[object Set]"] = Vc["[object String]"] = Vc["[object WeakMap]"] = false;
        var Xc = Object.prototype.toString, Hc = function(t3) {
          return function(t4) {
            return !!t4 && zr(t4) === "object";
          }(t3) && function(t4) {
            return typeof t4 == "number" && t4 > -1 && t4 % 1 == 0 && t4 <= 9007199254740991;
          }(t3.length) && !!Vc[Xc.call(t3)];
        };
        function qc(t3, e3) {
          var n2 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r2 = Object.getOwnPropertySymbols(t3);
            e3 && (r2 = r2.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n2.push.apply(n2, r2);
          }
          return n2;
        }
        function Yc(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n2 = arguments[e3] != null ? arguments[e3] : {};
            e3 % 2 ? qc(Object(n2), true).forEach(function(e4) {
              ni(t3, e4, n2[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n2)) : qc(Object(n2)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n2, e4));
            });
          }
          return t3;
        }
        var Kc = 0, Zc = function() {
          function t3(e4, n2) {
            var r2 = this;
            br(this, t3), this.reGl = e4, this.context = n2, this.entity = Cr(), this.texFBO = void 0, this.computeCommand = void 0, this.textureCache = {}, this.outputTextureName = void 0, this.swapOutputTextureName = void 0, this.compiledPingpong = void 0, this.dynamicPingpong = void 0;
            var i = {};
            this.context.uniforms.forEach(function(t4) {
              var e5 = t4.name, n3 = t4.type, o3 = t4.data, a3 = t4.isReferer, u3 = t4.storageClass;
              if (u3 === $u.StorageBuffer) {
                if (a3)
                  r2.textureCache[e5] = { data: void 0 }, i["".concat(e5, "Size")] = function() {
                    return o3.compiledBundle.context.output.textureSize;
                  };
                else {
                  r2.textureCache[e5] = r2.calcDataTexture(e5, n3, o3);
                  var s3 = r2.textureCache[e5], c2 = s3.textureWidth, f2 = s3.isOutput;
                  i["".concat(e5, "Size")] = [c2, c2], f2 && (r2.outputTextureName = e5, r2.context.needPingpong && (r2.outputTextureName = "".concat(e5, "Output"), r2.textureCache[r2.outputTextureName] = r2.calcDataTexture(e5, n3, o3)));
                }
                i[e5] = function() {
                  return r2.textureCache[e5].texture;
                };
              } else if (u3 === $u.Uniform) {
                if (o3 && (Array.isArray(o3) || Hc(o3)) && o3.length > 16)
                  throw new Error("invalid data type ".concat(n3));
                i[e5] = function() {
                  return t4.data;
                };
              }
            });
            var o2 = this.getOuputDataTexture(), a2 = o2.textureWidth, u2 = o2.texelCount;
            i.u_OutputTextureSize = [a2, a2], i.u_OutputTexelCount = u2, this.context.output.textureSize = [a2, a2];
            var s2 = { attributes: { a_Position: [[-1, 1, 0], [-1, -1, 0], [1, 1, 0], [1, -1, 0]], a_TexCoord: [[0, 1], [0, 0], [1, 1], [1, 0]] }, frag: "#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(this.context.shader), uniforms: i, vert: "attribute vec3 a_Position;\nattribute vec2 a_TexCoord;\n\nvarying vec2 v_TexCoord;\n\nvoid main() {\n  gl_Position = vec4(a_Position, 1.0);\n  v_TexCoord = a_TexCoord;\n}", primitive: "triangle strip", count: 4 };
            this.computeCommand = this.reGl(s2);
          }
          var e3;
          return xr(t3, [{ key: "run", value: function() {
            var t4 = this;
            this.context.maxIteration > 1 && this.context.needPingpong && (this.compiledPingpong = true), (this.compiledPingpong || this.dynamicPingpong) && this.swap(), this.texFBO = this.reGl.framebuffer({ color: this.getOuputDataTexture().texture }), this.texFBO.use(function() {
              t4.computeCommand();
            });
          } }, { key: "readData", value: (e3 = Tr(Sr().mark(function t4() {
            var e4, n2, r2, i, o2, a2, u2, s2, c2 = this;
            return Sr().wrap(function(t5) {
              for (; ; )
                switch (t5.prev = t5.next) {
                  case 0:
                    if (this.reGl({ framebuffer: this.texFBO })(function() {
                      e4 = c2.reGl.read();
                    }), !e4) {
                      t5.next = 6;
                      break;
                    }
                    if (n2 = this.getOuputDataTexture(), r2 = n2.originalDataLength, i = n2.elementsPerTexel, o2 = n2.typedArrayConstructor, a2 = o2 === void 0 ? Float32Array : o2, u2 = [], i !== 4)
                      for (s2 = 0; s2 < e4.length; s2 += 4)
                        i === 1 ? u2.push(e4[s2]) : i === 2 ? u2.push(e4[s2], e4[s2 + 1]) : u2.push(e4[s2], e4[s2 + 1], e4[s2 + 2]);
                    else
                      u2 = e4;
                    return t5.abrupt("return", new a2(u2.slice(0, r2)));
                  case 6:
                    return t5.abrupt("return", new Float32Array());
                  case 7:
                  case "end":
                    return t5.stop();
                }
            }, t4, this);
          })), function() {
            return e3.apply(this, arguments);
          }) }, { key: "confirmInput", value: function(t4, e4) {
            var n2;
            this.entity === t4.entity ? (this.dynamicPingpong = true, n2 = this) : n2 = t4, this.textureCache[e4].id = n2.getOuputDataTexture().id, this.textureCache[e4].texture = n2.getOuputDataTexture().texture;
          } }, { key: "updateUniform", value: function() {
          } }, { key: "updateBuffer", value: function(t4, e4) {
            var n2 = this.context.uniforms.find(function(e5) {
              return e5.name === t4;
            });
            if (n2) {
              var r2 = this.calcDataTexture(t4, n2.type, e4), i = r2.texture, o2 = r2.data;
              this.textureCache[t4].data = o2, this.textureCache[t4].texture = i;
            }
          } }, { key: "destroy", value: function() {
          } }, { key: "swap", value: function() {
            if (this.swapOutputTextureName || this.createSwapOutputDataTexture(), this.compiledPingpong) {
              var t4 = this.context.output.name;
              this.textureCache[t4].id = this.getOuputDataTexture().id, this.textureCache[t4].texture = this.getOuputDataTexture().texture;
            }
            var e4 = this.outputTextureName;
            this.outputTextureName = this.swapOutputTextureName, this.swapOutputTextureName = e4;
          } }, { key: "getOuputDataTexture", value: function() {
            return this.textureCache[this.outputTextureName];
          } }, { key: "createSwapOutputDataTexture", value: function() {
            var t4 = this.cloneDataTexture(this.getOuputDataTexture());
            this.swapOutputTextureName = "".concat(this.entity, "-swap"), this.textureCache[this.swapOutputTextureName] = t4;
          } }, { key: "cloneDataTexture", value: function(t4) {
            var e4 = t4.data, n2 = t4.textureWidth;
            return Yc(Yc({}, t4), {}, { id: Kc++, texture: this.reGl.texture({ width: n2, height: n2, data: e4, type: "float" }) });
          } }, { key: "calcDataTexture", value: function(t4, e4, n2) {
            var r2 = 1;
            e4 === Ku.Vector4FloatArray && (r2 = 4);
            for (var i = [], o2 = 0; o2 < n2.length; o2 += r2)
              r2 === 1 ? i.push(n2[o2], 0, 0, 0) : r2 === 2 ? i.push(n2[o2], n2[o2 + 1], 0, 0) : r2 === 3 ? i.push(n2[o2], n2[o2 + 1], n2[o2 + 2], 0) : r2 === 4 && i.push(n2[o2], n2[o2 + 1], n2[o2 + 2], n2[o2 + 3]);
            var a2 = n2.length, u2 = Math.ceil(a2 / r2), s2 = Math.ceil(Math.sqrt(u2)), c2 = s2 * s2;
            u2 < c2 && i.push.apply(i, Wc(new Array(4 * (c2 - u2)).fill(0)));
            var f2 = this.reGl.texture({ width: s2, height: s2, data: i, type: "float" });
            return { id: Kc++, data: i, originalDataLength: a2, typedArrayConstructor: Hc(n2) ? n2.constructor : void 0, textureWidth: s2, texture: f2, texelCount: u2, elementsPerTexel: r2, isOutput: t4 === this.context.output.name };
          } }]), t3;
        }(), $c = function() {
          function t3(e3, n2) {
            br(this, t3), this.elements = void 0;
            var r2 = n2.data, i = n2.usage, o2 = n2.type, a2 = n2.count;
            this.elements = e3.elements({ data: r2, usage: Dc[i || Ri.STATIC_DRAW], type: Nc[o2 || Ri.UNSIGNED_BYTE], count: a2 });
          }
          return xr(t3, [{ key: "get", value: function() {
            return this.elements;
          } }, { key: "subData", value: function(t4) {
            var e3 = t4.data;
            this.elements.subdata(e3);
          } }, { key: "destroy", value: function() {
            this.elements.destroy();
          } }]), t3;
        }(), Jc = function() {
          function t3(e3, n2) {
            br(this, t3), this.framebuffer = void 0;
            var r2 = n2.width, i = n2.height, o2 = n2.color, a2 = n2.colors, u2 = (n2.depth, n2.stencil, { width: r2, height: i });
            Array.isArray(a2) && (u2.colors = a2.map(function(t4) {
              return t4.get();
            })), o2 && typeof o2 != "boolean" && (u2.color = o2.get()), this.framebuffer = e3.framebuffer(u2);
          }
          return xr(t3, [{ key: "get", value: function() {
            return this.framebuffer;
          } }, { key: "destroy", value: function() {
            this.framebuffer.destroy();
          } }, { key: "resize", value: function(t4) {
            var e3 = t4.width, n2 = t4.height;
            this.framebuffer.resize(e3, n2);
          } }]), t3;
        }();
        function Qc(t3) {
          var e3 = {};
          return Object.keys(t3).forEach(function(n2) {
            tf(n2, t3[n2], e3, "");
          }), e3;
        }
        function tf(t3, e3, n2, r2) {
          var i, o2;
          e3 === null || typeof e3 == "number" || typeof e3 == "boolean" || Array.isArray(e3) && typeof e3[0] == "number" || Hc(e3) || e3 === "" || e3.resize !== void 0 ? n2["".concat(r2 && r2 + ".").concat(t3)] = e3 : (o2 = zr(i = e3), i == null || o2 !== "object" && o2 !== "function" || Object.keys(e3).forEach(function(i2) {
            tf(i2, e3[i2], n2, "".concat(r2 && r2 + ".").concat(t3));
          }), Array.isArray(e3) && e3.forEach(function(e4, i2) {
            Object.keys(e4).forEach(function(o3) {
              tf(o3, e4[o3], n2, "".concat(r2 && r2 + ".").concat(t3, "[").concat(i2, "]"));
            });
          }));
        }
        function ef(t3, e3) {
          var n2 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r2 = Object.getOwnPropertySymbols(t3);
            e3 && (r2 = r2.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n2.push.apply(n2, r2);
          }
          return n2;
        }
        function nf(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n2 = arguments[e3] != null ? arguments[e3] : {};
            e3 % 2 ? ef(Object(n2), true).forEach(function(e4) {
              ni(t3, e4, n2[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n2)) : ef(Object(n2)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n2, e4));
            });
          }
          return t3;
        }
        var rf, of, af, uf = function() {
          function t3(e3, n2) {
            br(this, t3), this.reGl = void 0, this.drawCommand = void 0, this.uniforms = {}, this.reGl = e3;
            var r2 = n2.vs, i = n2.fs, o2 = n2.defines, a2 = n2.attributes, u2 = n2.uniforms, s2 = n2.primitive, c2 = n2.count, f2 = n2.elements, l2 = n2.depth, h2 = n2.blend, d2 = n2.stencil, p2 = n2.cull, v2 = n2.instances, g2 = n2.scissor, y2 = n2.viewport, m2 = {};
            u2 && (this.uniforms = Qc(u2), Object.keys(u2).forEach(function(t4) {
              m2[t4] = e3.prop(t4);
            }));
            var b2 = {};
            Object.keys(a2).forEach(function(t4) {
              b2[t4] = a2[t4].get();
            });
            var _2 = o2 && this.generateDefines(o2) || "", x2 = { attributes: b2, frag: "#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(_2, "\n").concat(i), uniforms: m2, vert: "\n".concat(_2, "\n").concat(r2), primitive: Cc[s2 === void 0 ? Ri.TRIANGLES : s2] };
            v2 && (x2.instances = v2), c2 && (x2.count = c2), f2 && (x2.elements = f2.get()), g2 && (x2.scissor = g2), y2 && (x2.viewport = y2), this.initDepthDrawParams({ depth: l2 }, x2), this.initBlendDrawParams({ blend: h2 }, x2), this.initStencilDrawParams({ stencil: d2 }, x2), this.initCullDrawParams({ cull: p2 }, x2), this.drawCommand = e3(x2);
          }
          return xr(t3, [{ key: "addUniforms", value: function(t4) {
            this.uniforms = nf(nf({}, this.uniforms), Qc(t4));
          } }, { key: "draw", value: function(t4) {
            var e3 = nf(nf({}, this.uniforms), Qc(t4.uniforms || {})), n2 = {};
            Object.keys(e3).forEach(function(t5) {
              var r2 = zr(e3[t5]);
              r2 === "boolean" || r2 === "number" || Array.isArray(e3[t5]) || e3[t5].BYTES_PER_ELEMENT ? n2[t5] = e3[t5] : r2 === "string" || (n2[t5] = e3[t5].get());
            }), this.drawCommand(n2);
          } }, { key: "destroy", value: function() {
          } }, { key: "initDepthDrawParams", value: function(t4, e3) {
            var n2 = t4.depth;
            n2 && (e3.depth = { enable: n2.enable === void 0 || !!n2.enable, mask: n2.mask === void 0 || !!n2.mask, func: Gc[n2.func || Ri.LESS], range: n2.range || [0, 1] });
          } }, { key: "initBlendDrawParams", value: function(t4, e3) {
            var n2 = t4.blend;
            if (n2) {
              var r2 = n2.enable, i = n2.func, o2 = n2.equation, a2 = n2.color, u2 = a2 === void 0 ? [0, 0, 0, 0] : a2;
              e3.blend = { enable: !!r2, func: { srcRGB: Uc[i && i.srcRGB || Ri.SRC_ALPHA], srcAlpha: Uc[i && i.srcAlpha || Ri.SRC_ALPHA], dstRGB: Uc[i && i.dstRGB || Ri.ONE_MINUS_SRC_ALPHA], dstAlpha: Uc[i && i.dstAlpha || Ri.ONE_MINUS_SRC_ALPHA] }, equation: { rgb: Lc[o2 && o2.rgb || Ri.FUNC_ADD], alpha: Lc[o2 && o2.alpha || Ri.FUNC_ADD] }, color: u2 };
            }
          } }, { key: "initStencilDrawParams", value: function(t4, e3) {
            var n2 = t4.stencil;
            if (n2) {
              var r2 = n2.enable, i = n2.mask, o2 = i === void 0 ? -1 : i, a2 = n2.func, u2 = a2 === void 0 ? { cmp: Ri.ALWAYS, ref: 0, mask: -1 } : a2, s2 = n2.opFront, c2 = s2 === void 0 ? { fail: Ri.KEEP, zfail: Ri.KEEP, zpass: Ri.KEEP } : s2, f2 = n2.opBack, l2 = f2 === void 0 ? { fail: Ri.KEEP, zfail: Ri.KEEP, zpass: Ri.KEEP } : f2;
              e3.stencil = { enable: !!r2, mask: o2, func: nf(nf({}, u2), {}, { cmp: Fc[u2.cmp] }), opFront: { fail: Bc[c2.fail], zfail: Bc[c2.zfail], zpass: Bc[c2.zpass] }, opBack: { fail: Bc[l2.fail], zfail: Bc[l2.zfail], zpass: Bc[l2.zpass] } };
            }
          } }, { key: "initCullDrawParams", value: function(t4, e3) {
            var n2 = t4.cull;
            if (n2) {
              var r2 = n2.enable, i = n2.face, o2 = i === void 0 ? Ri.BACK : i;
              e3.cull = { enable: !!r2, face: zc[o2] };
            }
          } }, { key: "generateDefines", value: function(t4) {
            return Object.keys(t4).map(function(e3) {
              return "#define ".concat(e3, " ").concat(Number(t4[e3]));
            }).join("\n");
          } }]), t3;
        }(), sf = function() {
          function t3(e3, n2) {
            br(this, t3), this.texture = void 0, this.width = void 0, this.height = void 0;
            var r2 = n2.data, i = n2.type, o2 = i === void 0 ? Ri.UNSIGNED_BYTE : i, a2 = n2.width, u2 = n2.height, s2 = n2.flipY, c2 = s2 !== void 0 && s2, f2 = n2.format, l2 = f2 === void 0 ? Ri.RGBA : f2, h2 = n2.mipmap, d2 = h2 !== void 0 && h2, p2 = n2.wrapS, v2 = p2 === void 0 ? Ri.CLAMP_TO_EDGE : p2, g2 = n2.wrapT, y2 = g2 === void 0 ? Ri.CLAMP_TO_EDGE : g2, m2 = n2.aniso, b2 = m2 === void 0 ? 0 : m2, _2 = n2.alignment, x2 = _2 === void 0 ? 1 : _2, w2 = n2.premultiplyAlpha, E2 = w2 !== void 0 && w2, S2 = n2.mag, A2 = S2 === void 0 ? Ri.NEAREST : S2, T2 = n2.min, I2 = T2 === void 0 ? Ri.NEAREST : T2, C2 = n2.colorSpace, D2 = C2 === void 0 ? Ri.BROWSER_DEFAULT_WEBGL : C2;
            this.width = a2, this.height = u2;
            var N2 = { width: a2, height: u2, type: Nc[o2], format: kc[l2], wrapS: Mc[v2], wrapT: Mc[y2], mag: Oc[A2], min: Oc[I2], alignment: x2, flipY: c2, colorSpace: Pc[D2], premultiplyAlpha: E2, aniso: b2 };
            r2 && (N2.data = r2), typeof d2 == "number" ? N2.mipmap = Rc[d2] : typeof d2 == "boolean" && (N2.mipmap = d2), this.texture = e3.texture(N2);
          }
          return xr(t3, [{ key: "get", value: function() {
            return this.texture;
          } }, { key: "update", value: function() {
            this.texture._texture.bind();
          } }, { key: "resize", value: function(t4) {
            var e3 = t4.width, n2 = t4.height;
            this.texture.resize(e3, n2), this.width = e3, this.height = n2;
          } }, { key: "destroy", value: function() {
            this.texture.destroy();
          } }]), t3;
        }(), cf = (0, Mr.b2)()((of = function() {
          function t3() {
            var e4 = this;
            br(this, t3), this.supportWebGPU = false, this.useWGSL = false, this.$canvas = void 0, this.gl = void 0, this.inited = void 0, this.createModel = function() {
              var t4 = Tr(Sr().mark(function t5(n2) {
                return Sr().wrap(function(t6) {
                  for (; ; )
                    switch (t6.prev = t6.next) {
                      case 0:
                        if (!n2.uniforms) {
                          t6.next = 3;
                          break;
                        }
                        return t6.next = 3, Promise.all(Object.keys(n2.uniforms).map(function() {
                          var t7 = Tr(Sr().mark(function t8(e5) {
                            var r2;
                            return Sr().wrap(function(t9) {
                              for (; ; )
                                switch (t9.prev = t9.next) {
                                  case 0:
                                    if (!n2.uniforms[e5] || n2.uniforms[e5].load === void 0) {
                                      t9.next = 5;
                                      break;
                                    }
                                    return t9.next = 3, n2.uniforms[e5].load();
                                  case 3:
                                    r2 = t9.sent, n2.uniforms[e5] = r2;
                                  case 5:
                                  case "end":
                                    return t9.stop();
                                }
                            }, t8);
                          }));
                          return function(e5) {
                            return t7.apply(this, arguments);
                          };
                        }()));
                      case 3:
                        return t6.abrupt("return", new uf(e4.gl, n2));
                      case 4:
                      case "end":
                        return t6.stop();
                    }
                }, t5);
              }));
              return function(e5) {
                return t4.apply(this, arguments);
              };
            }(), this.createAttribute = function(t4) {
              return new Ic(e4.gl, t4);
            }, this.createBuffer = function(t4) {
              return new jc(e4.gl, t4);
            }, this.createElements = function(t4) {
              return new $c(e4.gl, t4);
            }, this.createTexture2D = function(t4) {
              return new sf(e4.gl, t4);
            }, this.createFramebuffer = function(t4) {
              return new Jc(e4.gl, t4);
            }, this.useFramebuffer = function(t4, n2) {
              e4.gl({ framebuffer: t4 ? t4.get() : null })(n2);
            }, this.createComputeModel = function() {
              var t4 = Tr(Sr().mark(function t5(n2) {
                return Sr().wrap(function(t6) {
                  for (; ; )
                    switch (t6.prev = t6.next) {
                      case 0:
                        return t6.abrupt("return", new Zc(e4.gl, n2));
                      case 1:
                      case "end":
                        return t6.stop();
                    }
                }, t5);
              }));
              return function(e5) {
                return t4.apply(this, arguments);
              };
            }(), this.clear = function(t4) {
              var n2 = t4.color, r2 = t4.depth, i = t4.stencil, o2 = t4.framebuffer, a2 = o2 === void 0 ? null : o2, u2 = { color: n2, depth: r2, stencil: i };
              u2.framebuffer = a2 === null ? a2 : a2.get(), e4.gl.clear(u2);
            }, this.setScissor = function(t4) {
              e4.gl && e4.gl._gl && (t4.enable && t4.box ? (e4.gl._gl.enable(Ri.SCISSOR_TEST), e4.gl._gl.scissor(t4.box.x, t4.box.y, t4.box.width, t4.box.height)) : e4.gl._gl.disable(Ri.SCISSOR_TEST), e4.gl._refresh());
            }, this.viewport = function(t4) {
              var n2 = t4.x, r2 = t4.y, i = t4.width, o2 = t4.height;
              e4.gl && e4.gl._gl && (e4.gl._gl.viewport(n2, r2, i, o2), e4.gl._refresh());
            }, this.readPixels = function(t4) {
              var n2 = t4.framebuffer, r2 = { x: t4.x, y: t4.y, width: t4.width, height: t4.height };
              return n2 && (r2.framebuffer = n2.get()), e4.gl.read(r2);
            }, this.getCanvas = function() {
              return e4.$canvas;
            }, this.getGLContext = function() {
              return e4.gl._gl;
            }, this.destroy = function() {
              e4.gl && (e4.gl.destroy(), e4.inited = false);
            };
          }
          var e3;
          return xr(t3, [{ key: "init", value: (e3 = Tr(Sr().mark(function t4(e4) {
            return Sr().wrap(function(t5) {
              for (; ; )
                switch (t5.prev = t5.next) {
                  case 0:
                    if (!this.inited) {
                      t5.next = 2;
                      break;
                    }
                    return t5.abrupt("return");
                  case 2:
                    return this.$canvas = e4.canvas, t5.next = 5, new Promise(function(t6, n2) {
                      Tc()({ canvas: e4.canvas, attributes: { alpha: true, antialias: e4.antialias, premultipliedAlpha: true }, pixelRatio: 1, extensions: ["OES_element_index_uint", "OES_texture_float", "OES_standard_derivatives", "angle_instanced_arrays"], optionalExtensions: ["EXT_texture_filter_anisotropic", "EXT_blend_minmax", "WEBGL_depth_texture"], profile: true, onDone: function(e5, r2) {
                        !e5 && r2 || n2(e5), t6(r2);
                      } });
                    });
                  case 5:
                    this.gl = t5.sent, this.inited = true;
                  case 7:
                  case "end":
                    return t5.stop();
                }
            }, t4, this);
          })), function(t4) {
            return e3.apply(this, arguments);
          }) }, { key: "isFloatSupported", value: function() {
            return this.gl.limits.readFloat;
          } }, { key: "beginFrame", value: function() {
          } }, { key: "endFrame", value: function() {
          } }]), t3;
        }(), rf = of)) || rf;
        function ff(t3, e3) {
          return new Promise(function(e4, n2) {
            !function(t4, e5, n3, r2) {
              if (typeof window != "undefined") {
                var i = document.getElementsByTagName("head")[0], o2 = document.createElement("script");
                o2.setAttribute("type", "text/javascript"), o2.setAttribute("src", t4), r2 && (o2.id = r2), o2.onload = function() {
                  e5 && e5();
                }, o2.onerror = function(e6) {
                  n3 && n3("Unable to load script '".concat(t4, "'"), e6);
                }, i.appendChild(o2);
              }
            }(t3, function() {
              e4();
            }, function(t4, e5) {
              n2(e5);
            });
          });
        }
        function lf() {
          return hf.apply(this, arguments);
        }
        function hf() {
          return (hf = Tr(Sr().mark(function t3() {
            return Sr().wrap(function(t4) {
              for (; ; )
                switch (t4.prev = t4.next) {
                  case 0:
                    if (!af) {
                      t4.next = 2;
                      break;
                    }
                    return t4.abrupt("return", af);
                  case 2:
                    return t4.next = 4, ff("https://preview.babylonjs.com/glslang/glslang.js");
                  case 4:
                    return af = window.glslang("https://preview.babylonjs.com/glslang/glslang.wasm"), t4.abrupt("return", af);
                  case 6:
                  case "end":
                    return t4.stop();
                }
            }, t3);
          }))).apply(this, arguments);
        }
        var df, pf, vf, gf, yf, mf, bf, _f = function() {
          function t3(e3, n2) {
            br(this, t3), this.engine = e3, this.options = n2, this.attribute = void 0, this.buffer = void 0;
            var r2 = n2, i = r2.buffer, o2 = r2.offset, a2 = r2.stride, u2 = r2.normalized, s2 = r2.size, c2 = r2.divisor, f2 = r2.arrayStride, l2 = r2.attributes, h2 = r2.stepMode;
            this.buffer = i, this.attribute = { buffer: i.get(), offset: o2 || 0, stride: a2 || 0, normalized: u2 || false, divisor: c2 || 0, arrayStride: f2 || 0, attributes: l2, stepMode: h2 || "vertex" }, s2 && (this.attribute.size = s2);
          }
          return xr(t3, [{ key: "get", value: function() {
            return this.attribute;
          } }, { key: "updateBuffer", value: function(t4) {
            this.buffer.subData(t4);
          } }, { key: "destroy", value: function() {
            this.buffer.destroy();
          } }]), t3;
        }(), xf = function() {
          function t3(e3, n2) {
            br(this, t3), this.engine = e3, this.options = n2, this.buffer = void 0;
            var r2 = n2, i = r2.data, o2 = r2.usage;
            r2.type, this.buffer = this.createBuffer(i instanceof Array ? new Float32Array(i) : i, o2 || As.FB.Vertex | As.FB.CopyDst);
          }
          return xr(t3, [{ key: "get", value: function() {
            return this.buffer;
          } }, { key: "destroy", value: function() {
            this.buffer.destroy();
          } }, { key: "subData", value: function(t4) {
            var e3 = t4.data, n2 = t4.offset;
            this.setSubData(this.buffer, n2, e3 instanceof Array ? new Float32Array(e3) : e3);
          } }, { key: "createBuffer", value: function(t4, e3) {
            var n2 = t4.byteLength % 4, r2 = { size: t4.byteLength + n2, usage: e3 }, i = this.engine.device.createBuffer(r2);
            return this.setSubData(i, 0, t4), i;
          } }, { key: "setSubData", value: function(t4, e3, n2) {
            (Qu ? this.engine.device.getQueue() : this.engine.device.defaultQueue).writeBuffer(t4, e3, n2);
          } }]), t3;
        }(), wf = function() {
          function t3(e4, n3) {
            br(this, t3), this.engine = e4, this.context = n3, this.entity = Cr(), this.uniformGPUBufferLayout = [], this.uniformBuffer = void 0, this.vertexBuffers = {}, this.outputBuffer = void 0, this.bindGroupEntries = void 0, this.bindGroup = void 0, this.computePipeline = void 0;
          }
          var e3, n2, r2;
          return xr(t3, [{ key: "init", value: (r2 = Tr(Sr().mark(function t4() {
            var e4, n3, r3, i, o2, a2, u2, s2 = this;
            return Sr().wrap(function(t5) {
              for (; ; )
                switch (t5.prev = t5.next) {
                  case 0:
                    return t5.next = 2, this.compileComputePipelineStageDescriptor(this.context.shader);
                  case 2:
                    e4 = t5.sent, n3 = e4.computeStage, r3 = this.context.uniforms.filter(function(t6) {
                      return t6.storageClass === $u.StorageBuffer;
                    }), i = this.context.uniforms.filter(function(t6) {
                      return t6.storageClass === $u.Uniform;
                    }), o2 = i.length ? 1 : 0, this.bindGroupEntries = [], o2 && (a2 = 0, u2 = [], i.forEach(function(t6) {
                      if (typeof t6.data == "number")
                        s2.uniformGPUBufferLayout.push({ name: t6.name, offset: a2 }), a2 += 4, u2.push(t6.data);
                      else {
                        var e5, n4 = ((e5 = t6.data) === null || e5 === void 0 ? void 0 : e5.length) || 1;
                        n4 === 3 && (n4 = 4, t6.data.push(0));
                        var r4 = a2 / 4 % 4;
                        if (r4 > 0) {
                          var i2 = 4 - r4;
                          if (n4 > 1 && n4 <= i2)
                            n4 === 2 && (i2 === 3 && (a2 += 4, u2.push(0)), u2.push.apply(u2, Wc(t6.data)), s2.uniformGPUBufferLayout.push({ name: t6.name, offset: a2 }));
                          else {
                            for (var o3 = 0; o3 < i2; o3++)
                              a2 += 4, u2.push(0);
                            u2.push.apply(u2, Wc(t6.data)), s2.uniformGPUBufferLayout.push({ name: t6.name, offset: a2 });
                          }
                        }
                        a2 += 4 * n4;
                      }
                    }), this.uniformBuffer = new xf(this.engine, { data: u2 instanceof Array ? new Float32Array(u2) : u2, usage: As.FB.Uniform | As.FB.CopyDst }), this.bindGroupEntries.push({ binding: 0, resource: { buffer: this.uniformBuffer.get() } })), r3.forEach(function(t6) {
                      var e5;
                      t6.data !== null && (t6.type !== Ku.Vector4FloatArray && t6.type !== Ku.FloatArray || (t6.name === s2.context.output.name ? (e5 = new xf(s2.engine, { data: isFinite(Number(t6.data)) ? [t6.data] : t6.data, usage: As.FB.Storage | As.FB.CopyDst | As.FB.CopySrc }), s2.outputBuffer = e5, s2.context.output = { name: t6.name, length: isFinite(Number(t6.data)) ? 1 : t6.data.length, typedArrayConstructor: Float32Array, gpuBuffer: e5.get() }) : t6.isReferer ? t6.data.model && t6.data.model.outputBuffer && (e5 = t6.data.model.outputBuffer) : e5 = new xf(s2.engine, { data: isFinite(Number(t6.data)) ? [t6.data] : t6.data, usage: As.FB.Storage | As.FB.CopyDst | As.FB.CopySrc }), s2.vertexBuffers[t6.name] = e5, s2.bindGroupEntries.push({ binding: o2, resource: { name: t6.name, refer: e5 ? void 0 : t6.data, buffer: e5 ? e5.get() : void 0 } }), o2++));
                    }), this.computePipeline = this.engine.device.createComputePipeline({ computeStage: n3 }), console.log(this.bindGroupEntries), this.bindGroup = this.engine.device.createBindGroup({ layout: this.computePipeline.getBindGroupLayout(0), entries: this.bindGroupEntries });
                  case 13:
                  case "end":
                    return t5.stop();
                }
            }, t4, this);
          })), function() {
            return r2.apply(this, arguments);
          }) }, { key: "destroy", value: function() {
            var t4 = this;
            this.uniformBuffer && this.uniformBuffer.destroy(), Object.keys(this.vertexBuffers).forEach(function(e4) {
              return t4.vertexBuffers[e4].destroy();
            });
          } }, { key: "readData", value: (n2 = Tr(Sr().mark(function t4() {
            var e4, n3, r3, i, o2, a2, u2, s2, c2;
            return Sr().wrap(function(t5) {
              for (; ; )
                switch (t5.prev = t5.next) {
                  case 0:
                    if (!(e4 = this.context.output)) {
                      t5.next = 16;
                      break;
                    }
                    if (n3 = e4.length, r3 = e4.typedArrayConstructor, !(i = e4.gpuBuffer)) {
                      t5.next = 16;
                      break;
                    }
                    return o2 = n3 * r3.BYTES_PER_ELEMENT, a2 = this.engine.device.createBuffer({ size: o2, usage: GPUBufferUsage.COPY_DST | GPUBufferUsage.MAP_READ }), (u2 = this.engine.device.createCommandEncoder()).copyBufferToBuffer(i, 0, a2, 0, o2), (Qu ? this.engine.device.getQueue() : this.engine.device.defaultQueue).submit([u2.finish()]), t5.next = 12, a2.mapAsync(As.gc.Read);
                  case 12:
                    return s2 = a2.getMappedRange(), c2 = new r3(s2.slice(0)), a2.unmap(), t5.abrupt("return", c2);
                  case 16:
                    return t5.abrupt("return", new Float32Array());
                  case 17:
                  case "end":
                    return t5.stop();
                }
            }, t4, this);
          })), function() {
            return n2.apply(this, arguments);
          }) }, { key: "run", value: function() {
            var t4;
            this.engine.currentComputePass && (this.engine.currentComputePass.setPipeline(this.computePipeline), this.engine.currentComputePass.setBindGroup(0, this.bindGroup), (t4 = this.engine.currentComputePass).dispatch.apply(t4, Wc(this.context.dispatch)));
          } }, { key: "updateBuffer", value: function(t4, e4) {
            var n3 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0, r3 = this.vertexBuffers[t4];
            r3 && r3.subData({ data: e4, offset: n3 });
          } }, { key: "updateUniform", value: function(t4, e4) {
            var n3 = this.uniformGPUBufferLayout.find(function(e5) {
              return e5.name === t4;
            });
            n3 && this.uniformBuffer.subData({ data: Number.isFinite(e4) ? new Float32Array([e4]) : new Float32Array(e4), offset: n3.offset });
          } }, { key: "confirmInput", value: function(t4, e4) {
            var n3 = this.vertexBuffers[e4], r3 = t4.outputBuffer;
            if (n3 && r3 && n3 !== r3) {
              var i = this.engine.device.createCommandEncoder(), o2 = t4.context.output, a2 = o2.length * o2.typedArrayConstructor.BYTES_PER_ELEMENT;
              i.copyBufferToBuffer(r3.get(), 0, n3.get(), 0, a2), (Qu ? this.engine.device.getQueue() : this.engine.device.defaultQueue).submit([i.finish()]);
            }
          } }, { key: "compileShaderToSpirV", value: function(t4, e4, n3) {
            return this.compileRawShaderToSpirV(n3 + t4, e4);
          } }, { key: "compileRawShaderToSpirV", value: function(t4, e4) {
            return this.engine.glslang.compileGLSL(t4, e4);
          } }, { key: "compileComputePipelineStageDescriptor", value: (e3 = Tr(Sr().mark(function t4(e4) {
            var n3;
            return Sr().wrap(function(t5) {
              for (; ; )
                switch (t5.prev = t5.next) {
                  case 0:
                    if (n3 = e4, this.engine.options.useWGSL) {
                      t5.next = 6;
                      break;
                    }
                    return t5.next = 5, this.compileShaderToSpirV(e4, "compute", "#version 450\n");
                  case 5:
                    n3 = t5.sent;
                  case 6:
                    return t5.abrupt("return", { computeStage: { module: this.engine.device.createShaderModule({ code: n3, isWHLSL: Qu }), entryPoint: "main" } });
                  case 7:
                  case "end":
                    return t5.stop();
                }
            }, t4, this);
          })), function(t4) {
            return e3.apply(this, arguments);
          }) }]), t3;
        }(), Ef = function() {
          function t3(e3, n2) {
            br(this, t3), this.engine = e3, this.options = n2, this.indexCount = void 0, this.buffer = void 0;
            var r2 = n2, i = r2.data, o2 = (r2.usage, r2.type, r2.count);
            this.indexCount = o2 || 0, this.buffer = new xf(e3, { data: i instanceof Array ? new Uint16Array(i) : i, usage: As.FB.Index | As.FB.CopyDst });
          }
          return xr(t3, [{ key: "get", value: function() {
            return this.buffer;
          } }, { key: "subData", value: function(t4) {
            this.buffer.subData(t4);
          } }, { key: "destroy", value: function() {
            this.buffer.destroy();
          } }]), t3;
        }(), Sf = function() {
          function t3(e3, n2) {
            br(this, t3), this.engine = e3, this.options = n2, this.colorTexture = void 0, this.depthTexture = void 0, this.width = 0, this.height = 0;
            var r2 = n2, i = (r2.width, r2.height, r2.color), o2 = (r2.colors, r2.depth);
            r2.stencil, i && (this.colorTexture = i), o2 && (this.depthTexture = o2);
          }
          return xr(t3, [{ key: "get", value: function() {
            var t4, e3;
            return { color: (t4 = this.colorTexture) === null || t4 === void 0 ? void 0 : t4.get(), depth: (e3 = this.depthTexture) === null || e3 === void 0 ? void 0 : e3.get() };
          } }, { key: "destroy", value: function() {
            var t4, e3;
            (t4 = this.colorTexture) === null || t4 === void 0 || t4.destroy(), (e3 = this.depthTexture) === null || e3 === void 0 || e3.destroy();
          } }, { key: "resize", value: function(t4) {
            var e3, n2, r2 = t4.width, i = t4.height;
            r2 === this.width && i === this.height || ((e3 = this.colorTexture) === null || e3 === void 0 || e3.resize({ width: r2, height: i }), (n2 = this.depthTexture) === null || n2 === void 0 || n2.resize({ width: r2, height: i })), this.width = r2, this.height = i;
          } }]), t3;
        }(), Af = (ni(df = {}, Ri.POINTS, As.YV.PointList), ni(df, Ri.LINES, As.YV.LineList), ni(df, Ri.LINE_LOOP, As.YV.LineList), ni(df, Ri.LINE_STRIP, As.YV.LineStrip), ni(df, Ri.TRIANGLES, As.YV.TriangleList), ni(df, Ri.TRIANGLE_FAN, As.YV.TriangleList), ni(df, Ri.TRIANGLE_STRIP, As.YV.TriangleStrip), df), Tf = (ni(pf = {}, Ri.NEVER, As.wb.Never), ni(pf, Ri.ALWAYS, As.wb.Always), ni(pf, Ri.LESS, As.wb.Less), ni(pf, Ri.LEQUAL, As.wb.LessEqual), ni(pf, Ri.GREATER, As.wb.Greater), ni(pf, Ri.GEQUAL, As.wb.GreaterEqual), ni(pf, Ri.EQUAL, As.wb.Equal), ni(pf, Ri.NOTEQUAL, As.wb.NotEqual), pf), If = (ni(vf = {}, Ri.FUNC_ADD, As.db.Add), ni(vf, Ri.MIN_EXT, As.db.Min), ni(vf, Ri.MAX_EXT, As.db.Max), ni(vf, Ri.FUNC_SUBTRACT, As.db.Subtract), ni(vf, Ri.FUNC_REVERSE_SUBTRACT, As.db.ReverseSubtract), vf), Cf = (ni(gf = {}, Ri.ZERO, As.zi.Zero), ni(gf, Ri.ONE, As.zi.One), ni(gf, Ri.SRC_COLOR, As.zi.SrcColor), ni(gf, Ri.ONE_MINUS_SRC_COLOR, As.zi.OneMinusSrcColor), ni(gf, Ri.SRC_ALPHA, As.zi.SrcAlpha), ni(gf, Ri.ONE_MINUS_SRC_ALPHA, As.zi.OneMinusSrcAlpha), ni(gf, Ri.DST_COLOR, As.zi.DstColor), ni(gf, Ri.ONE_MINUS_DST_COLOR, As.zi.OneMinusDstColor), ni(gf, Ri.DST_ALPHA, As.zi.DstAlpha), ni(gf, Ri.ONE_MINUS_DST_ALPHA, As.zi.OneMinusDstAlpha), ni(gf, Ri.CONSTANT_COLOR, As.zi.BlendColor), ni(gf, Ri.ONE_MINUS_CONSTANT_COLOR, As.zi.OneMinusBlendColor), ni(gf, Ri.SRC_ALPHA_SATURATE, As.zi.SrcAlphaSaturated), gf), Df = (ni(yf = {}, Ri.ALPHA, "r8unorm"), ni(yf, Ri.RGBA, "rgba8unorm"), ni(yf, Ri.DEPTH_COMPONENT, "depth32float"), ni(yf, Ri.DEPTH_STENCIL, "depth24plus-stencil8"), yf), Nf = (ni(mf = {}, Ri.NEAREST, "nearest"), ni(mf, Ri.LINEAR, "linear"), mf), kf = (ni(bf = {}, Ri.REPEAT, "repeat"), ni(bf, Ri.CLAMP_TO_EDGE, "clamp-to-edge"), ni(bf, Ri.MIRRORED_REPEAT, "mirror-repeat"), bf);
        function Rf(t3) {
          var e3 = t3.cull;
          return e3 && e3.enable ? e3.face ? e3.face === Ri.FRONT ? As.Wf.Front : As.Wf.Back : void 0 : As.Wf.None;
        }
        function Of(t3) {
          var e3 = t3.depth, n2 = (t3.stencil, { compare: As.wb.Always, depthFailOp: As.xS.Keep, failOp: As.xS.Keep, passOp: As.xS.Keep });
          return { depthWriteEnabled: e3 && e3.enable, depthCompare: Tf[(e3 == null ? void 0 : e3.func) || Ri.ALWAYS], format: As.EV.Depth24PlusStencil8, stencilFront: n2, stencilBack: n2, stencilReadMask: 4294967295, stencilWriteMask: 4294967295 };
        }
        function Mf(t3, e3) {
          var n2 = t3.blend;
          return [{ format: e3, alphaBlend: { srcFactor: Cf[n2 && n2.func && n2.func.srcAlpha || Ri.ONE], dstFactor: Cf[n2 && n2.func && n2.func.dstAlpha || Ri.ZERO], operation: If[n2 && n2.equation && n2.equation.alpha || Ri.FUNC_ADD] }, colorBlend: { srcFactor: Cf[n2 && n2.func && n2.func.srcRGB || Ri.ONE], dstFactor: Cf[n2 && n2.func && n2.func.dstRGB || Ri.ZERO], operation: If[n2 && n2.equation && n2.equation.rgb || Ri.FUNC_ADD] }, writeMask: As.Yw.All }];
        }
        function Pf(t3, e3) {
          var n2 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r2 = Object.getOwnPropertySymbols(t3);
            e3 && (r2 = r2.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n2.push.apply(n2, r2);
          }
          return n2;
        }
        function Gf(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n2 = arguments[e3] != null ? arguments[e3] : {};
            e3 % 2 ? Pf(Object(n2), true).forEach(function(e4) {
              ni(t3, e4, n2[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n2)) : Pf(Object(n2)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n2, e4));
            });
          }
          return t3;
        }
        function Lf(t3) {
          for (var e3 = 0, n2 = arguments.length, r2 = new Array(n2 > 1 ? n2 - 1 : 0), i = 1; i < n2; i++)
            r2[i - 1] = arguments[i];
          for (var o2 = 0, a2 = r2; o2 < a2.length; o2++) {
            var u2 = a2[o2];
            e3 += u2.length;
          }
          for (var s2 = new t3(e3), c2 = 0, f2 = 0, l2 = r2; f2 < l2.length; f2++) {
            var h2 = l2[f2];
            s2.set(h2, c2), c2 += h2.length;
          }
          return s2;
        }
        var Uf, Ff, Bf, zf = function() {
          function t3(e4, n3) {
            br(this, t3), this.engine = e4, this.options = n3, this.pipelineLayout = void 0, this.renderPipeline = void 0, this.uniformsBindGroupLayout = void 0, this.uniformBindGroup = void 0, this.uniformBuffer = void 0, this.uniforms = {}, this.uniformGPUBufferLayout = [], this.attributeCache = {}, this.indexBuffer = void 0, this.indexCount = void 0;
          }
          var e3, n2;
          return xr(t3, [{ key: "init", value: (n2 = Tr(Sr().mark(function t4() {
            var e4, n3, r2, i, o2, a2, u2, s2, c2, f2, l2, h2, d2, p2, v2, g2, y2 = this;
            return Sr().wrap(function(t5) {
              for (; ; )
                switch (t5.prev = t5.next) {
                  case 0:
                    return e4 = this.options, n3 = e4.vs, r2 = e4.fs, i = e4.attributes, o2 = e4.uniforms, a2 = e4.primitive, e4.count, u2 = e4.elements, s2 = e4.depth, c2 = e4.blend, f2 = e4.stencil, l2 = e4.cull, e4.instances, t5.next = 3, this.compilePipelineStageDescriptor(n3, r2, null);
                  case 3:
                    h2 = t5.sent, d2 = h2.vertexStage, p2 = h2.fragmentStage, o2 && this.buildUniformBindGroup(o2), u2 && (this.indexBuffer = u2.get(), this.indexCount = u2.indexCount), v2 = { vertexBuffers: Object.keys(i).map(function(t6, e5) {
                      var n4 = i[t6], r3 = n4.get(), o3 = r3.arrayStride, a3 = r3.stepMode, u3 = r3.attributes;
                      return y2.attributeCache[t6] = n4, { arrayStride: o3, stepMode: a3, attributes: u3 };
                    }) }, g2 = { sampleCount: this.engine.mainPassSampleCount, primitiveTopology: Af[a2 || Ri.TRIANGLES], rasterizationState: Gf(Gf({}, this.getDefaultRasterizationStateDescriptor()), {}, { cullMode: Rf({ cull: l2 }) }), depthStencilState: Of({ depth: s2, stencil: f2 }), colorStates: Mf({ blend: c2 }, this.engine.options.swapChainFormat), layout: this.pipelineLayout, vertexStage: d2, fragmentStage: p2, vertexState: v2 }, this.renderPipeline = this.engine.device.createRenderPipeline(g2);
                  case 11:
                  case "end":
                    return t5.stop();
                }
            }, t4, this);
          })), function() {
            return n2.apply(this, arguments);
          }) }, { key: "addUniforms", value: function(t4) {
            this.uniforms = Gf(Gf({}, this.uniforms), Qc(t4));
          } }, { key: "draw", value: function(t4) {
            var e4 = this, n3 = this.engine.getCurrentRenderPass(), r2 = Gf(Gf({}, this.uniforms), Qc(t4.uniforms || {})), i = [];
            Object.keys(r2).forEach(function(t5) {
              var n4 = zr(r2[t5]);
              if (n4 === "boolean" || n4 === "number" || Array.isArray(r2[t5]) || r2[t5].BYTES_PER_ELEMENT) {
                var o2, a2 = (o2 = e4.uniformGPUBufferLayout.find(function(e5) {
                  return e5.name === t5;
                })) === null || o2 === void 0 ? void 0 : o2.offset;
                a2 !== null && e4.uniformBuffer.subData({ data: r2[t5], offset: a2 });
              } else {
                var u2, s2 = (u2 = e4.uniformGPUBufferLayout.find(function(e5) {
                  return e5.name === t5;
                })) === null || u2 === void 0 ? void 0 : u2.offset;
                if (s2 !== null) {
                  var c2 = r2[t5].get(), f2 = c2.color || c2, l2 = f2.texture, h2 = f2.sampler;
                  h2 && (i.push({ binding: s2, resource: h2 }), s2++), i.push({ binding: s2, resource: l2.createView() });
                }
              }
            }), this.uniformBuffer && (i[0] = { binding: 0, resource: { buffer: this.uniformBuffer.get() } }), this.uniformBindGroup = this.engine.device.createBindGroup({ layout: this.uniformsBindGroupLayout, entries: i }), this.renderPipeline && n3.setPipeline(this.renderPipeline), n3.setBindGroup(0, this.uniformBindGroup), this.indexBuffer && n3.setIndexBuffer(this.indexBuffer.get(), As.iD.Uint32, 0), Object.keys(this.attributeCache).forEach(function(t5, r3) {
              n3.setVertexBuffer(0 + r3, e4.attributeCache[t5].get().buffer, 0);
            }), this.indexBuffer ? n3.drawIndexed(this.indexCount, this.options.instances || 1, 0, 0, 0) : n3.draw(this.options.count || 0, this.options.instances || 0, 0, 0);
          } }, { key: "destroy", value: function() {
            throw new Error("Method not implemented.");
          } }, { key: "compilePipelineStageDescriptor", value: (e3 = Tr(Sr().mark(function t4(e4, n3, r2) {
            var i, o2, a2;
            return Sr().wrap(function(t5) {
              for (; ; )
                switch (t5.prev = t5.next) {
                  case 0:
                    if (i = "#version 450\n", o2 = e4, a2 = n3, this.engine.options.useWGSL) {
                      t5.next = 10;
                      break;
                    }
                    return t5.next = 6, this.compileShaderToSpirV(e4, "vertex", i);
                  case 6:
                    return o2 = t5.sent, t5.next = 9, this.compileShaderToSpirV(n3, "fragment", i);
                  case 9:
                    a2 = t5.sent;
                  case 10:
                    return t5.abrupt("return", this.createPipelineStageDescriptor(o2, a2));
                  case 11:
                  case "end":
                    return t5.stop();
                }
            }, t4, this);
          })), function(t4, n3, r2) {
            return e3.apply(this, arguments);
          }) }, { key: "compileShaderToSpirV", value: function(t4, e4, n3) {
            return this.compileRawShaderToSpirV(n3 + t4, e4);
          } }, { key: "compileRawShaderToSpirV", value: function(t4, e4) {
            return this.engine.glslang.compileGLSL(t4, e4);
          } }, { key: "createPipelineStageDescriptor", value: function(t4, e4) {
            return { vertexStage: { module: this.engine.device.createShaderModule({ code: t4, isWHLSL: Qu }), entryPoint: "main" }, fragmentStage: { module: this.engine.device.createShaderModule({ code: e4, isWHLSL: Qu }), entryPoint: "main" } };
          } }, { key: "getDefaultRasterizationStateDescriptor", value: function() {
            return { frontFace: As.zX.CCW, cullMode: As.Wf.None, depthBias: 0, depthBiasSlopeScale: 0, depthBiasClamp: 0 };
          } }, { key: "buildUniformBindGroup", value: function(t4) {
            var e4 = this, n3 = 0, r2 = Lf.apply(void 0, [Float32Array].concat(Wc(Object.keys(t4).map(function(r3) {
              return t4[r3] ? (e4.uniformGPUBufferLayout.push({ name: r3, offset: n3 }), n3 += 4 * (t4[r3].length || 1), t4[r3]) : [];
            })))), i = [], o2 = false;
            r2.length && (o2 = true, i.push({ binding: 0, visibility: As.$X.Fragment | As.$X.Vertex, type: As.$l.UniformBuffer })), Object.keys(t4).filter(function(e5) {
              return t4[e5] === null;
            }).forEach(function(t5, n4) {
              e4.uniformGPUBufferLayout.push({ name: t5, offset: 2 * n4 + (o2 ? 1 : 0) }), i.push({ binding: 2 * n4 + (o2 ? 1 : 0), visibility: As.$X.Fragment, type: As.$l.Sampler }, { binding: 2 * n4 + (o2 ? 1 : 0) + 1, visibility: As.$X.Fragment, type: As.$l.SampledTexture });
            }), this.uniformsBindGroupLayout = this.engine.device.createBindGroupLayout({ entries: i }), this.pipelineLayout = this.engine.device.createPipelineLayout({ bindGroupLayouts: [this.uniformsBindGroupLayout] }), o2 && (this.uniformBuffer = new xf(this.engine, { data: r2 instanceof Array ? new Float32Array(r2) : r2, usage: As.FB.Uniform | As.FB.CopyDst }));
          } }]), t3;
        }(), jf = function() {
          function t3(e3, n2) {
            br(this, t3), this.engine = e3, this.options = n2, this.texture = void 0, this.sampler = void 0, this.width = void 0, this.height = void 0, this.createTexture();
          }
          return xr(t3, [{ key: "get", value: function() {
            return { texture: this.texture, sampler: this.sampler };
          } }, { key: "update", value: function() {
          } }, { key: "resize", value: function(t4) {
            var e3 = t4.width, n2 = t4.height;
            e3 === this.width && n2 === this.height || (this.destroy(), this.createTexture()), this.width = e3, this.height = n2;
          } }, { key: "destroy", value: function() {
            this.texture && this.texture.destroy();
          } }, { key: "createTexture", value: function() {
            var t4 = this.options, e3 = ((t4.data, t4.type) === void 0 && Ri.UNSIGNED_BYTE, t4.width), n2 = t4.height, r2 = (t4.flipY, t4.format), i = r2 === void 0 ? Ri.RGBA : r2, o2 = (t4.mipmap, t4.wrapS), a2 = o2 === void 0 ? Ri.CLAMP_TO_EDGE : o2, u2 = t4.wrapT, s2 = u2 === void 0 ? Ri.CLAMP_TO_EDGE : u2, c2 = t4.aniso, f2 = c2 === void 0 ? 0 : c2, l2 = (t4.alignment, t4.premultiplyAlpha, t4.mag), h2 = l2 === void 0 ? Ri.NEAREST : l2, d2 = t4.min, p2 = d2 === void 0 ? Ri.NEAREST : d2, v2 = (t4.colorSpace === void 0 && Ri.BROWSER_DEFAULT_WEBGL, t4.usage);
            this.width = e3, this.height = n2, this.texture = this.engine.device.createTexture({ size: [e3, n2, 1], mipLevelCount: 1, sampleCount: 1, dimension: As.kd.E2d, format: Df[i], usage: v2 || As.v2.Sampled | As.v2.CopyDst }), (!v2 || v2 & As.v2.Sampled) && (this.sampler = this.engine.device.createSampler({ addressModeU: kf[a2], addressModeV: kf[s2], addressModeW: kf[a2], magFilter: Nf[h2], minFilter: Nf[p2], maxAnisotropy: f2 }));
          } }]), t3;
        }(), Wf = (0, Mr.b2)()((Ff = function() {
          function t3() {
            var e4 = this;
            br(this, t3), this.supportWebGPU = true, this.useWGSL = false, this.options = void 0, this.canvas = void 0, this.context = void 0, this.glslang = void 0, this.adapter = void 0, this.device = void 0, this.swapChain = void 0, this.mainPassSampleCount = void 0, this.mainTexture = void 0, this.depthTexture = void 0, this.mainColorAttachments = void 0, this.mainTextureExtends = void 0, this.mainDepthAttachment = void 0, this.uploadEncoder = void 0, this.renderEncoder = void 0, this.computeEncoder = void 0, this.renderTargetEncoder = void 0, this.commandBuffers = new Array(4).fill(void 0), this.currentRenderPass = null, this.mainRenderPass = null, this.currentRenderTargetViewDescriptor = void 0, this.currentComputePass = null, this.bundleEncoder = void 0, this.tempBuffers = [], this.currentRenderTarget = null, this.uploadEncoderDescriptor = { label: "upload" }, this.renderEncoderDescriptor = { label: "render" }, this.renderTargetEncoderDescriptor = { label: "renderTarget" }, this.computeEncoderDescriptor = { label: "compute" }, this.pipelines = {}, this.computePipelines = {}, this.defaultSampleCount = 4, this.clearDepthValue = 1, this.clearStencilValue = 0, this.transientViewport = { x: 1 / 0, y: 0, width: 0, height: 0 }, this.cachedViewport = { x: 0, y: 0, width: 0, height: 0 }, this.clear = function(t4) {
              t4.framebuffer;
              var n3 = t4.color, r2 = t4.depth, i = t4.stencil;
              e4.options.supportCompute && e4.startComputePass(), e4.currentRenderTarget ? (e4.currentRenderPass && e4.endRenderTargetRenderPass(), e4.startRenderTargetRenderPass(e4.currentRenderTarget, n3 || null, !!r2, !!i)) : (e4.mainColorAttachments[0].loadValue = n3 || As.Ws.Load, e4.mainDepthAttachment.depthLoadValue = r2 || As.Ws.Load, e4.mainDepthAttachment.stencilLoadValue = i ? e4.clearStencilValue : As.Ws.Load, e4.mainRenderPass && e4.endMainRenderPass(), e4.startMainRenderPass());
            }, this.createModel = function() {
              var t4 = Tr(Sr().mark(function t5(n3) {
                var r2;
                return Sr().wrap(function(t6) {
                  for (; ; )
                    switch (t6.prev = t6.next) {
                      case 0:
                        return r2 = new zf(e4, n3), t6.next = 3, r2.init();
                      case 3:
                        return t6.abrupt("return", r2);
                      case 4:
                      case "end":
                        return t6.stop();
                    }
                }, t5);
              }));
              return function(e5) {
                return t4.apply(this, arguments);
              };
            }(), this.createAttribute = function(t4) {
              return new _f(e4, t4);
            }, this.createBuffer = function(t4) {
              return new xf(e4, t4);
            }, this.createElements = function(t4) {
              return new Ef(e4, t4);
            }, this.createTexture2D = function(t4) {
              return new jf(e4, t4);
            }, this.createFramebuffer = function(t4) {
              return new Sf(e4, t4);
            }, this.useFramebuffer = function(t4, n3) {
              e4.currentRenderTarget && e4.unbindFramebuffer(e4.currentRenderTarget), e4.currentRenderTarget = t4, e4.currentRenderTargetViewDescriptor = { dimension: As.p_.E2d, arrayLayerCount: 1, aspect: As.H7.All }, e4.currentRenderPass = null, n3();
            }, this.createComputeModel = function() {
              var t4 = Tr(Sr().mark(function t5(n3) {
                var r2;
                return Sr().wrap(function(t6) {
                  for (; ; )
                    switch (t6.prev = t6.next) {
                      case 0:
                        return r2 = new wf(e4, n3), t6.next = 3, r2.init();
                      case 3:
                        return t6.abrupt("return", r2);
                      case 4:
                      case "end":
                        return t6.stop();
                    }
                }, t5);
              }));
              return function(e5) {
                return t4.apply(this, arguments);
              };
            }(), this.getCanvas = function() {
              return e4.canvas;
            }, this.getGLContext = function() {
              throw new Error("Method not implemented.");
            }, this.viewport = function(t4) {
              var n3 = t4.x, r2 = t4.y, i = t4.width, o2 = t4.height;
              e4.currentRenderPass ? e4.transientViewport.x !== 1 / 0 ? e4.getCurrentRenderPass().setViewport(e4.transientViewport.x, e4.transientViewport.y, e4.transientViewport.width, e4.transientViewport.height, 0, 1) : n3 === e4.cachedViewport.x && r2 === e4.cachedViewport.y && i === e4.cachedViewport.width && o2 === e4.cachedViewport.height || (e4.cachedViewport = { x: n3, y: r2, width: i, height: o2 }, e4.getCurrentRenderPass().setViewport(n3, r2, i, o2, 0, 1)) : e4.transientViewport = { x: n3, y: r2, width: i, height: o2 };
            }, this.readPixels = function(t4) {
              throw new Error("Method not implemented.");
            };
          }
          var e3, n2;
          return xr(t3, [{ key: "isFloatSupported", value: function() {
            return true;
          } }, { key: "init", value: (n2 = Tr(Sr().mark(function t4(e4) {
            return Sr().wrap(function(t5) {
              for (; ; )
                switch (t5.prev = t5.next) {
                  case 0:
                    return this.canvas = e4.canvas, this.options = e4, this.useWGSL = !!e4.useWGSL, this.mainPassSampleCount = e4.antialiasing ? this.defaultSampleCount : 1, t5.next = 6, this.initGlslang();
                  case 6:
                    this.initContextAndSwapChain(), this.initMainAttachments();
                  case 8:
                  case "end":
                    return t5.stop();
                }
            }, t4, this);
          })), function(t4) {
            return n2.apply(this, arguments);
          }) }, { key: "setScissor", value: function(t4) {
            throw new Error("Method not implemented.");
          } }, { key: "destroy", value: function() {
            this.mainTexture && this.mainTexture.destroy(), this.depthTexture && this.depthTexture.destroy(), this.tempBuffers.forEach(function(t4) {
              return t4.destroy();
            }), this.tempBuffers = [];
          } }, { key: "beginFrame", value: function() {
            this.uploadEncoder = this.device.createCommandEncoder(this.uploadEncoderDescriptor), this.renderEncoder = this.device.createCommandEncoder(this.renderEncoderDescriptor), this.renderTargetEncoder = this.device.createCommandEncoder(this.renderTargetEncoderDescriptor), this.options.supportCompute && (this.computeEncoder = this.device.createCommandEncoder(this.computeEncoderDescriptor));
          } }, { key: "endFrame", value: function() {
            this.options.supportCompute && this.endComputePass(), this.endMainRenderPass(), this.commandBuffers[0] = this.uploadEncoder.finish(), this.commandBuffers[1] = this.renderEncoder.finish(), this.options.supportCompute && (this.commandBuffers[2] = this.computeEncoder.finish()), this.commandBuffers[3] = this.renderTargetEncoder.finish(), Qu ? this.device.getQueue().submit(this.commandBuffers.filter(function(t4) {
              return t4;
            })) : this.device.defaultQueue.submit(this.commandBuffers.filter(function(t4) {
              return t4;
            }));
          } }, { key: "getCurrentRenderPass", value: function() {
            return this.currentRenderTarget && !this.currentRenderPass ? this.startRenderTargetRenderPass(this.currentRenderTarget, null, false, false) : this.currentRenderPass || this.startMainRenderPass(), this.currentRenderPass;
          } }, { key: "initGlslang", value: (e3 = Tr(Sr().mark(function t4() {
            var e4, n3;
            return Sr().wrap(function(t5) {
              for (; ; )
                switch (t5.prev = t5.next) {
                  case 0:
                    return t5.next = 2, lf();
                  case 2:
                    return this.glslang = t5.sent, t5.next = 5, (e4 = navigator) === null || e4 === void 0 || (n3 = e4.gpu) === null || n3 === void 0 ? void 0 : n3.requestAdapter();
                  case 5:
                    return this.adapter = t5.sent, t5.next = 8, this.adapter.requestDevice();
                  case 8:
                    this.device = t5.sent;
                  case 9:
                  case "end":
                    return t5.stop();
                }
            }, t4, this);
          })), function() {
            return e3.apply(this, arguments);
          }) }, { key: "initContextAndSwapChain", value: function() {
            this.context = this.canvas.getContext(Qu ? "gpu" : "gpupresent"), this.swapChain = this.context.configureSwapChain({ device: this.device, format: this.options.swapChainFormat, usage: As.v2.OutputAttachment | As.v2.CopySrc });
          } }, { key: "initMainAttachments", value: function() {
            if (this.mainTextureExtends = { width: this.canvas.width, height: this.canvas.height, depth: 1 }, this.options.antialiasing) {
              var t4 = { size: this.mainTextureExtends, mipLevelCount: 1, sampleCount: this.mainPassSampleCount, dimension: As.kd.E2d, format: As.EV.BGRA8Unorm, usage: As.v2.OutputAttachment };
              this.mainTexture && this.mainTexture.destroy(), this.mainTexture = this.device.createTexture(t4), this.mainColorAttachments = [{ attachment: Qu ? this.mainTexture.createDefaultView() : this.mainTexture.createView(), loadValue: [0, 0, 0, 1], storeOp: As.EG.Store }];
            } else
              this.mainColorAttachments = [{ attachment: Qu ? this.swapChain.getCurrentTexture().createDefaultView() : this.swapChain.getCurrentTexture().createView(), loadValue: [0, 0, 0, 1], storeOp: As.EG.Store }];
            var e4 = { size: this.mainTextureExtends, mipLevelCount: 1, sampleCount: this.mainPassSampleCount, dimension: As.kd.E2d, format: Qu ? "depth32float-stencil8" : As.EV.Depth24PlusStencil8, usage: As.v2.OutputAttachment };
            this.depthTexture && this.depthTexture.destroy(), this.depthTexture = this.device.createTexture(e4), this.mainDepthAttachment = { attachment: Qu ? this.depthTexture.createDefaultView() : this.depthTexture.createView(), depthLoadValue: this.clearDepthValue, depthStoreOp: As.EG.Store, stencilLoadValue: this.clearStencilValue, stencilStoreOp: As.EG.Store };
          } }, { key: "startComputePass", value: function() {
            this.currentComputePass && this.endComputePass(), this.currentComputePass = this.computeEncoder.beginComputePass();
          } }, { key: "startMainRenderPass", value: function() {
            this.currentRenderPass && !this.currentRenderTarget && this.endMainRenderPass(), this.options.antialiasing ? this.mainColorAttachments[0].resolveTarget = Qu ? this.swapChain.getCurrentTexture().createDefaultView() : this.swapChain.getCurrentTexture().createView() : this.mainColorAttachments[0].attachment = Qu ? this.swapChain.getCurrentTexture().createDefaultView() : this.swapChain.getCurrentTexture().createView(), this.currentRenderPass = this.renderEncoder.beginRenderPass({ colorAttachments: this.mainColorAttachments, depthStencilAttachment: this.mainDepthAttachment }), this.mainRenderPass = this.currentRenderPass, this.cachedViewport && this.viewport(this.cachedViewport);
          } }, { key: "startRenderTargetRenderPass", value: function(t4, e4, n3) {
            var r2, i, o2, a2 = arguments.length > 3 && arguments[3] !== void 0 && arguments[3], u2 = (r2 = t4.get().color) === null || r2 === void 0 ? void 0 : r2.texture;
            u2 && (o2 = u2.createView(this.currentRenderTargetViewDescriptor));
            var s2, c2 = (i = t4.get().depth) === null || i === void 0 ? void 0 : i.texture;
            c2 && (s2 = c2.createView());
            var f2 = this.renderTargetEncoder.beginRenderPass({ colorAttachments: [{ attachment: o2, loadValue: e4 !== null ? e4 : As.Ws.Load, storeOp: As.EG.Store }], depthStencilAttachment: c2 && s2 ? { attachment: s2, depthLoadValue: n3 ? this.clearDepthValue : As.Ws.Load, depthStoreOp: As.EG.Store, stencilLoadValue: a2 ? this.clearStencilValue : As.Ws.Load, stencilStoreOp: As.EG.Store } : void 0 });
            this.currentRenderPass = f2, this.cachedViewport && this.viewport(this.cachedViewport);
          } }, { key: "endMainRenderPass", value: function() {
            this.currentRenderPass === this.mainRenderPass && this.currentRenderPass !== null && (this.currentRenderPass.endPass(), this.resetCachedViewport(), this.currentRenderPass = null, this.mainRenderPass = null);
          } }, { key: "endComputePass", value: function() {
            this.currentComputePass && (this.currentComputePass.endPass(), this.currentComputePass = null);
          } }, { key: "endRenderTargetRenderPass", value: function() {
            this.currentRenderPass && (this.currentRenderPass.endPass(), this.resetCachedViewport());
          } }, { key: "resetCachedViewport", value: function() {
            this.cachedViewport = { x: 0, y: 0, width: 0, height: 0 };
          } }, { key: "unbindFramebuffer", value: function(t4) {
            this.currentRenderPass && this.currentRenderPass !== this.mainRenderPass && this.endRenderTargetRenderPass(), this.transientViewport.x = 1 / 0, this.currentRenderTarget = null, this.currentRenderPass = this.mainRenderPass;
          } }]), t3;
        }(), Uf = Ff)) || Uf;
        var Vf, Xf = 4 / 64, Hf = (0, Mr.b2)()(Bf = function(t3) {
          Br(i, t3);
          var e3, n2, r2 = (e3 = i, n2 = function() {
            if (typeof Reflect == "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy == "function")
              return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }(), function() {
            var t4, r3 = Vr(e3);
            if (n2) {
              var i2 = Vr(this).constructor;
              t4 = Reflect.construct(r3, arguments, i2);
            } else
              t4 = r3.apply(this, arguments);
            return Wr(this, t4);
          });
          function i() {
            return br(this, i), r2.apply(this, arguments);
          }
          return xr(i, [{ key: "onEntityCreated", value: function() {
            var t4 = this.config, e4 = t4.widthSegments, n3 = e4 === void 0 ? 1 : e4, r3 = t4.heightSegments, i2 = r3 === void 0 ? 1 : r3, o2 = t4.depthSegments, a2 = o2 === void 0 ? 1 : o2, u2 = t4.halfExtents, s2 = n3, c2 = i2, f2 = a2, l2 = Or(u2 === void 0 ? hi(0.5, 0.5, 0.5) : u2, 3), h2 = l2[0], d2 = l2[1], p2 = l2[2], v2 = [hi(-h2, -d2, p2), hi(h2, -d2, p2), hi(h2, d2, p2), hi(-h2, d2, p2), hi(h2, -d2, -p2), hi(-h2, -d2, -p2), hi(-h2, d2, -p2), hi(h2, d2, -p2)], g2 = [[0, 1, 3], [4, 5, 7], [3, 2, 6], [1, 0, 4], [1, 4, 2], [5, 0, 6]], y2 = [[0, 0, 1], [0, 0, -1], [0, 1, 0], [0, -1, 0], [1, 0, 0], [-1, 0, 0]], m2 = [], b2 = [], _2 = [], w2 = [], E2 = 0, S2 = function(t5, e5, n4) {
              var r4, i3, o3, a3;
              for (o3 = 0; o3 <= e5; o3++)
                for (a3 = 0; a3 <= n4; a3++) {
                  var u3 = ci(), s3 = ci(), c3 = ci(), f3 = ci();
                  _i(u3, v2[g2[t5][0]], v2[g2[t5][1]], o3 / e5), _i(s3, v2[g2[t5][0]], v2[g2[t5][2]], a3 / n4), Ei(c3, s3, v2[g2[t5][0]]), vi(f3, u3, c3), r4 = o3 / e5, i3 = a3 / n4, m2.push(f3[0], f3[1], f3[2]), b2.push(y2[t5][0], y2[t5][1], y2[t5][2]), _2.push(r4, i3), r4 = 0.875 * (r4 /= 3) + Xf, i3 = 0.875 * (i3 /= 3) + Xf, r4 += t5 % 3 / 3, i3 += Math.floor(t5 / 3) / 3, o3 < e5 && a3 < n4 && (w2.push(E2 + n4 + 1, E2 + 1, E2), w2.push(E2 + n4 + 1, E2 + n4 + 2, E2 + 1)), E2++;
                }
            };
            S2(0, s2, c2), S2(1, s2, c2), S2(2, s2, f2), S2(3, s2, f2), S2(4, f2, c2), S2(5, f2, c2);
            var A2 = qu(m2), T2 = this.getComponent();
            T2.indices = Uint32Array.from(w2), T2.aabb = A2, T2.vertexCount = E2, T2.attributes = [{ dirty: true, name: "position", data: Float32Array.from(m2), arrayStride: 12, stepMode: "vertex", attributes: [{ shaderLocation: 0, offset: 0, format: "float3" }] }, { dirty: true, name: "normal", data: Float32Array.from(b2), arrayStride: 12, stepMode: "vertex", attributes: [{ shaderLocation: 1, offset: 0, format: "float3" }] }, { dirty: true, name: "uv", data: Float32Array.from(_2), arrayStride: 8, stepMode: "vertex", attributes: [{ shaderLocation: 2, offset: 0, format: "float2" }] }];
          } }]), i;
        }(Ss)) || Bf;
        var qf, Yf = (0, Mr.b2)()(Vf = function(t3) {
          Br(i, t3);
          var e3, n2, r2 = (e3 = i, n2 = function() {
            if (typeof Reflect == "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy == "function")
              return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }(), function() {
            var t4, r3 = Vr(e3);
            if (n2) {
              var i2 = Vr(this).constructor;
              t4 = Reflect.construct(r3, arguments, i2);
            } else
              t4 = r3.apply(this, arguments);
            return Wr(this, t4);
          });
          function i() {
            return br(this, i), r2.apply(this, arguments);
          }
          return xr(i, [{ key: "onEntityCreated", value: function() {
            var t4 = this.config.geometries, e4 = t4 === void 0 ? [] : t4, n3 = this.getComponent();
            n3.aabb = new uo();
            var r3 = [], i2 = [], o2 = 0;
            e4.forEach(function(t5) {
              var e5 = t5.aabb, a2 = t5.indices, u2 = t5.vertexCount, s2 = t5.attributes;
              n3.aabb.add(e5), n3.vertexCount += u2, a2 && i2.push.apply(i2, Wc(a2.map(function(t6) {
                return t6 + o2;
              }))), o2 += u2, s2.forEach(function(t6, e6) {
                r3[e6] ? t6.data && (ts2(t6.data) ? r3[e6].push(t6.data) : Us(t6.data) ? r3[e6].data = function(t7, e7) {
                  if (!t7 && !e7)
                    throw new Error("Please specify valid arguments for parameters a and b.");
                  if (!e7 || e7.length === 0)
                    return t7;
                  if (!t7 || t7.length === 0)
                    return e7;
                  if (Object.prototype.toString.call(t7) !== Object.prototype.toString.call(e7))
                    throw new Error("The types of the two arguments passed for parameters a and b do not match.");
                  var n4 = new t7.constructor(t7.length + e7.length);
                  return n4.set(t7), n4.set(e7, t7.length), n4;
                }(r3[e6].data, t6.data) : r3[e6].data = r3[e6].data.concat(t6.data)) : (r3[e6] = t6, r3[e6].dirty = true);
              });
            }), n3.attributes = r3, n3.indices = Uint32Array.from(i2), n3.dirty = true;
          } }]), i;
        }(Ss)) || Vf;
        var Kf, Zf = (0, Mr.b2)()(qf = function(t3) {
          Br(i, t3);
          var e3, n2, r2 = (e3 = i, n2 = function() {
            if (typeof Reflect == "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy == "function")
              return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }(), function() {
            var t4, r3 = Vr(e3);
            if (n2) {
              var i2 = Vr(this).constructor;
              t4 = Reflect.construct(r3, arguments, i2);
            } else
              t4 = r3.apply(this, arguments);
            return Wr(this, t4);
          });
          function i() {
            return br(this, i), r2.apply(this, arguments);
          }
          return xr(i, [{ key: "onEntityCreated", value: function() {
            for (var t4 = this.config, e4 = t4.halfExtents, n3 = e4 === void 0 ? [0.5, 0.5] : e4, r3 = t4.widthSegments, i2 = r3 === void 0 ? 5 : r3, o2 = t4.lengthSegments, a2 = o2 === void 0 ? 5 : o2, u2 = [], s2 = [], c2 = [], f2 = [], l2 = 0, h2 = 0; h2 <= i2; h2++)
              for (var d2 = 0; d2 <= a2; d2++) {
                var p2 = -n3[0] + 2 * n3[0] * h2 / i2, v2 = -(-n3[1] + 2 * n3[1] * d2 / a2), g2 = h2 / i2, y2 = d2 / a2;
                u2.push(p2, 0, v2), s2.push(0, 1, 0), c2.push(g2, y2), h2 < i2 && d2 < a2 && (f2.push(l2 + a2 + 1, l2 + 1, l2), f2.push(l2 + a2 + 1, l2 + a2 + 2, l2 + 1)), l2++;
              }
            var m2 = qu(u2), b2 = this.getComponent();
            b2.indices = Uint32Array.from(f2), b2.aabb = m2, b2.vertexCount = l2, b2.attributes = [{ dirty: true, name: "position", data: Float32Array.from(u2), arrayStride: 12, stepMode: "vertex", attributes: [{ shaderLocation: 0, offset: 0, format: "float3" }] }, { dirty: true, name: "normal", data: Float32Array.from(s2), arrayStride: 12, stepMode: "vertex", attributes: [{ shaderLocation: 1, offset: 0, format: "float3" }] }, { dirty: true, name: "uv", data: Float32Array.from(c2), arrayStride: 8, stepMode: "vertex", attributes: [{ shaderLocation: 2, offset: 0, format: "float2" }] }];
          } }]), i;
        }(Ss)) || qf;
        var $f, Jf, Qf, tl, el, nl, rl, il, ol = (0, Mr.b2)()(Kf = function(t3) {
          Br(i, t3);
          var e3, n2, r2 = (e3 = i, n2 = function() {
            if (typeof Reflect == "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy == "function")
              return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }(), function() {
            var t4, r3 = Vr(e3);
            if (n2) {
              var i2 = Vr(this).constructor;
              t4 = Reflect.construct(r3, arguments, i2);
            } else
              t4 = r3.apply(this, arguments);
            return Wr(this, t4);
          });
          function i() {
            return br(this, i), r2.apply(this, arguments);
          }
          return xr(i, [{ key: "onEntityCreated", value: function() {
            for (var t4 = this.config, e4 = t4.radius, n3 = e4 === void 0 ? 0.5 : e4, r3 = t4.latitudeBands, i2 = r3 === void 0 ? 16 : r3, o2 = t4.longitudeBands, a2 = o2 === void 0 ? 16 : o2, u2 = [], s2 = [], c2 = [], f2 = [], l2 = 0; l2 <= i2; l2++)
              for (var h2 = l2 * Math.PI / i2, d2 = Math.sin(h2), p2 = Math.cos(h2), v2 = 0; v2 <= a2; v2++) {
                var g2 = 2 * v2 * Math.PI / a2 - Math.PI / 2, y2 = Math.sin(g2), m2 = Math.cos(g2) * d2, b2 = p2, _2 = y2 * d2, x2 = 1 - v2 / a2, w2 = 1 - l2 / i2;
                u2.push(m2 * n3, b2 * n3, _2 * n3), s2.push(m2, b2, _2), c2.push(x2, w2);
              }
            for (var E2 = 0; E2 < i2; ++E2)
              for (var S2 = 0; S2 < a2; ++S2) {
                var A2 = E2 * (a2 + 1) + S2, T2 = A2 + a2 + 1;
                f2.push(A2 + 1, T2, A2), f2.push(A2 + 1, T2 + 1, T2);
              }
            var I2 = qu(u2), C2 = this.getComponent();
            C2.indices = Uint32Array.from(f2), C2.aabb = I2, C2.vertexCount = u2.length / 3, C2.attributes = [{ dirty: true, name: "position", data: Float32Array.from(u2), arrayStride: 12, stepMode: "vertex", attributes: [{ shaderLocation: 0, offset: 0, format: "float3" }] }, { dirty: true, name: "normal", data: Float32Array.from(s2), arrayStride: 12, stepMode: "vertex", attributes: [{ shaderLocation: 1, offset: 0, format: "float3" }] }, { dirty: true, name: "uv", data: Float32Array.from(c2), arrayStride: 8, stepMode: "vertex", attributes: [{ shaderLocation: 2, offset: 0, format: "float2" }] }];
          } }]), i;
        }(Ss)) || Kf;
        var al, ul, sl, cl, fl, ll, hl, dl, pl, vl, gl, yl, ml = ($f = (0, Mr.b2)(), Jf = (0, Mr.f3)(Pr.RenderEngine), Qf = (0, Mr.f3)(Pr.ShaderModuleService), $f((il = function(t3) {
          Br(i, t3);
          var e3, n2, r2 = (e3 = i, n2 = function() {
            if (typeof Reflect == "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy == "function")
              return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }(), function() {
            var t4, r3 = Vr(e3);
            if (n2) {
              var i2 = Vr(this).constructor;
              t4 = Reflect.construct(r3, arguments, i2);
            } else
              t4 = r3.apply(this, arguments);
            return Wr(this, t4);
          });
          function i() {
            var t4;
            br(this, i);
            for (var e4 = arguments.length, n3 = new Array(e4), o2 = 0; o2 < e4; o2++)
              n3[o2] = arguments[o2];
            return mr(t4 = r2.call.apply(r2, [this].concat(n3)), "engine", nl, jr(t4)), mr(t4, "shaderModuleService", rl, jr(t4)), t4;
          }
          return xr(i, [{ key: "onEntityCreated", value: function() {
            var t4 = this.getComponent(), e4 = this.engine.supportWebGPU ? "layout(set = 0, binding = 0) uniform Uniforms {\n  vec4 color;\n  mat4 projectionMatrix;\n  mat4 modelViewMatrix;\n} uniforms;\n\nlayout(location = 0) in vec3 position;\n// layout(location = 1) in vec3 barycentric;\n\nlayout(location = 0) out vec4 fragColor;\n// layout(location = 1) out vec3 v_Barycentric;\n\nvoid main() {\n  gl_Position = uniforms.projectionMatrix * uniforms.modelViewMatrix * vec4(position, 1.0);\n  fragColor = uniforms.color;\n  // v_Barycentric = barycentric;\n}" : 'attribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform vec4 color;\n\nvarying vec4 fragColor;\n\n#pragma include "uv.vert.declaration"\n\nvoid main() {\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  fragColor = color;\n\n  #pragma include "uv.vert.main"\n}', n3 = this.engine.supportWebGPU ? "// layout(set = 0, binding = 1) uniform WireframeUniforms {\n//   float lineWidth;\n//   vec4 lineColor;\n// } wireframe;\n\nlayout(location = 0) in vec4 fragColor;\n// layout(location = 1) in vec3 v_Barycentric;\n\nlayout(location = 0) out vec4 outColor;\n\n// wireframe\n// float edgeFactor() {\n//   vec3 d = fwidth(v_Barycentric);\n//   vec3 a3 = smoothstep(vec3(0.0), d * wireframe.lineWidth, v_Barycentric);\n//   return min(min(a3.x, a3.y), a3.z);\n// }\n\nvoid main() {\n  // outColor = mix(fragColor, wireframe.lineColor, (1.0 - edgeFactor()));\n  outColor = fragColor;\n}" : 'varying vec4 fragColor;\n\n#pragma include "uv.frag.declaration"\n#pragma include "map.frag.declaration"\n\nvoid main() {\n  vec4 diffuseColor = fragColor;\n\n  #pragma include "map.frag.main"\n\n  gl_FragColor = diffuseColor;\n}';
            this.shaderModuleService.registerModule("material-basic", { vs: e4, fs: n3 });
            var r3 = this.shaderModuleService.getModule("material-basic"), i2 = r3.vs, o2 = r3.fs, a2 = r3.uniforms;
            t4.vertexShaderGLSL = i2, t4.fragmentShaderGLSL = o2, t4.setUniform(a2), this.config.map && (t4.setDefines({ USE_UV: 1, USE_MAP: 1 }), t4.setUniform({ map: this.config.map, uvTransform: si() }));
          } }]), i;
        }(Ec), nl = wr((el = il).prototype, "engine", [Jf], { configurable: true, enumerable: true, writable: true, initializer: null }), rl = wr(el.prototype, "shaderModuleService", [Qf], { configurable: true, enumerable: true, writable: true, initializer: null }), tl = el)) || tl);
        var bl, _l, xl, wl, El, Sl, Al, Tl, Il, Cl, Dl, Nl, kl = (al = (0, Mr.b2)(), ul = (0, Mr.f3)(Pr.Systems), sl = (0, Mr.t6)(Pr.MaterialSystem), cl = (0, Mr.f3)(Pr.Systems), fl = (0, Mr.t6)(Pr.GeometrySystem), ll = (0, Mr.f3)(Pr.ShaderModuleService), al((yl = function(t3) {
          Br(i, t3);
          var e3, n2, r2 = (e3 = i, n2 = function() {
            if (typeof Reflect == "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy == "function")
              return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }(), function() {
            var t4, r3 = Vr(e3);
            if (n2) {
              var i2 = Vr(this).constructor;
              t4 = Reflect.construct(r3, arguments, i2);
            } else
              t4 = r3.apply(this, arguments);
            return Wr(this, t4);
          });
          function i() {
            var t4;
            br(this, i);
            for (var e4 = arguments.length, n3 = new Array(e4), o2 = 0; o2 < e4; o2++)
              n3[o2] = arguments[o2];
            return mr(t4 = r2.call.apply(r2, [this].concat(n3)), "materialSystem", pl, jr(t4)), mr(t4, "geometrySystem", vl, jr(t4)), mr(t4, "shaderModuleService", gl, jr(t4)), t4;
          }
          return xr(i, [{ key: "onAttributeChanged", value: function(t4) {
            var e4 = t4.name, n3 = t4.data, r3 = this.getMeshComponent();
            r3 && r3.material && (e4 === "gridColor" ? (r3.material.setUniform("u_GridColor", n3), r3.material.setUniform("u_GridColor2", n3)) : e4 === "gridSize" && (r3.material.setUniform("u_GridSize", n3), r3.material.setUniform("u_GridSize2", n3)));
          } }, { key: "onEntityCreated", value: function() {
            this.shaderModuleService.registerModule("grid", { vs: "attribute vec3 a_Position;\n\nvarying vec3 v_Position;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nvoid main() {\n  v_Position = a_Position;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_Position, 1.);\n}", fs: "// generate grid, borrow from clay.gl viewer\n// @see https://github.com/pissang/clay-viewer/blob/master/src/graphic/ground.glsl\n#extension GL_OES_standard_derivatives : enable\n\nvarying vec3 v_Position;\n// varying vec3 v_Normal;\n\nuniform float u_GridSize : 5;\nuniform float u_GridSize2 : .5;\nuniform vec4 u_GridColor : [0, 0, 0, 1];\nuniform vec4 u_GridColor2 : [0.3, 0.3, 0.3, 1];\nuniform bool u_GridEnabled : true;\n\n// uniform vec3 u_LightDirection;\n// uniform vec3 u_LightColor;\n// uniform vec3 u_Camera;\n\nvoid main() {\n  // vec3 n = v_Normal;\n  // vec3 l = normalize(u_LightDirection);\n  // float NdotL = clamp(dot(n, l), 0.001, 1.0);\n\n  gl_FragColor = vec4(1.);\n\n  if (u_GridEnabled) {\n    float wx = v_Position.x;\n    float wz = v_Position.z;\n    // float x0 = abs(fract(wx / u_GridSize - 0.5) - 0.5) / fwidth(wx) * u_GridSize / 2.0;\n    // float z0 = abs(fract(wz / u_GridSize - 0.5) - 0.5) / fwidth(wz) * u_GridSize / 2.0;\n\n    float x1 = abs(fract(wx / u_GridSize2 - 0.5) - 0.5) / fwidth(wx) * u_GridSize2;\n    float z1 = abs(fract(wz / u_GridSize2 - 0.5) - 0.5) / fwidth(wz) * u_GridSize2;\n\n    // float v0 = 1.0 - clamp(min(x0, z0), 0.0, 1.0);\n    float v1 = 1.0 - clamp(min(x1, z1), 0.0, 1.0);\n    // if (v0 > 0.1) {\n        // gl_FragColor = mix(gl_FragColor, u_GridColor, v0);\n    // }\n    // else {\n        gl_FragColor = mix(gl_FragColor, u_GridColor2, v1);\n    // }\n  }\n\n  // float shadowFactor = calcShadow(u_ShadowMap, v_PositionFromLight, l, n);\n  // vec3 diffuseColor = u_LightColor * NdotL * shadowFactor;\n\n  // gl_FragColor.rgb *= diffuseColor;\n}" });
            var t4 = this.shaderModuleService.getModule("grid"), e4 = t4.vs, n3 = t4.fs, r3 = t4.uniforms, i2 = this.materialSystem.createShaderMaterial({ vertexShader: e4, fragmentShader: n3 });
            this.setMaterial(i2);
            var o2 = this.geometrySystem.createBufferGeometry({ vertexCount: 4 });
            this.setGeometry(o2), i2.setCull({ enable: false, face: Ri.BACK }).setDepth({ enable: true, func: Ri.LESS }), i2.setUniform(r3), this.setAttributes({ gridColor: this.config.gridColor, gridSize: this.config.gridSize }), o2.setIndex([0, 3, 2, 2, 1, 0]), o2.setAttribute("a_Position", Float32Array.from([-4, -1, -4, 4, -1, -4, 4, -1, 4, -4, -1, 4]), { arrayStride: 8, stepMode: "vertex", attributes: [{ shaderLocation: 0, offset: 0, format: "float2" }] });
          } }]), i;
        }(Sc), pl = wr((dl = yl).prototype, "materialSystem", [ul, sl], { configurable: true, enumerable: true, writable: true, initializer: null }), vl = wr(dl.prototype, "geometrySystem", [cl, fl], { configurable: true, enumerable: true, writable: true, initializer: null }), gl = wr(dl.prototype, "shaderModuleService", [ll], { configurable: true, enumerable: true, writable: true, initializer: null }), hl = dl)) || hl), Rl = n(7801), Ol = n(1739);
        function Ml(t3, e3, n2, r2, i) {
          Pl(e3, r2, -i), Pl(e3, r2, i), t3.push(n2), t3.push(n2);
        }
        function Pl(t3, e3, n2) {
          t3.push([[e3[0], e3[1]], n2]);
        }
        var Gl, Ll, Ul, Fl, Bl, zl, jl, Wl, Vl, Xl, Hl, ql, Yl = (bl = (0, Mr.b2)(), _l = (0, Mr.f3)(Pr.Systems), xl = (0, Mr.t6)(Pr.MaterialSystem), wl = (0, Mr.f3)(Pr.Systems), El = (0, Mr.t6)(Pr.GeometrySystem), Sl = (0, Mr.f3)(Pr.ShaderModuleService), bl((Nl = function(t3) {
          Br(i, t3);
          var e3, n2, r2 = (e3 = i, n2 = function() {
            if (typeof Reflect == "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy == "function")
              return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }(), function() {
            var t4, r3 = Vr(e3);
            if (n2) {
              var i2 = Vr(this).constructor;
              t4 = Reflect.construct(r3, arguments, i2);
            } else
              t4 = r3.apply(this, arguments);
            return Wr(this, t4);
          });
          function i() {
            var t4;
            br(this, i);
            for (var e4 = arguments.length, n3 = new Array(e4), o2 = 0; o2 < e4; o2++)
              n3[o2] = arguments[o2];
            return mr(t4 = r2.call.apply(r2, [this].concat(n3)), "materialSystem", Il, jr(t4)), mr(t4, "geometrySystem", Cl, jr(t4)), mr(t4, "shaderModuleService", Dl, jr(t4)), t4.vertexCount = void 0, t4;
          }
          return xr(i, [{ key: "onAttributeChanged", value: function(t4) {
            var e4 = t4.name, n3 = t4.data, r3 = this.getMeshComponent();
            if (r3 && r3.material)
              switch (e4) {
                case "dashArray":
                  r3.material.setUniform("u_dash_array", n3);
                  break;
                case "dashOffset":
                  r3.material.setUniform("u_dash_offset", n3);
                  break;
                case "dashRatio":
                  r3.material.setUniform("u_dash_ratio", n3);
                  break;
                case "thickness":
                  r3.material.setUniform("u_thickness", n3);
                  break;
                case "color":
                  var i2 = new Array(this.vertexCount).fill(void 0).map(function() {
                    return n3;
                  }).reduce(function(t5, e5) {
                    return [].concat(Wc(t5), Wc(e5));
                  }, []);
                  r3.geometry.setAttribute("a_color", Float32Array.from(i2), { arrayStride: 16, stepMode: "vertex", attributes: [{ shaderLocation: 1, offset: 0, format: "float4" }] });
              }
          } }, { key: "onEntityCreated", value: function() {
            var t4 = this;
            this.shaderModuleService.registerModule("line", { vs: "attribute vec2 a_pos;\nattribute vec4 a_color;\nattribute float a_line_miter;\nattribute vec2 a_line_normal;\nattribute float a_counters;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform float u_thickness : 0.02;\nuniform vec2 u_viewport;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_counters;\n\nvoid main() {\n  v_color = a_color;\n  v_counters = a_counters;\n\n  vec3 normal = normalize(vec3(a_line_normal, 0.0));\n\n  vec4 offset = vec4(normal * u_thickness / 2.0 * a_line_miter, 0.0);\n\n  v_normal = vec2(normal * sign(a_line_miter));\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_pos, 0.0, 1.0) + offset;\n}\n", fs: "uniform float u_dash_array : 0.02;\nuniform float u_dash_offset : 0;\nuniform float u_dash_ratio : 0;\nuniform float u_thickness : 0.02;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_counters;\n\nvoid main() {\n    float blur = 1. - smoothstep(0.98, 1., length(v_normal));\n\n    gl_FragColor = v_color;\n    gl_FragColor.a *= blur * ceil(mod(v_counters + u_dash_offset, u_dash_array) - (u_dash_array * u_dash_ratio));\n}" });
            var e4 = this.shaderModuleService.getModule("line"), n3 = e4.vs, r3 = e4.fs, i2 = e4.uniforms, o2 = this.materialSystem.createShaderMaterial({ vertexShader: n3, fragmentShader: r3 }), a2 = function(t5, e5, n4) {
              for (var r4 = [0, 0], i3 = [0, 0], o3 = [0, 0], a3 = [0, 0], u3 = -1, s3 = false, c3 = null, f3 = (0, Rl.create)(), l3 = 0, h3 = [], d3 = [], p3 = [], v3 = [0, 0], g2 = t5.length, y2 = 1; y2 < g2; y2++) {
                var m2 = l3, b2 = t5[y2 - 1], _2 = t5[y2], x2 = y2 < t5.length - 1 ? t5[y2 + 1] : null;
                if (v3.push(y2 / g2, y2 / g2), (0, Ol.o7)(r4, _2, b2), c3 || (c3 = [0, 0], (0, Ol.mJ)(c3, r4)), s3 || (s3 = true, Ml(d3, h3, b2, c3, 1)), p3.push([m2 + 0, m2 + 1, m2 + 2]), x2) {
                  (0, Ol.o7)(i3, x2, _2);
                  var w2 = (0, Ol.x7)(o3, a3, r4, i3, 1), E2 = (0, Rl.dot)(o3, c3) < 0 ? -1 : 1, S2 = w2 > 3;
                  if (!isFinite(w2)) {
                    (0, Ol.mJ)(c3, r4), Ml(d3, h3, _2, c3, 1), p3.push(u3 === 1 ? [m2, m2 + 2, m2 + 3] : [m2 + 2, m2 + 1, m2 + 3]), l3 += 2, u3 = E2;
                    continue;
                  }
                  S2 ? (w2 = 3, v3.push(y2 / g2), Pl(h3, c3, -E2), d3.push(_2), Pl(h3, a3, w2 * E2), d3.push(_2), p3.push(u3 !== -E2 ? [m2, m2 + 2, m2 + 3] : [m2 + 2, m2 + 1, m2 + 3]), p3.push([m2 + 2, m2 + 3, m2 + 4]), (0, Ol.mJ)(f3, i3), (0, Rl.copy)(c3, f3), Pl(h3, c3, -E2), d3.push(_2), l3 += 3) : (Ml(d3, h3, _2, a3, w2), p3.push(u3 === 1 ? [m2, m2 + 2, m2 + 3] : [m2 + 2, m2 + 1, m2 + 3]), E2 = -1, (0, Rl.copy)(c3, a3), l3 += 2), u3 = E2;
                } else
                  (0, Ol.mJ)(c3, r4), Ml(d3, h3, _2, c3, 1), p3.push(u3 === 1 ? [m2, m2 + 2, m2 + 3] : [m2 + 2, m2 + 1, m2 + 3]), l3 += 2;
              }
              return { normals: h3, attrIndex: p3, attrPos: d3, attrCounters: v3 };
            }(this.config.points), u2 = a2.normals, s2 = a2.attrIndex, c2 = a2.attrPos, f2 = a2.attrCounters, l2 = c2.length;
            this.vertexCount = l2;
            var h2 = this.geometrySystem.createBufferGeometry({ vertexCount: l2 });
            this.setMaterial(o2), this.setGeometry(h2), o2.setCull({ enable: false, face: Ri.BACK }).setUniform(i2), this.setAttributes({ dashArray: this.config.dashArray, dashOffset: this.config.dashOffset, dashRatio: this.config.dashRatio, thickness: this.config.thickness });
            var d2 = [], p2 = [];
            u2.forEach(function(t5) {
              var e5 = t5[0], n4 = t5[1];
              d2.push([e5[0], e5[1]]), p2.push(n4);
            }), h2.setIndex(s2.reduce(function(t5, e5) {
              return [].concat(Wc(t5), Wc(e5));
            }, [])), h2.setAttribute("a_pos", Float32Array.from(c2.reduce(function(t5, e5) {
              return [].concat(Wc(t5), Wc(e5));
            }, [])), { arrayStride: 8, stepMode: "vertex", attributes: [{ shaderLocation: 0, offset: 0, format: "float2" }] });
            var v2 = new Array(l2).fill(void 0).map(function() {
              return Wc(t4.config.color);
            }).reduce(function(t5, e5) {
              return [].concat(Wc(t5), Wc(e5));
            }, []);
            h2.setAttribute("a_color", Float32Array.from(v2), { arrayStride: 16, stepMode: "vertex", attributes: [{ shaderLocation: 1, offset: 0, format: "float4" }] }), h2.setAttribute("a_line_miter", Float32Array.from(p2), { arrayStride: 4, stepMode: "vertex", attributes: [{ shaderLocation: 2, offset: 0, format: "float" }] }), h2.setAttribute("a_line_normal", Float32Array.from(d2.reduce(function(t5, e5) {
              return [].concat(Wc(t5), Wc(e5));
            }, [])), { arrayStride: 8, stepMode: "vertex", attributes: [{ shaderLocation: 3, offset: 0, format: "float2" }] }), h2.setAttribute("a_counters", Float32Array.from(f2), { arrayStride: 4, stepMode: "vertex", attributes: [{ shaderLocation: 4, offset: 0, format: "float" }] });
          } }]), i;
        }(Sc), Il = wr((Tl = Nl).prototype, "materialSystem", [_l, xl], { configurable: true, enumerable: true, writable: true, initializer: null }), Cl = wr(Tl.prototype, "geometrySystem", [wl, El], { configurable: true, enumerable: true, writable: true, initializer: null }), Dl = wr(Tl.prototype, "shaderModuleService", [Sl], { configurable: true, enumerable: true, writable: true, initializer: null }), Al = Tl)) || Al);
        function Kl(t3, e3) {
          var n2 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r2 = Object.getOwnPropertySymbols(t3);
            e3 && (r2 = r2.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n2.push.apply(n2, r2);
          }
          return n2;
        }
        var Zl, $l, Jl, Ql, th, eh, nh, rh, ih, oh, ah = ["circle", "triangle", "square", "pentagon", "hexagon", "octogon", "hexagram", "rhombus", "vesica"], uh = (Gl = (0, Mr.b2)(), Ll = (0, Mr.f3)(Pr.Systems), Ul = (0, Mr.t6)(Pr.MaterialSystem), Fl = (0, Mr.f3)(Pr.Systems), Bl = (0, Mr.t6)(Pr.GeometrySystem), zl = (0, Mr.f3)(Pr.ShaderModuleService), Gl((ql = function(t3) {
          Br(i, t3);
          var e3, n2, r2 = (e3 = i, n2 = function() {
            if (typeof Reflect == "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy == "function")
              return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }(), function() {
            var t4, r3 = Vr(e3);
            if (n2) {
              var i2 = Vr(this).constructor;
              t4 = Reflect.construct(r3, arguments, i2);
            } else
              t4 = r3.apply(this, arguments);
            return Wr(this, t4);
          });
          function i() {
            var t4;
            br(this, i);
            for (var e4 = arguments.length, n3 = new Array(e4), o2 = 0; o2 < e4; o2++)
              n3[o2] = arguments[o2];
            return mr(t4 = r2.call.apply(r2, [this].concat(n3)), "materialSystem", Vl, jr(t4)), mr(t4, "geometrySystem", Xl, jr(t4)), mr(t4, "shaderModuleService", Hl, jr(t4)), t4;
          }
          return xr(i, [{ key: "onAttributeChanged", value: function(t4) {
            var e4 = t4.name, n3 = t4.data, r3 = this.getMeshComponent();
            r3 && r3.material && (e4 === "strokeWidth" ? r3.material.setUniform("u_stroke_width", n3) : e4 === "strokeColor" ? r3.material.setUniform("u_stroke_color", n3) : e4 === "strokeOpacity" ? r3.material.setUniform("u_stroke_opacity", n3) : e4 === "opacity" ? r3.material.setUniform("u_opacity", n3) : e4 === "blur" && r3.material.setUniform("u_blur", n3));
          } }, { key: "onEntityCreated", value: function() {
            this.shaderModuleService.registerModule("grid", { vs: 'attribute vec2 position;\nattribute vec4 color;\nattribute float shape;\nattribute vec2 offset;\nattribute float size;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nuniform float u_stroke_width : 0.01;\nuniform float u_device_pixel_ratio;\nuniform vec2 u_viewport;\n\nvarying vec4 v_color;\nvarying vec4 v_data;\nvarying float v_radius;\n\n#pragma include "picking"\n\nvoid main() {\n  v_color = color;\n  v_radius = size;\n\n  lowp float antialiasblur = 1.0 / u_device_pixel_ratio * (size + u_stroke_width);\n\n  // construct point coords\n  v_data = vec4(position, antialiasblur, shape);\n\n  gl_Position = projectionMatrix * modelViewMatrix\n    * vec4(position * size + offset, 0.0, 1.0);\n\n  setPickingColor(a_PickingColor);\n}', fs: `uniform float u_blur : 0.05;
uniform float u_opacity : 0.7;
uniform float u_stroke_width : 0.01;
uniform vec4 u_stroke_color : [0, 0, 0, 0];
uniform float u_stroke_opacity : 1;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "sdf2d"
#pragma include "picking"

void main() {
  int shape = int(floor(v_data.w + 0.5));

  float antialiasblur = v_data.z;
  float antialiased_blur = -max(u_blur, antialiasblur);
  float r = v_radius / (v_radius + u_stroke_width);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  // if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  // } else if (shape == 1) {
  //   outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
  //   inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  // } else if (shape == 2) {
  //   outer_df = sdBox(v_data.xy, vec2(1.));
  //   inner_df = sdBox(v_data.xy, vec2(r));
  // } else if (shape == 3) {
  //   outer_df = sdPentagon(v_data.xy, 0.8);
  //   inner_df = sdPentagon(v_data.xy, r * 0.8);
  // } else if (shape == 4) {
  //   outer_df = sdHexagon(v_data.xy, 0.8);
  //   inner_df = sdHexagon(v_data.xy, r * 0.8);
  // } else if (shape == 5) {
  //   outer_df = sdOctogon(v_data.xy, 1.0);
  //   inner_df = sdOctogon(v_data.xy, r);
  // } else if (shape == 6) {
  //   outer_df = sdHexagram(v_data.xy, 0.52);
  //   inner_df = sdHexagram(v_data.xy, r * 0.52);
  // } else if (shape == 7) {
  //   outer_df = sdRhombus(v_data.xy, vec2(1.0));
  //   inner_df = sdRhombus(v_data.xy, vec2(r));
  // } else if (shape == 8) {
  //   outer_df = sdVesica(v_data.xy, 1.1, 0.8);
  //   inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  // }

  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);

  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(
    antialiased_blur,
    0.0,
    inner_df
  );
  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;

  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);
  gl_FragColor.a = gl_FragColor.a * opacity_t;

  gl_FragColor = filterColor(gl_FragColor);
}` });
            var t4 = this.shaderModuleService.getModule("grid"), e4 = t4.vs, n3 = t4.fs, r3 = t4.uniforms, i2 = this.materialSystem.createShaderMaterial({ vertexShader: e4, fragmentShader: n3, cull: { enable: false }, depth: { enable: false }, blend: { enable: true, func: { srcRGB: Ri.SRC_ALPHA, dstRGB: Ri.ONE_MINUS_SRC_ALPHA, srcAlpha: 1, dstAlpha: 1 } } });
            i2.setUniform(function(t5) {
              for (var e5 = 1; e5 < arguments.length; e5++) {
                var n4 = arguments[e5] != null ? arguments[e5] : {};
                e5 % 2 ? Kl(Object(n4), true).forEach(function(e6) {
                  ni(t5, e6, n4[e6]);
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t5, Object.getOwnPropertyDescriptors(n4)) : Kl(Object(n4)).forEach(function(e6) {
                  Object.defineProperty(t5, e6, Object.getOwnPropertyDescriptor(n4, e6));
                });
              }
              return t5;
            }({ u_device_pixel_ratio: window.devicePixelRatio }, r3));
            var o2 = this.buildAttributes(), a2 = this.geometrySystem.createInstancedBufferGeometry({ maxInstancedCount: o2.instancedOffsets.length / 2, vertexCount: 6 });
            a2.setIndex([0, 2, 1, 0, 3, 2]), a2.setAttribute("position", Float32Array.from(o2.positions), { arrayStride: 8, stepMode: "vertex", attributes: [{ shaderLocation: 0, offset: 0, format: "float2" }] }), a2.setAttribute("offset", Float32Array.from(o2.instancedOffsets), { arrayStride: 8, stepMode: "instance", attributes: [{ shaderLocation: 1, offset: 0, format: "float2" }] }), a2.setAttribute("color", Float32Array.from(o2.instancedColors), { arrayStride: 16, stepMode: "instance", attributes: [{ shaderLocation: 2, offset: 0, format: "float4" }] }), a2.setAttribute("size", Float32Array.from(o2.instancedSizes), { arrayStride: 4, stepMode: "instance", attributes: [{ shaderLocation: 3, offset: 0, format: "float" }] }), a2.setAttribute("shape", Float32Array.from(o2.instancedShapes), { arrayStride: 4, stepMode: "instance", attributes: [{ shaderLocation: 4, offset: 0, format: "float" }] }), a2.setAttribute("a_PickingColor", Float32Array.from(o2.instancedPickingColors), { arrayStride: 12, stepMode: "instance", attributes: [{ shaderLocation: 6, offset: 0, format: "float3" }] }), this.setMaterial(i2), this.setGeometry(a2);
          } }, { key: "buildAttribute", value: function(t4, e4, n3) {
            var r3, i2, o2, a2, u2;
            (r3 = e4.instancedPickingColors).push.apply(r3, Wc([(u2 = t4.id || n3) + 1 & 255, u2 + 1 >> 8 & 255, u2 + 1 >> 8 >> 8 & 255])), e4.instancedShapes.push(ah.indexOf(t4.shape || "circle")), (i2 = e4.instancedColors).push.apply(i2, Wc(t4.color || [1, 0, 0, 1])), (o2 = e4.instancedOffsets).push.apply(o2, Wc(t4.position || [0, 0])), (a2 = e4.instancedSizes).push.apply(a2, Wc(t4.size || [0.2, 0.2]));
          } }, { key: "buildAttributes", value: function() {
            var t4 = this, e4 = { positions: [1, 1, 1, -1, -1, -1, -1, 1], instancedOffsets: [], instancedColors: [], instancedSizes: [], instancedShapes: [], instancedPickingColors: [] };
            return Array.isArray(this.config) ? this.config.forEach(function(n3, r3) {
              t4.buildAttribute(n3, e4, r3);
            }) : this.buildAttribute(this.config, e4, 0), e4;
          } }]), i;
        }(Sc), Vl = wr((Wl = ql).prototype, "materialSystem", [Ll, Ul], { configurable: true, enumerable: true, writable: true, initializer: null }), Xl = wr(Wl.prototype, "geometrySystem", [Fl, Bl], { configurable: true, enumerable: true, writable: true, initializer: null }), Hl = wr(Wl.prototype, "shaderModuleService", [zl], { configurable: true, enumerable: true, writable: true, initializer: null }), jl = Wl)) || jl);
        function sh(t3, e3) {
          var n2;
          if (typeof Symbol == "undefined" || t3[Symbol.iterator] == null) {
            if (Array.isArray(t3) || (n2 = function(t4, e4) {
              if (t4) {
                if (typeof t4 == "string")
                  return ch(t4, e4);
                var n3 = Object.prototype.toString.call(t4).slice(8, -1);
                return n3 === "Object" && t4.constructor && (n3 = t4.constructor.name), n3 === "Map" || n3 === "Set" ? Array.from(t4) : n3 === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n3) ? ch(t4, e4) : void 0;
              }
            }(t3)) || e3 && t3 && typeof t3.length == "number") {
              n2 && (t3 = n2);
              var r2 = 0, i = function() {
              };
              return { s: i, n: function() {
                return r2 >= t3.length ? { done: true } : { done: false, value: t3[r2++] };
              }, e: function(t4) {
                throw t4;
              }, f: i };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var o2, a2 = true, u2 = false;
          return { s: function() {
            n2 = t3[Symbol.iterator]();
          }, n: function() {
            var t4 = n2.next();
            return a2 = t4.done, t4;
          }, e: function(t4) {
            u2 = true, o2 = t4;
          }, f: function() {
            try {
              a2 || n2.return == null || n2.return();
            } finally {
              if (u2)
                throw o2;
            }
          } };
        }
        function ch(t3, e3) {
          (e3 == null || e3 > t3.length) && (e3 = t3.length);
          for (var n2 = 0, r2 = new Array(e3); n2 < e3; n2++)
            r2[n2] = t3[n2];
          return r2;
        }
        var fh, lh, hh, dh, ph, vh, gh, yh, mh, bh, _h, xh, wh = (Zl = (0, Mr.b2)(), $l = (0, Mr.f3)(Pr.RenderEngine), Jl = (0, Mr.f3)(Pr.ShaderModuleService), Ql = (0, Mr.f3)(Pr.ConfigService), Zl((oh = function() {
          function t3() {
            br(this, t3), this.container = void 0, mr(this, "engine", nh, this), mr(this, "shaderModule", rh, this), mr(this, "configService", ih, this), this.inited = false, this.rendering = false, this.pendings = [], this.views = [], this.size = void 0;
          }
          var e3, n2;
          return xr(t3, [{ key: "init", value: (n2 = Tr(Sr().mark(function t4() {
            var e4, n3, r2, i, o2;
            return Sr().wrap(function(t5) {
              for (; ; )
                switch (t5.prev = t5.next) {
                  case 0:
                    if (this.shaderModule.registerBuiltinModules(), this.shaderModule.registerModule("uv.vert.declaration", { vs: "#ifdef USE_UV\n  attribute vec2 uv;\n	#ifdef UVS_VERTEX_ONLY\n    vec2 vUv;\n	#else\n		varying vec2 vUv;\n	#endif\n	uniform mat3 uvTransform;\n#endif" }), this.shaderModule.registerModule("uv.vert.main", { vs: "#ifdef USE_UV\n  vUv = (uvTransform * vec3(uv, 1)).xy;\n#endif" }), this.shaderModule.registerModule("uv.frag.declaration", { fs: "#if (defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ))\n  varying vec2 vUv;\n#endif" }), this.shaderModule.registerModule("map.frag.declaration", { fs: "#ifdef USE_MAP\n  uniform sampler2D map;\n#endif" }), this.shaderModule.registerModule("map.frag.main", { fs: "#ifdef USE_MAP\n  vec4 texelColor = texture2D(map, vUv);\n  // texelColor = mapTexelToLinear(texelColor);\n  diffuseColor *= texelColor;\n#endif" }), e4 = this.container.getAll(Pr.Systems), !(n3 = this.configService.get()).canvas) {
                      t5.next = 30;
                      break;
                    }
                    return t5.next = 11, this.engine.init({ canvas: n3.canvas, swapChainFormat: As.EV.BGRA8Unorm, antialiasing: false });
                  case 11:
                    r2 = sh(e4), t5.prev = 12, r2.s();
                  case 14:
                    if ((i = r2.n()).done) {
                      t5.next = 21;
                      break;
                    }
                    if (!(o2 = i.value).initialize) {
                      t5.next = 19;
                      break;
                    }
                    return t5.next = 19, o2.initialize();
                  case 19:
                    t5.next = 14;
                    break;
                  case 21:
                    t5.next = 26;
                    break;
                  case 23:
                    t5.prev = 23, t5.t0 = t5.catch(12), r2.e(t5.t0);
                  case 26:
                    return t5.prev = 26, r2.f(), t5.finish(26);
                  case 29:
                    this.inited = true;
                  case 30:
                  case "end":
                    return t5.stop();
                }
            }, t4, this, [[12, 23, 26, 29]]);
          })), function() {
            return n2.apply(this, arguments);
          }) }, { key: "render", value: (e3 = Tr(Sr().mark(function t4() {
            var e4, n3, r2, i, o2, a2, u2, s2 = arguments;
            return Sr().wrap(function(t5) {
              for (; ; )
                switch (t5.prev = t5.next) {
                  case 0:
                    if (this.inited && !this.rendering) {
                      t5.next = 2;
                      break;
                    }
                    return t5.abrupt("return");
                  case 2:
                    for (this.pendings.length && this.pendings.forEach(function(t6) {
                      t6();
                    }), this.rendering = true, this.engine.beginFrame(), e4 = this.container.getAll(Pr.Systems), n3 = s2.length, r2 = new Array(n3), i = 0; i < n3; i++)
                      r2[i] = s2[i];
                    o2 = sh(e4), t5.prev = 8, o2.s();
                  case 10:
                    if ((a2 = o2.n()).done) {
                      t5.next = 17;
                      break;
                    }
                    if (!(u2 = a2.value).execute) {
                      t5.next = 15;
                      break;
                    }
                    return t5.next = 15, u2.execute(r2);
                  case 15:
                    t5.next = 10;
                    break;
                  case 17:
                    t5.next = 22;
                    break;
                  case 19:
                    t5.prev = 19, t5.t0 = t5.catch(8), o2.e(t5.t0);
                  case 22:
                    return t5.prev = 22, o2.f(), t5.finish(22);
                  case 25:
                    this.engine.endFrame(), this.rendering = false;
                  case 27:
                  case "end":
                    return t5.stop();
                }
            }, t4, this, [[8, 19, 22, 25]]);
          })), function() {
            return e3.apply(this, arguments);
          }) }, { key: "clear", value: function(t4) {
            var e4 = this;
            return this.inited ? this.engine.clear(t4) : this.pendings.unshift(function() {
              e4.engine.clear(t4), e4.pendings.shift();
            }), this;
          } }, { key: "setSize", value: function(t4) {
            var e4 = t4.width, n3 = t4.height, r2 = this.engine.getCanvas();
            return this.size = { width: e4, height: n3 }, r2.width = e4, r2.height = n3, this;
          } }, { key: "getSize", value: function() {
            return this.size;
          } }]), t3;
        }(), nh = wr((eh = oh).prototype, "engine", [$l], { configurable: true, enumerable: true, writable: true, initializer: null }), rh = wr(eh.prototype, "shaderModule", [Jl], { configurable: true, enumerable: true, writable: true, initializer: null }), ih = wr(eh.prototype, "configService", [Ql], { configurable: true, enumerable: true, writable: true, initializer: null }), th = eh)) || th), Eh = (0, Mr.b2)()((lh = function() {
          function t3() {
            br(this, t3), this.entities = [];
          }
          return xr(t3, [{ key: "getEntities", value: function() {
            return this.entities;
          } }, { key: "addRenderable", value: function(t4) {
            return this.addEntity(t4.getEntity()), this;
          } }, { key: "removeRenderable", value: function(t4) {
            return this.removeEntity(t4.getEntity()), this;
          } }, { key: "addLight", value: function() {
          } }, { key: "addEntity", value: function(t4) {
            return this.entities.indexOf(t4) === -1 && this.entities.push(t4), this;
          } }, { key: "removeEntity", value: function(t4) {
            var e3 = this.entities.indexOf(t4);
            return this.entities.splice(e3, 1), this;
          } }]), t3;
        }(), fh = lh)) || fh, Sh = (0, Mr.b2)()((dh = function() {
          function t3() {
            br(this, t3), this.cache = {};
          }
          return xr(t3, [{ key: "get", value: function(t4) {
            return this.cache[t4];
          } }, { key: "set", value: function(t4, e3) {
            this.cache[t4] = e3;
          } }]), t3;
        }(), hh = dh)) || hh;
        function Ah(t3, e3) {
          var n2 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r2 = Object.getOwnPropertySymbols(t3);
            e3 && (r2 = r2.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n2.push.apply(n2, r2);
          }
          return n2;
        }
        function Th(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n2 = arguments[e3] != null ? arguments[e3] : {};
            e3 % 2 ? Ah(Object(n2), true).forEach(function(e4) {
              ni(t3, e4, n2[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n2)) : Ah(Object(n2)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n2, e4));
            });
          }
          return t3;
        }
        var Ih, Ch, Dh, Nh, kh, Rh, Oh, Mh, Ph, Gh, Lh, Uh, Fh, Bh = (ph = (0, Mr.b2)(), vh = (0, Mr.f3)(Sh), gh = (0, Mr.f3)(Pr.RenderEngine), ph((xh = function() {
          function t3() {
            br(this, t3), mr(this, "textureCache", bh, this), mr(this, "engine", _h, this), this.config = void 0, this.loaded = false, this.texture = void 0;
          }
          var e3;
          return xr(t3, [{ key: "setConfig", value: function(t4) {
            this.config = t4;
          } }, { key: "isLoaded", value: function() {
            return this.loaded;
          } }, { key: "load", value: (e3 = Tr(Sr().mark(function t4() {
            var e4 = this;
            return Sr().wrap(function(t5) {
              for (; ; )
                switch (t5.prev = t5.next) {
                  case 0:
                    if (!this.config.url) {
                      t5.next = 4;
                      break;
                    }
                    return t5.abrupt("return", new Promise(function(t6, n2) {
                      var r2 = e4.textureCache.get(e4.config.url);
                      if (r2)
                        t6(r2);
                      else {
                        var i = new Image();
                        i.crossOrigin = "Anonymous", i.src = e4.config.url, i.onload = function() {
                          var n3 = e4.engine.createTexture2D(Th(Th({}, e4.config), {}, { data: i, width: i.width, height: i.height, flipY: true }));
                          e4.textureCache.set(e4.config.url, n3), e4.texture = n3, e4.loaded = true, t6(n3);
                        }, i.onerror = function() {
                          n2();
                        };
                      }
                    }));
                  case 4:
                    return this.loaded = true, this.texture = this.engine.createTexture2D(this.config), t5.abrupt("return", this.texture);
                  case 7:
                  case "end":
                    return t5.stop();
                }
            }, t4, this);
          })), function() {
            return e3.apply(this, arguments);
          }) }]), t3;
        }(), bh = wr((mh = xh).prototype, "textureCache", [vh], { configurable: true, enumerable: true, writable: true, initializer: null }), _h = wr(mh.prototype, "engine", [gh], { configurable: true, enumerable: true, writable: true, initializer: null }), yh = mh)) || yh), zh = (Ih = (0, Mr.b2)(), Ch = (0, Mr.f3)(Pr.Systems), Dh = (0, Mr.t6)(Pr.RendererSystem), Ih((Oh = function() {
          function t3() {
            br(this, t3), mr(this, "rendererSystem", Rh, this), this.camera = void 0, this.scene = void 0, this.viewport = { x: 0, y: 0, width: 0, height: 0 }, this.clearColor = [1, 1, 1, 1];
          }
          return xr(t3, [{ key: "getCamera", value: function() {
            return this.camera;
          } }, { key: "getScene", value: function() {
            return this.scene;
          } }, { key: "getViewport", value: function() {
            return this.viewport;
          } }, { key: "getClearColor", value: function() {
            return this.clearColor;
          } }, { key: "setCamera", value: function(t4) {
            return this.camera = t4, this;
          } }, { key: "setScene", value: function(t4) {
            return this.scene = t4, this;
          } }, { key: "setViewport", value: function(t4) {
            return this.viewport = t4, this;
          } }, { key: "setClearColor", value: function(t4) {
            return this.clearColor = t4, this;
          } }, { key: "pick", value: function(t4) {
            return this.rendererSystem.pick(t4, this);
          } }]), t3;
        }(), Rh = wr((kh = Oh).prototype, "rendererSystem", [Ch, Dh], { configurable: true, enumerable: true, writable: true, initializer: null }), Nh = kh)) || Nh);
        function jh(t3, e3) {
          var n2 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r2 = Object.getOwnPropertySymbols(t3);
            e3 && (r2 = r2.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n2.push.apply(n2, r2);
          }
          return n2;
        }
        function Wh(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n2 = arguments[e3] != null ? arguments[e3] : {};
            e3 % 2 ? jh(Object(n2), true).forEach(function(e4) {
              ni(t3, e4, n2[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n2)) : jh(Object(n2)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n2, e4));
            });
          }
          return t3;
        }
        var Vh = (Mh = (0, Mr.b2)(), Ph = (0, Mr.f3)(Pr.ConfigService), Mh((Fh = function() {
          function t3() {
            br(this, t3), mr(this, "configService", Uh, this), this.container = void 0;
          }
          var e3;
          return xr(t3, [{ key: "getEngine", value: (e3 = Tr(Sr().mark(function t4() {
            var e4, n2, r2, i;
            return Sr().wrap(function(t5) {
              for (; ; )
                switch (t5.prev = t5.next) {
                  case 0:
                    return e4 = this.container.get(Pr.RenderEngine), n2 = this.configService.get(), r2 = n2.canvas, i = n2.engineOptions, t5.next = 4, e4.init(Wh({ canvas: r2 || Ts(), swapChainFormat: As.EV.BGRA8Unorm, antialiasing: false }, i));
                  case 4:
                    return t5.abrupt("return", e4);
                  case 5:
                  case "end":
                    return t5.stop();
                }
            }, t4, this);
          })), function() {
            return e3.apply(this, arguments);
          }) }, { key: "getTransformComponent", value: function(t4) {
            return this.container.get(Pr.TransformComponentManager).getComponentByEntity(t4);
          } }, { key: "getMeshComponent", value: function(t4) {
            return this.container.get(Pr.MeshComponentManager).getComponentByEntity(t4);
          } }, { key: "setConfig", value: function(t4) {
            this.configService.set(t4);
          } }, { key: "setContainer", value: function(t4) {
            this.container = t4;
          } }, { key: "getContainer", value: function() {
            return this.container;
          } }, { key: "createEntity", value: function() {
            return Cr();
          } }, { key: "createScene", value: function() {
            return this.container.get(Eh);
          } }, { key: "createCamera", value: function() {
            return this.container.get(Es);
          } }, { key: "createView", value: function() {
            return this.container.get(zh);
          } }, { key: "createRenderable", value: function(t4, e4) {
            var n2 = t4 ? this.container.getNamed(Pr.Renderable, t4) : this.container.get(Sc), r2 = Cr();
            return n2.setConfig(e4 || {}), n2.setEntity(r2), n2;
          } }, { key: "createGeometry", value: function(t4, e4) {
            var n2 = this.container.getNamed(Pr.Geometry, t4), r2 = Cr();
            return n2.setConfig(e4 || {}), n2.setEntity(r2), n2.getComponent();
          } }, { key: "createMaterial", value: function(t4, e4) {
            var n2 = this.container.getNamed(Pr.Material, t4), r2 = Cr();
            return n2.setConfig(e4 || {}), n2.setEntity(r2, t4), n2.getComponent();
          } }, { key: "createTexture2D", value: function(t4) {
            var e4 = this.container.get(Bh);
            return e4.setConfig(t4), e4;
          } }, { key: "createBufferGeometry", value: function(t4) {
            return this.container.getNamed(Pr.Systems, Pr.GeometrySystem).createBufferGeometry(t4);
          } }, { key: "createInstancedBufferGeometry", value: function(t4) {
            return this.container.getNamed(Pr.Systems, Pr.GeometrySystem).createInstancedBufferGeometry(t4);
          } }, { key: "createShaderMaterial", value: function(t4) {
            return this.container.getNamed(Pr.Systems, Pr.MaterialSystem).createShaderMaterial(t4);
          } }, { key: "createKernel", value: function(t4) {
            var e4 = this.container.get(wc);
            return typeof t4 == "string" ? e4.setBundle(JSON.parse(t4)) : e4.setBundle(t4), e4.init(), e4;
          } }, { key: "createRenderer", value: function() {
            var t4 = this.container.get(wh);
            return t4.container = this.container, t4.init(), t4;
          } }, { key: "destroy", value: function() {
            this.container.getAll(Pr.Systems).forEach(function(t4) {
              t4.tearDown && t4.tearDown();
            }), this.container.get(Pr.RenderEngine).destroy(), this.container.get(Pr.InteractorService).destroy();
          } }], [{ key: "create", value: function() {
            var e4 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, n2 = Hu(), r2 = navigator.gpu ? Wf : cf;
            n2.isBound(Pr.RenderEngine) || n2.bind(Pr.RenderEngine).to(r2).inSingletonScope(), n2.bind(wh).toSelf(), n2.bind(wc).toSelf(), n2.bind(Sc).toSelf(), n2.bind(zh).toSelf(), n2.bind(Es).toSelf(), n2.bind(Eh).toSelf(), n2.bind(t3).toSelf(), n2.bind(Sh).toSelf(), n2.bind(Bh).toSelf(), n2.bind(Pr.Geometry).to(Hf).whenTargetNamed(Ss.BOX), n2.bind(Pr.Geometry).to(ol).whenTargetNamed(Ss.SPHERE), n2.bind(Pr.Geometry).to(Zf).whenTargetNamed(Ss.PLANE), n2.bind(Pr.Geometry).to(Yf).whenTargetNamed(Ss.MERGED), n2.bind(Pr.Material).to(ml).whenTargetNamed(Ec.BASIC), n2.bind(Pr.Renderable).to(uh).whenTargetNamed(Sc.POINT), n2.bind(Pr.Renderable).to(Yl).whenTargetNamed(Sc.LINE), n2.bind(Pr.Renderable).to(kl).whenTargetNamed(Sc.GRID);
            var i = n2.get(t3);
            return i.setContainer(n2), i.setConfig(e4), i;
          } }]), t3;
        }(), Uh = wr((Lh = Fh).prototype, "configService", [Ph], { configurable: true, enumerable: true, writable: true, initializer: null }), Gh = Lh)) || Gh), Xh = function(t3, e3) {
          return t3 ? a(t3) ? function() {
            return t3;
          } : t3 : function() {
            return e3 || 1;
          };
        }, Hh = function(t3) {
          for (var e3 = [], n2 = t3.length, r2 = t3[0].length, i = function(r3) {
            t3.forEach(function(t4, i2) {
              if (e3.push(t4[r3]), i2 === n2 - 1)
                for (; e3.length % 4 != 0; )
                  e3.push(0);
            });
          }, o2 = 0; o2 < r2; o2++)
            i(o2);
          return new Float32Array(e3);
        }, qh = function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4)
                Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if (typeof n2 != "function" && n2 !== null)
              throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function r2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = n2 === null ? Object.create(n2) : (r2.prototype = n2.prototype, new r2());
          };
        }(), Yh = function(t3, e3, n2, r2) {
          return new (n2 || (n2 = Promise))(function(i, o2) {
            function a2(t4) {
              try {
                s2(r2.next(t4));
              } catch (t5) {
                o2(t5);
              }
            }
            function u2(t4) {
              try {
                s2(r2.throw(t4));
              } catch (t5) {
                o2(t5);
              }
            }
            function s2(t4) {
              var e4;
              t4.done ? i(t4.value) : (e4 = t4.value, e4 instanceof n2 ? e4 : new n2(function(t5) {
                t5(e4);
              })).then(a2, u2);
            }
            s2((r2 = r2.apply(t3, e3 || [])).next());
          });
        }, Kh = function(t3, e3) {
          var n2, r2, i, o2, a2 = { label: 0, sent: function() {
            if (1 & i[0])
              throw i[1];
            return i[1];
          }, trys: [], ops: [] };
          return o2 = { next: u2(0), throw: u2(1), return: u2(2) }, typeof Symbol == "function" && (o2[Symbol.iterator] = function() {
            return this;
          }), o2;
          function u2(o3) {
            return function(u3) {
              return function(o4) {
                if (n2)
                  throw new TypeError("Generator is already executing.");
                for (; a2; )
                  try {
                    if (n2 = 1, r2 && (i = 2 & o4[0] ? r2.return : o4[0] ? r2.throw || ((i = r2.return) && i.call(r2), 0) : r2.next) && !(i = i.call(r2, o4[1])).done)
                      return i;
                    switch (r2 = 0, i && (o4 = [2 & o4[0], i.value]), o4[0]) {
                      case 0:
                      case 1:
                        i = o4;
                        break;
                      case 4:
                        return a2.label++, { value: o4[1], done: false };
                      case 5:
                        a2.label++, r2 = o4[1], o4 = [0];
                        continue;
                      case 7:
                        o4 = a2.ops.pop(), a2.trys.pop();
                        continue;
                      default:
                        if (!((i = (i = a2.trys).length > 0 && i[i.length - 1]) || o4[0] !== 6 && o4[0] !== 2)) {
                          a2 = 0;
                          continue;
                        }
                        if (o4[0] === 3 && (!i || o4[1] > i[0] && o4[1] < i[3])) {
                          a2.label = o4[1];
                          break;
                        }
                        if (o4[0] === 6 && a2.label < i[1]) {
                          a2.label = i[1], i = o4;
                          break;
                        }
                        if (i && a2.label < i[2]) {
                          a2.label = i[2], a2.ops.push(o4);
                          break;
                        }
                        i[2] && a2.ops.pop(), a2.trys.pop();
                        continue;
                    }
                    o4 = e3.call(t3, a2);
                  } catch (t4) {
                    o4 = [6, t4], r2 = 0;
                  } finally {
                    n2 = i = 0;
                  }
                if (5 & o4[0])
                  throw o4[1];
                return { value: o4[0] ? o4[1] : void 0, done: true };
              }([o3, u3]);
            };
          }
        }, Zh = function(t3) {
          function e3(e4) {
            var n2 = t3.call(this) || this;
            return n2.maxIteration = 1e3, n2.gravity = 10, n2.speed = 1, n2.clustering = false, n2.clusterField = "cluster", n2.clusterGravity = 10, n2.workerEnabled = false, n2.nodes = [], n2.edges = [], n2.width = 300, n2.height = 300, n2.nodeMap = {}, n2.nodeIdxMap = {}, n2.updateCfg(e4), n2;
          }
          return qh(e3, t3), e3.prototype.getDefaultCfg = function() {
            return { maxIteration: 1e3, gravity: 10, speed: 1, clustering: false, clusterGravity: 10 };
          }, e3.prototype.execute = function() {
            return Yh(this, void 0, void 0, function() {
              var t4, e4, n2, r2, i, o2 = this;
              return Kh(this, function(u2) {
                switch (u2.label) {
                  case 0:
                    return (e4 = (t4 = this).nodes) && e4.length !== 0 ? (t4.width || typeof window == "undefined" || (t4.width = window.innerWidth), t4.height || typeof window == "undefined" || (t4.height = window.innerHeight), t4.center || (t4.center = [t4.width / 2, t4.height / 2]), n2 = t4.center, e4.length === 1 ? (e4[0].x = n2[0], e4[0].y = n2[1], t4.onLayoutEnd && t4.onLayoutEnd(), [2]) : (r2 = {}, i = {}, e4.forEach(function(t5, e5) {
                      a(t5.x) || (t5.x = Math.random() * o2.width), a(t5.y) || (t5.y = Math.random() * o2.height), r2[t5.id] = t5, i[t5.id] = e5;
                    }), t4.nodeMap = r2, t4.nodeIdxMap = i, [4, t4.run()])) : (t4.onLayoutEnd && t4.onLayoutEnd(), [2]);
                  case 1:
                    return u2.sent(), [2];
                }
              });
            });
          }, e3.prototype.executeWithWorker = function(t4, e4) {
            return Yh(this, void 0, void 0, function() {
              var n2, r2, i, o2, u2, s2 = this;
              return Kh(this, function(c2) {
                switch (c2.label) {
                  case 0:
                    return r2 = (n2 = this).nodes, i = n2.center, r2 && r2.length !== 0 ? r2.length === 1 ? (r2[0].x = i[0], r2[0].y = i[1], [2]) : (o2 = {}, u2 = {}, r2.forEach(function(t5, e5) {
                      a(t5.x) || (t5.x = Math.random() * s2.width), a(t5.y) || (t5.y = Math.random() * s2.height), o2[t5.id] = t5, u2[t5.id] = e5;
                    }), n2.nodeMap = o2, n2.nodeIdxMap = u2, [4, n2.run(t4, e4)]) : [2];
                  case 1:
                    return c2.sent(), [2];
                }
              });
            });
          }, e3.prototype.run = function(t4, e4) {
            return Yh(this, void 0, void 0, function() {
              var n2, r2, i, o2, u2, s2, c2, f2, l2, h2, p2, v2, g2, y2, m2, b2, _2, x2, w2, E2, S2, A2, T2, I2, C2, D2, N2 = this;
              return Kh(this, function(k2) {
                switch (k2.label) {
                  case 0:
                    for (r2 = (n2 = this).nodes, i = n2.edges, o2 = n2.maxIteration, u2 = n2.center, s2 = n2.height * n2.width, c2 = Math.sqrt(s2) / 10, f2 = s2 / (r2.length + 1), l2 = Math.sqrt(f2), h2 = n2.speed, p2 = n2.clustering, R2 = [n2.clusterField], O2 = r2, M2 = [], P2 = R2.length, G2 = {}, O2.forEach(function(t5) {
                      R2.forEach(function(e5, n3) {
                        if (G2[t5[e5]] === void 0 && (G2[t5[e5]] = Object.keys(G2).length), M2.push(G2[t5[e5]]), n3 === P2 - 1)
                          for (; M2.length % 4 != 0; )
                            M2.push(0);
                      });
                    }), v2 = { array: new Float32Array(M2), count: Object.keys(G2).length }, g2 = v2.array, y2 = v2.count, r2.forEach(function(t5, e5) {
                      var n3 = 0, r3 = 0;
                      a(t5.fx) && a(t5.fy) && (n3 = t5.fx || 1e-3, r3 = t5.fy || 1e-3), g2[4 * e5 + 1] = n3, g2[4 * e5 + 2] = r3;
                    }), m2 = r2.length, b2 = function(t5, e5) {
                      var n3 = [], r3 = [], i2 = {}, o3 = 0;
                      for (o3 = 0; o3 < t5.length; o3++) {
                        var a2 = t5[o3];
                        i2[a2.id] = o3, n3.push(a2.x), n3.push(a2.y), n3.push(0), n3.push(0), r3.push([]);
                      }
                      for (o3 = 0; o3 < e5.length; o3++) {
                        var u3 = e5[o3], s3 = d(u3, "source"), c3 = d(u3, "target");
                        r3[i2[s3]].push(i2[c3]), r3[i2[c3]].push(i2[s3]);
                      }
                      var f3 = 0;
                      for (o3 = 0; o3 < t5.length; o3++) {
                        var l3 = n3.length, h3 = r3[o3], p3 = h3.length;
                        n3[4 * o3 + 2] = l3, n3[4 * o3 + 3] = h3.length, f3 = Math.max(f3, h3.length);
                        for (var v3 = 0; v3 < p3; ++v3) {
                          var g3 = h3[v3];
                          n3.push(+g3);
                        }
                      }
                      for (; n3.length % 4 != 0; )
                        n3.push(0);
                      return { maxEdgePerVetex: f3, array: new Float32Array(n3) };
                    }(r2, i), _2 = b2.maxEdgePerVetex, x2 = b2.array, w2 = n2.workerEnabled, E2 = w2 ? Vh.create({ canvas: t4, engineOptions: { supportCompute: true } }) : Vh.create({ engineOptions: { supportCompute: true } }), S2 = n2.onLayoutEnd, A2 = [], T2 = 0; T2 < y2; T2++)
                      A2.push(0, 0, 0, 0);
                    return I2 = E2.createKernel('{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_K : f32;\\n  [[offset 4]] u_K2 : f32;\\n  [[offset 8]] u_Center : vec2<f32>;\\n  [[offset 16]] u_Gravity : f32;\\n  [[offset 20]] u_ClusterGravity : f32;\\n  [[offset 24]] u_Speed : f32;\\n  [[offset 28]] u_MaxDisplace : f32;\\n  [[offset 32]] u_Clustering : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AttributeArray : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar param : f32 = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx = dx + param * xDist;\\ndy = dy + param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < j);\\ndx = dx + param * std::sign;\\ndy = dy + param * std::sign;}}}}\\nreturn vec2<f32>(dx, dy);}\\nfn calcGravity(currentNode : vec4<f32>, nodeAttributes : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar vx : f32 = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nvar vy : f32 = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nvar gf : f32 = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {var clusterIdx : i32 = i32(nodeAttributes.x);\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nvar cvx : f32 = currentNode.x - center.x;\\nvar cvy : f32 = currentNode.y - center.y;\\nvar dist : f32 = std::sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nvar parma : f32 = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx = dx + parma * cvx;\\ndy = dy + parma * cvy;}\\nreturn vec2<f32>(dx, dy);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar arr_offset : i32 = i32(std::floor(currentNode.z + 0.5));\\nvar length : i32 = i32(std::floor(currentNode.w + 0.5));\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + i32(p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = select(node_buffer.x, select(node_buffer.y, select(node_buffer.z, node_buffer.w, buf_offset == 2), buf_offset == 1), buf_offset == 0);\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar attractiveF : f32 = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx = dx - xDist * attractiveF;\\ndy = dy - yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < i32(float_j));\\ndx = dx - std::sign * attractiveF;\\ndy = dy - std::sign * attractiveF;}}}\\nreturn vec2<f32>(dx, dy);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nif (i >= __DefineValuePlaceholder__VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes : vec4<f32> = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\ndx = dx + repulsive.x;\\ndy = dy + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode);\\ndx = dx + attractive.x;\\ndy = dy + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(currentNode, nodeAttributes);\\ndx = dx - gravity.x;\\ndy = dy - gravity.y;\\ndx = dx * gWebGPUUniformParams.u_Speed;\\ndy = dy * gWebGPUUniformParams.u_Speed;\\nvar distLength : f32 = std::sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {var limitedDist : f32 = std::min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_K;\\n  float u_K2;\\n  vec2 u_Center;\\n  float u_Gravity;\\n  float u_ClusterGravity;\\n  float u_Speed;\\n  float u_MaxDisplace;\\n  float u_Clustering;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AttributeArray[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvec2 calcRepulsive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {float dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nfloat vy = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nfloat gf = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= gWebGPUUniformParams.u_Speed;\\ndy *= gWebGPUUniformParams.u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w));\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}').setDispatch([m2, 1, 1]).setBinding({ u_Data: x2, u_K: l2, u_K2: f2, u_Gravity: n2.gravity, u_ClusterGravity: n2.clusterGravity || n2.gravity || 1, u_Speed: h2, u_MaxDisplace: c2, u_Clustering: p2 ? 1 : 0, u_Center: u2, u_AttributeArray: g2, u_ClusterCenters: A2, MAX_EDGE_PER_VERTEX: _2, VERTEX_COUNT: m2 }), p2 && (C2 = E2.createKernel('{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\n\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 0, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributes : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[i];\\nvar sumx : f32 = 0.0;\\nvar sumy : f32 = 0.0;\\nvar count : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var attributes : vec4<f32> = gWebGPUBuffer1.u_NodeAttributes[j];\\nvar clusterIdx : i32 = i32(attributes.x);\\nvar vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx = sumx + vertex.x;\\nsumy = sumy + vertex.y;\\ncount = count + 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4<f32>(sumx / count, sumy / count, count, i);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\n\\nlayout(std430, set = 0, binding = 0) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_NodeAttributes[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {int i = globalInvocationID.x;\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[i];\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = gWebGPUBuffer1.u_NodeAttributes[j];\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4(sumx / count, sumy / count, count, i);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}').setDispatch([y2, 1, 1]).setBinding({ u_Data: x2, u_NodeAttributes: g2, u_ClusterCenters: A2, VERTEX_COUNT: m2, CLUSTER_COUNT: y2 })), D2 = function() {
                      return Yh(N2, void 0, void 0, function() {
                        var n3, i2;
                        return Kh(this, function(a2) {
                          switch (a2.label) {
                            case 0:
                              n3 = 0, a2.label = 1;
                            case 1:
                              return n3 < o2 ? [4, I2.execute()] : [3, 6];
                            case 2:
                              return a2.sent(), p2 ? (C2.setBinding({ u_Data: I2 }), [4, C2.execute()]) : [3, 4];
                            case 3:
                              a2.sent(), I2.setBinding({ u_ClusterCenters: C2 }), a2.label = 4;
                            case 4:
                              I2.setBinding({ u_MaxDisplace: c2 *= 0.99 }), a2.label = 5;
                            case 5:
                              return n3++, [3, 1];
                            case 6:
                              return [4, I2.getOutput()];
                            case 7:
                              return i2 = a2.sent(), t4 ? e4.postMessage({ type: It, vertexEdgeData: i2 }) : r2.forEach(function(t5, e5) {
                                var n4 = i2[4 * e5], r3 = i2[4 * e5 + 1];
                                t5.x = n4, t5.y = r3;
                              }), S2 && S2(), [2];
                          }
                        });
                      });
                    }, [4, D2()];
                  case 1:
                    return k2.sent(), [2];
                }
                var R2, O2, M2, P2, G2;
              });
            });
          }, e3.prototype.getType = function() {
            return "fruchterman-gpu";
          }, e3;
        }(t2), $h = function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4)
                Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if (typeof n2 != "function" && n2 !== null)
              throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function r2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = n2 === null ? Object.create(n2) : (r2.prototype = n2.prototype, new r2());
          };
        }(), Jh = function(t3, e3, n2, r2) {
          return new (n2 || (n2 = Promise))(function(i, o2) {
            function a2(t4) {
              try {
                s2(r2.next(t4));
              } catch (t5) {
                o2(t5);
              }
            }
            function u2(t4) {
              try {
                s2(r2.throw(t4));
              } catch (t5) {
                o2(t5);
              }
            }
            function s2(t4) {
              var e4;
              t4.done ? i(t4.value) : (e4 = t4.value, e4 instanceof n2 ? e4 : new n2(function(t5) {
                t5(e4);
              })).then(a2, u2);
            }
            s2((r2 = r2.apply(t3, e3 || [])).next());
          });
        }, Qh = function(t3, e3) {
          var n2, r2, i, o2, a2 = { label: 0, sent: function() {
            if (1 & i[0])
              throw i[1];
            return i[1];
          }, trys: [], ops: [] };
          return o2 = { next: u2(0), throw: u2(1), return: u2(2) }, typeof Symbol == "function" && (o2[Symbol.iterator] = function() {
            return this;
          }), o2;
          function u2(o3) {
            return function(u3) {
              return function(o4) {
                if (n2)
                  throw new TypeError("Generator is already executing.");
                for (; a2; )
                  try {
                    if (n2 = 1, r2 && (i = 2 & o4[0] ? r2.return : o4[0] ? r2.throw || ((i = r2.return) && i.call(r2), 0) : r2.next) && !(i = i.call(r2, o4[1])).done)
                      return i;
                    switch (r2 = 0, i && (o4 = [2 & o4[0], i.value]), o4[0]) {
                      case 0:
                      case 1:
                        i = o4;
                        break;
                      case 4:
                        return a2.label++, { value: o4[1], done: false };
                      case 5:
                        a2.label++, r2 = o4[1], o4 = [0];
                        continue;
                      case 7:
                        o4 = a2.ops.pop(), a2.trys.pop();
                        continue;
                      default:
                        if (!((i = (i = a2.trys).length > 0 && i[i.length - 1]) || o4[0] !== 6 && o4[0] !== 2)) {
                          a2 = 0;
                          continue;
                        }
                        if (o4[0] === 3 && (!i || o4[1] > i[0] && o4[1] < i[3])) {
                          a2.label = o4[1];
                          break;
                        }
                        if (o4[0] === 6 && a2.label < i[1]) {
                          a2.label = i[1], i = o4;
                          break;
                        }
                        if (i && a2.label < i[2]) {
                          a2.label = i[2], a2.ops.push(o4);
                          break;
                        }
                        i[2] && a2.ops.pop(), a2.trys.pop();
                        continue;
                    }
                    o4 = e3.call(t3, a2);
                  } catch (t4) {
                    o4 = [6, t4], r2 = 0;
                  } finally {
                    n2 = i = 0;
                  }
                if (5 & o4[0])
                  throw o4[1];
                return { value: o4[0] ? o4[1] : void 0, done: true };
              }([o3, u3]);
            };
          }
        }, td = function(t3) {
          function e3(e4) {
            var n2 = t3.call(this) || this;
            return n2.maxIteration = 1e3, n2.edgeStrength = 200, n2.nodeStrength = 1e3, n2.coulombDisScale = 5e-3, n2.damping = 0.9, n2.maxSpeed = 1e3, n2.minMovement = 0.5, n2.interval = 0.02, n2.factor = 1, n2.linkDistance = 1, n2.gravity = 10, n2.workerEnabled = false, n2.nodes = [], n2.edges = [], n2.width = 300, n2.height = 300, n2.nodeMap = {}, n2.nodeIdxMap = {}, n2.updateCfg(e4), n2;
          }
          return $h(e3, t3), e3.prototype.getDefaultCfg = function() {
            return { maxIteration: 2e3, gravity: 10, clustering: false, clusterGravity: 10 };
          }, e3.prototype.execute = function() {
            return Jh(this, void 0, void 0, function() {
              var t4, e4, n2, r2, i;
              return Qh(this, function(o2) {
                switch (o2.label) {
                  case 0:
                    return (e4 = (t4 = this).nodes) && e4.length !== 0 ? (t4.width || typeof window == "undefined" || (t4.width = window.innerWidth), t4.height || typeof window == "undefined" || (t4.height = window.innerHeight), t4.center || (t4.center = [t4.width / 2, t4.height / 2]), n2 = t4.center, e4.length === 1 ? (e4[0].x = n2[0], e4[0].y = n2[1], t4.onLayoutEnd && t4.onLayoutEnd(), [2]) : (r2 = {}, i = {}, e4.forEach(function(e5, n3) {
                      a(e5.x) || (e5.x = Math.random() * t4.width), a(e5.y) || (e5.y = Math.random() * t4.height), r2[e5.id] = e5, i[e5.id] = n3;
                    }), t4.nodeMap = r2, t4.nodeIdxMap = i, t4.nodeStrength = Xh(t4.nodeStrength, 1), t4.edgeStrength = Xh(t4.edgeStrength, 1), [4, t4.run()])) : (t4.onLayoutEnd && t4.onLayoutEnd(), [2]);
                  case 1:
                    return o2.sent(), [2];
                }
              });
            });
          }, e3.prototype.executeWithWorker = function(t4, e4) {
            var n2 = this, r2 = n2.nodes, i = n2.center;
            if (r2 && r2.length !== 0) {
              if (r2.length === 1)
                return r2[0].x = i[0], void (r2[0].y = i[1]);
              var o2 = {}, u2 = {};
              r2.forEach(function(t5, e5) {
                a(t5.x) || (t5.x = Math.random() * n2.width), a(t5.y) || (t5.y = Math.random() * n2.height), o2[t5.id] = t5, u2[t5.id] = e5;
              }), n2.nodeMap = o2, n2.nodeIdxMap = u2, n2.nodeStrength = Xh(n2.nodeStrength, 1), n2.edgeStrength = Xh(n2.edgeStrength, 1), n2.run(t4, e4);
            }
          }, e3.prototype.run = function(t4, e4) {
            return Jh(this, void 0, void 0, function() {
              var n2, r2, i, o2, u2, s2, c2, f2, l2, h2, v2, g2, y2, m2, b2, _2, x2, w2, E2, S2, A2, T2, I2, C2, D2, N2, k2, R2 = this;
              return Qh(this, function(O2) {
                switch (O2.label) {
                  case 0:
                    for (r2 = (n2 = this).nodes, i = n2.edges, o2 = n2.maxIteration, n2.width || typeof window == "undefined" || (n2.width = window.innerWidth), n2.height || typeof window == "undefined" || (n2.height = window.innerHeight), u2 = r2.length, n2.linkDistance = Xh(n2.linkDistance), n2.edgeStrength = Xh(n2.edgeStrength), s2 = function(t5, e5, n3, r3) {
                      var i2 = [], o3 = [], a2 = {}, u3 = 0;
                      for (u3 = 0; u3 < t5.length; u3++) {
                        var s3 = t5[u3];
                        a2[s3.id] = u3, i2.push(s3.x), i2.push(s3.y), i2.push(0), i2.push(0), o3.push([]);
                      }
                      for (u3 = 0; u3 < e5.length; u3++) {
                        var c3 = e5[u3], f3 = d(c3, "source"), l3 = d(c3, "target");
                        o3[a2[f3]].push(a2[l3]), o3[a2[f3]].push(n3(c3)), o3[a2[f3]].push(r3(c3)), o3[a2[f3]].push(0), o3[a2[l3]].push(a2[f3]), o3[a2[l3]].push(n3(c3)), o3[a2[l3]].push(r3(c3)), o3[a2[l3]].push(0);
                      }
                      var h3 = 0;
                      for (u3 = 0; u3 < t5.length; u3++) {
                        var p2 = i2.length, v3 = o3[u3], g3 = v3.length;
                        i2[4 * u3 + 2] = p2 + 1048576 * g3 / 4, i2[4 * u3 + 3] = 0, h3 = Math.max(h3, g3 / 4);
                        for (var y3 = 0; y3 < g3; ++y3) {
                          var m3 = v3[y3];
                          i2.push(+m3);
                        }
                      }
                      for (; i2.length % 4 != 0; )
                        i2.push(0);
                      return { maxEdgePerVetex: h3, array: new Float32Array(i2) };
                    }(r2, i, n2.linkDistance, n2.edgeStrength), c2 = s2.maxEdgePerVetex, f2 = s2.array, n2.degrees = p(r2.length, n2.nodeIdxMap, i), l2 = [], h2 = [], v2 = [], g2 = [], y2 = [], m2 = [], b2 = [], n2.getMass || (n2.getMass = function(t5) {
                      return n2.degrees[n2.nodeIdxMap[t5.id]] || 1;
                    }), _2 = n2.gravity, x2 = n2.center, r2.forEach(function(t5, e5) {
                      l2.push(n2.getMass(t5)), h2.push(n2.nodeStrength(t5)), n2.degrees[e5] || (n2.degrees[e5] = 0);
                      var r3 = [x2[0], x2[1], _2];
                      if (n2.getCenter) {
                        var i2 = n2.getCenter(t5, n2.degrees[e5]);
                        i2 && a(i2[0]) && a(i2[1]) && a(i2[2]) && (r3 = i2);
                      }
                      v2.push(r3[0]), g2.push(r3[1]), y2.push(r3[2]), a(t5.fx) && a(t5.fy) ? (m2.push(t5.fx || 1e-3), b2.push(t5.fy || 1e-3)) : (m2.push(0), b2.push(0));
                    }), w2 = Hh([l2, n2.degrees, h2, m2]), E2 = Hh([v2, g2, y2, b2]), S2 = n2.workerEnabled, A2 = S2 ? Vh.create({ canvas: t4, engineOptions: { supportCompute: true } }) : Vh.create({ engineOptions: { supportCompute: true } }), T2 = n2.onLayoutEnd, I2 = [], f2.forEach(function(t5) {
                      I2.push(t5);
                    }), C2 = 0; C2 < 4; C2++)
                      I2.push(0);
                    return D2 = A2.createKernel('{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_damping : f32;\\n  [[offset 4]] u_maxSpeed : f32;\\n  [[offset 8]] u_minMovement : f32;\\n  \\n  [[offset 12]] u_coulombDisScale : f32;\\n  [[offset 16]] u_factor : f32;\\n  \\n  \\n  [[offset 20]] u_interval : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray1 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\ntype GWebGPUBuffer3 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray2 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 4, set 0]] var<storage_buffer> gWebGPUBuffer3 : GWebGPUBuffer3;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn unpack_float(packedValue : f32) -> vec2<i32> {var packedIntValue : i32 = i32(packedValue);\\nvar v0 : i32 = packedIntValue / 1048576;\\nreturn vec2<i32>(v0, packedIntValue - (v0 * 1048576));}\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar vx : f32 = currentNode.x - nextNode.x;\\nvar vy : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar n_dist : f32 = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar attributesi : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar attributesj : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nvar massi : f32 = attributesi.x;\\nvar nodeStrengthi : f32 = attributesi.z;\\nvar nodeStrengthj : f32 = attributesj.z;\\nvar nodeStrength : f32 = (nodeStrengthi + nodeStrengthj) / 2.0;\\nvar param : f32 = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax = ax + direx * param;\\nay = ay + direy * param;}}\\nreturn vec2<f32>(ax, ay);}\\nfn calcGravity(i : i32, currentNode : vec4<f32>, attributes2 : vec4<f32>) -> vec2<f32> {var vx : f32 = currentNode.x - attributes2.x;\\nvar vy : f32 = currentNode.y - attributes2.y;\\nvar ax : f32 = vx * attributes2.z;\\nvar ay : f32 = vy * attributes2.z;\\nreturn vec2<f32>(ax, ay);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>, attributes1 : vec4<f32>) -> vec2<f32> {var mass : f32 = attributes1.x;\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nvar compressed : vec2<i32> = unpack_float(currentNode.z);\\nvar length : i32 = compressed.x;\\nvar arr_offset : i32 = compressed.y;\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + (4 * p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = node_buffer.x;\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar vx : f32 = nextNode.x - currentNode.x;\\nvar vy : f32 = nextNode.y - currentNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar edgeLength : f32 = node_buffer.y;\\nvar edgeStrength : f32 = node_buffer.z;\\nvar diff : f32 = edgeLength - dist;\\nvar param : f32 = (diff * edgeStrength) / mass;\\nax = ax - direx * param;\\nay = ay - direy * param;}\\nreturn vec2<f32>(ax, ay);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar movement : vec4<f32> = gWebGPUBuffer1.u_AveMovement[0];\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nif ((i >= __DefineValuePlaceholder__VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes1 : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar nodeAttributes2 : vec4<f32> = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\nax = ax + repulsive.x;\\nay = ay + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode, nodeAttributes1);\\nax = ax + attractive.x;\\nay = ay + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(i, currentNode, nodeAttributes2);\\nax = ax - gravity.x;\\nay = ay - gravity.y;\\nvar param : f32 = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nvar vx : f32 = ax * param;\\nvar vy : f32 = ay * param;\\nvar vlength : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {var param2 : f32 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nvar distx : f32 = vx * gWebGPUUniformParams.u_interval;\\nvar disty : f32 = vy * gWebGPUUniformParams.u_interval;\\nvar distLength : f32 = std::sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_damping;\\n  float u_maxSpeed;\\n  float u_minMovement;\\n  \\n  float u_coulombDisScale;\\n  float u_factor;\\n  \\n  \\n  float u_interval;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_NodeAttributeArray1[];\\n} gWebGPUBuffer2;\\n\\nlayout(std430, set = 0, binding = 4) buffer readonly  GWebGPUBuffer3 {\\n  vec4 u_NodeAttributeArray2[];\\n} gWebGPUBuffer3;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nivec2 unpack_float(float packedValue) {int packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {float ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 attributesj = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {float vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {float mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nvec4 movement = gWebGPUBuffer1.u_AveMovement[0];\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes1 = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 nodeAttributes2 = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {float param2 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * gWebGPUUniformParams.u_interval;\\nfloat disty = vy * gWebGPUUniformParams.u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0));}else {gl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}').setDispatch([u2, 1, 1]).setBinding({ u_Data: f2, u_damping: n2.damping, u_maxSpeed: n2.maxSpeed, u_minMovement: n2.minMovement, u_coulombDisScale: n2.coulombDisScale, u_factor: n2.factor, u_NodeAttributeArray1: w2, u_NodeAttributeArray2: E2, MAX_EDGE_PER_VERTEX: c2, VERTEX_COUNT: u2, u_AveMovement: I2, u_interval: n2.interval }), N2 = A2.createKernel('{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_iter : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var movement : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nmovement = movement + vertex.w;}\\nmovement = movement / f32(__DefineValuePlaceholder__VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4<f32>(movement, 0.0, 0.0, 0.0);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_iter;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {float movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = gWebGPUBuffer0.u_Data[j];\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4(movement, 0.0, 0.0, 0.0);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}').setDispatch([1, 1, 1]).setBinding({ u_Data: f2, VERTEX_COUNT: u2, u_AveMovement: [0, 0, 0, 0] }), k2 = function() {
                      return Jh(R2, void 0, void 0, function() {
                        var i2, a2, u3;
                        return Qh(this, function(s3) {
                          switch (s3.label) {
                            case 0:
                              i2 = 0, s3.label = 1;
                            case 1:
                              return i2 < o2 ? [4, D2.execute()] : [3, 5];
                            case 2:
                              return s3.sent(), N2.setBinding({ u_Data: D2 }), [4, N2.execute()];
                            case 3:
                              s3.sent(), a2 = Math.max(0.02, n2.interval - 2e-3 * i2), D2.setBinding({ u_interval: a2, u_AveMovement: N2 }), s3.label = 4;
                            case 4:
                              return i2++, [3, 1];
                            case 5:
                              return [4, D2.getOutput()];
                            case 6:
                              return u3 = s3.sent(), t4 ? e4.postMessage({ type: It, vertexEdgeData: u3 }) : r2.forEach(function(t5, e5) {
                                var n3 = u3[4 * e5], r3 = u3[4 * e5 + 1];
                                t5.x = n3, t5.y = r3;
                              }), T2 && T2(), [2];
                          }
                        });
                      });
                    }, [4, k2()];
                  case 1:
                    return O2.sent(), [2];
                }
              });
            });
          }, e3.prototype.getType = function() {
            return "gForce-gpu";
          }, e3;
        }(t2), ed = function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4)
                Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if (typeof n2 != "function" && n2 !== null)
              throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function r2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = n2 === null ? Object.create(n2) : (r2.prototype = n2.prototype, new r2());
          };
        }(), nd = function(t3) {
          function e3(e4) {
            var n2 = t3.call(this) || this;
            return n2.center = [0, 0], n2.maxIteration = 100, n2.gravity = 10, n2.comboGravity = 10, n2.linkDistance = 10, n2.alpha = 1, n2.alphaMin = 1e-3, n2.alphaDecay = 1 - Math.pow(n2.alphaMin, 1 / 300), n2.alphaTarget = 0, n2.velocityDecay = 0.6, n2.edgeStrength = 0.6, n2.nodeStrength = 30, n2.preventOverlap = false, n2.preventNodeOverlap = false, n2.preventComboOverlap = false, n2.collideStrength = void 0, n2.nodeCollideStrength = 0.5, n2.comboCollideStrength = 0.5, n2.comboSpacing = 20, n2.comboPadding = 10, n2.optimizeRangeFactor = 1, n2.onTick = function() {
            }, n2.onLayoutEnd = function() {
            }, n2.depthAttractiveForceScale = 1, n2.depthRepulsiveForceScale = 2, n2.nodes = [], n2.edges = [], n2.combos = [], n2.comboTrees = [], n2.width = 300, n2.height = 300, n2.bias = [], n2.nodeMap = {}, n2.oriComboMap = {}, n2.indexMap = {}, n2.comboMap = {}, n2.previousLayouted = false, n2.updateCfg(e4), n2;
          }
          return ed(e3, t3), e3.prototype.getDefaultCfg = function() {
            return { maxIteration: 100, center: [0, 0], gravity: 10, speed: 1, comboGravity: 30, preventOverlap: false, preventComboOverlap: true, preventNodeOverlap: true, nodeSpacing: void 0, collideStrength: void 0, nodeCollideStrength: 0.5, comboCollideStrength: 0.5, comboSpacing: 20, comboPadding: 10, edgeStrength: 0.6, nodeStrength: 30, linkDistance: 10 };
          }, e3.prototype.execute = function() {
            var t4 = this, e4 = t4.nodes, n2 = t4.center;
            if (t4.comboTree = { id: "comboTreeRoot", depth: -1, children: t4.comboTrees }, e4 && e4.length !== 0) {
              if (e4.length === 1)
                return e4[0].x = n2[0], e4[0].y = n2[1], void (t4.onLayoutEnd && t4.onLayoutEnd());
              t4.initVals(), t4.run(), t4.onLayoutEnd && t4.onLayoutEnd();
            } else
              t4.onLayoutEnd && t4.onLayoutEnd();
          }, e3.prototype.run = function() {
            var t4 = this, e4 = t4.nodes, n2 = t4.previousLayouted ? t4.maxIteration / 5 : t4.maxIteration;
            t4.width || typeof window == "undefined" || (t4.width = window.innerWidth), t4.height || typeof window == "undefined" || (t4.height = window.innerHeight);
            var r2 = t4.center, i = t4.velocityDecay, o2 = t4.comboMap;
            t4.previousLayouted || t4.initPos(o2);
            for (var u2 = function(n3) {
              var r3 = [];
              e4.forEach(function(t5, e5) {
                r3[e5] = { x: 0, y: 0 };
              }), t4.applyCalculate(r3), t4.applyComboCenterForce(r3), e4.forEach(function(t5, e5) {
                a(t5.x) && a(t5.y) && (t5.x += r3[e5].x * i, t5.y += r3[e5].y * i);
              }), t4.alpha += (t4.alphaTarget - t4.alpha) * t4.alphaDecay, t4.onTick();
            }, s2 = 0; s2 < n2; s2++)
              u2();
            var c2 = [0, 0];
            e4.forEach(function(t5) {
              a(t5.x) && a(t5.y) && (c2[0] += t5.x, c2[1] += t5.y);
            }), c2[0] /= e4.length, c2[1] /= e4.length;
            var f2 = [r2[0] - c2[0], r2[1] - c2[1]];
            e4.forEach(function(t5, e5) {
              a(t5.x) && a(t5.y) && (t5.x += f2[0], t5.y += f2[1]);
            }), t4.combos.forEach(function(t5) {
              var e5 = o2[t5.id];
              e5 && e5.empty && (t5.x = e5.cx || t5.x, t5.y = e5.cy || t5.y);
            }), t4.previousLayouted = true;
          }, e3.prototype.initVals = function() {
            var t4 = this, e4 = t4.edges, n2 = t4.nodes, r2 = t4.combos, i = {}, u2 = {}, s2 = {};
            n2.forEach(function(t5, e5) {
              u2[t5.id] = t5, s2[t5.id] = e5;
            }), t4.nodeMap = u2, t4.indexMap = s2;
            var c2 = {};
            r2.forEach(function(t5) {
              c2[t5.id] = t5;
            }), t4.oriComboMap = c2, t4.comboMap = t4.getComboMap();
            var f2 = t4.preventOverlap;
            t4.preventComboOverlap = t4.preventComboOverlap || f2, t4.preventNodeOverlap = t4.preventNodeOverlap || f2;
            var h2 = t4.collideStrength;
            h2 && (t4.comboCollideStrength = h2, t4.nodeCollideStrength = h2), t4.comboCollideStrength = t4.comboCollideStrength ? t4.comboCollideStrength : 0, t4.nodeCollideStrength = t4.nodeCollideStrength ? t4.nodeCollideStrength : 0;
            for (var p2 = 0; p2 < e4.length; ++p2) {
              var v2 = d(e4[p2], "source"), g2 = d(e4[p2], "target");
              i[v2] ? i[v2]++ : i[v2] = 1, i[g2] ? i[g2]++ : i[g2] = 1;
            }
            var y2 = [];
            for (p2 = 0; p2 < e4.length; ++p2)
              v2 = d(e4[p2], "source"), g2 = d(e4[p2], "target"), y2[p2] = i[v2] / (i[v2] + i[g2]);
            this.bias = y2;
            var m2, _2, x2 = t4.nodeSize, w2 = t4.nodeSpacing;
            if (_2 = a(w2) ? function() {
              return w2;
            } : b(w2) ? w2 : function() {
              return 0;
            }, this.nodeSpacing = _2, x2)
              if (b(x2))
                m2 = function(t5) {
                  return x2(t5);
                };
              else if (o(x2)) {
                var E2 = (x2[0] > x2[1] ? x2[0] : x2[1]) / 2;
                m2 = function(t5) {
                  return E2;
                };
              } else {
                var S2 = x2 / 2;
                m2 = function(t5) {
                  return S2;
                };
              }
            else
              m2 = function(t5) {
                return t5.size ? o(t5.size) ? (t5.size[0] > t5.size[1] ? t5.size[0] : t5.size[1]) / 2 : l(t5.size) ? (t5.size.width > t5.size.height ? t5.size.width : t5.size.height) / 2 : t5.size / 2 : 10;
              };
            this.nodeSize = m2;
            var A2, T2 = t4.comboSpacing;
            A2 = a(T2) ? function() {
              return T2;
            } : b(T2) ? T2 : function() {
              return 0;
            }, this.comboSpacing = A2;
            var I2, C2 = t4.comboPadding;
            I2 = a(C2) ? function() {
              return C2;
            } : o(C2) ? function() {
              return Math.max.apply(null, C2);
            } : b(C2) ? C2 : function() {
              return 0;
            }, this.comboPadding = I2;
            var D2, N2 = this.linkDistance;
            N2 || (N2 = 10), D2 = a(N2) ? function(t5) {
              return N2;
            } : N2, this.linkDistance = D2;
            var k2, R2 = this.edgeStrength;
            R2 || (R2 = 1), k2 = a(R2) ? function(t5) {
              return R2;
            } : R2, this.edgeStrength = k2;
            var O2, M2 = this.nodeStrength;
            M2 || (M2 = 30), O2 = a(M2) ? function(t5) {
              return M2;
            } : M2, this.nodeStrength = O2;
          }, e3.prototype.initPos = function(t4) {
            this.nodes.forEach(function(e4, n2) {
              var r2 = e4.comboId, i = t4[r2];
              r2 && i ? (e4.x = i.cx + 100 / (n2 + 1), e4.y = i.cy + 100 / (n2 + 1)) : (e4.x = 100 / (n2 + 1), e4.y = 100 / (n2 + 1));
            });
          }, e3.prototype.getComboMap = function() {
            var t4 = this, e4 = t4.nodeMap, n2 = t4.comboTrees, r2 = t4.oriComboMap, i = {};
            return (n2 || []).forEach(function(n3) {
              var o2 = [];
              m(n3, function(n4) {
                if (n4.itemType === "node")
                  return true;
                if (!r2[n4.id])
                  return true;
                if (i[n4.id] === void 0) {
                  var u2 = { id: n4.id, name: n4.id, cx: 0, cy: 0, count: 0, depth: t4.oriComboMap[n4.id].depth || 0, children: [] };
                  i[n4.id] = u2;
                }
                var s2 = n4.children;
                s2 && s2.forEach(function(t5) {
                  if (!i[t5.id] && !e4[t5.id])
                    return true;
                  o2.push(t5);
                });
                var c2 = i[n4.id];
                if (c2.cx = 0, c2.cy = 0, o2.length === 0) {
                  c2.empty = true;
                  var f2 = r2[n4.id];
                  c2.cx = f2.x, c2.cy = f2.y;
                }
                return o2.forEach(function(t5) {
                  if (c2.count++, t5.itemType !== "node") {
                    var n5 = i[t5.id];
                    return a(n5.cx) && (c2.cx += n5.cx), void (a(n5.cy) && (c2.cy += n5.cy));
                  }
                  var r3 = e4[t5.id];
                  r3 && (a(r3.x) && (c2.cx += r3.x), a(r3.y) && (c2.cy += r3.y));
                }), c2.cx /= c2.count || 1, c2.cy /= c2.count || 1, c2.children = o2, true;
              });
            }), i;
          }, e3.prototype.applyComboCenterForce = function(t4) {
            var e4 = this, n2 = e4.gravity, r2 = e4.comboGravity || n2, i = this.alpha, o2 = e4.comboTrees, u2 = e4.indexMap, s2 = e4.nodeMap, c2 = e4.comboMap;
            (o2 || []).forEach(function(e5) {
              m(e5, function(e6) {
                if (e6.itemType === "node")
                  return true;
                if (!c2[e6.id])
                  return true;
                var n3 = c2[e6.id], o3 = (n3.depth + 1) / 10 * 0.5, f2 = n3.cx, l2 = n3.cy;
                return n3.cx = 0, n3.cy = 0, n3.children.forEach(function(e7) {
                  if (e7.itemType !== "node") {
                    var h2 = c2[e7.id];
                    return h2 && a(h2.cx) && (n3.cx += h2.cx), void (h2 && a(h2.cy) && (n3.cy += h2.cy));
                  }
                  var d2 = s2[e7.id], p2 = d2.x - f2 || 5e-3, v2 = d2.y - l2 || 5e-3, g2 = Math.sqrt(p2 * p2 + v2 * v2), y2 = u2[d2.id], m2 = r2 * i / g2 * o3;
                  t4[y2].x -= p2 * m2, t4[y2].y -= v2 * m2, a(d2.x) && (n3.cx += d2.x), a(d2.y) && (n3.cy += d2.y);
                }), n3.cx /= n3.count || 1, n3.cy /= n3.count || 1, true;
              });
            });
          }, e3.prototype.applyCalculate = function(t4) {
            var e4 = this, n2 = e4.comboMap, r2 = e4.nodes, i = {};
            r2.forEach(function(t5, e5) {
              r2.forEach(function(n3, r3) {
                if (!(e5 < r3)) {
                  var o2 = t5.x - n3.x || 5e-3, a2 = t5.y - n3.y || 5e-3, u2 = o2 * o2 + a2 * a2, s2 = Math.sqrt(u2);
                  u2 < 1 && (u2 = s2), i[t5.id + "-" + n3.id] = { vx: o2, vy: a2, vl2: u2, vl: s2 }, i[n3.id + "-" + t5.id] = { vl2: u2, vl: s2, vx: -o2, vy: -a2 };
                }
              });
            }), e4.updateComboSizes(n2), e4.calRepulsive(t4, i), e4.calAttractive(t4, i), e4.preventComboOverlap && e4.comboNonOverlapping(t4, n2);
          }, e3.prototype.updateComboSizes = function(t4) {
            var e4 = this, n2 = e4.comboTrees, r2 = e4.nodeMap, i = e4.nodeSize, a2 = e4.comboSpacing, u2 = e4.comboPadding;
            (n2 || []).forEach(function(n3) {
              var s2 = [];
              m(n3, function(n4) {
                if (n4.itemType === "node")
                  return true;
                var c2 = t4[n4.id];
                if (!c2)
                  return false;
                var f2 = n4.children;
                f2 && f2.forEach(function(e5) {
                  (t4[e5.id] || r2[e5.id]) && s2.push(e5);
                }), c2.minX = 1 / 0, c2.minY = 1 / 0, c2.maxX = -1 / 0, c2.maxY = -1 / 0, s2.forEach(function(t5) {
                  if (t5.itemType !== "node")
                    return true;
                  var e5 = r2[t5.id];
                  if (!e5)
                    return true;
                  var n5 = i(e5), o2 = e5.x - n5, a3 = e5.y - n5, u3 = e5.x + n5, s3 = e5.y + n5;
                  c2.minX > o2 && (c2.minX = o2), c2.minY > a3 && (c2.minY = a3), c2.maxX < u3 && (c2.maxX = u3), c2.maxY < s3 && (c2.maxY = s3);
                });
                var l2 = e4.oriComboMap[n4.id].size || 10;
                o(l2) && (l2 = l2[0]);
                var h2 = Math.max(c2.maxX - c2.minX, c2.maxY - c2.minY, l2);
                return c2.r = h2 / 2 + a2(c2) / 2 + u2(c2), true;
              });
            });
          }, e3.prototype.comboNonOverlapping = function(t4, e4) {
            var n2 = this, r2 = n2.comboTree, i = n2.comboCollideStrength, o2 = n2.indexMap, a2 = n2.nodeMap;
            m(r2, function(n3) {
              if (!e4[n3.id] && !a2[n3.id] && n3.id !== "comboTreeRoot")
                return false;
              var r3 = n3.children;
              return r3 && r3.length > 1 && r3.forEach(function(n4, u2) {
                if (n4.itemType === "node")
                  return false;
                var s2 = e4[n4.id];
                s2 && r3.forEach(function(r4, c2) {
                  if (u2 <= c2)
                    return false;
                  if (r4.itemType === "node")
                    return false;
                  var f2 = e4[r4.id];
                  if (!f2)
                    return false;
                  var l2 = s2.cx - f2.cx || 5e-3, h2 = s2.cy - f2.cy || 5e-3, d2 = l2 * l2 + h2 * h2, p2 = s2.r || 1, v2 = f2.r || 1, g2 = p2 + v2, y2 = v2 * v2, m2 = p2 * p2;
                  if (d2 < g2 * g2) {
                    var b2 = n4.children;
                    if (!b2 || b2.length === 0)
                      return false;
                    var _2 = r4.children;
                    if (!_2 || _2.length === 0)
                      return false;
                    var x2 = Math.sqrt(d2), w2 = (g2 - x2) / x2 * i, E2 = l2 * w2, S2 = h2 * w2, A2 = y2 / (m2 + y2), T2 = 1 - A2;
                    b2.forEach(function(e5) {
                      if (e5.itemType !== "node")
                        return false;
                      if (a2[e5.id]) {
                        var n5 = o2[e5.id];
                        _2.forEach(function(e6) {
                          if (e6.itemType !== "node")
                            return false;
                          if (!a2[e6.id])
                            return false;
                          var r5 = o2[e6.id];
                          t4[n5].x += E2 * A2, t4[n5].y += S2 * A2, t4[r5].x -= E2 * T2, t4[r5].y -= S2 * T2;
                        });
                      }
                    });
                  }
                });
              }), true;
            });
          }, e3.prototype.calRepulsive = function(t4, e4) {
            var n2 = this, r2 = n2.nodes, i = n2.width * n2.optimizeRangeFactor, o2 = n2.nodeStrength, a2 = n2.alpha, u2 = n2.nodeCollideStrength, s2 = n2.preventNodeOverlap, c2 = n2.nodeSize, f2 = n2.nodeSpacing, l2 = n2.depthRepulsiveForceScale, h2 = n2.center;
            r2.forEach(function(d2, p2) {
              if (d2.x && d2.y) {
                if (h2) {
                  var v2 = n2.gravity, g2 = d2.x - h2[0] || 5e-3, y2 = d2.y - h2[1] || 5e-3, m2 = Math.sqrt(g2 * g2 + y2 * y2);
                  t4[p2].x -= g2 * v2 * a2 / m2, t4[p2].y -= y2 * v2 * a2 / m2;
                }
                r2.forEach(function(n3, r3) {
                  if (p2 !== r3 && n3.x && n3.y) {
                    var h3 = e4[d2.id + "-" + n3.id], v3 = h3.vl2, g3 = h3.vl;
                    if (!(g3 > i)) {
                      var y3 = e4[d2.id + "-" + n3.id], m3 = y3.vx, b2 = y3.vy, _2 = Math.log(Math.abs(n3.depth - d2.depth) / 10) + 1 || 1;
                      _2 = _2 < 1 ? 1 : _2, n3.comboId !== d2.comboId && (_2 += 1);
                      var x2 = _2 ? Math.pow(l2, _2) : 1, w2 = o2(n3) * a2 / v3 * x2;
                      if (t4[p2].x += m3 * w2, t4[p2].y += b2 * w2, p2 < r3 && s2) {
                        var E2 = c2(d2) + f2(d2) || 1, S2 = c2(n3) + f2(n3) || 1, A2 = E2 + S2;
                        if (v3 < A2 * A2) {
                          var T2 = (A2 - g3) / g3 * u2, I2 = S2 * S2, C2 = I2 / (E2 * E2 + I2), D2 = m3 * T2, N2 = b2 * T2;
                          t4[p2].x += D2 * C2, t4[p2].y += N2 * C2, C2 = 1 - C2, t4[r3].x -= D2 * C2, t4[r3].y -= N2 * C2;
                        }
                      }
                    }
                  }
                });
              }
            });
          }, e3.prototype.calAttractive = function(t4, e4) {
            var n2 = this, r2 = n2.edges, i = n2.linkDistance, o2 = n2.alpha, u2 = n2.edgeStrength, s2 = n2.bias, c2 = n2.depthAttractiveForceScale;
            r2.forEach(function(r3, f2) {
              var l2 = d(r3, "source"), h2 = d(r3, "target");
              if (l2 && h2 && l2 !== h2) {
                var p2 = n2.indexMap[l2], v2 = n2.indexMap[h2], g2 = n2.nodeMap[l2], y2 = n2.nodeMap[h2];
                if (g2 && y2) {
                  var m2 = g2.depth === y2.depth ? 0 : Math.log(Math.abs(g2.depth - y2.depth) / 10);
                  g2.comboId === y2.comboId && (m2 /= 2);
                  var b2 = m2 ? Math.pow(c2, m2) : 1;
                  if (g2.comboId !== y2.comboId && b2 === 1 ? b2 = c2 / 2 : g2.comboId === y2.comboId && (b2 = 2), a(y2.x) && a(g2.x) && a(y2.y) && a(g2.y)) {
                    var _2 = e4[h2 + "-" + l2], x2 = _2.vl, w2 = _2.vx, E2 = _2.vy, S2 = (x2 - i(r3)) / x2 * o2 * u2(r3) * b2, A2 = w2 * S2, T2 = E2 * S2, I2 = s2[f2];
                    t4[v2].x -= A2 * I2, t4[v2].y -= T2 * I2, t4[p2].x += A2 * (1 - I2), t4[p2].y += T2 * (1 - I2);
                  }
                }
              }
            });
          }, e3.prototype.getType = function() {
            return "comboForce";
          }, e3;
        }(t2), rd = function() {
          function t3(t4) {
            this.id = t4.id || 0, this.rx = t4.rx, this.ry = t4.ry, this.fx = 0, this.fy = 0, this.mass = t4.mass, this.degree = t4.degree, this.g = t4.g || 0;
          }
          return t3.prototype.distanceTo = function(t4) {
            var e3 = this.rx - t4.rx, n2 = this.ry - t4.ry;
            return Math.hypot(e3, n2);
          }, t3.prototype.setPos = function(t4, e3) {
            this.rx = t4, this.ry = e3;
          }, t3.prototype.resetForce = function() {
            this.fx = 0, this.fy = 0;
          }, t3.prototype.addForce = function(t4) {
            var e3 = t4.rx - this.rx, n2 = t4.ry - this.ry, r2 = Math.hypot(e3, n2);
            r2 = r2 < 1e-4 ? 1e-4 : r2;
            var i = this.g * (this.degree + 1) * (t4.degree + 1) / r2;
            this.fx += i * e3 / r2, this.fy += i * n2 / r2;
          }, t3.prototype.in = function(t4) {
            return t4.contains(this.rx, this.ry);
          }, t3.prototype.add = function(e3) {
            var n2 = this.mass + e3.mass;
            return new t3({ rx: (this.rx * this.mass + e3.rx * e3.mass) / n2, ry: (this.ry * this.mass + e3.ry * e3.mass) / n2, mass: n2, degree: this.degree + e3.degree });
          }, t3;
        }();
        const id = rd;
        const od = function() {
          function t3(t4) {
            this.xmid = t4.xmid, this.ymid = t4.ymid, this.length = t4.length, this.massCenter = t4.massCenter || [0, 0], this.mass = t4.mass || 1;
          }
          return t3.prototype.getLength = function() {
            return this.length;
          }, t3.prototype.contains = function(t4, e3) {
            var n2 = this.length / 2;
            return t4 <= this.xmid + n2 && t4 >= this.xmid - n2 && e3 <= this.ymid + n2 && e3 >= this.ymid - n2;
          }, t3.prototype.NW = function() {
            return new t3({ xmid: this.xmid - this.length / 4, ymid: this.ymid + this.length / 4, length: this.length / 2 });
          }, t3.prototype.NE = function() {
            return new t3({ xmid: this.xmid + this.length / 4, ymid: this.ymid + this.length / 4, length: this.length / 2 });
          }, t3.prototype.SW = function() {
            return new t3({ xmid: this.xmid - this.length / 4, ymid: this.ymid - this.length / 4, length: this.length / 2 });
          }, t3.prototype.SE = function() {
            return new t3({ xmid: this.xmid + this.length / 4, ymid: this.ymid - this.length / 4, length: this.length / 2 });
          }, t3;
        }(), ad = function() {
          function t3(t4) {
            this.body = null, this.quad = null, this.NW = null, this.NE = null, this.SW = null, this.SE = null, this.theta = 0.5, t4 != null && (this.quad = t4);
          }
          return t3.prototype.insert = function(e3) {
            this.body != null ? this._isExternal() ? (this.quad && (this.NW = new t3(this.quad.NW()), this.NE = new t3(this.quad.NE()), this.SW = new t3(this.quad.SW()), this.SE = new t3(this.quad.SE())), this._putBody(this.body), this._putBody(e3), this.body = this.body.add(e3)) : (this.body = this.body.add(e3), this._putBody(e3)) : this.body = e3;
          }, t3.prototype._putBody = function(t4) {
            this.quad && (t4.in(this.quad.NW()) && this.NW ? this.NW.insert(t4) : t4.in(this.quad.NE()) && this.NE ? this.NE.insert(t4) : t4.in(this.quad.SW()) && this.SW ? this.SW.insert(t4) : t4.in(this.quad.SE()) && this.SE && this.SE.insert(t4));
          }, t3.prototype._isExternal = function() {
            return this.NW == null && this.NE == null && this.SW == null && this.SE == null;
          }, t3.prototype.updateForce = function(t4) {
            this.body != null && t4 !== this.body && (this._isExternal() || (this.quad ? this.quad.getLength() : 0) / this.body.distanceTo(t4) < this.theta ? t4.addForce(this.body) : (this.NW && this.NW.updateForce(t4), this.NE && this.NE.updateForce(t4), this.SW && this.SW.updateForce(t4), this.SE && this.SE.updateForce(t4)));
          }, t3;
        }();
        var ud = function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4)
                Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if (typeof n2 != "function" && n2 !== null)
              throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function r2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = n2 === null ? Object.create(n2) : (r2.prototype = n2.prototype, new r2());
          };
        }(), sd = function(t3) {
          function e3(e4) {
            var n2 = t3.call(this) || this;
            return n2.center = [0, 0], n2.width = 300, n2.height = 300, n2.nodes = [], n2.edges = [], n2.kr = 5, n2.kg = 1, n2.mode = "normal", n2.preventOverlap = false, n2.dissuadeHubs = false, n2.barnesHut = void 0, n2.maxIteration = 0, n2.ks = 0.1, n2.ksmax = 10, n2.tao = 0.1, n2.onLayoutEnd = function() {
            }, n2.prune = void 0, n2.updateCfg(e4), n2;
          }
          return ud(e3, t3), e3.prototype.getDefaultCfg = function() {
            return {};
          }, e3.prototype.execute = function() {
            var t4 = this, e4 = t4.nodes, n2 = t4.onLayoutEnd, r2 = t4.prune, i = t4.maxIteration;
            t4.width || typeof window == "undefined" || (t4.width = window.innerWidth), t4.height || typeof window == "undefined" || (t4.height = window.innerHeight);
            for (var u2 = [], s2 = e4.length, c2 = 0; c2 < s2; c2 += 1) {
              var f2 = e4[c2], h2 = 10, d2 = 10;
              a(f2.size) && (h2 = f2.size, d2 = f2.size), o(f2.size) ? (isNaN(f2.size[0]) || (h2 = f2.size[0]), isNaN(f2.size[1]) || (d2 = f2.size[1])) : l(f2.size) && (h2 = f2.size.width, d2 = f2.size.height), t4.getWidth && !isNaN(t4.getWidth(f2)) && (d2 = t4.getWidth(f2)), t4.getHeight && !isNaN(t4.getHeight(f2)) && (h2 = t4.getHeight(f2));
              var p2 = Math.max(h2, d2);
              u2.push(p2);
            }
            t4.barnesHut === void 0 && s2 > 250 && (t4.barnesHut = true), t4.prune === void 0 && s2 > 100 && (t4.prune = true), this.maxIteration !== 0 || t4.prune ? this.maxIteration === 0 && r2 && (i = 100, s2 <= 200 && s2 > 100 ? i = 500 : s2 > 200 && (i = 950), this.maxIteration = i) : (i = 250, s2 <= 200 && s2 > 100 ? i = 1e3 : s2 > 200 && (i = 1200), this.maxIteration = i), t4.kr || (t4.kr = 50, s2 > 100 && s2 <= 500 ? t4.kr = 20 : s2 > 500 && (t4.kr = 1)), t4.kg || (t4.kg = 20, s2 > 100 && s2 <= 500 ? t4.kg = 10 : s2 > 500 && (t4.kg = 1)), this.nodes = t4.updateNodesByForces(u2), n2();
          }, e3.prototype.updateNodesByForces = function(t4) {
            for (var e4 = this, n2 = e4.edges, r2 = e4.maxIteration, i = e4.nodes, o2 = n2.filter(function(t5) {
              return d(t5, "source") !== d(t5, "target");
            }), a2 = i.length, u2 = o2.length, s2 = [], c2 = {}, f2 = {}, l2 = [], h2 = 0; h2 < a2; h2 += 1)
              c2[i[h2].id] = h2, s2[h2] = 0, (i[h2].x === void 0 || isNaN(i[h2].x)) && (i[h2].x = 1e3 * Math.random()), (i[h2].y === void 0 || isNaN(i[h2].y)) && (i[h2].y = 1e3 * Math.random()), l2.push({ x: i[h2].x, y: i[h2].y });
            for (h2 = 0; h2 < u2; h2 += 1) {
              for (var p2 = void 0, v2 = void 0, g2 = 0, y2 = 0, m2 = 0; m2 < a2; m2 += 1) {
                var b2 = d(o2[h2], "source"), _2 = d(o2[h2], "target");
                i[m2].id === b2 ? (p2 = i[m2], g2 = m2) : i[m2].id === _2 && (v2 = i[m2], y2 = m2), f2[h2] = { sourceIdx: g2, targetIdx: y2 };
              }
              p2 && (s2[c2[p2.id]] += 1), v2 && (s2[c2[v2.id]] += 1);
            }
            var x2 = r2;
            if (i = this.iterate(x2, c2, f2, u2, s2, t4), e4.prune) {
              for (m2 = 0; m2 < u2; m2 += 1)
                s2[f2[m2].sourceIdx] <= 1 ? (i[f2[m2].sourceIdx].x = i[f2[m2].targetIdx].x, i[f2[m2].sourceIdx].y = i[f2[m2].targetIdx].y) : s2[f2[m2].targetIdx] <= 1 && (i[f2[m2].targetIdx].x = i[f2[m2].sourceIdx].x, i[f2[m2].targetIdx].y = i[f2[m2].sourceIdx].y);
              e4.prune = false, e4.barnesHut = false, x2 = 100, i = this.iterate(x2, c2, f2, u2, s2, t4);
            }
            return i;
          }, e3.prototype.iterate = function(t4, e4, n2, r2, i, o2) {
            for (var a2 = this, u2 = a2.nodes, s2 = a2.kr, c2 = a2.preventOverlap, f2 = a2.barnesHut, l2 = u2.length, h2 = 0, d2 = t4, p2 = [], v2 = [], g2 = [], y2 = 0; y2 < l2; y2 += 1)
              if (p2[2 * y2] = 0, p2[2 * y2 + 1] = 0, f2) {
                var m2 = { id: y2, rx: u2[y2].x, ry: u2[y2].y, mass: 1, g: s2, degree: i[y2] };
                g2[y2] = new id(m2);
              }
            for (; d2 > 0; ) {
              for (y2 = 0; y2 < l2; y2 += 1)
                v2[2 * y2] = p2[2 * y2], v2[2 * y2 + 1] = p2[2 * y2 + 1], p2[2 * y2] = 0, p2[2 * y2 + 1] = 0;
              p2 = this.getAttrForces(d2, 50, r2, e4, n2, i, o2, p2), p2 = f2 && (c2 && d2 > 50 || !c2) ? this.getOptRepGraForces(p2, g2, i) : this.getRepGraForces(d2, 50, p2, 100, o2, i);
              var b2 = this.updatePos(p2, v2, h2, i);
              u2 = b2.nodes, h2 = b2.sg, d2--, a2.tick && a2.tick();
            }
            return u2;
          }, e3.prototype.getAttrForces = function(t4, e4, n2, r2, i, o2, a2, u2) {
            for (var s2 = this, c2 = s2.nodes, f2 = s2.preventOverlap, l2 = s2.dissuadeHubs, h2 = s2.mode, d2 = s2.prune, p2 = 0; p2 < n2; p2 += 1) {
              var v2 = c2[i[p2].sourceIdx], g2 = i[p2].sourceIdx, y2 = c2[i[p2].targetIdx], m2 = i[p2].targetIdx;
              if (!d2 || !(o2[g2] <= 1 || o2[m2] <= 1)) {
                var b2 = [y2.x - v2.x, y2.y - v2.y], _2 = Math.hypot(b2[0], b2[1]);
                _2 = _2 < 1e-4 ? 1e-4 : _2, b2[0] = b2[0] / _2, b2[1] = b2[1] / _2, f2 && t4 < e4 && (_2 = _2 - a2[g2] - a2[m2]);
                var x2 = _2, w2 = x2;
                h2 === "linlog" && (w2 = x2 = Math.log(1 + _2)), l2 && (x2 = _2 / o2[g2], w2 = _2 / o2[m2]), f2 && t4 < e4 && _2 <= 0 ? (x2 = 0, w2 = 0) : f2 && t4 < e4 && _2 > 0 && (x2 = _2, w2 = _2), u2[2 * r2[v2.id]] += x2 * b2[0], u2[2 * r2[y2.id]] -= w2 * b2[0], u2[2 * r2[v2.id] + 1] += x2 * b2[1], u2[2 * r2[y2.id] + 1] -= w2 * b2[1];
              }
            }
            return u2;
          }, e3.prototype.getRepGraForces = function(t4, e4, n2, r2, i, o2) {
            for (var a2 = this, u2 = a2.nodes, s2 = a2.preventOverlap, c2 = a2.kr, f2 = a2.kg, l2 = a2.center, h2 = a2.prune, d2 = u2.length, p2 = 0; p2 < d2; p2 += 1) {
              for (var v2 = p2 + 1; v2 < d2; v2 += 1)
                if (!h2 || !(o2[p2] <= 1 || o2[v2] <= 1)) {
                  var g2 = [u2[v2].x - u2[p2].x, u2[v2].y - u2[p2].y], y2 = Math.hypot(g2[0], g2[1]);
                  y2 = y2 < 1e-4 ? 1e-4 : y2, g2[0] = g2[0] / y2, g2[1] = g2[1] / y2, s2 && t4 < e4 && (y2 = y2 - i[p2] - i[v2]);
                  var m2 = c2 * (o2[p2] + 1) * (o2[v2] + 1) / y2;
                  s2 && t4 < e4 && y2 < 0 ? m2 = r2 * (o2[p2] + 1) * (o2[v2] + 1) : s2 && t4 < e4 && y2 === 0 ? m2 = 0 : s2 && t4 < e4 && y2 > 0 && (m2 = c2 * (o2[p2] + 1) * (o2[v2] + 1) / y2), n2[2 * p2] -= m2 * g2[0], n2[2 * v2] += m2 * g2[0], n2[2 * p2 + 1] -= m2 * g2[1], n2[2 * v2 + 1] += m2 * g2[1];
                }
              var b2 = [u2[p2].x - l2[0], u2[p2].y - l2[1]], _2 = Math.hypot(b2[0], b2[1]);
              b2[0] = b2[0] / _2, b2[1] = b2[1] / _2;
              var x2 = f2 * (o2[p2] + 1);
              n2[2 * p2] -= x2 * b2[0], n2[2 * p2 + 1] -= x2 * b2[1];
            }
            return n2;
          }, e3.prototype.getOptRepGraForces = function(t4, e4, n2) {
            for (var r2 = this, i = r2.nodes, o2 = r2.kg, a2 = r2.center, u2 = r2.prune, s2 = i.length, c2 = 9e10, f2 = -9e10, l2 = 9e10, h2 = -9e10, d2 = 0; d2 < s2; d2 += 1)
              u2 && n2[d2] <= 1 || (e4[d2].setPos(i[d2].x, i[d2].y), i[d2].x >= f2 && (f2 = i[d2].x), i[d2].x <= c2 && (c2 = i[d2].x), i[d2].y >= h2 && (h2 = i[d2].y), i[d2].y <= l2 && (l2 = i[d2].y));
            var p2 = Math.max(f2 - c2, h2 - l2), v2 = new od({ xmid: (f2 + c2) / 2, ymid: (h2 + l2) / 2, length: p2, massCenter: a2, mass: s2 }), g2 = new ad(v2);
            for (d2 = 0; d2 < s2; d2 += 1)
              u2 && n2[d2] <= 1 || e4[d2].in(v2) && g2.insert(e4[d2]);
            for (d2 = 0; d2 < s2; d2 += 1)
              if (!(u2 && n2[d2] <= 1)) {
                e4[d2].resetForce(), g2.updateForce(e4[d2]), t4[2 * d2] -= e4[d2].fx, t4[2 * d2 + 1] -= e4[d2].fy;
                var y2 = [i[d2].x - a2[0], i[d2].y - a2[1]], m2 = Math.hypot(y2[0], y2[1]);
                m2 = m2 < 1e-4 ? 1e-4 : m2, y2[0] = y2[0] / m2, y2[1] = y2[1] / m2;
                var b2 = o2 * (n2[d2] + 1);
                t4[2 * d2] -= b2 * y2[0], t4[2 * d2 + 1] -= b2 * y2[1];
              }
            return t4;
          }, e3.prototype.updatePos = function(t4, e4, n2, r2) {
            for (var i = this, o2 = i.nodes, a2 = i.ks, u2 = i.tao, s2 = i.prune, c2 = i.ksmax, f2 = o2.length, l2 = [], h2 = [], d2 = 0, p2 = 0, v2 = 0; v2 < f2; v2 += 1)
              if (!(s2 && r2[v2] <= 1)) {
                var g2 = [t4[2 * v2] - e4[2 * v2], t4[2 * v2 + 1] - e4[2 * v2 + 1]], y2 = Math.hypot(g2[0], g2[1]), m2 = [t4[2 * v2] + e4[2 * v2], t4[2 * v2 + 1] + e4[2 * v2 + 1]], b2 = Math.hypot(m2[0], m2[1]);
                l2[v2] = y2, h2[v2] = b2 / 2, d2 += (r2[v2] + 1) * l2[v2], p2 += (r2[v2] + 1) * h2[v2];
              }
            var _2 = n2;
            for (n2 = u2 * p2 / d2, _2 !== 0 && (n2 = n2 > 1.5 * _2 ? 1.5 * _2 : n2), v2 = 0; v2 < f2; v2 += 1)
              if (!(s2 && r2[v2] <= 1)) {
                var x2 = a2 * n2 / (1 + n2 * Math.sqrt(l2[v2])), w2 = Math.hypot(t4[2 * v2], t4[2 * v2 + 1]), E2 = c2 / (w2 = w2 < 1e-4 ? 1e-4 : w2), S2 = (x2 = x2 > E2 ? E2 : x2) * t4[2 * v2], A2 = x2 * t4[2 * v2 + 1];
                o2[v2].x += S2, o2[v2].y += A2;
              }
            return { nodes: o2, sg: n2 };
          }, e3;
        }(t2), cd = function() {
          return cd = Object.assign || function(t3) {
            for (var e3, n2 = 1, r2 = arguments.length; n2 < r2; n2++)
              for (var i in e3 = arguments[n2])
                Object.prototype.hasOwnProperty.call(e3, i) && (t3[i] = e3[i]);
            return t3;
          }, cd.apply(this, arguments);
        }, fd = function() {
          function t3() {
            this.cells = [], this.columnNum = 0, this.rowNum = 0, this.additionColumn = [], this.additionRow = [];
          }
          return t3.prototype.init = function(e3, n2, r2) {
            this.cells = [], this.CELL_W = r2.CELL_W || t3.DEFAULT_CELL_W, this.CELL_H = r2.CELL_H || t3.DEFAULT_CELL_H, this.columnNum = Math.ceil(e3 / this.CELL_W), this.rowNum = Math.ceil(n2 / this.CELL_H), t3.MIN_DIST = Math.pow(e3, 2) + Math.pow(n2, 2);
            for (var i = 0; i < this.columnNum; i++) {
              for (var o2 = [], a2 = 0; a2 < this.rowNum; a2++) {
                var u2 = { dx: i, dy: a2, x: i * this.CELL_W, y: a2 * this.CELL_H, occupied: false };
                o2.push(u2);
              }
              this.cells.push(o2);
            }
          }, t3.prototype.findGridByNodeId = function(t4) {
            for (var e3, n2, r2 = 0; r2 < this.columnNum; r2++)
              for (var i = 0; i < this.rowNum; i++)
                if (this.cells[r2][i].node && ((n2 = (e3 = this.cells[r2][i]) === null || e3 === void 0 ? void 0 : e3.node) === null || n2 === void 0 ? void 0 : n2.id) === t4)
                  return { column: r2, row: i };
            return null;
          }, t3.prototype.sqdist = function(t4, e3) {
            return Math.pow(t4.x - e3.x, 2) + Math.pow(t4.y - e3.y, 2);
          }, t3.prototype.occupyNearest = function(e3) {
            for (var n2, r2 = t3.MIN_DIST, i = null, o2 = 0; o2 < this.columnNum; o2++)
              for (var a2 = 0; a2 < this.rowNum; a2++)
                !this.cells[o2][a2].occupied && (n2 = this.sqdist(e3, this.cells[o2][a2])) < r2 && (r2 = n2, i = this.cells[o2][a2]);
            return i && (i.occupied = true), i;
          }, t3.prototype.insertColumn = function(t4, e3) {
            if (!(e3 <= 0)) {
              for (var n2 = 0; n2 < e3; n2++) {
                this.cells[n2 + this.columnNum] = [];
                for (var r2 = 0; r2 < this.rowNum; r2++)
                  this.cells[n2 + this.columnNum][r2] = { dx: n2, dy: r2, x: n2 * this.CELL_W, y: r2 * this.CELL_H, occupied: false, node: null };
              }
              for (n2 = this.columnNum - 1; n2 > t4; n2--)
                for (r2 = 0; r2 < this.rowNum; r2++)
                  this.cells[n2 + e3][r2] = cd(cd({}, this.cells[n2][r2]), { x: (n2 + e3) * this.CELL_W, y: r2 * this.CELL_H }), this.cells[n2][r2] = { x: n2 * this.CELL_W, y: r2 * this.CELL_H, occupied: true, node: null };
              for (r2 = 0; r2 < this.additionColumn.length; r2++)
                this.additionColumn[r2] >= t4 && (this.additionColumn[r2] += e3);
              for (n2 = 0; n2 < e3; n2++)
                this.additionColumn.push(t4 + n2 + 1);
              this.columnNum += e3;
            }
          }, t3.prototype.insertRow = function(t4, e3) {
            if (!(e3 <= 0)) {
              for (var n2 = 0; n2 < e3; n2++)
                for (var r2 = 0; r2 < this.columnNum; r2++)
                  this.cells[r2][n2 + this.rowNum] = { dx: r2, dy: n2, x: r2 * this.CELL_W, y: n2 * this.CELL_H, occupied: false, node: null };
              for (r2 = 0; r2 < this.columnNum; r2++)
                for (n2 = this.rowNum - 1; n2 > t4; n2--)
                  this.cells[r2][n2 + e3] = cd(cd({}, this.cells[r2][n2]), { dx: r2, dy: n2 + e3, x: r2 * this.CELL_W, y: (n2 + e3) * this.CELL_H }), this.cells[r2][n2] = { dx: r2, dy: n2, x: r2 * this.CELL_W, y: n2 * this.CELL_H, occupied: false, node: null };
              for (n2 = 0; n2 < this.additionRow.length; n2++)
                this.additionRow[n2] >= t4 && (this.additionRow[n2] += e3);
              for (r2 = 0; r2 < e3; r2++)
                this.additionRow.push(t4 + r2 + 1);
              this.rowNum += e3;
            }
          }, t3.prototype.getNodes = function() {
            for (var t4 = [], e3 = 0; e3 < this.columnNum; e3++)
              for (var n2 = 0; n2 < this.rowNum; n2++)
                this.cells[e3][n2].node && t4.push(this.cells[e3][n2]);
            return t4;
          }, t3.MIN_DIST = 50, t3.DEFAULT_CELL_W = 80, t3.DEFAULT_CELL_H = 80, t3;
        }();
        const ld = fd;
        var hd = 1e7, dd = 1.5707963267948966, pd = new Map(), vd = 0.8;
        function gd(t3, e3) {
          var n2 = (pd.get(t3.id) || []).find(function(t4) {
            return t4.source === e3.id || t4.target === e3.id;
          }), r2 = t3.size[0] * t3.size[1], i = e3.size[0] * e3.size[1], o2 = r2 > i ? e3 : t3, a2 = r2 > i ? t3 : e3, u2 = o2.x - o2.size[0] / 2, s2 = o2.y - o2.size[1] / 2, c2 = o2.x + o2.size[0] / 2, f2 = o2.y + o2.size[1] / 2, l2 = a2.x - a2.size[0] / 2, h2 = a2.y - a2.size[1] / 2, d2 = a2.x + a2.size[0] / 2, p2 = a2.y + a2.size[1] / 2, v2 = o2.x, g2 = o2.y, y2 = a2.x, m2 = a2.y, b2 = 0, _2 = 0;
          if (c2 >= l2 && d2 >= u2 && f2 >= h2 && p2 >= s2)
            (_2 = Math.sqrt(Math.pow(y2 - v2, 2) + Math.pow(m2 - g2, 2))) === 0 && (_2 = 1e-7), b2 = 10 / _2 * 100 + ((c2 < d2 ? c2 : d2) - (u2 > l2 ? u2 : l2)) * ((f2 < p2 ? f2 : p2) - (s2 > h2 ? s2 : h2)), b2 *= hd;
          else {
            var x2 = false, w2 = function(t4, e4, n3) {
              var r3 = t4.x - t4.size[0] / 2, i2 = t4.y - t4.size[1] / 2, o3 = t4.x + t4.size[0] / 2, a3 = t4.y + t4.size[1] / 2, u3 = e4.x - e4.size[0] / 2, s3 = e4.y - e4.size[1] / 2, c3 = e4.x + e4.size[0] / 2, f3 = e4.y + e4.size[1] / 2, l3 = t4.x, h3 = t4.y, d3 = e4.x, p3 = e4.y, v3 = d3 - l3, g3 = Math.atan2(v3, p3 - h3), y3 = 0, m3 = 0, b3 = 0, _3 = 0;
              g3 > dd ? (m3 = i2 - f3, y3 = u3 - o3, b3 = parseFloat(m3 ? (m3 / Math.cos(g3)).toFixed(2) : y3.toFixed(2)), _3 = parseFloat(y3 ? (y3 / Math.sin(g3)).toFixed(2) : m3.toFixed(2))) : b3 = _3 = 0 < g3 && g3 <= dd ? (m3 = s3 - a3) > (y3 = u3 - o3) ? parseFloat(m3 ? (m3 / Math.cos(g3)).toFixed(2) : y3.toFixed(2)) : parseFloat(y3 ? (y3 / Math.sin(g3)).toFixed(2) : m3.toFixed(2)) : g3 < -dd ? (m3 = i2 - f3) > (y3 = -(c3 - r3)) ? parseFloat(m3 ? (m3 / Math.cos(g3)).toFixed(2) : y3.toFixed(2)) : parseFloat(y3 ? (y3 / Math.sin(g3)).toFixed(2) : m3.toFixed(2)) : (m3 = s3 - a3) > (y3 = Math.abs(v3) > (o3 - r3) / 2 ? r3 - c3 : v3) ? parseFloat(m3 ? (m3 / Math.cos(g3)).toFixed(2) : y3.toFixed(2)) : parseFloat(y3 && g3 !== 0 ? (y3 / Math.sin(g3)).toFixed(2) : m3.toFixed(2));
              var x3 = parseFloat(g3.toFixed(2)), w3 = n3;
              return n3 && (w3 = 1.1780972450961724 < x3 && x3 < 1.9634954084936207), { distance: Math.abs(b3 < _3 ? b3 : _3), isHoriz: w3 };
            }(o2, a2, x2);
            _2 = w2.distance, x2 = w2.isHoriz, _2 <= 10 ? b2 += _2 !== 0 ? n2 ? 10 + 1e7 / _2 : 10 + 1e8 / _2 : hd : (b2 += _2, n2 && (b2 += _2 * _2));
          }
          return b2;
        }
        function yd(t3) {
          for (var e3 = 0, n2 = 0; n2 < t3.length; n2++) {
            var r2 = t3[n2];
            (r2.x < 0 || r2.y < 0 || r2.x > 1200 || r2.y > 800) && (e3 += 1e12);
            for (var i = n2 + 1; i < t3.length; i++)
              e3 += gd(r2, t3[i]);
          }
          return e3;
        }
        function md(t3, e3, n2, r2) {
          var i = new Map();
          n2.forEach(function(t4, e4) {
            i.set(t4.id, t4);
          });
          var o2 = r2.filter(function(e4) {
            return e4.source === t3.id || e4.target === t3.id;
          }) || [], a2 = [];
          o2.forEach(function(e4) {
            var n3 = e4.source === t3.id ? e4.target : e4.source, r3 = i.get(n3);
            r3 && a2.push(r3);
          });
          for (var u2 = true, s2 = 0; s2 < a2.length; s2++) {
            var c2 = a2[s2], f2 = 180 * Math.atan((t3.y - c2.y) / (c2.x - t3.y)), l2 = 180 * Math.atan((e3.y - c2.y) / (c2.x - e3.y)), h2 = f2 > 70 && f2 < 110, d2 = l2 > 70 && l2 < 110;
            if ((f2 < 30 || f2 > 150) && !(l2 < 30 || l2 > 150) || f2 * l2 < 0) {
              u2 = false;
              break;
            }
            if (h2 && !d2 || f2 * l2 < 0) {
              u2 = false;
              break;
            }
            if ((c2.x - t3.x) * (c2.x - e3.x) < 0) {
              u2 = false;
              break;
            }
            if ((c2.y - t3.y) * (c2.y - e3.y) < 0) {
              u2 = false;
              break;
            }
          }
          return u2;
        }
        function bd(t3, e3) {
          for (var n2 = false, r2 = [10, -10, 0, 0], i = [0, 0, 10, -10], o2 = 0; o2 < t3.length; ++o2)
            for (var a2 = t3[o2], u2 = _d(a2, t3), s2 = 0; s2 < r2.length; s2++)
              if (md(a2, { x: a2.x + r2[s2], y: a2.y + i[s2] }, t3, e3)) {
                a2.x += r2[s2], a2.y += i[s2];
                var c2 = _d(a2, t3), f2 = Math.random();
                c2 < u2 || f2 < vd && f2 > 0.1 ? (u2 = c2, n2 = true) : (a2.x -= r2[s2], a2.y -= i[s2]);
              }
          return vd > 0.1 && (vd *= 0.5), n2 ? yd(t3) : 0;
        }
        function _d(t3, e3) {
          var n2 = 0;
          (t3.x < 0 || t3.y < 0 || t3.x + t3.size[0] + 20 > 1200 || t3.y + t3.size[1] + 20 > 800) && (n2 += 1e12);
          for (var r2 = 0; r2 < e3.length; ++r2)
            t3.id !== e3[r2].id && (n2 += gd(t3, e3[r2]));
          return n2;
        }
        var xd = function() {
          return xd = Object.assign || function(t3) {
            for (var e3, n2 = 1, r2 = arguments.length; n2 < r2; n2++)
              for (var i in e3 = arguments[n2])
                Object.prototype.hasOwnProperty.call(e3, i) && (t3[i] = e3[i]);
            return t3;
          }, xd.apply(this, arguments);
        };
        function wd(t3, e3) {
          var n2 = t3.nodes, r2 = t3.edges, i = e3.width, o2 = e3.height;
          if (!(n2 == null ? void 0 : n2.length))
            return Promise.resolve();
          var a2 = [];
          n2.forEach(function(t4) {
            if (r2.filter(function(e5) {
              return e5.source === t4.id || e5.target === t4.id;
            }).length > 1) {
              var e4 = xd({}, t4);
              delete e4.size, a2.push(e4);
            }
          });
          var u2 = [];
          r2.forEach(function(t4) {
            var e4 = a2.find(function(e5) {
              return e5.id === t4.source;
            }), n3 = a2.find(function(e5) {
              return e5.id === t4.target;
            });
            e4 && n3 && u2.push(t4);
          });
          var s2 = new Mn({ type: "dagre", ranksep: e3.nodeMinGap, nodesep: e3.nodeMinGap }).layout({ nodes: a2, edges: u2 }).nodes;
          n2.forEach(function(t4) {
            var e4 = (s2 || []).find(function(e5) {
              return e5.id === t4.id;
            });
            t4.x = (e4 == null ? void 0 : e4.x) || i / 2, t4.y = (e4 == null ? void 0 : e4.y) || o2 / 2;
          });
          var c2 = JSON.parse(JSON.stringify(n2)), f2 = JSON.parse(JSON.stringify(r2)), l2 = gt().nodes(c2).force("link", xt(f2).id(function(t4) {
            return t4.id;
          }).distance(function(t4) {
            return u2.find(function(e4) {
              return e4.source === t4.source && e4.target === t4.target;
            }) ? 30 : 20;
          })).force("charge", yt()).force("center", mt(i / 2, o2 / 2)).force("x", At(i / 2)).force("y", Tt(o2 / 2)).alpha(0.3).alphaDecay(0.08).alphaMin(1e-3), h2 = new Promise(function(t4) {
            l2.on("end", function() {
              n2.forEach(function(t5) {
                var e4 = c2.find(function(e5) {
                  return e5.id === t5.id;
                });
                e4 && (t5.x = e4.x, t5.y = e4.y);
              });
              var a3 = Math.min.apply(Math, n2.map(function(t5) {
                return t5.x;
              })), u3 = Math.max.apply(Math, n2.map(function(t5) {
                return t5.x;
              })), s3 = Math.min.apply(Math, n2.map(function(t5) {
                return t5.y;
              })), f3 = Math.max.apply(Math, n2.map(function(t5) {
                return t5.y;
              })), l3 = i / (u3 - a3), h3 = o2 / (f3 - s3);
              n2.forEach(function(t5) {
                t5.x !== void 0 && l3 < 1 && (t5.x = (t5.x - a3) * l3), t5.y !== void 0 && h3 < 1 && (t5.y = (t5.y - s3) * h3);
              }), n2.forEach(function(t5) {
                t5.sizeTemp = t5.size, t5.size = [10, 10];
              }), function(t5, e4) {
                if (t5.length === 0)
                  return { nodes: t5, edges: e4 };
                t5.forEach(function(t6) {
                  var n4 = e4.filter(function(e5) {
                    return e5.source === t6.id || e5.target === t6.id;
                  });
                  pd.set(t6, n4);
                }), t5.sort(function(t6, e5) {
                  var n4, r4;
                  return ((n4 = pd.get(t6.id)) === null || n4 === void 0 ? void 0 : n4.length) - ((r4 = pd.get(e5.id)) === null || r4 === void 0 ? void 0 : r4.length);
                });
                for (var n3 = yd(t5), r3 = 20, i2 = 1, o3 = 0, a4 = 0; r3 > 0 && !(++a4 >= 50); ) {
                  var u4 = bd(t5, e4);
                  u4 !== 0 && (o3 = u4), i2 = o3 - n3, n3 = o3, i2 === 0 ? --r3 : r3 = 20;
                }
                t5.forEach(function(t6) {
                  t6.x = t6.x - t6.size[0] / 2, t6.y = t6.y - t6.size[1] / 2;
                });
              }(n2, r2), n2.forEach(function(t5) {
                t5.size = t5.sizeTemp || [], delete t5.sizeTemp;
              }), function(t5, e4) {
                if (!t5.nodes || t5.nodes.length === 0)
                  return t5;
                var n3 = e4.width, r3 = e4.height, i2 = e4.nodeMinGap, o3 = 1e4, a4 = 1e4;
                t5.nodes.forEach(function(t6) {
                  var e5 = t6.size[0] || 50, n4 = t6.size[1] || 50;
                  o3 = Math.min(e5, o3), a4 = Math.min(n4, a4);
                });
                var u4 = new ld();
                u4.init(n3, r3, { CELL_H: a4, CELL_W: o3 }), t5.nodes.forEach(function(t6) {
                  var e5 = u4.occupyNearest(t6);
                  e5 && (e5.node = { id: t6.id, size: t6.size }, t6.x = e5.x, t6.y = e5.y, t6.dx = e5.dx, t6.dy = e5.dy);
                });
                for (var s4 = 0; s4 < t5.nodes.length; s4++) {
                  var c3 = t5.nodes[s4], f4 = u4.findGridByNodeId(c3.id);
                  if (!f4)
                    throw new Error("can not find node cell");
                  var l4 = f4.column, h4 = f4.row;
                  if (c3.size[0] + i2 > o3) {
                    for (var d2 = v2 = Math.ceil((c3.size[0] + i2) / o3) - 1, p2 = 0; p2 < v2 && u4.additionColumn.indexOf(l4 + p2 + 1) > -1 && !u4.cells[l4 + p2 + 1][h4].node; p2++)
                      d2--;
                    u4.insertColumn(l4, d2);
                  }
                  if (c3.size[1] + i2 > a4) {
                    var v2;
                    for (d2 = v2 = Math.ceil((c3.size[1] + i2) / a4) - 1, p2 = 0; p2 < v2 && u4.additionRow.indexOf(h4 + p2 + 1) > -1 && !u4.cells[l4][h4 + p2 + 1].node; p2++)
                      d2--;
                    u4.insertRow(h4, d2);
                  }
                }
                for (s4 = 0; s4 < u4.columnNum; s4++) {
                  var g2 = function(e5) {
                    var n4 = u4.cells[s4][e5];
                    if (n4.node) {
                      var r4 = t5.nodes.find(function(t6) {
                        var e6;
                        return t6.id === ((e6 = n4 == null ? void 0 : n4.node) === null || e6 === void 0 ? void 0 : e6.id);
                      });
                      r4 && (r4.x = n4.x + r4.size[0] / 2, r4.y = n4.y + r4.size[1] / 2);
                    }
                  };
                  for (p2 = 0; p2 < u4.rowNum; p2++)
                    g2(p2);
                }
              }({ nodes: n2, edges: r2 }, e3), t4();
            });
          });
          return h2;
        }
        var Ed = function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4)
                Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if (typeof n2 != "function" && n2 !== null)
              throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function r2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = n2 === null ? Object.create(n2) : (r2.prototype = n2.prototype, new r2());
          };
        }(), Sd = function(t3) {
          function e3(e4) {
            var n2 = t3.call(this) || this;
            return n2.width = 300, n2.height = 300, n2.nodeMinGap = 50, n2.onLayoutEnd = function() {
            }, e4 && n2.updateCfg(e4), n2;
          }
          return Ed(e3, t3), e3.prototype.getDefaultCfg = function() {
            return { width: 300, height: 300, nodeMinGap: 50 };
          }, e3.prototype.execute = function() {
            var t4 = this, e4 = t4.nodes, n2 = t4.edges;
            return e4 == null || e4.forEach(function(t5) {
              t5.size || (t5.size = [50, 50]);
            }), wd({ nodes: e4, edges: n2 }, { width: this.width, height: this.height, nodeMinGap: this.nodeMinGap }).then(function() {
              t4.onLayoutEnd && t4.onLayoutEnd();
            });
          }, e3.prototype.getType = function() {
            return "er";
          }, e3;
        }(t2), Ad = function() {
          function t3(t4) {
            var e3 = S(t4.type);
            this.layoutInstance = new e3(t4);
          }
          return t3.prototype.layout = function(t4) {
            return this.layoutInstance.layout(t4);
          }, t3.prototype.updateCfg = function(t4) {
            this.layoutInstance.updateCfg(t4);
          }, t3.prototype.init = function(t4) {
            this.layoutInstance.init(t4);
          }, t3.prototype.execute = function() {
            this.layoutInstance.execute();
          }, t3.prototype.getDefaultCfg = function() {
            return this.layoutInstance.getDefaultCfg();
          }, t3.prototype.destroy = function() {
            return this.layoutInstance.destroy();
          }, t3;
        }(), Td = { force: Dt, fruchterman: yr, forceAtlas2: sd, gForce: k, dagre: Mn, circular: Ot, radial: lr, concentric: dr, grid: T, mds: vr, comboForce: nd, random: C, "gForce-gpu": td, "fruchterman-gpu": Zh, er: Sd };
      })(), r;
    })();
  });
})(layout_min$1);
var layout_min = /* @__PURE__ */ getDefaultExportFromCjs(layout_min$1.exports);
/* @__PURE__ */ Object.freeze(/* @__PURE__ */ _mergeNamespaces$1({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  "default": layout_min
}, [layout_min$1.exports]));
var isArrayLike = function(value) {
  return value !== null && typeof value !== "function" && isFinite(value.length);
};
var contains = function(arr, value) {
  if (!isArrayLike(arr)) {
    return false;
  }
  return arr.indexOf(value) > -1;
};
var filter = function(arr, func) {
  if (!isArrayLike(arr)) {
    return arr;
  }
  var result = [];
  for (var index = 0; index < arr.length; index++) {
    var value = arr[index];
    if (func(value, index)) {
      result.push(value);
    }
  }
  return result;
};
var difference = function(arr, values2) {
  if (values2 === void 0) {
    values2 = [];
  }
  return filter(arr, function(value) {
    return !contains(values2, value);
  });
};
var toString$2 = {}.toString;
var isType = function(value, type) {
  return toString$2.call(value) === "[object " + type + "]";
};
var isFunction = function(value) {
  return isType(value, "Function");
};
var isNil = function(value) {
  return value === null || value === void 0;
};
var isArray = function(value) {
  return Array.isArray ? Array.isArray(value) : isType(value, "Array");
};
var isObject = function(value) {
  var type = typeof value;
  return value !== null && type === "object" || type === "function";
};
function each(elements, func) {
  if (!elements) {
    return;
  }
  var rst;
  if (isArray(elements)) {
    for (var i = 0, len = elements.length; i < len; i++) {
      rst = func(elements[i], i);
      if (rst === false) {
        break;
      }
    }
  } else if (isObject(elements)) {
    for (var k in elements) {
      if (elements.hasOwnProperty(k)) {
        rst = func(elements[k], k);
        if (rst === false) {
          break;
        }
      }
    }
  }
}
var keys = Object.keys ? function(obj) {
  return Object.keys(obj);
} : function(obj) {
  var result = [];
  each(obj, function(value, key) {
    if (!(isFunction(obj) && key === "prototype")) {
      result.push(key);
    }
  });
  return result;
};
function isMatch(obj, attrs) {
  var _keys = keys(attrs);
  var length2 = _keys.length;
  if (isNil(obj))
    return !length2;
  for (var i = 0; i < length2; i += 1) {
    var key = _keys[i];
    if (attrs[key] !== obj[key] || !(key in obj)) {
      return false;
    }
  }
  return true;
}
var isObjectLike = function(value) {
  return typeof value === "object" && value !== null;
};
var isPlainObject = function(value) {
  if (!isObjectLike(value) || !isType(value, "Object")) {
    return false;
  }
  if (Object.getPrototypeOf(value) === null) {
    return true;
  }
  var proto = value;
  while (Object.getPrototypeOf(proto) !== null) {
    proto = Object.getPrototypeOf(proto);
  }
  return Object.getPrototypeOf(value) === proto;
};
function find(arr, predicate) {
  if (!isArray(arr))
    return null;
  var _predicate;
  if (isFunction(predicate)) {
    _predicate = predicate;
  }
  if (isPlainObject(predicate)) {
    _predicate = function(a) {
      return isMatch(a, predicate);
    };
  }
  if (_predicate) {
    for (var i = 0; i < arr.length; i += 1) {
      if (_predicate(arr[i])) {
        return arr[i];
      }
    }
  }
  return null;
}
function findIndex(arr, predicate, fromIndex) {
  if (fromIndex === void 0) {
    fromIndex = 0;
  }
  for (var i = fromIndex; i < arr.length; i++) {
    if (predicate(arr[i], i)) {
      return i;
    }
  }
  return -1;
}
var firstValue = function(data, name) {
  var rst = null;
  for (var i = 0; i < data.length; i++) {
    var obj = data[i];
    var value = obj[name];
    if (!isNil(value)) {
      if (isArray(value)) {
        rst = value[0];
      } else {
        rst = value;
      }
      break;
    }
  }
  return rst;
};
var flatten = function(arr) {
  if (!isArray(arr)) {
    return [];
  }
  var rst = [];
  for (var i = 0; i < arr.length; i++) {
    rst = rst.concat(arr[i]);
  }
  return rst;
};
var flattenDeep = function(arr, result) {
  if (result === void 0) {
    result = [];
  }
  if (!isArray(arr)) {
    result.push(arr);
  } else {
    for (var i = 0; i < arr.length; i += 1) {
      flattenDeep(arr[i], result);
    }
  }
  return result;
};
var getMax = function(arr) {
  if (!isArray(arr)) {
    return void 0;
  }
  return arr.reduce(function(prev2, curr) {
    return Math.max(prev2, curr);
  }, arr[0]);
};
var getMin$1 = function(arr) {
  if (!isArray(arr)) {
    return void 0;
  }
  return arr.reduce(function(prev2, curr) {
    return Math.min(prev2, curr);
  }, arr[0]);
};
var getRange = function(values2) {
  var filterValues = values2.filter(function(v) {
    return !isNaN(v);
  });
  if (!filterValues.length) {
    return {
      min: 0,
      max: 0
    };
  }
  if (isArray(values2[0])) {
    var tmp = [];
    for (var i = 0; i < values2.length; i++) {
      tmp = tmp.concat(values2[i]);
    }
    filterValues = tmp;
  }
  var max = getMax(filterValues);
  var min = getMin$1(filterValues);
  return {
    min,
    max
  };
};
var arrPrototype = Array.prototype;
var splice$1 = arrPrototype.splice;
var indexOf$1 = arrPrototype.indexOf;
var pull = function(arr) {
  var values2 = [];
  for (var _i = 1; _i < arguments.length; _i++) {
    values2[_i - 1] = arguments[_i];
  }
  for (var i = 0; i < values2.length; i++) {
    var value = values2[i];
    var fromIndex = -1;
    while ((fromIndex = indexOf$1.call(arr, value)) > -1) {
      splice$1.call(arr, fromIndex, 1);
    }
  }
  return arr;
};
var splice = Array.prototype.splice;
var pullAt = function pullAt2(arr, indexes) {
  if (!isArrayLike(arr)) {
    return [];
  }
  var length2 = arr ? indexes.length : 0;
  var last2 = length2 - 1;
  while (length2--) {
    var previous = void 0;
    var index = indexes[length2];
    if (length2 === last2 || index !== previous) {
      previous = index;
      splice.call(arr, index, 1);
    }
  }
  return arr;
};
var reduce = function(arr, fn, init) {
  if (!isArray(arr) && !isPlainObject(arr)) {
    return arr;
  }
  var result = init;
  each(arr, function(data, i) {
    result = fn(result, data, i);
  });
  return result;
};
var remove = function(arr, predicate) {
  var result = [];
  if (!isArrayLike(arr)) {
    return result;
  }
  var i = -1;
  var indexes = [];
  var length2 = arr.length;
  while (++i < length2) {
    var value = arr[i];
    if (predicate(value, i, arr)) {
      result.push(value);
      indexes.push(i);
    }
  }
  pullAt(arr, indexes);
  return result;
};
var isString = function(str) {
  return isType(str, "String");
};
function sortBy(arr, key) {
  var comparer;
  if (isFunction(key)) {
    comparer = function(a, b) {
      return key(a) - key(b);
    };
  } else {
    var keys_1 = [];
    if (isString(key)) {
      keys_1.push(key);
    } else if (isArray(key)) {
      keys_1 = key;
    }
    comparer = function(a, b) {
      for (var i = 0; i < keys_1.length; i += 1) {
        var prop = keys_1[i];
        if (a[prop] > b[prop]) {
          return 1;
        }
        if (a[prop] < b[prop]) {
          return -1;
        }
      }
      return 0;
    };
  }
  arr.sort(comparer);
  return arr;
}
function uniq(arr, cache) {
  if (cache === void 0) {
    cache = new Map();
  }
  var r = [];
  if (Array.isArray(arr)) {
    for (var i = 0, len = arr.length; i < len; i++) {
      var item = arr[i];
      if (!cache.has(item)) {
        r.push(item);
        cache.set(item, true);
      }
    }
  }
  return r;
}
var union = function() {
  var sources = [];
  for (var _i = 0; _i < arguments.length; _i++) {
    sources[_i] = arguments[_i];
  }
  return uniq([].concat.apply([], sources));
};
var valuesOfKey = function(data, name) {
  var rst = [];
  var tmpMap = {};
  for (var i = 0; i < data.length; i++) {
    var obj = data[i];
    var value = obj[name];
    if (!isNil(value)) {
      if (!isArray(value)) {
        value = [value];
      }
      for (var j = 0; j < value.length; j++) {
        var val = value[j];
        if (!tmpMap[val]) {
          rst.push(val);
          tmpMap[val] = true;
        }
      }
    }
  }
  return rst;
};
function head(o) {
  if (isArrayLike(o)) {
    return o[0];
  }
  return void 0;
}
function last(o) {
  if (isArrayLike(o)) {
    var arr = o;
    return arr[arr.length - 1];
  }
  return void 0;
}
function startsWith(arr, e) {
  return isArray(arr) || isString(arr) ? arr[0] === e : false;
}
function endsWith(arr, e) {
  return isArray(arr) || isString(arr) ? arr[arr.length - 1] === e : false;
}
var every = function(arr, func) {
  for (var i = 0; i < arr.length; i++) {
    if (!func(arr[i], i))
      return false;
  }
  return true;
};
var some = function(arr, func) {
  for (var i = 0; i < arr.length; i++) {
    if (func(arr[i], i))
      return true;
  }
  return false;
};
var hasOwnProperty$2 = Object.prototype.hasOwnProperty;
function groupBy(data, condition) {
  if (!condition || !isArray(data)) {
    return {};
  }
  var result = {};
  var predicate = isFunction(condition) ? condition : function(item2) {
    return item2[condition];
  };
  var key;
  for (var i = 0; i < data.length; i++) {
    var item = data[i];
    key = predicate(item);
    if (hasOwnProperty$2.call(result, key)) {
      result[key].push(item);
    } else {
      result[key] = [item];
    }
  }
  return result;
}
function groupToMap(data, condition) {
  if (!condition) {
    return {
      0: data
    };
  }
  if (!isFunction(condition)) {
    var paramscondition_1 = isArray(condition) ? condition : condition.replace(/\s+/g, "").split("*");
    condition = function(row) {
      var unique = "_";
      for (var i = 0, l = paramscondition_1.length; i < l; i++) {
        unique += row[paramscondition_1[i]] && row[paramscondition_1[i]].toString();
      }
      return unique;
    };
  }
  return groupBy(data, condition);
}
var group = function(data, condition) {
  if (!condition) {
    return [data];
  }
  var groups = groupToMap(data, condition);
  var array = [];
  for (var i in groups) {
    array.push(groups[i]);
  }
  return array;
};
function getWrapBehavior(obj, action) {
  return obj["_wrap_" + action];
}
function wrapBehavior(obj, action) {
  if (obj["_wrap_" + action]) {
    return obj["_wrap_" + action];
  }
  var method = function(e) {
    obj[action](e);
  };
  obj["_wrap_" + action] = method;
  return method;
}
var numColorCache = {};
function numberToColor(num) {
  var color = numColorCache[num];
  if (!color) {
    var str = num.toString(16);
    for (var i = str.length; i < 6; i++) {
      str = "0" + str;
    }
    color = "#" + str;
    numColorCache[num] = color;
  }
  return color;
}
function parseRadius(radius) {
  var r1 = 0, r2 = 0, r3 = 0, r4 = 0;
  if (isArray(radius)) {
    if (radius.length === 1) {
      r1 = r2 = r3 = r4 = radius[0];
    } else if (radius.length === 2) {
      r1 = r3 = radius[0];
      r2 = r4 = radius[1];
    } else if (radius.length === 3) {
      r1 = radius[0];
      r2 = r4 = radius[1];
      r3 = radius[2];
    } else {
      r1 = radius[0];
      r2 = radius[1];
      r3 = radius[2];
      r4 = radius[3];
    }
  } else {
    r1 = r2 = r3 = r4 = radius;
  }
  return {
    r1,
    r2,
    r3,
    r4
  };
}
var clamp = function(a, min, max) {
  if (a < min) {
    return min;
  } else if (a > max) {
    return max;
  }
  return a;
};
var fixedBase = function(v, base2) {
  var str = base2.toString();
  var index = str.indexOf(".");
  if (index === -1) {
    return Math.round(v);
  }
  var length2 = str.substr(index + 1).length;
  if (length2 > 20) {
    length2 = 20;
  }
  return parseFloat(v.toFixed(length2));
};
var isNumber = function(value) {
  return isType(value, "Number");
};
var isDecimal = function(num) {
  return isNumber(num) && num % 1 !== 0;
};
var isEven = function(num) {
  return isNumber(num) && num % 2 === 0;
};
var isInteger = Number.isInteger ? Number.isInteger : function(num) {
  return isNumber(num) && num % 1 === 0;
};
var isNegative = function(num) {
  return isNumber(num) && num < 0;
};
var PRECISION = 1e-5;
function isNumberEqual(a, b, precision) {
  if (precision === void 0) {
    precision = PRECISION;
  }
  return Math.abs(a - b) < precision;
}
var isOdd = function(num) {
  return isNumber(num) && num % 2 !== 0;
};
var isPositive = function(num) {
  return isNumber(num) && num > 0;
};
var maxBy = function(arr, fn) {
  if (!isArray(arr)) {
    return void 0;
  }
  var maxItem;
  var max = -Infinity;
  for (var i = 0; i < arr.length; i++) {
    var item = arr[i];
    var v = isFunction(fn) ? fn(item) : item[fn];
    if (v > max) {
      maxItem = item;
      max = v;
    }
  }
  return maxItem;
};
var minBy = function(arr, fn) {
  if (!isArray(arr)) {
    return void 0;
  }
  var minItem;
  var min = Infinity;
  for (var i = 0; i < arr.length; i++) {
    var item = arr[i];
    var v = isFunction(fn) ? fn(item) : item[fn];
    if (v < min) {
      minItem = item;
      min = v;
    }
  }
  return minItem;
};
var mod = function(n, m) {
  return (n % m + m) % m;
};
var DEGREE = 180 / Math.PI;
var toDegree = function(radian) {
  return DEGREE * radian;
};
var parseInt$1 = parseInt;
var RADIAN = Math.PI / 180;
var toRadian = function(degree) {
  return RADIAN * degree;
};
var has = function(obj, key) {
  return obj.hasOwnProperty(key);
};
var values = Object.values ? function(obj) {
  return Object.values(obj);
} : function(obj) {
  var result = [];
  each(obj, function(value, key) {
    if (!(isFunction(obj) && key === "prototype")) {
      result.push(value);
    }
  });
  return result;
};
var hasValue = function(obj, value) {
  return contains(values(obj), value);
};
var toString$1 = function(value) {
  if (isNil(value))
    return "";
  return value.toString();
};
var lowerCase = function(str) {
  return toString$1(str).toLowerCase();
};
var lowerFirst = function(value) {
  var str = toString$1(value);
  return str.charAt(0).toLowerCase() + str.substring(1);
};
function substitute(str, o) {
  if (!str || !o) {
    return str;
  }
  return str.replace(/\\?\{([^{}]+)\}/g, function(match, name) {
    if (match.charAt(0) === "\\") {
      return match.slice(1);
    }
    return o[name] === void 0 ? "" : o[name];
  });
}
var upperCase = function(str) {
  return toString$1(str).toUpperCase();
};
var upperFirst = function(value) {
  var str = toString$1(value);
  return str.charAt(0).toUpperCase() + str.substring(1);
};
var toString = {}.toString;
var getType = function(value) {
  return toString.call(value).replace(/^\[object /, "").replace(/]$/, "");
};
var isArguments = function(value) {
  return isType(value, "Arguments");
};
var isBoolean = function(value) {
  return isType(value, "Boolean");
};
var isDate = function(value) {
  return isType(value, "Date");
};
var isError = function(value) {
  return isType(value, "Error");
};
function isFinite$1(value) {
  return isNumber(value) && isFinite(value);
}
var isNull = function(value) {
  return value === null;
};
var objectProto = Object.prototype;
var isPrototype = function(value) {
  var Ctor = value && value.constructor;
  var proto = typeof Ctor === "function" && Ctor.prototype || objectProto;
  return value === proto;
};
var isRegExp = function(str) {
  return isType(str, "RegExp");
};
var isUndefined = function(value) {
  return value === void 0;
};
var isElement = function(o) {
  return o instanceof Element || o instanceof HTMLDocument;
};
function requestAnimationFrame$1(fn) {
  var method = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || function(f) {
    return setTimeout(f, 16);
  };
  return method(fn);
}
function cancelAnimationFrame$1(handler) {
  var method = window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.msCancelAnimationFrame || clearTimeout;
  method(handler);
}
function _mix(dist, obj) {
  for (var key in obj) {
    if (obj.hasOwnProperty(key) && key !== "constructor" && obj[key] !== void 0) {
      dist[key] = obj[key];
    }
  }
}
function mix$1(dist, src1, src2, src3) {
  if (src1)
    _mix(dist, src1);
  if (src2)
    _mix(dist, src2);
  if (src3)
    _mix(dist, src3);
  return dist;
}
var augment = function() {
  var args = [];
  for (var _i = 0; _i < arguments.length; _i++) {
    args[_i] = arguments[_i];
  }
  var c = args[0];
  for (var i = 1; i < args.length; i++) {
    var obj = args[i];
    if (isFunction(obj)) {
      obj = obj.prototype;
    }
    mix$1(c.prototype, obj);
  }
};
var clone = function(obj) {
  if (typeof obj !== "object" || obj === null) {
    return obj;
  }
  var rst;
  if (isArray(obj)) {
    rst = [];
    for (var i = 0, l = obj.length; i < l; i++) {
      if (typeof obj[i] === "object" && obj[i] != null) {
        rst[i] = clone(obj[i]);
      } else {
        rst[i] = obj[i];
      }
    }
  } else {
    rst = {};
    for (var k in obj) {
      if (typeof obj[k] === "object" && obj[k] != null) {
        rst[k] = clone(obj[k]);
      } else {
        rst[k] = obj[k];
      }
    }
  }
  return rst;
};
function debounce(func, wait, immediate) {
  var timeout;
  return function() {
    var context = this, args = arguments;
    var later = function() {
      timeout = null;
      if (!immediate) {
        func.apply(context, args);
      }
    };
    var callNow = immediate && !timeout;
    clearTimeout(timeout);
    timeout = setTimeout(later, wait);
    if (callNow) {
      func.apply(context, args);
    }
  };
}
var memoize = function(f, resolver) {
  if (!isFunction(f)) {
    throw new TypeError("Expected a function");
  }
  var memoized = function() {
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
      args[_i] = arguments[_i];
    }
    var key = resolver ? resolver.apply(this, args) : args[0];
    var cache = memoized.cache;
    if (cache.has(key)) {
      return cache.get(key);
    }
    var result = f.apply(this, args);
    cache.set(key, result);
    return result;
  };
  memoized.cache = new Map();
  return memoized;
};
var MAX_MIX_LEVEL = 5;
function _deepMix(dist, src, level, maxLevel) {
  level = level || 0;
  maxLevel = maxLevel || MAX_MIX_LEVEL;
  for (var key in src) {
    if (src.hasOwnProperty(key)) {
      var value = src[key];
      if (value !== null && isPlainObject(value)) {
        if (!isPlainObject(dist[key])) {
          dist[key] = {};
        }
        if (level < maxLevel) {
          _deepMix(dist[key], value, level + 1, maxLevel);
        } else {
          dist[key] = src[key];
        }
      } else if (isArray(value)) {
        dist[key] = [];
        dist[key] = dist[key].concat(value);
      } else if (value !== void 0) {
        dist[key] = value;
      }
    }
  }
}
var deepMix = function(rst) {
  var args = [];
  for (var _i = 1; _i < arguments.length; _i++) {
    args[_i - 1] = arguments[_i];
  }
  for (var i = 0; i < args.length; i += 1) {
    _deepMix(rst, args[i]);
  }
  return rst;
};
var extend = function(subclass, superclass, overrides, staticOverrides) {
  if (!isFunction(superclass)) {
    overrides = superclass;
    superclass = subclass;
    subclass = function() {
    };
  }
  var create = Object.create ? function(proto, c) {
    return Object.create(proto, {
      constructor: {
        value: c
      }
    });
  } : function(proto, c) {
    function Tmp() {
    }
    Tmp.prototype = proto;
    var o = new Tmp();
    o.constructor = c;
    return o;
  };
  var superObj = create(superclass.prototype, subclass);
  subclass.prototype = mix$1(superObj, subclass.prototype);
  subclass.superclass = create(superclass.prototype, superclass);
  mix$1(superObj, overrides);
  mix$1(subclass, staticOverrides);
  return subclass;
};
var indexOf = function(arr, obj) {
  if (!isArrayLike(arr)) {
    return -1;
  }
  var m = Array.prototype.indexOf;
  if (m) {
    return m.call(arr, obj);
  }
  var index = -1;
  for (var i = 0; i < arr.length; i++) {
    if (arr[i] === obj) {
      index = i;
      break;
    }
  }
  return index;
};
var hasOwnProperty$1 = Object.prototype.hasOwnProperty;
function isEmpty(value) {
  if (isNil(value)) {
    return true;
  }
  if (isArrayLike(value)) {
    return !value.length;
  }
  var type = getType(value);
  if (type === "Map" || type === "Set") {
    return !value.size;
  }
  if (isPrototype(value)) {
    return !Object.keys(value).length;
  }
  for (var key in value) {
    if (hasOwnProperty$1.call(value, key)) {
      return false;
    }
  }
  return true;
}
var isEqual = function(value, other) {
  if (value === other) {
    return true;
  }
  if (!value || !other) {
    return false;
  }
  if (isString(value) || isString(other)) {
    return false;
  }
  if (isArrayLike(value) || isArrayLike(other)) {
    if (value.length !== other.length) {
      return false;
    }
    var rst = true;
    for (var i = 0; i < value.length; i++) {
      rst = isEqual(value[i], other[i]);
      if (!rst) {
        break;
      }
    }
    return rst;
  }
  if (isObjectLike(value) || isObjectLike(other)) {
    var valueKeys = Object.keys(value);
    var otherKeys = Object.keys(other);
    if (valueKeys.length !== otherKeys.length) {
      return false;
    }
    var rst = true;
    for (var i = 0; i < valueKeys.length; i++) {
      rst = isEqual(value[valueKeys[i]], other[valueKeys[i]]);
      if (!rst) {
        break;
      }
    }
    return rst;
  }
  return false;
};
var isEqualWith = function(value, other, fn) {
  if (!isFunction(fn)) {
    return isEqual(value, other);
  }
  return !!fn(value, other);
};
var map$1 = function(arr, func) {
  if (!isArrayLike(arr)) {
    return arr;
  }
  var result = [];
  for (var index = 0; index < arr.length; index++) {
    var value = arr[index];
    result.push(func(value, index));
  }
  return result;
};
var identity$1 = function(v) {
  return v;
};
var mapValues = function(object, func) {
  if (func === void 0) {
    func = identity$1;
  }
  var r = {};
  if (isObject(object) && !isNil(object)) {
    Object.keys(object).forEach(function(key) {
      r[key] = func(object[key], key);
    });
  }
  return r;
};
var get = function(obj, key, defaultValue) {
  var p = 0;
  var keyArr = isString(key) ? key.split(".") : key;
  while (obj && p < keyArr.length) {
    obj = obj[keyArr[p++]];
  }
  return obj === void 0 || p < keyArr.length ? defaultValue : obj;
};
var set = function(obj, path2, value) {
  var o = obj;
  var keyArr = isString(path2) ? path2.split(".") : path2;
  keyArr.forEach(function(key, idx) {
    if (idx < keyArr.length - 1) {
      if (!isObject(o[key])) {
        o[key] = isNumber(keyArr[idx + 1]) ? [] : {};
      }
      o = o[key];
    } else {
      o[key] = value;
    }
  });
  return obj;
};
var hasOwnProperty = Object.prototype.hasOwnProperty;
var pick = function(object, keys2) {
  if (object === null || !isPlainObject(object)) {
    return {};
  }
  var result = {};
  each(keys2, function(key) {
    if (hasOwnProperty.call(object, key)) {
      result[key] = object[key];
    }
  });
  return result;
};
var omit = function(obj, keys2) {
  return reduce(obj, function(r, curr, key) {
    if (!keys2.includes(key)) {
      r[key] = curr;
    }
    return r;
  }, {});
};
var throttle = function(func, wait, options) {
  var timeout, context, args, result;
  var previous = 0;
  if (!options)
    options = {};
  var later = function() {
    previous = options.leading === false ? 0 : Date.now();
    timeout = null;
    result = func.apply(context, args);
    if (!timeout)
      context = args = null;
  };
  var throttled = function() {
    var now = Date.now();
    if (!previous && options.leading === false)
      previous = now;
    var remaining = wait - (now - previous);
    context = this;
    args = arguments;
    if (remaining <= 0 || remaining > wait) {
      if (timeout) {
        clearTimeout(timeout);
        timeout = null;
      }
      previous = now;
      result = func.apply(context, args);
      if (!timeout)
        context = args = null;
    } else if (!timeout && options.trailing !== false) {
      timeout = setTimeout(later, remaining);
    }
    return result;
  };
  throttled.cancel = function() {
    clearTimeout(timeout);
    previous = 0;
    timeout = context = args = null;
  };
  return throttled;
};
var toArray = function(value) {
  return isArrayLike(value) ? Array.prototype.slice.call(value) : [];
};
var map = {};
var uniqueId = function(prefix) {
  prefix = prefix || "g";
  if (!map[prefix]) {
    map[prefix] = 1;
  } else {
    map[prefix] += 1;
  }
  return prefix + map[prefix];
};
var noop = function() {
};
var identity = function(v) {
  return v;
};
function size(o) {
  if (isNil(o)) {
    return 0;
  }
  if (isArrayLike(o)) {
    return o.length;
  }
  return Object.keys(o).length;
}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function __spreadArrays() {
  for (var s = 0, i = 0, il = arguments.length; i < il; i++)
    s += arguments[i].length;
  for (var r = Array(s), k = 0, i = 0; i < il; i++)
    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
      r[k] = a[j];
  return r;
}
var ctx;
var measureTextWidth = memoize(function(text, font) {
  if (font === void 0) {
    font = {};
  }
  var fontSize = font.fontSize, fontFamily = font.fontFamily, fontWeight = font.fontWeight, fontStyle = font.fontStyle, fontVariant = font.fontVariant;
  if (!ctx) {
    ctx = document.createElement("canvas").getContext("2d");
  }
  ctx.font = [fontStyle, fontVariant, fontWeight, fontSize + "px", fontFamily].join(" ");
  return ctx.measureText(isString(text) ? text : "").width;
}, function(text, font) {
  if (font === void 0) {
    font = {};
  }
  return __spreadArrays([text], values(font)).join("");
});
var getEllipsisText = function(text, maxWidth, font, str) {
  if (str === void 0) {
    str = "...";
  }
  var STEP = 16;
  var PLACEHOLDER_WIDTH = measureTextWidth(str, font);
  var leftText = !isString(text) ? toString$1(text) : text;
  var leftWidth = maxWidth;
  var r = [];
  var currentText;
  var currentWidth;
  if (measureTextWidth(text, font) <= maxWidth) {
    return text;
  }
  while (true) {
    currentText = leftText.substr(0, STEP);
    currentWidth = measureTextWidth(currentText, font);
    if (currentWidth + PLACEHOLDER_WIDTH > leftWidth) {
      if (currentWidth > leftWidth) {
        break;
      }
    }
    r.push(currentText);
    leftWidth -= currentWidth;
    leftText = leftText.substr(STEP);
    if (!leftText) {
      return r.join("");
    }
  }
  while (true) {
    currentText = leftText.substr(0, 1);
    currentWidth = measureTextWidth(currentText, font);
    if (currentWidth + PLACEHOLDER_WIDTH > leftWidth) {
      break;
    }
    r.push(currentText);
    leftWidth -= currentWidth;
    leftText = leftText.substr(1);
    if (!leftText) {
      return r.join("");
    }
  }
  return "" + r.join("") + str;
};
var default_1 = function() {
  function default_12() {
    this.map = {};
  }
  default_12.prototype.has = function(key) {
    return this.map[key] !== void 0;
  };
  default_12.prototype.get = function(key, def) {
    var v = this.map[key];
    return v === void 0 ? def : v;
  };
  default_12.prototype.set = function(key, value) {
    this.map[key] = value;
  };
  default_12.prototype.clear = function() {
    this.map = {};
  };
  default_12.prototype.delete = function(key) {
    delete this.map[key];
  };
  default_12.prototype.size = function() {
    return Object.keys(this.map).length;
  };
  return default_12;
}();
var esm = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  contains,
  includes: contains,
  difference,
  find,
  findIndex,
  firstValue,
  flatten,
  flattenDeep,
  getRange,
  pull,
  pullAt,
  reduce,
  remove,
  sortBy,
  union,
  uniq,
  valuesOfKey,
  head,
  last,
  startsWith,
  endsWith,
  filter,
  every,
  some,
  group,
  groupBy,
  groupToMap,
  getWrapBehavior,
  wrapBehavior,
  number2color: numberToColor,
  parseRadius,
  clamp,
  fixedBase,
  isDecimal,
  isEven,
  isInteger,
  isNegative,
  isNumberEqual,
  isOdd,
  isPositive,
  max: getMax,
  maxBy,
  min: getMin$1,
  minBy,
  mod,
  toDegree,
  toInteger: parseInt$1,
  toRadian,
  forIn: each,
  has,
  hasKey: has,
  hasValue,
  keys,
  isMatch,
  values,
  lowerCase,
  lowerFirst,
  substitute,
  upperCase,
  upperFirst,
  getType,
  isArguments,
  isArray,
  isArrayLike,
  isBoolean,
  isDate,
  isError,
  isFunction,
  isFinite: isFinite$1,
  isNil,
  isNull,
  isNumber,
  isObject,
  isObjectLike,
  isPlainObject,
  isPrototype,
  isRegExp,
  isString,
  isType,
  isUndefined,
  isElement,
  requestAnimationFrame: requestAnimationFrame$1,
  clearAnimationFrame: cancelAnimationFrame$1,
  augment,
  clone,
  debounce,
  memoize,
  deepMix,
  each,
  extend,
  indexOf,
  isEmpty,
  isEqual,
  isEqualWith,
  map: map$1,
  mapValues,
  mix: mix$1,
  assign: mix$1,
  get,
  set,
  pick,
  omit,
  throttle,
  toArray,
  toString: toString$1,
  uniqueId,
  noop,
  identity,
  size,
  measureTextWidth,
  getEllipsisText,
  Cache: default_1
});
var require$$0 = /* @__PURE__ */ getAugmentedNamespace(esm);
var _require = require$$0, mix = _require.mix;
var util$7 = {
  assign: mix
};
var util$6 = util$7;
function Node(data, options) {
  var me = this;
  me.vgap = me.hgap = 0;
  if (data instanceof Node)
    return data;
  me.data = data;
  var hgap = options.getHGap(data);
  var vgap = options.getVGap(data);
  me.preH = options.getPreH(data);
  me.preV = options.getPreV(data);
  me.width = options.getWidth(data);
  me.height = options.getHeight(data);
  me.width += me.preH;
  me.height += me.preV;
  me.id = options.getId(data);
  me.x = me.y = 0;
  me.depth = 0;
  if (!me.children) {
    me.children = [];
  }
  me.addGap(hgap, vgap);
  return me;
}
util$6.assign(Node.prototype, {
  isRoot: function isRoot() {
    return this.depth === 0;
  },
  isLeaf: function isLeaf() {
    return this.children.length === 0;
  },
  addGap: function addGap(hgap, vgap) {
    var me = this;
    me.hgap += hgap;
    me.vgap += vgap;
    me.width += 2 * hgap;
    me.height += 2 * vgap;
  },
  eachNode: function eachNode(callback) {
    var me = this;
    var nodes = [me];
    var current;
    while (current = nodes.shift()) {
      callback(current);
      nodes = current.children.concat(nodes);
    }
  },
  DFTraverse: function DFTraverse(callback) {
    this.eachNode(callback);
  },
  BFTraverse: function BFTraverse(callback) {
    var me = this;
    var nodes = [me];
    var current;
    while (current = nodes.shift()) {
      callback(current);
      nodes = nodes.concat(current.children);
    }
  },
  getBoundingBox: function getBoundingBox() {
    var bb = {
      left: Number.MAX_VALUE,
      top: Number.MAX_VALUE,
      width: 0,
      height: 0
    };
    this.eachNode(function(node2) {
      bb.left = Math.min(bb.left, node2.x);
      bb.top = Math.min(bb.top, node2.y);
      bb.width = Math.max(bb.width, node2.x + node2.width);
      bb.height = Math.max(bb.height, node2.y + node2.height);
    });
    return bb;
  },
  translate: function translate(tx, ty) {
    if (tx === void 0) {
      tx = 0;
    }
    if (ty === void 0) {
      ty = 0;
    }
    this.eachNode(function(node2) {
      node2.x += tx;
      node2.y += ty;
      node2.x += node2.preH;
      node2.y += node2.preV;
    });
  },
  right2left: function right2left() {
    var me = this;
    var bb = me.getBoundingBox();
    me.eachNode(function(node2) {
      node2.x = node2.x - (node2.x - bb.left) * 2 - node2.width;
    });
    me.translate(bb.width, 0);
  },
  bottom2top: function bottom2top() {
    var me = this;
    var bb = me.getBoundingBox();
    me.eachNode(function(node2) {
      node2.y = node2.y - (node2.y - bb.top) * 2 - node2.height;
    });
    me.translate(0, bb.height);
  }
});
function startConnection() {
  const wss = new ws.WebSocketServer({ port: 5001 });
  wss.on("connection", (socket, request) => {
    vscode__namespace.window.showInformationMessage("Coya client connected!");
    state.connectedCount++;
    watch(() => state.selectedProperties, (data) => {
      socket.send(JSON.stringify({
        command: "select",
        data
      }));
    }, {
      deep: true
    });
    socket.addEventListener("message", (event) => {
      const message = JSON.parse(event.data);
      if (message.command === MessageCommand.Save && message.id) {
        state.changeFile(message.id, message.data);
      }
    });
  });
  wss.on("close", () => {
    vscode__namespace.window.showInformationMessage("Coya client disconnected!");
  });
}
function isNotNullOrUndefined(obj) {
  return obj !== null && typeof obj !== "undefined";
}
function startTypescriptAnalizing(context) {
  const options = getOptions();
  const compilerHost = ts__namespace.createCompilerHost(options);
  compilerHost.getSourceFile = (fileName) => {
    var _a;
    const file = (_a = state.files) == null ? void 0 : _a.find((x) => x.path.indexOf(fileName) > -1);
    if (file) {
      const source = ts__namespace.createSourceFile(fileName, file.document.getText(), ts__namespace.ScriptTarget.ES2016, true);
      return source;
    }
  };
  watch(() => state.files.length, (_) => {
    const files = state.files;
    const paths = files.map((x) => x.path);
    var program = ts__namespace.createProgram(paths, options, compilerHost);
    state.fileSources = paths.map((x) => program.getSourceFile(x)).filter(isNotNullOrUndefined);
  }, { deep: true });
}
function getOptions() {
  return {
    "baseUrl": ".",
    "module": ts__namespace.ModuleKind.ESNext,
    "target": ts__namespace.ScriptTarget.ES2016,
    "lib": ["DOM", "ESNext"],
    "strict": true,
    "esModuleInterop": true,
    "incremental": false,
    "skipLibCheck": true,
    "moduleResolution": ts__namespace.ModuleResolutionKind.NodeJs,
    "resolveJsonModule": true,
    "noUnusedLocals": true,
    "strictNullChecks": true,
    "forceConsistentCasingInFileNames": true,
    "types": [
      "vite/client",
      "vite-plugin-pages/client"
    ],
    "paths": {
      "~/*": ["src/*"]
    }
  };
}
const child_process = require("child_process");
const { exec } = child_process;
async function startViteDevServer(context) {
  startLocalViteDevServer(context);
}
function startLocalViteDevServer(context) {
  try {
    const childProcess = exec("pnpm dev", {
      cwd: `${context.extensionPath}/vite-proj/`
    });
    childProcess.stdout.on("data", (data) => {
      console.log("stdout: " + data.toString());
    });
    childProcess.stderr.on("data", (data) => {
      console.log("stderr: " + data.toString());
    });
    childProcess.on("exit", (code) => {
      console.log("child process exited with code " + code.toString());
    });
    console.log(childProcess);
  } catch (e) {
    console.error("startLocalViteDevServer error", e);
  }
}
function activate(context) {
  console.log("coya is now active!");
  state.enabled = true;
  startViteDevServer(context);
  startTypescriptAnalizing();
  startConnection();
  let openDisposable = vscode__namespace.commands.registerCommand("coya.open", (file) => {
    openEditor(context, file);
    activateLogic(context, file);
  });
  context.subscriptions.push(openDisposable);
  onTextChange();
}
function deactivate() {
}
exports.activate = activate;
exports.deactivate = deactivate;
//# sourceMappingURL=coya.cjs.js.map
